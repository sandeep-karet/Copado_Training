(()=>{var __webpack_modules__={4:(e,t,i)=>{"use strict";i(1518);const o=i(2619).q`
				<dom-module id="sb-icons-styles">
					<template>
					  <style>
							/* global */
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}

.sb-icon-filter:before { content: '\\e800'; } /* '' */
.sb-icon-th-large:before { content: '\\e801'; } /* '' */
.sb-icon-th:before { content: '\\e802'; } /* '' */
.sb-icon-th-list:before { content: '\\e803'; } /* '' */
.sb-icon-pencil:before { content: '\\e804'; } /* '' */
.sb-icon-cancel:before { content: '\\e805'; } /* '' */
.sb-icon-plus:before { content: '\\e806'; } /* '' */
.sb-icon-cog:before { content: '\\e807'; } /* '' */
.sb-icon-align-justify:before { content: '\\e808'; } /* '' */
.sb-icon-ok:before { content: '\\e809'; } /* '' */
.sb-icon-lock:before { content: '\\e80a'; } /* '' */
.sb-icon-exchange:before { content: '\\e80b'; } /* '' */
.sb-icon-down:before { content: '\\e80c'; } /* '' */
.sb-icon-up:before { content: '\\e80d'; } /* '' */
.sb-icon-help-circled:before { content: '\\e80e'; } /* '' */
.sb-icon-info-circled:before { content: '\\e80f'; } /* '' */
.sb-icon-sort-name-up:before { content: '\\e810'; } /* '' */
.sb-icon-sort-name-down:before { content: '\\e811'; } /* '' */
.sb-icon-down-dir:before { content: '\\e812'; } /* '' */
.sb-icon-up-dir:before { content: '\\e813'; } /* '' */
.sb-icon-compass:before { content: '\\e814'; } /* '' */
.sb-icon-right-dir:before { content: '\\e815'; } /* '' */
.sb-icon-left-dir:before { content: '\\e816'; } /* '' */
.sb-icon-docs:before { content: '\\e817'; } /* '' */
.sb-icon-circle-empty:before { content: '\\e818'; } /* '' */
.sb-icon-dot-circled:before { content: '\\e819'; } /* '' */
.sb-icon-to-end:before { content: '\\e81a'; } /* '' */
.sb-icon-to-start:before { content: '\\e81b'; } /* '' */
.sb-icon-fast-forward:before { content: '\\e81c'; } /* '' */
.sb-icon-fast-backward:before { content: '\\e81d'; } /* '' */
.sb-icon-cw:before { content: '\\e81e'; } /* '' */
.sb-icon-level-down:before { content: '\\e81f'; } /* '' */
.sb-icon-attention:before { content: '\\e820'; } /* '' */
.sb-icon-attention-circled:before { content: '\\e821'; } /* '' */
.sb-icon-search:before { content: '\\e822'; } /* '' */
.sb-icon-ccw:before { content: '\\e823'; } /* '' */
.sb-icon-star:before { content: '\\e824'; } /* '' */
.sb-icon-star-empty:before { content: '\\e825'; } /* '' */
.sb-icon-calendar:before { content: '\\e826'; } /* '' */

.sf-icon-3dots:before { content: '\\e800'; } /* '' */
.sf-icon-add:before { content: '\\e801'; } /* '' */
.sf-icon-close:before { content: '\\e802'; } /* '' */
.sf-icon-pricebook:before { content: '\\e803'; } /* '' */
.sf-icon-help:before { content: '\\e804'; } /* '' */
.sf-icon-notebook:before { content: '\\e805'; } /* '' */
.sf-icon-rows:before { content: '\\e806'; } /* '' */
.sf-icon-upload:before { content: '\\e807'; } /* '' */
.sf-icon-clock:before { content: '\\e808'; } /* '' */
.sf-icon-groups:before { content: '\\e809'; } /* '' */
.sf-icon-open_folder:before { content: '\\e80a'; } /* '' */
.sf-icon-right_align_text:before { content: '\\e80b'; } /* '' */
.sf-icon-product:before { content: '\\e80c'; } /* '' */
.sf-icon-question_feed:before { content: '\\e80d'; } /* '' */
.sf-icon-warning:before { content: '\\e80e'; } /* '' */
.sf-icon-user:before { content: '\\e80f'; } /* '' */
.sf-icon-right:before { content: '\\e810'; } /* '' */
.sf-icon-notification:before { content: '\\e811'; } /* '' */
.sf-icon-home:before { content: '\\e812'; } /* '' */
.sf-icon-contract:before { content: '\\e813'; } /* '' */
.sf-icon-adduser:before { content: '\\e814'; } /* '' */
.sf-icon-apps:before { content: '\\e815'; } /* '' */
.sf-icon-copy:before { content: '\\e816'; } /* '' */
.sf-icon-image:before { content: '\\e817'; } /* '' */
.sf-icon-open:before { content: '\\e818'; } /* '' */
.sf-icon-settings:before { content: '\\e819'; } /* '' */
.sf-icon-zoomin:before { content: '\\e81a'; } /* '' */
.sf-icon-record:before { content: '\\e81b'; } /* '' */
.sf-icon-arrowdown:before { content: '\\e81c'; } /* '' */
.sf-icon-cut:before { content: '\\e81d'; } /* '' */
.sf-icon-insert_template:before { content: '\\e81e'; } /* '' */
.sf-icon-opened_folder:before { content: '\\e81f'; } /* '' */
.sf-icon-side_list:before { content: '\\e820'; } /* '' */
.sf-icon-zoomout:before { content: '\\e821'; } /* '' */
.sf-icon-quotes:before { content: '\\e822'; } /* '' */
.sf-icon-related_list:before { content: '\\e823'; } /* '' */
.sf-icon-gdoc:before { content: '\\e824'; } /* '' */
.sf-icon-snippet:before { content: '\\e825'; } /* '' */
.sf-icon-page:before { content: '\\e826'; } /* '' */
.sf-icon-custom_apps:before { content: '\\e827'; } /* '' */
.sf-icon-arrowup:before { content: '\\e828'; } /* '' */
.sf-icon-attach:before { content: '\\e829'; } /* '' */
.sf-icon-dayview:before { content: '\\e82a'; } /* '' */
.sf-icon-info:before { content: '\\e82b'; } /* '' */
.sf-icon-insert_tag_field:before { content: '\\e82c'; } /* '' */
.sf-icon-paste:before { content: '\\e82d'; } /* '' */
.sf-icon-sort:before { content: '\\e82e'; } /* '' */
.sf-icon-pdf:before { content: '\\e82f'; } /* '' */
.sf-icon-report:before { content: '\\e830'; } /* '' */
.sf-icon-task:before { content: '\\e831'; } /* '' */
.sf-icon-approval:before { content: '\\e832'; } /* '' */
.sf-icon-socialshare:before { content: '\\e833'; } /* '' */
.sf-icon-people:before { content: '\\e834'; } /* '' */
.sf-icon-italic:before { content: '\\e835'; } /* '' */
.sf-icon-delete:before { content: '\\e836'; } /* '' */
.sf-icon-back:before { content: '\\e837'; } /* '' */
.sf-icon-ban:before { content: '\\e838'; } /* '' */
.sf-icon-email:before { content: '\\e839'; } /* '' */
.sf-icon-bold:before { content: '\\e83a'; } /* '' */
.sf-icon-preview:before { content: '\\e83b'; } /* '' */
.sf-icon-share:before { content: '\\e83c'; } /* '' */
.sf-icon-dashboard:before { content: '\\e83d'; } /* '' */
.sf-icon-thanks:before { content: '\\e83e'; } /* '' */
.sf-icon-today:before { content: '\\e83f'; } /* '' */
.sf-icon-contract-1:before { content: '\\e840'; } /* '' */
.sf-icon-spinner:before { content: '\\e841'; } /* '' */
.sf-icon-photo:before { content: '\\e842'; } /* '' */
.sf-icon-event:before { content: '\\e843'; } /* '' */
.sf-icon-builder:before { content: '\\e844'; } /* '' */
.sf-icon-justify_text:before { content: '\\e845'; } /* '' */
.sf-icon-center_align_text:before { content: '\\e846'; } /* '' */
.sf-icon-edit:before { content: '\\e847'; } /* '' */
.sf-icon-layout:before { content: '\\e848'; } /* '' */
.sf-icon-priority:before { content: '\\e849'; } /* '' */
.sf-icon-standard_objects:before { content: '\\e84a'; } /* '' */
.sf-icon-contact:before { content: '\\e84b'; } /* '' */
.sf-icon-custom93:before { content: '\\e84c'; } /* '' */
.sf-icon-email-1:before { content: '\\e84d'; } /* '' */
.sf-icon-success:before { content: '\\e84e'; } /* '' */
.sf-icon-refresh:before { content: '\\e84f'; } /* '' */
.sf-icon-left_align_text:before { content: '\\e850'; } /* '' */
.sf-icon-down:before { content: '\\e851'; } /* '' */
.sf-icon-chart:before { content: '\\e852'; } /* '' */
.sf-icon-chat:before { content: '\\e853'; } /* '' */
.sf-icon-error:before { content: '\\e854'; } /* '' */
.sf-icon-left:before { content: '\\e855'; } /* '' */
.sf-icon-remove_link:before { content: '\\e856'; } /* '' */
.sf-icon-summary:before { content: '\\e857'; } /* '' */
.sf-icon-document:before { content: '\\e858'; } /* '' */
.sf-icon-drafts:before { content: '\\e859'; } /* '' */
.sf-icon-summarydetail:before { content: '\\e85a'; } /* '' */
.sf-icon-replace:before { content: '\\e85b'; } /* '' */
.sf-icon-like:before { content: '\\e85c'; } /* '' */
.sf-icon-download:before { content: '\\e85d'; } /* '' */
.sf-icon-check:before { content: '\\e85e'; } /* '' */
.sf-icon-chevronleft:before { content: '\\e85f'; } /* '' */
.sf-icon-expand:before { content: '\\e860'; } /* '' */
.sf-icon-link:before { content: '\\e861'; } /* '' */
.sf-icon-reply:before { content: '\\e862'; } /* '' */
.sf-icon-table:before { content: '\\e863'; } /* '' */
.sf-icon-feed:before { content: '\\e864'; } /* '' */
.sf-icon-event-1:before { content: '\\e865'; } /* '' */
.sf-icon-tile_card_list:before { content: '\\e866'; } /* '' */
.sf-icon-richtextbulletedlist:before { content: '\\e867'; } /* '' */
.sf-icon-list:before { content: '\\e868'; } /* '' */
.sf-icon-favorite:before { content: '\\e869'; } /* '' */
.sf-icon-chevronright:before { content: '\\e86a'; } /* '' */
.sf-icon-chevrondown:before { content: '\\e86b'; } /* '' */
.sf-icon-filter:before { content: '\\e86c'; } /* '' */
.sf-icon-move:before { content: '\\e86d'; } /* '' */
.sf-icon-richtextindent:before { content: '\\e86e'; } /* '' */
.sf-icon-underline:before { content: '\\e86f'; } /* '' */
.sf-icon-feedback:before { content: '\\e870'; } /* '' */
.sf-icon-file:before { content: '\\e871'; } /* '' */
.sf-icon-undo:before { content: '\\e872'; } /* '' */
.sf-icon-richtextnumberedlist:before { content: '\\e873'; } /* '' */
.sf-icon-lock:before { content: '\\e874'; } /* '' */
.sf-icon-filterlist:before { content: '\\e875'; } /* '' */
.sf-icon-chevronup:before { content: '\\e876'; } /* '' */
.sf-icon-clear:before { content: '\\e877'; } /* '' */
.sf-icon-forward:before { content: '\\e878'; } /* '' */
.sf-icon-new_window:before { content: '\\e879'; } /* '' */
.sf-icon-richtextoutdent:before { content: '\\e87a'; } /* '' */
.sf-icon-unlock:before { content: '\\e87b'; } /* '' */
.sf-icon-opportunity:before { content: '\\e87c'; } /* '' */
.sf-icon-post:before { content: '\\e87d'; } /* '' */
.sf-icon-up:before { content: '\\e87e'; } /* '' */
.sf-icon-search:before { content: '\\e87f'; } /* '' */
.sf-icon-new:before { content: '\\e880'; } /* '' */
.sf-icon-frozen:before { content: '\\e881'; } /* '' */
.sf-icon-comments:before { content: '\\e882'; } /* '' */
.sf-icon-recent:before { content: '\\e883'; } /* '' */
.sf-icon-magicwand:before { content: '\\e884'; } /* '' */
.sf-icon-discountscheduleicons-02:before { content: '\\e885'; } /* '' */
.sf-icon-custom90:before { content: '\\e886'; } /* '' */
.sf-icon-custom26:before { content: '\\e887'; } /* '' */
.sf-icon-trending:before { content: '\\e888'; } /* '' */
.sf-icon-target:before { content: '\\e889'; } /* '' */
.sf-icon-cube:before { content: '\\e88b'; } /* '' */
.sf-icon-paired-lines:before { content: '\\e88c'; } /* '' */
[class^="sb-icon-"]:before,
[class*=" sb-icon-"]:before,
[class^="sf-icon-"]:before,
[class*=" sf-icon-"]:before {
  color: inherit;
  display: inline-block;
  font-family: 'sb-icons';
  font-style: normal;
  font-variant: normal;
  font-weight: normal;
  line-height: 1em;
  speak: none;
  text-align: center;
  text-decoration: inherit;
  text-transform: none;
  width: 1em;
  /* Better Font Rendering =========== */
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
[class^="sf-icon-"]:before,
[class*=" sf-icon-"]:before {
  font-family: 'sf-icons';
}
.sb-icon-3dots:before {
  font-family: 'sf-icons';
  content: '\\e800';
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}
.sb-icon-exchange:before {
  -webkit-transform: rotate(90deg);
  -moz-transform: rotate(90deg);
  -ms-transform: rotate(90deg);
  transform: rotate(90deg);
}
.sb-icon-loading {
  width: 148px;
  text-align: center;
}
.sb-icon-loading > div {
  width: 36px;
  height: 18px;
  margin: 2px;
  background-color: #0c8eff;
  border-radius: 10%;
  display: inline-block;
  -webkit-animation: bouncedelay 1.4s infinite ease-in-out;
  animation: bouncedelay 1.4s infinite ease-in-out;
  /* Prevent first frame from flickering when animation starts */
  -webkit-animation-fill-mode: both;
  animation-fill-mode: both;
}
.sb-icon-loading .sb-icon-bounce1 {
  -webkit-animation-delay: -0.32s;
  animation-delay: -0.32s;
}
.sb-icon-loading .sb-icon-bounce2 {
  -webkit-animation-delay: -0.16s;
  animation-delay: -0.16s;
}
@-webkit-keyframes bouncedelay {
  0%,
  80%,
  100% {
    -webkit-transform: scale(0);
  }
  40% {
    -webkit-transform: scale(1);
  }
}
@keyframes bouncedelay {
  0%,
  80%,
  100% {
    transform: scale(0);
    -webkit-transform: scale(0);
  }
  40% {
    transform: scale(1);
    -webkit-transform: scale(1);
  }
}

						</style>
					</template>
				</dom-module>`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},30:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ContractLookup:()=>m});var o=i(7571),r=i(6902),n=i(9406),s=i(6206),a=i(4886),l=i(7734),d=i(2619);const c=d.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host {
  color: #3c3d3e;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
}
:host > #pageBody {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host .primary {
  background-color: #0070d2;
  color: #FFFFFF;
  font-weight: 400;
  width: initial;
}
:host .primary:hover {
  background-color: #005fb2;
  color: #FFFFFF;
}
:host .title {
  margin-left: 20px;
}
:host .title[class*='--mobile'] {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
:host [class*='--mobile'] .title {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
.skipActionAddOn {
  display: var(--sbSelectContractHideSkipActionOnAddOnDisplay);
}
.skipActionAmend {
  display: var(--sbSelectContractHideSkipActionOnAmendDisplay);
}
.selectContractText {
  padding-top: 30px;
  padding-left: 10px;
}
.selectContractText[class*='--mobile'] {
  padding-bottom: 25px;
}
[class*='--mobile'] .selectContractText {
  padding-bottom: 25px;
}
.tbody[class*='--mobile'] {
  position: absolute;
}
[class*='--mobile'] .tbody {
  position: absolute;
}
.scrollContent[class*='--desktop'] {
  overflow: auto;
}
[class*='--desktop'] .scrollContent {
  overflow: auto;
}
`;i(4167),i(4),i(9235),i(2804),i(622),i(1306),i(4482),i(7533),i(8729),i(8500),i(2868),i(8421),i(5001);var u=i(5770),h=i(1149);const p=d.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  color: #3c3d3e;
}
.datatable {
  position: relative;
}
.tbody[class*='--mobile'] {
  position: absolute;
}
[class*='--mobile'] .tbody {
  position: absolute;
}
.scrollContent[class*='--desktop'] {
  overflow: auto;
}
[class*='--desktop'] .scrollContent {
  overflow: auto;
}
`;i(347),i(1925),i(7893);class f extends((0,a.$)(l.Pu)){static get is(){return"sf-contract-lookup-table"}static get observers(){return["_handleContractLoadResponseObserver(contractsByType, name)"]}static get properties(){return{name:String,contractsByType:Object}}get contractObject(){return r.B.org.isServiceCloudEnabled?"ServiceContract":"Contract"}connectedCallback(){super.connectedCallback(),this.handleMetaDataResponse()}ready(){super.ready(),this.addEventListener("selection-changed",this.handleContractSelected.bind(this)),this.$.header.selectable=!1}handleMetaDataResponse(){this.$.md.addEventListener("md-changed",function(e){let t=[],i=[],o={},r={},n={},s={};e.detail.value.fields.forEach(function(e){let a=e.name;t.push(a),i.push(e.label),o[a]=e.label,r[a]=e,n[e.label.replace(/\W/g,"")]=e.type,s[a]=e.type}.bind(this)),this.headerClassMap=new u.u(Object.keys(n),"Th",n,null,!0).build(),this.rowClassMap=new u.u(t,"Td",s).build(),this.mdMap=r,this.recordKeys=t,this.fieldLabels=i,this.fieldLabelMap=o}.bind(this))}setFieldSet(){let e=[];for(let t of this.contracts[0].activeContractFieldSets)e.push(this.contractObject+"."+t);this.$.md.fields=e}_handleContractLoadResponseObserver(e,t){if(void 0!==e&&void 0!==t)return this.handleContractLoadResponse(e,t)}handleContractLoadResponse(){this.contracts=this.contractsByType[this.name],this.contracts.length>0&&this.setFieldSet()}handleContractSelected(e){e.detail.selected?this.selectedId=e.detail.Id:this.selectedId=null;let t={contractType:this.name,selectedContractId:this.selectedId};e.detail.selected&&this.ifRadioSelectedClearOtherRadioSelections(e),this.dispatchEvent((0,h.uv)("contract-selected",t))}ifRadioSelectedClearOtherRadioSelections(e){if(!1===e.detail.selected||void 0===e.detail.selected)return;let t=e.composedPath()[0],i=t.parentElement.querySelectorAll("sb-table-row");for(let e of i)e!==t&&(e.selected=!1)}static get template(){return l.qy`
		 <style include="sb-tables-styles"></style>
		 <style include="sb-common-styles"></style>
		 <style include="sb-icons-styles"></style>
		<style>${p}</style>
		<sb-field-md id="md" error="{{errors}}"></sb-field-md>
		<div id="contractLookupTable">
			<div class="scrollContent" device>
				<div class="datatable">
					<div class="thead">
						<sb-table-header id="header"
 							cols="[[fieldLabels]]"
 							header-class-map="[[headerClassMap]]"
 							selection-type="radio">
						</sb-table-header>
					</div>
					<div class="tbody" id="tbody">
						<template is="dom-repeat" items="{{contracts}}" as="row">
							<sb-table-row
								id="tableRow"
								cell="sb-table-cell"
								cols="[[recordKeys]]"
								row-data="[[row.record]]"
								model="[[mdMap]]"
								cols-display="[[fieldLabelMap]]"
								primary-mobile-cols='["Contract.Status", "Contract.ContractNumber"]'
								row-actions='[]'
								row-class-map="[[rowClassMap]]"
								selection-type="radio"
								route-source="ContractSelect"
								selectable="true"
							/>
						</template>
					</div>
				</div>
			</div>
		</div>
		`}}customElements.define(f.is,f);const b="evergreen",g="nonevergreen";class m extends((0,a.$)(o.YW)){static get is(){return"sb-contract-lookup"}static get properties(){return(0,s.X$)({prefix:{type:String,computed:"getPrefix(app.org)"},contractsByType:{type:Object,value:{}},contractLookupObjects:Array,contracts:Array,contractTabs:Array,lineEditorModel:Object,selectedContractId:String,selectedEvergreenContractId:String,action:String,accountId:String,selectedAssetIds:String,validationMessages:{type:Array,value:[]}},o.YW.properties)}connectedCallback(){super.connectedCallback(),this.handleLineEditorModelResponse(),this.handleContractModelLoadResponse(),this.handleContractModelSaveResponse()}ready(){super.ready(),Object.entries({"contract-selected":"handleContractSelected"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.setAndPrefetchObject(),this.setPropertyFromUrl(),this.setSkipActionClass(),this.action&&this.handleContractModelLoadRequest({uid:this.accountId,action:this.action})}setAndPrefetchObject(){this.contractLookupObjects=this.isServiceCloudEnabled()?["ServiceContract"]:["Contract"]}isServiceCloudEnabled(){return this.app.org.isServiceCloudEnabled}getPrefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}get scPrefix(){return this.app.org.scPrefix?this.app.org.scPrefix:""}setPropertyFromUrl(){this.action=this.ctx.params.action,this.accountId=this.ctx.params.accId,this.selectedAssetIds=this.ctx.params.selectedAssetIds}setSkipActionClass(){let e,t=this.$.skip;this.action?"Amend"===this.action&&(e="skipActionAmend"):e="skipActionAddOn",(0,s.p1)(e,!0,t)}handleLineEditorModelResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(e){this.lineEditorModel=e.detail.value,this.handleContractModelLoadRequest({uid:this.lineEditorModel.quote.record.Id})}.bind(this))}handleContractModelLoadRequest(e){this.$.contractModelLoadService.uid=null,this.$.contractModelLoadService.context=e}handleContractModelLoadResponse(){this.$.contractModelLoadService.addEventListener("response-changed",function(e){if(this.contracts=e.detail.value,0==this.contracts.length)return;this.contractsByType[b]=[],this.contractsByType[g]=[];let t=(this.isServiceCloudEnabled()?this.scPrefix:this.prefix)+"Evergreen__c";for(let e of this.contracts)e.record[t]?this.contractsByType[b].push(e):this.contractsByType[g].push(e);this.buildContractsTabs()}.bind(this))}handleContractSelected(e){e.detail.contractType==g?this.selectedContractId=e.detail.selectedContractId:this.selectedEvergreenContractId=e.detail.selectedContractId}handleContractModelSaveResponse(){this.$.contractModelSaveService.addEventListener("response-changed",function(e){e.detail.value&&(e.detail.value.Id?this.quoteId=e.detail.value.Id:e.detail.value.quote&&e.detail.value.quote.record&&(this.quoteId=e.detail.value.quote.record.Id,this.lineEditorModel=e.detail.value,this.$.qo.cache(this.quoteId,this.lineEditorModel))),this.navigateToLineEditor()}.bind(this))}buildContractsTabs(){let e=[],t=[[g,r.B.i18n.l("Active Contracts")],[b,r.B.i18n.l("Evergreen Contracts")]];for(let[i,o]of t)if(this.contractsByType[i].length>0){let t={name:i,label:o};e.push(t)}this.contractTabs=e}navigateToLineEditor(){let e=this.lineEditorModel?this.lineEditorModel.quote.record.Id:this.quoteId;this.nav("#",{qId:e},["quote","le"],!1)}onSkip(){this.action?this.$.contractModelSaveService.model=this.buildModel(null,null,null):this.navigateToLineEditor()}onSelect(){if(this.validationMessages=[],!this.selectedContractId&&!this.selectedEvergreenContractId)return void(this.validationMessages=[r.B.i18n.l("Select a record or Skip to continue")]);if(this.selectedContractId)for(let e of this.contractsByType[g])if(this.selectedContractId==e.record.Id){if(this.lineEditorModel.quote.record[this.prefix+"StartDate__c"]>e.record.EndDate)return void(this.validationMessages=[r.B.i18n.l("Can't select the contract because its end date is before the quote's start date")]);break}let e;if(this.action)e=this.buildModel(null,this.selectedContractId,this.selectedEvergreenContractId);else{let t=(new n.k).addObject("quote",this.lineEditorModel.quote.record);t.add("selectedContractId",this.selectedContractId),t.add("selectedEvergreenContractId",this.selectedEvergreenContractId),e=t.build()}this.$.contractModelSaveService.model=e}buildModel(e,t,i){return{quote:e||null,selectedContractId:t,selectedEvergreenContractId:i,action:this.action,accountId:this.accountId,selectedAssetIds:this.selectedAssetIds}}onCancel(){this.showSpinner=!0,this.navigateToDetailPage()}navigateToDetailPage(){let e;if(e=this.action?this.accountId:this.lineEditorModel.quote.record.Id,this.isLightningExperience())return void(!0===PageContainer.getViewport().isMobile()?this.navigateToURL("#/sObject/"+this.prefix+"Quote__c/home"):sforce.one.navigateToSObject(e));let t="/"+e;window.parent?window.parent.location.href=t:window.location.href=t}isLightningExperience(){return"undefined"!=typeof sforce&&sforce&&!!sforce.one}navigateToURL(e){sforce.one.navigateToURL(e)}static get template(){return l.qy`
		<style include="sb-tables-styles"></style>
		<style include="sb-common-styles"></style>
		<style>${c}</style>
		 <style include="sb-icons-styles"></style>
		<sb-describe objects="[[contractLookupObjects]]" error="{{errors}}"></sb-describe>
		<sb-field-md id="md" error="{{errors}}"></sb-field-md>
		<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" error="{{errors}}"></sb-line-editor-read>
		<sb-service id="contractModelLoadService" loader="ContractLookupServiceProvider.ContractModelLoader" error="{{errors}}"></sb-service>
		<sb-service id="contractModelSaveService" saver="ContractLookupServiceProvider.ContractModelSaver" error="{{errors}}"></sb-service>
		<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>

		<sb-page-header device>
			<div slot="messages" id="messages"><sb-toast type="error" messages="[[validationMessages]]"></sb-toast></div>
			<i class="icon sf-icon-contract-1" slot="icon"></i>
			<h1 slot="h1">
				<sb-i18n>Contract Selection</sb-i18n>
			</h1>
			<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>
			<div class="actions" slot="actions">
				<paper-button noink on-click="onSelect" id="select">
					<sb-i18n>Select</sb-i18n>
				</paper-button>
				<paper-button noink on-click="onSkip" id="skip">
					<sb-i18n>Skip</sb-i18n>
				</paper-button>
				<paper-button noink on-click="onCancel" id="cancel">
					<sb-i18n>Cancel</sb-i18n>
				</paper-button>
			</div>
		</sb-page-header>
		<div class="scrollContent" device>
			<sb-tabs
         		tabs="[[contractTabs]]"
         		page-component="sf-contract-lookup-table"
         		contracts-by-type="[[contractsByType]]"
         		bind='["contractsByType"]'
			/>
		</div>
		`}}customElements.define(m.is,m)},35:(e,t,i)=>{"use strict";i.d(t,{i:()=>s});i(1518);var o=i(5565),r=i(7586),n=new Set;const s={properties:{_parentResizable:{type:Object,observer:"_parentResizableChanged"},_notifyingDescendant:{type:Boolean,value:!1}},listeners:{"iron-request-resize-notifications":"_onIronRequestResizeNotifications"},created:function(){this._interestedResizables=[],this._boundNotifyResize=this.notifyResize.bind(this),this._boundOnDescendantIronResize=this._onDescendantIronResize.bind(this)},attached:function(){this._requestResizeNotifications()},detached:function(){this._parentResizable?this._parentResizable.stopResizeNotificationsFor(this):(n.delete(this),window.removeEventListener("resize",this._boundNotifyResize)),this._parentResizable=null},notifyResize:function(){this.isAttached&&(this._interestedResizables.forEach((function(e){this.resizerShouldNotify(e)&&this._notifyDescendant(e)}),this),this._fireResize())},assignParentResizable:function(e){this._parentResizable&&this._parentResizable.stopResizeNotificationsFor(this),this._parentResizable=e,e&&-1===e._interestedResizables.indexOf(this)&&(e._interestedResizables.push(this),e._subscribeIronResize(this))},stopResizeNotificationsFor:function(e){var t=this._interestedResizables.indexOf(e);t>-1&&(this._interestedResizables.splice(t,1),this._unsubscribeIronResize(e))},_subscribeIronResize:function(e){e.addEventListener("iron-resize",this._boundOnDescendantIronResize)},_unsubscribeIronResize:function(e){e.removeEventListener("iron-resize",this._boundOnDescendantIronResize)},resizerShouldNotify:function(e){return!0},_onDescendantIronResize:function(e){this._notifyingDescendant?e.stopPropagation():r.sv||this._fireResize()},_fireResize:function(){this.fire("iron-resize",null,{node:this,bubbles:!1})},_onIronRequestResizeNotifications:function(e){var t=(0,o.tT)(e).rootTarget;t!==this&&(t.assignParentResizable(this),this._notifyDescendant(t),e.stopPropagation())},_parentResizableChanged:function(e){e&&window.removeEventListener("resize",this._boundNotifyResize)},_notifyDescendant:function(e){this.isAttached&&(this._notifyingDescendant=!0,e.notifyResize(),this._notifyingDescendant=!1)},_requestResizeNotifications:function(){if(this.isAttached)if("loading"===document.readyState){var e=this._requestResizeNotifications.bind(this);document.addEventListener("readystatechange",(function t(){document.removeEventListener("readystatechange",t),e()}))}else this._findParent(),this._parentResizable?this._parentResizable._interestedResizables.forEach((function(e){e!==this&&e._findParent()}),this):(n.forEach((function(e){e!==this&&e._findParent()}),this),window.addEventListener("resize",this._boundNotifyResize),this.notifyResize())},_findParent:function(){this.assignParentResizable(null),this.fire("iron-request-resize-notifications",null,{node:this,bubbles:!0,cancelable:!0}),this._parentResizable?n.delete(this):n.add(this)}}},53:(e,t,i)=>{"use strict";var o=i(7734),r=i(7695),n=i(7212),s=i(9137),a=i(1149),l=i(6206);const d=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  z-index: 10000;
}
sb-dialog {
  --sbDialogMaxHeight: none;
  --sbDialogContainerLeft: 0;
  --sbDialogContainerRight: 0;
  --sbDialogContainerTop: 60px;
  --sbDialogContainerWidth: 90%;
  --sbDialogContainerHeight: 85%;
  --sbDialogContainerTransform: translate(0, 0);
  --sbDialogContentHeight: inherit;
  --sbDialogContentHeight: 100%;
  --sbDialogContentPadding: 0;
  --sbDialogFooterDisplay: none;
  --sbDialogTitleDisplay: none;
  --sbDialogTitleMobileVisibility: hidden;
}
sb-dialog[class*='--desktop'] {
  --sbDialogHeaderBorderWidth: 0;
  --sbDialogHeaderBorderStyle: none;
  --sbDialogHeaderPaddingTop: 0;
  --sbDialogHeaderPaddingRight: 0;
  --sbDialogHeaderPaddingBottom: 0;
  --sbDialogHeaderPaddingLeft: 0;
}
[class*='--desktop'] sb-dialog {
  --sbDialogHeaderBorderWidth: 0;
  --sbDialogHeaderBorderStyle: none;
  --sbDialogHeaderPaddingTop: 0;
  --sbDialogHeaderPaddingRight: 0;
  --sbDialogHeaderPaddingBottom: 0;
  --sbDialogHeaderPaddingLeft: 0;
}
sb-dialog[class*='--mobile'] {
  --sbDialogHeaderBorderWidth: inherit;
  --sbDialogHeaderBorderStyle: inherit;
  --sbDialogHeaderBorderColor: inherit;
  --sbDialogHeaderPaddingTop: inherit;
  --sbDialogHeaderPaddingRight: inherit;
  --sbDialogHeaderPaddingBottom: inherit;
  --sbDialogHeaderPaddingLeft: inherit;
}
[class*='--mobile'] sb-dialog {
  --sbDialogHeaderBorderWidth: inherit;
  --sbDialogHeaderBorderStyle: inherit;
  --sbDialogHeaderBorderColor: inherit;
  --sbDialogHeaderPaddingTop: inherit;
  --sbDialogHeaderPaddingRight: inherit;
  --sbDialogHeaderPaddingBottom: inherit;
  --sbDialogHeaderPaddingLeft: inherit;
}
sb-dialog::shadow #easyXDM_sbQQ_provider {
  width: 100%;
  height: 100%;
}
`;i(7533),i(9139);const c=function(e,t,i,o,r,n){var s,a,l,d,c,u=this,h=Math.floor(1e4*Math.random()),p=Function.prototype,f=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,b=/[\-\w]+\/\.\.\//,g=/([^:])\/\//g,m="",y={},v=e.easyXDM,_="easyXDM_",w=!1;function x(e,t){var i=typeof e[t];return"function"==i||!("object"!=i||!e[t])||"unknown"==i}function C(){var e,t="Shockwave Flash",i="application/x-shockwave-flash";if(!A(navigator.plugins)&&"object"==typeof navigator.plugins[t]){var o=navigator.plugins[t].description;o&&!A(navigator.mimeTypes)&&navigator.mimeTypes[i]&&navigator.mimeTypes[i].enabledPlugin&&(a=o.match(/\d+/g))}if(!a)try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),a=Array.prototype.slice.call(e.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),e=null}catch(e){}if(!a)return!1;var r=parseInt(a[0],10),n=parseInt(a[1],10);return l=r>9&&n>0,!0}if(x(e,"addEventListener"))d=function(e,t,i){e.addEventListener(t,i,!1)},c=function(e,t,i){e.removeEventListener(t,i,!1)};else{if(!x(e,"attachEvent"))throw new Error("Browser not supported");d=function(e,t,i){e.attachEvent("on"+t,i)},c=function(e,t,i){e.detachEvent("on"+t,i)}}var S,O=!1,k=[];function E(){if(!O){O=!0;for(var e=0;e<k.length;e++)k[e]();k.length=0}}if("readyState"in t?(S=t.readyState,O="complete"==S||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==S||"interactive"==S)):O=!!t.body,!O){if(x(e,"addEventListener"))d(t,"DOMContentLoaded",E);else if(d(t,"readystatechange",(function(){"complete"==t.readyState&&E()})),t.documentElement.doScroll&&e===top){var I=function(){if(!O){try{t.documentElement.doScroll("left")}catch(e){return void o(I,1)}E()}};I()}d(e,"load",E)}function T(e,t){O?e.call(t):k.push((function(){e.call(t)}))}function M(e){return e.match(f)[3]}function B(e){var t=e.toLowerCase().match(f);if(!t)return"";var i=t[2],o=t[3],r=t[4]||"";return("http:"==i&&":80"==r||"https:"==i&&":443"==r)&&(r=""),i+"//"+o+r}function D(e){if(!(e=e.replace(g,"$1/")).match(/^(http||https):\/\//)){var t="/"===e.substring(0,1)?"":i.pathname;"/"!==t.substring(t.length-1)&&(t=t.substring(0,t.lastIndexOf("/")+1)),e=i.protocol+"//"+i.host+t+e}for(;b.test(e);)e=e.replace(b,"");return e}function P(e,t){var i="",o=e.indexOf("#");-1!==o&&(i=e.substring(o),e=e.substring(0,o));var r=[];for(var s in t)t.hasOwnProperty(s)&&r.push(s+"="+n(t[s]));return e+(w?"#":-1==e.indexOf("?")?"?":"&")+r.join("&")+i}var L=function(e){for(var t,i={},o=(e=e.substring(1).split("&")).length;o--;)i[(t=e[o].split("="))[0]]=r(t[1]);return i}(/xdm_e=/.test(i.search)?i.search:i.hash);function A(e){return void 0===e}var F,N=function(){var e={},t={a:[1,2,3]},i='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(t).replace(/\s/g,"")===i?JSON:(Object.toJSON&&Object.toJSON(t).replace(/\s/g,"")===i&&(e.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(t=i.evalJSON()).a&&3===t.a.length&&3===t.a[2]&&(e.parse=function(e){return e.evalJSON()}),e.stringify&&e.parse?(N=function(){return e},e):null)};function R(e,t,i){var o;for(var r in t)t.hasOwnProperty(r)&&(r in e?"object"==typeof(o=t[r])?R(e[r],o,i):i||(e[r]=t[r]):e[r]=t[r]);return e}function q(e){var i;A(s)&&function(){var e=t.body.appendChild(t.createElement("form")),i=e.appendChild(t.createElement("input"));i.name=_+"TEST"+h,s=i!==e.elements[i.name],t.body.removeChild(e)}(),s?i=t.createElement('<iframe name="'+e.props.name+'"/>'):(i=t.createElement("IFRAME")).name=e.props.name,i.id=i.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=t.getElementById(e.container)),e.container||(R(i.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=t.body);var o=e.props.src;if(e.props.src="javascript:false",R(i,e.props),i.border=i.frameBorder=0,i.allowTransparency=!0,e.container.appendChild(i),e.onLoad&&d(i,"load",e.onLoad),e.usePost){var r,n=e.container.appendChild(t.createElement("form"));if(n.target=i.name,n.action=o,n.method="POST","object"==typeof e.usePost)for(var a in e.usePost)e.usePost.hasOwnProperty(a)&&(s?r=t.createElement('<input name="'+a+'"/>'):(r=t.createElement("INPUT")).name=a,r.value=e.usePost[a],n.appendChild(r));n.submit(),n.parentNode.removeChild(n)}else i.src=o;return e.props.src=o,i}function j(o){var r,n=o.protocol;if(o.isHost=o.isHost||A(L.xdm_p),w=o.hash||!1,o.props||(o.props={}),o.isHost)o.remote=D(o.remote),o.channel=o.channel||"default"+h++,o.secret=Math.random().toString(16).substring(2),A(n)&&(n=B(i.href)==B(o.remote)?"4":x(e,"postMessage")||x(t,"postMessage")?"1":o.swf&&x(e,"ActiveXObject")&&C()?"6":"Gecko"===navigator.product&&"frameElement"in e&&-1==navigator.userAgent.indexOf("WebKit")?"5":o.remoteHelper?"2":"0");else if(o.channel=L.xdm_c.replace(/["'<>\\]/g,""),o.secret=L.xdm_s,o.remote=L.xdm_e.replace(/["'<>\\]/g,""),n=L.xdm_p,o.acl&&!function(e,t){"string"==typeof e&&(e=[e]);for(var i,o=e.length;o--;)if(i="^"===e[o].substr(0,1)&&"$"===e[o].substr(e[o].length-1,1)?e[o]:"^"+e[o].replace(/[-[\]/{}()+.\^$|]/g,"\\$&").replace(/(\*)/g,".$1").replace(/\?/g,".")+"$",(i=new RegExp(i)).test(t))return!0;return!1}(o.acl,o.remote))throw new Error("Access denied for "+o.remote);switch(o.protocol=n,n){case"0":if(R(o,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),o.isHost){if(!o.local){for(var s,l=i.protocol+"//"+i.host,d=t.body.getElementsByTagName("img"),c=d.length;c--;)if((s=d[c]).src.substring(0,l.length)===l){o.local=s.src;break}o.local||(o.local=e)}var u={xdm_c:o.channel,xdm_p:0};o.local===e?(o.usePolling=!0,o.useParent=!0,o.local=i.protocol+"//"+i.host+i.pathname+i.search,u.xdm_e=o.local,u.xdm_pa=1):u.xdm_e=D(o.local),o.container&&(o.useResize=!1,u.xdm_po=1),o.remote=P(o.remote,u)}else R(o,{useParent:!A(L.xdm_pa),usePolling:!A(L.xdm_po),useResize:!o.useParent&&o.useResize});r=[new y.stack.HashTransport(o),new y.stack.ReliableBehavior({}),new y.stack.QueueBehavior({encode:!0,maxLength:4e3-o.remote.length}),new y.stack.VerifyBehavior({initiate:o.isHost})];break;case"1":r=[new y.stack.PostMessageTransport(o)];break;case"2":o.isHost&&(o.remoteHelper=D(o.remoteHelper)),r=[new y.stack.NameTransport(o),new y.stack.QueueBehavior,new y.stack.VerifyBehavior({initiate:o.isHost})];break;case"3":r=[new y.stack.NixTransport(o)];break;case"4":r=[new y.stack.SameOriginTransport(o)];break;case"5":r=[new y.stack.FrameElementTransport(o)];break;case"6":a||C(),r=[new y.stack.FlashTransport(o)]}return r.push(new y.stack.QueueBehavior({lazy:o.lazy,remove:!0})),r}function H(e){for(var t,i={incoming:function(e,t){this.up.incoming(e,t)},outgoing:function(e,t){this.down.outgoing(e,t)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},o=0,r=e.length;o<r;o++)R(t=e[o],i,!0),0!==o&&(t.down=e[o-1]),o!==r-1&&(t.up=e[o+1]);return t}return R(y,{version:"2.5.00.0",query:L,stack:{},apply:R,getJSONObject:N,whenReady:T,noConflict:function(t){return e.easyXDM=v,(m=t)&&(_="easyXDM_"+m.replace(".","_")+"_"),y}}),y.DomHelper={on:d,un:c,requiresJSON:function(i){var o,r;"object"==typeof(o=e)[r="JSON"]&&o[r]||t.write('<script type="text/javascript" src="'+i+'"><\/script>')}},F={},y.Fn={set:function(e,t){F[e]=t},get:function(e,t){if(F.hasOwnProperty(e)){var i=F[e];return t&&delete F[e],i}}},y.Socket=function(e){var t=H(j(e).concat([{incoming:function(t,i){e.onMessage(t,i)},callback:function(t){e.onReady&&e.onReady(t)}}])),i=B(e.remote);this.origin=B(e.remote),this.destroy=function(){t.destroy()},this.postMessage=function(e){t.outgoing(e,i)},t.init()},y.Rpc=function(e,t){if(t.local)for(var i in t.local)if(t.local.hasOwnProperty(i)){var o=t.local[i];"function"==typeof o&&(t.local[i]={method:o})}var r=H(j(e).concat([new y.stack.RpcBehavior(this,t),{callback:function(t){e.onReady&&e.onReady(t)}}]));this.origin=B(e.remote),this.context=e.context||null,this.destroy=function(){r.destroy()},r.init()},y.stack.SameOriginTransport=function(e){var t,r,n,s;return t={outgoing:function(e,t,i){n(e),i&&i()},destroy:function(){r&&(r.parentNode.removeChild(r),r=null)},onDOMReady:function(){s=B(e.remote),e.isHost?(R(e.props,{src:P(e.remote,{xdm_e:i.protocol+"//"+i.host+i.pathname,xdm_c:e.channel,xdm_p:4}),name:_+e.channel+"_provider"}),r=q(e),y.Fn.set(e.channel,(function(e){return n=e,o((function(){t.up.callback(!0)}),0),function(e){t.up.incoming(e,s)}}))):(n=function(){var e=parent;if(""!==m)for(var t=0,i=m.split(".");t<i.length;t++)e=e[i[t]];return e.easyXDM}().Fn.get(e.channel,!0)((function(e){t.up.incoming(e,s)})),o((function(){t.up.callback(!0)}),0))},init:function(){T(t.onDOMReady,t)}}},y.stack.FlashTransport=function(e){var r,s,a,d,c;function h(e,t){o((function(){r.up.incoming(e,a)}),0)}function p(i){var o=e.swf+"?host="+e.isHost,r="easyXDM_swf_"+Math.floor(1e4*Math.random());y.Fn.set("flash_loaded"+i.replace(/[\-.]/g,"_"),(function(){y.stack.FlashTransport[i].swf=d=c.firstChild;for(var e=y.stack.FlashTransport[i].queue,t=0;t<e.length;t++)e[t]();e.length=0})),e.swfContainer?c="string"==typeof e.swfContainer?t.getElementById(e.swfContainer):e.swfContainer:(R((c=t.createElement("div")).style,l&&e.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),t.body.appendChild(c));var s="callback=flash_loaded"+n(i.replace(/[\-.]/g,"_"))+"&proto="+u.location.protocol+"&domain="+n(M(u.location.href))+"&port="+n(function(e){return e.match(f)[4]||""}(u.location.href))+"&ns="+n(m);c.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+r+"' data='"+o+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+o+"'></param><param name='flashvars' value='"+s+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+s+"' allowScriptAccess='always' wmode='transparent' src='"+o+"' height='1' width='1'></embed></object>"}return r={outgoing:function(t,i,o){d.postMessage(e.channel,t.toString()),o&&o()},destroy:function(){try{d.destroyChannel(e.channel)}catch(e){}d=null,s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){a=e.remote,y.Fn.set("flash_"+e.channel+"_init",(function(){o((function(){r.up.callback(!0)}))})),y.Fn.set("flash_"+e.channel+"_onMessage",h),e.swf=D(e.swf);var t=M(e.swf),n=function(){y.stack.FlashTransport[t].init=!0,(d=y.stack.FlashTransport[t].swf).createChannel(e.channel,e.secret,B(e.remote),e.isHost),e.isHost&&(l&&e.swfNoThrottle&&R(e.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),R(e.props,{src:P(e.remote,{xdm_e:B(i.href),xdm_c:e.channel,xdm_p:6,xdm_s:e.secret}),name:_+e.channel+"_provider"}),s=q(e))};y.stack.FlashTransport[t]&&y.stack.FlashTransport[t].init?n():y.stack.FlashTransport[t]?y.stack.FlashTransport[t].queue.push(n):(y.stack.FlashTransport[t]={queue:[n]},p(t))},init:function(){T(r.onDOMReady,r)}}},y.stack.PostMessageTransport=function(t){var r,n,s,a;function l(e){if("string"==typeof e.data){var o=function(e){if(e.origin)return B(e.origin);if(e.uri)return B(e.uri);if(e.domain)return i.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}(e);o==a&&"string"==typeof e.data&&e.data.substring(0,t.channel.length+1)==t.channel+" "&&r.up.incoming(e.data.substring(t.channel.length+1),o)}}function u(i){i.data==t.channel+"-ready"&&(s="postMessage"in n.contentWindow?n.contentWindow:n.contentWindow.document,c(e,"message",u),d(e,"message",l),o((function(){r.up.callback(!0)}),0))}return r={outgoing:function(e,i,o){s.postMessage(t.channel+" "+e,i||a),o&&o()},destroy:function(){c(e,"message",u),c(e,"message",l),n&&(s=null,n.parentNode.removeChild(n),n=null)},onDOMReady:function(){a=B(t.remote),t.isHost?(d(e,"message",u),R(t.props,{src:P(t.remote,{xdm_e:B(i.href),xdm_c:t.channel,xdm_p:1}),name:_+t.channel+"_provider"}),n=q(t)):(d(e,"message",l),(s="postMessage"in e.parent?e.parent:e.parent.document).postMessage(t.channel+"-ready",a),o((function(){r.up.callback(!0)}),0))},init:function(){T(r.onDOMReady,r)}}},y.stack.FrameElementTransport=function(r){var n,s,a,l;return n={outgoing:function(e,t,i){a.call(this,e),i&&i()},destroy:function(){s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){l=B(r.remote),r.isHost?(R(r.props,{src:P(r.remote,{xdm_e:B(i.href),xdm_c:r.channel,xdm_p:5}),name:_+r.channel+"_provider"}),(s=q(r)).fn=function(e){return delete s.fn,a=e,o((function(){n.up.callback(!0)}),0),function(e){n.up.incoming(e,l)}}):(t.referrer&&B(t.referrer)!=L.xdm_e&&(e.top.location=L.xdm_e),a=e.frameElement.fn((function(e){n.up.incoming(e,l)})),n.up.callback(!0))},init:function(){T(n.onDOMReady,n)}}},y.stack.NameTransport=function(e){var t,i,r,n,s,a,l,d;function u(t){var o=e.remoteHelper+(i?"#_3":"#_2")+e.channel;r.contentWindow.sendMessage(t,o)}function h(){i?2!=++s&&i||t.up.callback(!0):(u("ready"),t.up.callback(!0))}function p(e){t.up.incoming(e,l)}function f(){a&&o((function(){a(!0)}),0)}return t={outgoing:function(e,t,i){a=i,u(e)},destroy:function(){r.parentNode.removeChild(r),r=null,i&&(n.parentNode.removeChild(n),n=null)},onDOMReady:function(){i=e.isHost,s=0,l=B(e.remote),e.local=D(e.local),i?(y.Fn.set(e.channel,(function(t){i&&"ready"===t&&(y.Fn.set(e.channel,p),h())})),d=P(e.remote,{xdm_e:e.local,xdm_c:e.channel,xdm_p:2}),R(e.props,{src:d+"#"+e.channel,name:_+e.channel+"_provider"}),n=q(e)):(e.remoteHelper=e.remote,y.Fn.set(e.channel,p));var t=function(){var i=r||this;c(i,"load",t),y.Fn.set(e.channel+"_load",f),function e(){"function"==typeof i.contentWindow.sendMessage?h():o(e,50)}()};r=q({props:{src:e.local+"#_4"+e.channel},onLoad:t})},init:function(){T(t.onDOMReady,t)}}},y.stack.HashTransport=function(t){var i,r,n,s,a,l,d,c,u,h;function p(){if(d){var e=d.location.href,t="",o=e.indexOf("#");-1!=o&&(t=e.substring(o)),t&&t!=a&&function(e){a=e,i.up.incoming(a.substring(a.indexOf("_")+1),h)}(t)}}function f(){n=setInterval(p,s)}return i={outgoing:function(e,i){!function(e){if(c){var i=t.remote+"#"+l+++"_"+e;(r||!u?c.contentWindow:c).location=i}}(e)},destroy:function(){e.clearInterval(n),!r&&u||c.parentNode.removeChild(c),c=null},onDOMReady:function(){if(r=t.isHost,s=t.interval,a="#"+t.channel,l=0,u=t.useParent,h=B(t.remote),r){if(R(t.props,{src:t.remote,name:_+t.channel+"_provider"}),u)t.onLoad=function(){d=e,f(),i.up.callback(!0)};else{var n=0,p=t.delay/50;!function e(){if(++n>p)throw new Error("Unable to reference listenerwindow");try{d=c.contentWindow.frames[_+t.channel+"_consumer"]}catch(e){}d?(f(),i.up.callback(!0)):o(e,50)}()}c=q(t)}else d=e,f(),u?(c=parent,i.up.callback(!0)):(R(t,{props:{src:t.remote+"#"+t.channel+new Date,name:_+t.channel+"_consumer"},onLoad:function(){i.up.callback(!0)}}),c=q(t))},init:function(){T(i.onDOMReady,i)}}},y.stack.ReliableBehavior=function(e){var t,i,o=0,r=0,n="";return t={incoming:function(e,s){var a=e.indexOf("_"),l=e.substring(0,a).split(",");e=e.substring(a+1),l[0]==o&&(n="",i&&i(!0)),e.length>0&&(t.down.outgoing(l[1]+","+o+"_"+n,s),r!=l[1]&&(r=l[1],t.up.incoming(e,s)))},outgoing:function(e,s,a){n=e,i=a,t.down.outgoing(r+","+ ++o+"_"+e,s)}}},y.stack.QueueBehavior=function(e){var t,i,s=[],a=!0,l="",d=0,c=!1,u=!1;function h(){if(e.remove&&0===s.length)return(r=t).up.down=r.down,r.down.up=r.up,void(r.up=r.down=null);var r;if(!a&&0!==s.length&&!i){a=!0;var n=s.shift();t.down.outgoing(n.data,n.origin,(function(e){a=!1,n.callback&&o((function(){n.callback(e)}),0),h()}))}}return t={init:function(){A(e)&&(e={}),e.maxLength&&(d=e.maxLength,u=!0),e.lazy?c=!0:t.down.init()},callback:function(e){a=!1;var i=t.up;h(),i.callback(e)},incoming:function(i,o){if(u){var n=i.indexOf("_"),s=parseInt(i.substring(0,n),10);l+=i.substring(n+1),0===s&&(e.encode&&(l=r(l)),t.up.incoming(l,o),l="")}else t.up.incoming(i,o)},outgoing:function(i,o,r){e.encode&&(i=n(i));var a,l=[];if(u){for(;0!==i.length;)a=i.substring(0,d),i=i.substring(a.length),l.push(a);for(;a=l.shift();)s.push({data:l.length+"_"+a,origin:o,callback:0===l.length?r:null})}else s.push({data:i,origin:o,callback:r});c?t.down.init():h()},destroy:function(){i=!0,t.down.destroy()}}},y.stack.VerifyBehavior=function(e){var t,i,o;function r(){i=Math.random().toString(16).substring(2),t.down.outgoing(i)}return t={incoming:function(n,s){var a=n.indexOf("_");-1===a?n===i?t.up.callback(!0):o||(o=n,e.initiate||r(),t.down.outgoing(n)):n.substring(0,a)===o&&t.up.incoming(n.substring(a+1),s)},outgoing:function(e,o,r){t.down.outgoing(i+"_"+e,o,r)},callback:function(t){e.initiate&&r()}}},y.stack.RpcBehavior=function(e,t){var i,o=t.serializer||N(),r=0,n={};function s(e){e.jsonrpc="2.0",i.down.outgoing(o.stringify(e))}function a(e,t){var i=Array.prototype.slice;return function(){var o,a=arguments.length,l={method:t};a>0&&"function"==typeof arguments[a-1]?(a>1&&"function"==typeof arguments[a-2]?(o={success:arguments[a-2],error:arguments[a-1]},l.params=i.call(arguments,0,a-2)):(o={success:arguments[a-1]},l.params=i.call(arguments,0,a-1)),n[""+ ++r]=o,l.id=r):l.params=i.call(arguments,0),e.namedParams&&1===l.params.length&&(l.params=l.params[0]),s(l)}}function l(t,i,o,r){if(o){var n,a,l;i?(n=function(e){n=p,s({id:i,result:e})},a=function(e,t){a=p;var o={id:i,error:{code:-32099,message:e}};t&&(o.error.data=t),s(o)}):n=a=p,l=r,"[object Array]"!==Object.prototype.toString.call(l)&&(r=[r]);try{var d=e.context||o.scope,c=o.method.apply(d,r.concat([n,a]));A(c)||n(c)}catch(e){a(e.message)}}else i&&s({id:i,error:{code:-32601,message:"Procedure not found."}})}return i={incoming:function(e,i){var r=o.parse(e);if(r.method)t.handle?t.handle(r,s):l(r.method,r.id,t.local[r.method],r.params);else{var a=n[r.id];r.error?a.error&&a.error(r.error):a.success&&a.success(r.result),delete n[r.id]}},init:function(){if(t.remote)for(var o in t.remote)t.remote.hasOwnProperty(o)&&(e[o]=a(t.remote[o],o));i.down.init()},destroy:function(){for(var o in t.remote)t.remote.hasOwnProperty(o)&&e.hasOwnProperty(o)&&delete e[o];i.down.destroy()}}},y}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent);var u=i(6902);class h extends o.Pu{static get is(){return"sb-popup"}static get properties(){return{url:String,messenger:Object,channel:{type:String,value:"sbQQ"},responseMessage:{type:Object,notify:!0},closePopup:{type:String,value:"sb-close-popup"},autoLaunched:{type:Boolean,value:!1},redirectOnCancelOrClose:{type:Boolean,value:!1,observer:"_appendLargeClass"},callBeforeOpen:Object}}ready(){super.ready(),window.easyXDM=c,this.addEventListener("sb-close-dialog",this.close.bind(this))}async open(){void 0!==this.callBeforeOpen&&await this.callBeforeOpen(),(0,s.m)(this,this._open)}_open(){this._initRpc(),this._sendMessage(),this._handleAutoLaunch(),this.$.dialog.toggle()}close(){this._close(this._getRedirectDetails(!1))}_close(e){this.rpc&&this.rpc.destroy(),this.$.dialog.toggle();let t=this.$.dialog.shadowRoot.querySelector("#content").querySelector(`#easyXDM_${this.channel}_provider`),i={redirect:e};t&&t.remove(),this.responseMessage&&(i.featureOptionIds=this.responseMessage.featureOptionIds,i.dynamicOptions=this.responseMessage.dynamicOptions,i.optionsToExtend=this.responseMessage.optionsToExtend),(0,a.rC)(a.sV.NAVIGATION_CHANGED),this.dispatchEvent((0,a.uv)(this.closePopup,i))}_initRpc(){this.url&&(this.rpc=new c.Rpc({remote:this.url,container:this.$.dialog.shadowRoot.querySelector("#content"),channel:this.channel},{remote:{postMessage:{}},local:{postMessage:this._receiveMessage.bind(this)}}))}_sendMessage(){let e={};this.messenger&&"function"==typeof this.messenger.getRequest&&(e=this.messenger.getRequest()),e.redirect=this._getRedirectDetails(this.autoLaunched),this.rpc.postMessage(JSON.stringify(e))}_handleAutoLaunch(){this.autoLaunched&&(0,a.rC)(a.sV.AUTO_LAUNCH_POPUP)}_receiveMessage(e){this._receiveMessageDebouncer=n.aq.debounce(this._receiveMessageDebouncer,r.EV.after(100),(()=>{if(this.messenger&&"function"==typeof this.messenger.getResponse)if(e){let t=JSON.parse(e);this._logReceivedMessage(t),this.responseMessage=this.messenger.getResponse(t);let i=t.redirect?t.redirect:this._getRedirectDetails(this.autoLaunched);this._close(i)}else this.close();else this.close()}))}_logReceivedMessage(e){console.log("RPC Received Message:"),console.log(e)}_getRedirectDetails(e){const t={save:!!e};return u.B.isExternalConfiguratorNestedBundlesEnabled||(t.auto=this.redirectOnCancelOrClose||!!e),t}_appendLargeClass(){(0,l.p1)("largeView",this.redirectOnCancelOrClose,this.$.dialog.shadowRoot.querySelector(".sbDialog"))}static get template(){return o.qy`
		<style>${d}</style>

		<sb-dialog id="dialog" modal="true" hide-cancel-button="true" large-view-enabled="[[redirectOnCancelOrClose]]">
			<div slot="title" class="title"><sb-i18n>Popup</sb-i18n></div>
			<div slot="content" class="content"></div>
		</sb-dialog>
		`}}customElements.define(h.is,h)},57:(e,t,i)=>{"use strict";i(1518);const o=i(2619).q`
				<dom-module id="sb-forms-styles">
					<template>
					  <style>
							/* global */
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
input {
  height: var(--sbTextboxHeight);
  border-width: var(--sbTextboxBorderWidth);
  border-color: var(--sbTextboxBorderColor);
  border-style: var(--sbTextboxBorderStyle);
  border-radius: var(--sbTextboxRadius);
  padding-top: var(--sbTextboxPaddingTop);
  padding-right: var(--sbTextboxPaddingRight);
  padding-bottom: var(--sbTextboxPaddingBottom);
  padding-left: var(--sbTextboxPaddingLeft);
}
input:not(.leftSearch) {
  background-color: var(--sbTextboxBgColor);
}
input,
button,
select,
textarea {
  outline-color: var(--sbInputOutlineColor);
  outline-width: var(--sbInputOutlineWidth);
  font-family: inherit;
  font-size: inherit;
}
input:disabled,
button:disabled,
select:disabled,
textarea:disabled {
  opacity: 0.5;
}
input[type=text][class*='--mobile'],
input[type=number][class*='--mobile'],
input[class*='--mobile']:not([type]) {
  border: 1px solid #d8dde6;
  border-radius: 0.25rem;
  background-color: #ffffff;
  box-sizing: border-box;
  width: 100%;
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
  height: 41px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding: 7px 14px;
}
[class*='--mobile'] input[type=text],
[class*='--mobile'] input[type=number],
[class*='--mobile'] input:not([type]) {
  border: 1px solid #d8dde6;
  border-radius: 0.25rem;
  background-color: #ffffff;
  box-sizing: border-box;
  width: 100%;
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
  height: 41px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding: 7px 14px;
}
input[type=number].discount[class*='--mobile'],
input[type=text].discount[class*='--mobile'] {
  width: 65%;
}
[class*='--mobile'] input[type=number].discount,
[class*='--mobile'] input[type=text].discount {
  width: 65%;
}
select,
input[type=date],
input[type=datetime] {
  -webkit-appearance: none;
  -moz-appearance: none;
  padding-top: var(--sbSelectPaddingTop);
  padding-right: var(--sbSelectPaddingRight);
  padding-bottom: var(--sbSelectPaddingBottom);
  padding-left: var(--sbSelectPaddingLeft);
  background-color: var(--sbSelectBgColor);
  background-repeat: no-repeat;
  background-size: 14px 14px;
  border-width: var(--sbSelectBorderWidth);
  border-color: var(--sbSelectBorderColor);
  border-style: var(--sbSelectBorderStyle);
  border-radius: var(--sbSelectRadius);
}
select[class*='--mobile'],
input[type=date][class*='--mobile'],
input[type=datetime][class*='--mobile'] {
  box-sizing: border-box;
  width: 100%;
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
  height: 41px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding: 7px 30px 7px 14px;
  border: 1px solid #d8dde6;
  border-radius: 0.25rem;
  background-color: #ffffff;
}
[class*='--mobile'] select,
[class*='--mobile'] input[type=date],
[class*='--mobile'] input[type=datetime] {
  box-sizing: border-box;
  width: 100%;
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
  height: 41px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding: 7px 30px 7px 14px;
  border: 1px solid #d8dde6;
  border-radius: 0.25rem;
  background-color: #ffffff;
}
select:not([multiple]),
input[type=date],
input[type=datetime] {
  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI3LjYgMjEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI3LjYgMjEiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KICA8Zz4NCiAgICA8ZGVmcz4NCiAgICAgIDxwYXRoIGlkPSJTVkdJRF8xXyIgZD0iTTUuNiA1aDE2LjRjMC40IDAgMC44IDAuNiAwLjQgMWwtOCA5LjhjLTAuMyAwLjMtMC45IDAuMy0xLjIgMGwtOC05LjhDNC44IDUuNiA1LjEgNSA1LjYgNXoiLz4NCiAgICA8L2RlZnM+DQogICAgPGNsaXBQYXRoIGlkPSJTVkdJRF8yXyI+DQogICAgICA8dXNlIHhsaW5rOmhyZWY9IiNTVkdJRF8xXyIgb3ZlcmZsb3c9InZpc2libGUiLz4NCiAgICA8L2NsaXBQYXRoPg0KICAgIDxyZWN0IHg9IjAiIHk9IjAiIGNsaXAtcGF0aD0idXJsKCNTVkdJRF8yXykiIGZpbGw9IiM1NTY5OEQiIHdpZHRoPSIyNy42IiBoZWlnaHQ9IjIxIi8+DQogIDwvZz4NCjwvc3ZnPg0K');
  background-position: calc(100% - 10px) 50%;
  height: var(--sbSelectHeight);
}
select[class*='--mobile']:not([multiple]),
input[type=date][class*='--mobile'],
input[type=datetime][class*='--mobile'] {
  height: 41px;
}
[class*='--mobile'] select:not([multiple]),
[class*='--mobile'] input[type=date],
[class*='--mobile'] input[type=datetime] {
  height: 41px;
}
select.discount[class*='--mobile'] {
  width: 30%;
  left: -20px;
  position: relative;
}
[class*='--mobile'] select.discount {
  width: 30%;
  left: -20px;
  position: relative;
}
textarea[class*='--mobile'] {
  border: 1px solid #d8dde6;
  border-radius: 0.25rem;
  background-color: #ffffff;
  box-sizing: border-box;
  width: 100%;
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
  height: 66px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding: 7px 14px;
}
[class*='--mobile'] textarea {
  border: 1px solid #d8dde6;
  border-radius: 0.25rem;
  background-color: #ffffff;
  box-sizing: border-box;
  width: 100%;
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
  height: 66px;
  -webkit-appearance: none;
  -moz-appearance: none;
  appearance: none;
  padding: 7px 14px;
}
input[type=date],
input[type=datetime] {
  width: 152px;
}
input[type=date][class*='--mobile'],
input[type=datetime][class*='--mobile'] {
  width: 100%;
}
[class*='--mobile'] input[type=date],
[class*='--mobile'] input[type=datetime] {
  width: 100%;
}
input[type=checkbox] {
  width: var(--sbCheckboxSize);
  height: var(--sbCheckboxSize);
}
paper-checkbox {
  --paper-checkbox-size: var(--sbCheckboxSize);
  --paper-checkbox-unchecked-background-color: var(--sbCheckboxBgColorUnchecked);
  --paper-checkbox-checked-color: var(--sbCheckboxBgColorChecked);
  --paper-checkbox-checkmark-color: var(--sbCheckboxColor);
  --paper-checkbox-checked-ink-color: transparent;
  --paper-checkbox-unchecked-ink-color: transparent;
  width: var(--sbCheckboxSize);
  --paper-checkbox-border-radius: var(--sbCheckboxBorderRadius);
  --paper-checkbox-border-width: var(--sbCheckboxBorderWidth);
  --paper-checkbox-border-color: var(--sbCheckboxBorderColor);
  --paper-checkbox-border-style: var(--sbCheckboxBorderStyle);
  --paper-checkbox-unchecked-color: #808080;
}
paper-checkbox::shadow #ink {
  height: var(--sbCheckboxSize);
}
paper-checkbox[disabled] {
  --paper-checkbox-disabled-background-color: #d8dde6;
  --paper-checkbox-disabled-opacity: 0.2;
  --paper-checkbox-checkmark-disabled-border-color: #808080;
}
paper-radio-button {
  --paper-radio-button-checked-color: var(--sbRadioButtonCheckedColor);
  --paper-radio-button-unchecked-color: var(--sbRadioButtonUncheckedColor);
  --paper-radio-button-unchecked-ink-color: transparent;
  --paper-radio-button-checked-ink-color: transparent;
  -webkit-tap-highlight-color: transparent;
  width: var(--sbCheckboxSize);
}
paper-radio-button.hide,
paper-checkbox.hide {
  display: none;
}
paper-radio-button.invisible,
paper-checkbox.invisible {
  visibility: hidden;
}
paper-radio-button[disabled] {
  --paper-radio-button-unchecked-background-color: #d8dde6;
}
paper-radio-button[disabled]::shadow #offRadio {
  background-color: #d8dde6;
}

						</style>
					</template>
				</dom-module>`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},178:(e,t,i)=>{"use strict";i.d(t,{T:()=>o});const o=(0,i(8246).y)((e=>class extends e{ready(){super.ready&&super.ready()}connectedCallback(){if(super.connectedCallback&&super.connectedCallback(),!this._eventBehaviorInitialized&&this.events){this._eventBehaviorListeners={};for(let e in this.events){let t=this.events[e];if(t&&"function"==typeof t){let i=t.bind(this);this._eventBehaviorListeners[e]=i,window.addEventListener(e,i)}}this._eventBehaviorInitialized=!0}}disconnectedCallback(){if(super.disconnectedCallback&&super.disconnectedCallback(),this._eventBehaviorListeners){for(let e in this._eventBehaviorListeners)window.removeEventListener(e,this._eventBehaviorListeners[e]);this._eventBehaviorInitialized=!1}}}))},197:(e,t,i)=>{"use strict";i.d(t,{O:()=>o.Oy,b:()=>r});i(8443);var o=i(7212);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=function(){let e,t;do{e=window.ShadyDOM&&ShadyDOM.flush(),window.ShadyCSS&&window.ShadyCSS.ScopingShim&&window.ShadyCSS.ScopingShim.flush(),t=(0,o.pg)()}while(e||t)}},215:(e,t,i)=>{"use strict";i.d(t,{O:()=>a,o:()=>s});i(1518);var o=i(8260),r=i(7659),n=i(5232);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const s={observers:["_focusedChanged(receivedFocusFromKeyboard)"],_focusedChanged:function(e){e&&this.ensureRipple(),this.hasRipple()&&(this._ripple.holdDown=e)},_createRipple:function(){var e=n.v._createRipple();return e.id="ink",e.setAttribute("center",""),e.classList.add("circle"),e}},a=[o.a,r.x,n.v,s]},233:function(e){
/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */
var t;"undefined"!=typeof self&&self,t=function(){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=133)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(19),r=i(20),n=i(21),s=i(54),a=i(55),l=i(56),d=i(57),c=i(58),u=i(12),h=i(35),p=i(36),f=i(34),b=i(1),g={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:o.default,Format:r.default,Leaf:n.default,Embed:d.default,Scroll:s.default,Block:l.default,Inline:a.default,Text:c.default,Attributor:{Attribute:u.default,Class:h.default,Style:p.default,Store:f.default}};t.default=g},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(t){var i=this;return t="[Parchment] "+t,(i=e.call(this,t)||this).message=t,i.name=i.constructor.name,i}return r(t,e),t}(Error);t.ParchmentError=n;var s,a={},l={},d={},c={};function u(e,t){var i;if(void 0===t&&(t=s.ANY),"string"==typeof e)i=c[e]||a[e];else if(e instanceof Text||e.nodeType===Node.TEXT_NODE)i=c.text;else if("number"==typeof e)e&s.LEVEL&s.BLOCK?i=c.block:e&s.LEVEL&s.INLINE&&(i=c.inline);else if(e instanceof HTMLElement){var o=(e.getAttribute("class")||"").split(/\s+/);for(var r in o)if(i=l[o[r]])break;i=i||d[e.tagName]}return null==i?null:t&s.LEVEL&i.scope&&t&s.TYPE&i.scope?i:null}t.DATA_KEY="__blot",function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(s=t.Scope||(t.Scope={})),t.create=function(e,t){var i=u(e);if(null==i)throw new n("Unable to create "+e+" blot");var o=i,r=e instanceof Node||e.nodeType===Node.TEXT_NODE?e:o.create(t);return new o(r,t)},t.find=function e(i,o){return void 0===o&&(o=!1),null==i?null:null!=i[t.DATA_KEY]?i[t.DATA_KEY].blot:o?e(i.parentNode,o):null},t.query=u,t.register=function e(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];if(t.length>1)return t.map((function(t){return e(t)}));var o=t[0];if("string"!=typeof o.blotName&&"string"!=typeof o.attrName)throw new n("Invalid definition");if("abstract"===o.blotName)throw new n("Cannot register abstract class");return c[o.blotName||o.attrName]=o,"string"==typeof o.keyName?a[o.keyName]=o:(null!=o.className&&(l[o.className]=o),null!=o.tagName&&(Array.isArray(o.tagName)?o.tagName=o.tagName.map((function(e){return e.toUpperCase()})):o.tagName=o.tagName.toUpperCase(),(Array.isArray(o.tagName)?o.tagName:[o.tagName]).forEach((function(e){null!=d[e]&&null!=o.className||(d[e]=o)})))),o}},function(e,t,i){var o=i(60),r=i(11),n=i(3),s=i(23),a=String.fromCharCode(0),l=function(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]};l.prototype.insert=function(e,t){var i={};return 0===e.length?this:(i.insert=e,null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(i.attributes=t),this.push(i))},l.prototype.delete=function(e){return e<=0?this:this.push({delete:e})},l.prototype.retain=function(e,t){if(e<=0)return this;var i={retain:e};return null!=t&&"object"==typeof t&&Object.keys(t).length>0&&(i.attributes=t),this.push(i)},l.prototype.push=function(e){var t=this.ops.length,i=this.ops[t-1];if(e=n(!0,{},e),"object"==typeof i){if("number"==typeof e.delete&&"number"==typeof i.delete)return this.ops[t-1]={delete:i.delete+e.delete},this;if("number"==typeof i.delete&&null!=e.insert&&(t-=1,"object"!=typeof(i=this.ops[t-1])))return this.ops.unshift(e),this;if(r(e.attributes,i.attributes)){if("string"==typeof e.insert&&"string"==typeof i.insert)return this.ops[t-1]={insert:i.insert+e.insert},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"==typeof e.retain&&"number"==typeof i.retain)return this.ops[t-1]={retain:i.retain+e.retain},"object"==typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this},l.prototype.chop=function(){var e=this.ops[this.ops.length-1];return e&&e.retain&&!e.attributes&&this.ops.pop(),this},l.prototype.filter=function(e){return this.ops.filter(e)},l.prototype.forEach=function(e){this.ops.forEach(e)},l.prototype.map=function(e){return this.ops.map(e)},l.prototype.partition=function(e){var t=[],i=[];return this.forEach((function(o){(e(o)?t:i).push(o)})),[t,i]},l.prototype.reduce=function(e,t){return this.ops.reduce(e,t)},l.prototype.changeLength=function(){return this.reduce((function(e,t){return t.insert?e+s.length(t):t.delete?e-t.delete:e}),0)},l.prototype.length=function(){return this.reduce((function(e,t){return e+s.length(t)}),0)},l.prototype.slice=function(e,t){e=e||0,"number"!=typeof t&&(t=1/0);for(var i=[],o=s.iterator(this.ops),r=0;r<t&&o.hasNext();){var n;r<e?n=o.next(e-r):(n=o.next(t-r),i.push(n)),r+=s.length(n)}return new l(i)},l.prototype.compose=function(e){var t=s.iterator(this.ops),i=s.iterator(e.ops),o=[],n=i.peek();if(null!=n&&"number"==typeof n.retain&&null==n.attributes){for(var a=n.retain;"insert"===t.peekType()&&t.peekLength()<=a;)a-=t.peekLength(),o.push(t.next());n.retain-a>0&&i.next(n.retain-a)}for(var d=new l(o);t.hasNext()||i.hasNext();)if("insert"===i.peekType())d.push(i.next());else if("delete"===t.peekType())d.push(t.next());else{var c=Math.min(t.peekLength(),i.peekLength()),u=t.next(c),h=i.next(c);if("number"==typeof h.retain){var p={};"number"==typeof u.retain?p.retain=c:p.insert=u.insert;var f=s.attributes.compose(u.attributes,h.attributes,"number"==typeof u.retain);if(f&&(p.attributes=f),d.push(p),!i.hasNext()&&r(d.ops[d.ops.length-1],p)){var b=new l(t.rest());return d.concat(b).chop()}}else"number"==typeof h.delete&&"number"==typeof u.retain&&d.push(h)}return d.chop()},l.prototype.concat=function(e){var t=new l(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t},l.prototype.diff=function(e,t){if(this.ops===e.ops)return new l;var i=[this,e].map((function(t){return t.map((function(i){if(null!=i.insert)return"string"==typeof i.insert?i.insert:a;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")})).join("")})),n=new l,d=o(i[0],i[1],t),c=s.iterator(this.ops),u=s.iterator(e.ops);return d.forEach((function(e){for(var t=e[1].length;t>0;){var i=0;switch(e[0]){case o.INSERT:i=Math.min(u.peekLength(),t),n.push(u.next(i));break;case o.DELETE:i=Math.min(t,c.peekLength()),c.next(i),n.delete(i);break;case o.EQUAL:i=Math.min(c.peekLength(),u.peekLength(),t);var a=c.next(i),l=u.next(i);r(a.insert,l.insert)?n.retain(i,s.attributes.diff(a.attributes,l.attributes)):n.push(l).delete(i)}t-=i}})),n.chop()},l.prototype.eachLine=function(e,t){t=t||"\n";for(var i=s.iterator(this.ops),o=new l,r=0;i.hasNext();){if("insert"!==i.peekType())return;var n=i.peek(),a=s.length(n)-i.peekLength(),d="string"==typeof n.insert?n.insert.indexOf(t,a)-a:-1;if(d<0)o.push(i.next());else if(d>0)o.push(i.next(d));else{if(!1===e(o,i.next(1).attributes||{},r))return;r+=1,o=new l}}o.length()>0&&e(o,{},r)},l.prototype.transform=function(e,t){if(t=!!t,"number"==typeof e)return this.transformPosition(e,t);for(var i=s.iterator(this.ops),o=s.iterator(e.ops),r=new l;i.hasNext()||o.hasNext();)if("insert"!==i.peekType()||!t&&"insert"===o.peekType())if("insert"===o.peekType())r.push(o.next());else{var n=Math.min(i.peekLength(),o.peekLength()),a=i.next(n),d=o.next(n);if(a.delete)continue;d.delete?r.push(d):r.retain(n,s.attributes.transform(a.attributes,d.attributes,t))}else r.retain(s.length(i.next()));return r.chop()},l.prototype.transformPosition=function(e,t){t=!!t;for(var i=s.iterator(this.ops),o=0;i.hasNext()&&o<=e;){var r=i.peekLength(),n=i.peekType();i.next(),"delete"!==n?("insert"===n&&(o<e||!t)&&(e+=r),o+=r):e-=Math.min(r,e-o)}return e},e.exports=l},function(e,t){"use strict";var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,r=Object.defineProperty,n=Object.getOwnPropertyDescriptor,s=function(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===o.call(e)},a=function(e){if(!e||"[object Object]"!==o.call(e))return!1;var t,r=i.call(e,"constructor"),n=e.constructor&&e.constructor.prototype&&i.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!r&&!n)return!1;for(t in e);return void 0===t||i.call(e,t)},l=function(e,t){r&&"__proto__"===t.name?r(e,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):e[t.name]=t.newValue},d=function(e,t){if("__proto__"===t){if(!i.call(e,t))return;if(n)return n(e,t).value}return e[t]};e.exports=function e(){var t,i,o,r,n,c,u=arguments[0],h=1,p=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=arguments[1]||{},h=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});h<p;++h)if(null!=(t=arguments[h]))for(i in t)o=d(u,i),u!==(r=d(t,i))&&(f&&r&&(a(r)||(n=s(r)))?(n?(n=!1,c=o&&s(o)?o:[]):c=o&&a(o)?o:{},l(u,{name:i,newValue:e(f,c,r)})):void 0!==r&&l(u,{name:i,newValue:r}));return u}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BlockEmbed=t.bubbleFormats=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=u(i(3)),s=u(i(2)),a=u(i(0)),l=u(i(18)),d=u(i(6)),c=u(i(7));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){return h(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),o(t,[{key:"attach",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"attach",this).call(this),this.attributes=new a.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new s.default).insert(this.value(),(0,n.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(e,t){var i=a.default.query(e,a.default.Scope.BLOCK_ATTRIBUTE);null!=i&&this.attributes.attribute(i,t)}},{key:"formatAt",value:function(e,t,i,o){this.format(i,o)}},{key:"insertAt",value:function(e,i,o){if("string"==typeof i&&i.endsWith("\n")){var n=a.default.create(g.blotName);this.parent.insertBefore(n,0===e?this:this.next),n.insertAt(0,i.slice(0,-1))}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,i,o)}}]),t}(a.default.Embed);b.scope=a.default.Scope.BLOCK_BLOT;var g=function(e){function t(e){h(this,t);var i=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.cache={},i}return f(t,e),o(t,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(a.default.Leaf).reduce((function(e,t){return 0===t.length()?e:e.insert(t.value(),m(t))}),new s.default).insert("\n",m(this))),this.cache.delta}},{key:"deleteAt",value:function(e,i){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,i),this.cache={}}},{key:"formatAt",value:function(e,i,o,n){i<=0||(a.default.query(o,a.default.Scope.BLOCK)?e+i===this.length()&&this.format(o,n):r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,Math.min(i,this.length()-e-1),o,n),this.cache={})}},{key:"insertAt",value:function(e,i,o){if(null!=o)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,i,o);if(0!==i.length){var n=i.split("\n"),s=n.shift();s.length>0&&(e<this.length()-1||null==this.children.tail?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),s):this.children.tail.insertAt(this.children.tail.length(),s),this.cache={});var a=this;n.reduce((function(e,t){return(a=a.split(e,!0)).insertAt(0,t),t.length}),e+s.length)}}},{key:"insertBefore",value:function(e,i){var o=this.children.head;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,i),o instanceof l.default&&o.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,i){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"moveChildren",this).call(this,e,i),this.cache={}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(i&&(0===e||e>=this.length()-1)){var o=this.clone();return 0===e?(this.parent.insertBefore(o,this),this):(this.parent.insertBefore(o,this.next),o)}var n=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"split",this).call(this,e,i);return this.cache={},n}}]),t}(a.default.Block);function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==e?t:("function"==typeof e.formats&&(t=(0,n.default)(t,e.formats())),null==e.parent||"scroll"==e.parent.blotName||e.parent.statics.scope!==e.statics.scope?t:m(e.parent,t))}g.blotName="block",g.tagName="P",g.defaultChild="break",g.allowedChildren=[d.default,a.default.Embed,c.default],t.bubbleFormats=m,t.BlockEmbed=b,t.default=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.overload=t.expandConfig=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}();i(59);var s=g(i(2)),a=g(i(16)),l=g(i(8)),d=g(i(9)),c=g(i(0)),u=i(17),h=g(u),p=g(i(3)),f=g(i(10)),b=g(i(43));function g(e){return e&&e.__esModule?e:{default:e}}function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var y=(0,f.default)("quill"),v=function(){function e(t){var i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=_(t,o),this.container=this.options.container,null==this.container)return y.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new l.default,this.scroll=c.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new h.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e){e===l.default.events.TEXT_CHANGE&&i.root.classList.toggle("ql-blank",i.editor.isBlank())})),this.emitter.on(l.default.events.SCROLL_UPDATE,(function(e,t){var o=i.selection.lastRange,r=o&&0===o.length?o.index:void 0;w.call(i,(function(){return i.editor.update(null,t,r)}),e)}));var n=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+r+"<p><br></p></div>");this.setContents(n),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return n(e,null,[{key:"debug",value:function(e){!0===e&&(e="log"),f.default.level(e)}},{key:"find",value:function(e){return e.__quill||c.default.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&y.error("Cannot import "+e+". Are you sure it was registered?"),this.imports[e]}},{key:"register",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof e){var r=e.attrName||e.blotName;"string"==typeof r?this.register("formats/"+r,e,t):Object.keys(e).forEach((function(o){i.register(o,e[o],t)}))}else null==this.imports[e]||o||y.warn("Overwriting "+e+" with",t),this.imports[e]=t,(e.startsWith("blots/")||e.startsWith("formats/"))&&"abstract"!==t.blotName?c.default.register(t):e.startsWith("modules")&&"function"==typeof t.register&&t.register()}}]),n(e,[{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof e){var i=e;(e=document.createElement("div")).classList.add(i)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,i){var o=this,n=x(e,t,i),s=r(n,4);return e=s[0],t=s[1],i=s[3],w.call(this,(function(){return o.editor.deleteText(e,t)}),i,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;return w.call(this,(function(){var o=i.getSelection(!0),r=new s.default;if(null==o)return r;if(c.default.query(e,c.default.Scope.BLOCK))r=i.editor.formatLine(o.index,o.length,m({},e,t));else{if(0===o.length)return i.selection.format(e,t),r;r=i.editor.formatText(o.index,o.length,m({},e,t))}return i.setSelection(o,l.default.sources.SILENT),r}),o)}},{key:"formatLine",value:function(e,t,i,o,n){var s,a=this,l=x(e,t,i,o,n),d=r(l,4);return e=d[0],t=d[1],s=d[2],n=d[3],w.call(this,(function(){return a.editor.formatLine(e,t,s)}),n,e,0)}},{key:"formatText",value:function(e,t,i,o,n){var s,a=this,l=x(e,t,i,o,n),d=r(l,4);return e=d[0],t=d[1],s=d[2],n=d[3],w.call(this,(function(){return a.editor.formatText(e,t,s)}),n,e,0)}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=void 0;i="number"==typeof e?this.selection.getBounds(e,t):this.selection.getBounds(e.index,e.length);var o=this.container.getBoundingClientRect();return{bottom:i.bottom-o.top,height:i.height,left:i.left-o.left,right:i.right-o.left,top:i.top-o.top,width:i.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,i=x(e,t),o=r(i,2);return e=o[0],t=o[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return"number"==typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length)}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,i=x(e,t),o=r(i,2);return e=o[0],t=o[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,i,o){var r=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return w.call(this,(function(){return r.editor.insertEmbed(t,i,o)}),n,t)}},{key:"insertText",value:function(e,t,i,o,n){var s,a=this,l=x(e,0,i,o,n),d=r(l,4);return e=d[0],s=d[2],n=d[3],w.call(this,(function(){return a.editor.insertText(e,t,s)}),n,e,t.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(e,t,i){this.clipboard.dangerouslyPasteHTML(e,t,i)}},{key:"removeFormat",value:function(e,t,i){var o=this,n=x(e,t,i),s=r(n,4);return e=s[0],t=s[1],i=s[3],w.call(this,(function(){return o.editor.removeFormat(e,t)}),i,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){e=new s.default(e);var i=t.getLength(),o=t.editor.deleteText(0,i),r=t.editor.applyDelta(e),n=r.ops[r.ops.length-1];return null!=n&&"string"==typeof n.insert&&"\n"===n.insert[n.insert.length-1]&&(t.editor.deleteText(t.getLength()-1,1),r.delete(1)),o.compose(r)}),i)}},{key:"setSelection",value:function(t,i,o){if(null==t)this.selection.setRange(null,i||e.sources.API);else{var n=x(t,i,o),s=r(n,4);t=s[0],i=s[1],o=s[3],this.selection.setRange(new u.Range(t,i),o),o!==l.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API,i=(new s.default).insert(e);return this.setContents(i,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l.default.sources.API;return w.call(this,(function(){return e=new s.default(e),t.editor.applyDelta(e,i)}),i,!0)}}]),e}();function _(e,t){if((t=(0,p.default)(!0,{container:e,modules:{clipboard:!0,keyboard:!0,history:!0}},t)).theme&&t.theme!==v.DEFAULTS.theme){if(t.theme=v.import("themes/"+t.theme),null==t.theme)throw new Error("Invalid theme "+t.theme+". Did you register it?")}else t.theme=b.default;var i=(0,p.default)(!0,{},t.theme.DEFAULTS);[i,t].forEach((function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach((function(t){!0===e.modules[t]&&(e.modules[t]={})}))}));var o=Object.keys(i.modules).concat(Object.keys(t.modules)).reduce((function(e,t){var i=v.import("modules/"+t);return null==i?y.error("Cannot load "+t+" module. Are you sure you registered it?"):e[t]=i.DEFAULTS||{},e}),{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=(0,p.default)(!0,{},v.DEFAULTS,{modules:o},i,t),["bounds","container","scrollingContainer"].forEach((function(e){"string"==typeof t[e]&&(t[e]=document.querySelector(t[e]))})),t.modules=Object.keys(t.modules).reduce((function(e,i){return t.modules[i]&&(e[i]=t.modules[i]),e}),{}),t}function w(e,t,i,o){if(this.options.strict&&!this.isEnabled()&&t===l.default.sources.USER)return new s.default;var r=null==i?null:this.getSelection(),n=this.editor.delta,a=e();if(null!=r&&(!0===i&&(i=r.index),null==o?r=C(r,a,t):0!==o&&(r=C(r,i,o,t)),this.setSelection(r,l.default.sources.SILENT)),a.length()>0){var d,c,u=[l.default.events.TEXT_CHANGE,a,n,t];(d=this.emitter).emit.apply(d,[l.default.events.EDITOR_CHANGE].concat(u)),t!==l.default.sources.SILENT&&(c=this.emitter).emit.apply(c,u)}return a}function x(e,t,i,r,n){var s={};return"number"==typeof e.index&&"number"==typeof e.length?"number"!=typeof t?(n=r,r=i,i=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!=typeof t&&(n=r,r=i,i=t,t=0),"object"===(void 0===i?"undefined":o(i))?(s=i,n=r):"string"==typeof i&&(null!=r?s[i]=r:n=i),[e,t,s,n=n||l.default.sources.API]}function C(e,t,i,o){if(null==e)return null;var n=void 0,a=void 0;if(t instanceof s.default){var d=[e.index,e.index+e.length].map((function(e){return t.transformPosition(e,o!==l.default.sources.USER)})),c=r(d,2);n=c[0],a=c[1]}else{var h=[e.index,e.index+e.length].map((function(e){return e<t||e===t&&o===l.default.sources.USER?e:i>=0?e+i:Math.max(t,e+i)})),p=r(h,2);n=p[0],a=p[1]}return new u.Range(n,a-n)}v.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},v.events=l.default.events,v.sources=l.default.sources,v.version="1.3.7",v.imports={delta:s.default,parchment:c.default,"core/module":d.default,"core/theme":b.default},t.expandConfig=_,t.overload=x,t.default=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=a(i(7)),s=a(i(0));function a(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"formatAt",value:function(e,i,o,n){if(t.compare(this.statics.blotName,o)<0&&s.default.query(o,s.default.Scope.BLOT)){var a=this.isolate(e,i);n&&a.wrap(o,n)}else r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,i,o,n)}},{key:"optimize",value:function(e){if(r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var i=this.parent.isolate(this.offset(),this.length());this.moveChildren(i),i.wrap(this)}}}],[{key:"compare",value:function(e,i){var o=t.order.indexOf(e),r=t.order.indexOf(i);return o>=0||r>=0?o-r:e===i?0:e<i?-1:1}}]),t}(s.default.Inline);l.allowedChildren=[l,s.default.Embed,n.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],t.default=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=i(0),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default.Text);t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=s(i(77));function s(e){return e&&e.__esModule?e:{default:e}}var a=(0,s(i(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach((function(e){document.addEventListener(e,(function(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];[].slice.call(document.querySelectorAll(".ql-container")).forEach((function(e){var i;e.__quill&&e.__quill.emitter&&(i=e.__quill.emitter).handleDOM.apply(i,t)}))}))}));var l=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.listeners={},e.on("error",a.error),e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"emit",value:function(){a.log.apply(a,arguments),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];(this.listeners[e.type]||[]).forEach((function(t){var o=t.node,r=t.handler;(e.target===o||o.contains(e.target))&&r.apply(void 0,[e].concat(i))}))}},{key:"listenDOM",value:function(e,t,i){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:i})}}]),t}(n.default);l.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},l.sources={API:"api",SILENT:"silent",USER:"user"},t.default=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=i};o.DEFAULTS={},t.default=o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=["error","warn","log","info"],r="warn";function n(e){if(o.indexOf(e)<=o.indexOf(r)){for(var t,i=arguments.length,n=Array(i>1?i-1:0),s=1;s<i;s++)n[s-1]=arguments[s];(t=console)[e].apply(t,n)}}function s(e){return o.reduce((function(t,i){return t[i]=n.bind(console,i,e),t}),{})}n.level=s.level=function(e){r=e},t.default=s},function(e,t,i){var o=i(37),r=i(62),n=i(63),s=i(71),a=i(72),l=i(76),d=Date.prototype.getTime;function c(e,t,i){var p=i||{};return!!(p.strict?n(e,t):e===t)||(!e||!t||"object"!=typeof e&&"object"!=typeof t?p.strict?n(e,t):e==t:function(e,t,i){var n,p;if(typeof e!=typeof t)return!1;if(u(e)||u(t))return!1;if(e.prototype!==t.prototype)return!1;if(r(e)!==r(t))return!1;var f=s(e),b=s(t);if(f!==b)return!1;if(f||b)return e.source===t.source&&a(e)===a(t);if(l(e)&&l(t))return d.call(e)===d.call(t);var g=h(e),m=h(t);if(g!==m)return!1;if(g||m){if(e.length!==t.length)return!1;for(n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}if(typeof e!=typeof t)return!1;try{var y=o(e),v=o(t)}catch(e){return!1}if(y.length!==v.length)return!1;for(y.sort(),v.sort(),n=y.length-1;n>=0;n--)if(y[n]!=v[n])return!1;for(n=y.length-1;n>=0;n--)if(!c(e[p=y[n]],t[p],i))return!1;return!0}(e,t,p))}function u(e){return null==e}function h(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length||"function"!=typeof e.copy||"function"!=typeof e.slice||e.length>0&&"number"!=typeof e[0])}e.exports=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),r=function(){function e(e,t,i){void 0===i&&(i={}),this.attrName=e,this.keyName=t;var r=o.Scope.TYPE&o.Scope.ATTRIBUTE;null!=i.scope?this.scope=i.scope&o.Scope.LEVEL|r:this.scope=o.Scope.ATTRIBUTE,null!=i.whitelist&&(this.whitelist=i.whitelist)}return e.keys=function(e){return[].map.call(e.attributes,(function(e){return e.name}))},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null!=o.query(e,o.Scope.BLOT&(this.scope|o.Scope.TYPE))&&(null==this.whitelist||("string"==typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1))},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();t.default=r},function(e,t,i){"use strict";var o=i(37),r="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),n=Object.prototype.toString,s=Array.prototype.concat,a=Object.defineProperty,l=a&&function(){var e={};try{for(var t in a(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),d=function(e,t,i,o){var r;(!(t in e)||"function"==typeof(r=o)&&"[object Function]"===n.call(r)&&o())&&(l?a(e,t,{configurable:!0,enumerable:!1,value:i,writable:!0}):e[t]=i)},c=function(e,t){var i=arguments.length>2?arguments[2]:{},n=o(t);r&&(n=s.call(n,Object.getOwnPropertySymbols(t)));for(var a=0;a<n.length;a+=1)d(e,n[a],t[n[a]],i[n[a]])};c.supportsDescriptors=!!l,e.exports=c},function(e,t,i){"use strict";var o=i(65);e.exports=Function.prototype.bind||o},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Code=void 0;var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=u(i(2)),a=u(i(0)),l=u(i(4)),d=u(i(6)),c=u(i(7));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=function(e){function t(){return h(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),t}(d.default);b.blotName="code",b.tagName="CODE";var g=function(e){function t(){return h(this,t),p(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return f(t,e),r(t,[{key:"delta",value:function(){var e=this,t=this.domNode.textContent;return t.endsWith("\n")&&(t=t.slice(0,-1)),t.split("\n").reduce((function(t,i){return t.insert(i).insert("\n",e.formats())}),new s.default)}},{key:"format",value:function(e,i){if(e!==this.statics.blotName||!i){var r=this.descendant(c.default,this.length()-1),s=o(r,1)[0];null!=s&&s.deleteAt(s.length()-1,1),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i)}}},{key:"formatAt",value:function(e,i,o,r){if(0!==i&&null!=a.default.query(o,a.default.Scope.BLOCK)&&(o!==this.statics.blotName||r!==this.statics.formats(this.domNode))){var n=this.newlineIndex(e);if(!(n<0||n>=e+i)){var s=this.newlineIndex(e,!0)+1,l=n-s+1,d=this.isolate(s,l),c=d.next;d.format(o,r),c instanceof t&&c.formatAt(0,e-s+i-l,o,r)}}}},{key:"insertAt",value:function(e,t,i){if(null==i){var r=this.descendant(c.default,e),n=o(r,2),s=n[0],a=n[1];s.insertAt(a,t)}}},{key:"length",value:function(){var e=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?e:e+1}},{key:"newlineIndex",value:function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,e).lastIndexOf("\n");var t=this.domNode.textContent.slice(e).indexOf("\n");return t>-1?e+t:-1}},{key:"optimize",value:function(e){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var i=this.next;null!=i&&i.prev===this&&i.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===i.statics.formats(i.domNode)&&(i.optimize(e),i.moveChildren(this),i.remove())}},{key:"replace",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e),[].slice.call(this.domNode.querySelectorAll("*")).forEach((function(e){var t=a.default.find(e);null==t?e.parentNode.removeChild(e):t instanceof a.default.Embed?t.remove():t.unwrap()}))}}],[{key:"create",value:function(e){var i=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return i.setAttribute("spellcheck",!1),i}},{key:"formats",value:function(){return!0}}]),t}(l.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",t.Code=b,t.default=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=m(i(2)),a=m(i(23)),l=m(i(0)),d=m(i(15)),c=m(i(27)),u=i(4),h=m(u),p=m(i(18)),f=m(i(24)),b=m(i(11)),g=m(i(3));function m(e){return e&&e.__esModule?e:{default:e}}var y=/^[ -~]*$/,v=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta()}return n(e,[{key:"applyDelta",value:function(e){var t=this,i=!1;this.scroll.update();var n=this.scroll.length();return this.scroll.batchStart(),(e=function(e){return e.reduce((function(e,t){if(1===t.insert){var i=(0,f.default)(t.attributes);return delete i.image,e.insert({image:t.attributes.image},i)}if(null==t.attributes||!0!==t.attributes.list&&!0!==t.attributes.bullet||((t=(0,f.default)(t)).attributes.list?t.attributes.list="ordered":(t.attributes.list="bullet",delete t.attributes.bullet)),"string"==typeof t.insert){var o=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(o,t.attributes)}return e.push(t)}),new s.default)}(e)).reduce((function(e,s){var d=s.retain||s.delete||s.insert.length||1,c=s.attributes||{};if(null!=s.insert){if("string"==typeof s.insert){var p=s.insert;p.endsWith("\n")&&i&&(i=!1,p=p.slice(0,-1)),e>=n&&!p.endsWith("\n")&&(i=!0),t.scroll.insertAt(e,p);var f=t.scroll.line(e),b=r(f,2),m=b[0],y=b[1],v=(0,g.default)({},(0,u.bubbleFormats)(m));if(m instanceof h.default){var _=m.descendant(l.default.Leaf,y),w=r(_,1)[0];v=(0,g.default)(v,(0,u.bubbleFormats)(w))}c=a.default.attributes.diff(v,c)||{}}else if("object"===o(s.insert)){var x=Object.keys(s.insert)[0];if(null==x)return e;t.scroll.insertAt(e,x,s.insert[x])}n+=d}return Object.keys(c).forEach((function(i){t.scroll.formatAt(e,d,i,c[i])})),e+d}),0),e.reduce((function(e,i){return"number"==typeof i.delete?(t.scroll.deleteAt(e,i.delete),e):e+(i.retain||i.insert.length||1)}),0),this.scroll.batchEnd(),this.update(e)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new s.default).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(o).forEach((function(r){if(null==i.scroll.whitelist||i.scroll.whitelist[r]){var n=i.scroll.lines(e,Math.max(t,1)),s=t;n.forEach((function(t){var n=t.length();if(t instanceof d.default){var a=e-t.offset(i.scroll),l=t.newlineIndex(a+s)-a+1;t.formatAt(a,l,r,o[r])}else t.format(r,o[r]);s-=n}))}})),this.scroll.optimize(),this.update((new s.default).retain(e).retain(t,(0,f.default)(o)))}},{key:"formatText",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(o).forEach((function(r){i.scroll.formatAt(e,t,r,o[r])})),this.update((new s.default).retain(e).retain(t,(0,f.default)(o)))}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce((function(e,t){return e.concat(t.delta())}),new s.default)}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=[],o=[];0===t?this.scroll.path(e).forEach((function(e){var t=r(e,1)[0];t instanceof h.default?i.push(t):t instanceof l.default.Leaf&&o.push(t)})):(i=this.scroll.lines(e,t),o=this.scroll.descendants(l.default.Leaf,e,t));var n=[i,o].map((function(e){if(0===e.length)return{};for(var t=(0,u.bubbleFormats)(e.shift());Object.keys(t).length>0;){var i=e.shift();if(null==i)return t;t=_((0,u.bubbleFormats)(i),t)}return t}));return g.default.apply(g.default,n)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter((function(e){return"string"==typeof e.insert})).map((function(e){return e.insert})).join("")}},{key:"insertEmbed",value:function(e,t,i){return this.scroll.insertAt(e,t,i),this.update((new s.default).retain(e).insert(function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},t,i)))}},{key:"insertText",value:function(e,t){var i=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(o).forEach((function(r){i.scroll.formatAt(e,t.length,r,o[r])})),this.update((new s.default).retain(e).insert(t,(0,f.default)(o)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var e=this.scroll.children.head;return e.statics.blotName===h.default.blotName&&!(e.children.length>1)&&e.children.head instanceof p.default}},{key:"removeFormat",value:function(e,t){var i=this.getText(e,t),o=this.scroll.line(e+t),n=r(o,2),a=n[0],l=n[1],c=0,u=new s.default;null!=a&&(c=a instanceof d.default?a.newlineIndex(l)-l+1:a.length()-l,u=a.delta().slice(l,l+c-1).insert("\n"));var h=this.getContents(e,t+c).diff((new s.default).insert(i).concat(u)),p=(new s.default).retain(e).concat(h);return this.applyDelta(p)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(y)&&l.default.find(t[0].target)){var r=l.default.find(t[0].target),n=(0,u.bubbleFormats)(r),a=r.offset(this.scroll),d=t[0].oldValue.replace(c.default.CONTENTS,""),h=(new s.default).insert(d),p=(new s.default).insert(r.value());e=(new s.default).retain(a).concat(h.diff(p,i)).reduce((function(e,t){return t.insert?e.insert(t.insert,n):e.push(t)}),new s.default),this.delta=o.compose(e)}else this.delta=this.getDelta(),e&&(0,b.default)(o.compose(e),this.delta)||(e=o.diff(this.delta,i));return e}}]),e}();function _(e,t){return Object.keys(t).reduce((function(i,o){return null==e[o]||(t[o]===e[o]?i[o]=t[o]:Array.isArray(t[o])?t[o].indexOf(e[o])<0&&(i[o]=t[o].concat([e[o]])):i[o]=[t[o],e[o]]),i}),{})}t.default=v},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.Range=void 0;var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=u(i(0)),s=u(i(24)),a=u(i(11)),l=u(i(8)),d=u(i(10)),c=i(78);function u(e){return e&&e.__esModule?e:{default:e}}function h(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=(0,d.default)("quill:selection"),b=function e(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;p(this,e),this.index=t,this.length=i},g=function(){function e(t,i){var o=this;p(this,e),this.emitter=i,this.scroll=t,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=n.default.create("cursor",this),this.lastRange=this.savedRange=new b(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,(function(){o.mouseDown||setTimeout(o.update.bind(o,l.default.sources.USER),1)})),this.emitter.on(l.default.events.EDITOR_CHANGE,(function(e,t){e===l.default.events.TEXT_CHANGE&&t.length()>0&&o.update(l.default.sources.SILENT)})),this.emitter.on(l.default.events.SCROLL_BEFORE_UPDATE,(function(){if(o.hasFocus()){var e=o.getNativeRange();null!=e&&e.start.node!==o.cursor.textNode&&o.emitter.once(l.default.events.SCROLL_UPDATE,(function(){try{o.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset)}catch(e){}}))}})),this.emitter.on(l.default.events.SCROLL_OPTIMIZE,(function(e,t){if(t.range){var i=t.range,r=i.startNode,n=i.startOffset,s=i.endNode,a=i.endOffset;o.setNativeRange(r,n,s,a)}})),this.update(l.default.sources.SILENT)}return r(e,[{key:"handleComposition",value:function(){var e=this;this.root.addEventListener("compositionstart",(function(){e.composing=!0})),this.root.addEventListener("compositionend",(function(){if(e.composing=!1,e.cursor.parent){var t=e.cursor.restore();if(!t)return;setTimeout((function(){e.setNativeRange(t.startNode,t.startOffset,t.endNode,t.endOffset)}),1)}}))}},{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,(function(){e.mouseDown=!0})),this.emitter.listenDOM("mouseup",document.body,(function(){e.mouseDown=!1,e.update(l.default.sources.USER)}))}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){if(null==this.scroll.whitelist||this.scroll.whitelist[e]){this.scroll.update();var i=this.getNativeRange();if(null!=i&&i.native.collapsed&&!n.default.query(e,n.default.Scope.BLOCK)){if(i.start.node!==this.cursor.textNode){var o=n.default.find(i.start.node,!1);if(null==o)return;if(o instanceof n.default.Leaf){var r=o.split(i.start.offset);o.parent.insertBefore(this.cursor,r)}else o.insertBefore(this.cursor,i.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.scroll.length();e=Math.min(e,i-1),t=Math.min(e+t,i-1)-e;var r=void 0,n=this.scroll.leaf(e),s=o(n,2),a=s[0],l=s[1];if(null==a)return null;var d=a.position(l,!0),c=o(d,2);r=c[0],l=c[1];var u=document.createRange();if(t>0){u.setStart(r,l);var h=this.scroll.leaf(e+t),p=o(h,2);if(a=p[0],l=p[1],null==a)return null;var f=a.position(l,!0),b=o(f,2);return r=b[0],l=b[1],u.setEnd(r,l),u.getBoundingClientRect()}var g="left",m=void 0;return r instanceof Text?(l<r.data.length?(u.setStart(r,l),u.setEnd(r,l+1)):(u.setStart(r,l-1),u.setEnd(r,l),g="right"),m=u.getBoundingClientRect()):(m=a.domNode.getBoundingClientRect(),l>0&&(g="right")),{bottom:m.top+m.height,height:m.height,left:m[g],right:m[g],top:m.top,width:0}}},{key:"getNativeRange",value:function(){var e=null;if(this.root.getRootNode()&&this.root.getRootNode()instanceof ShadowRoot)e=(0,c.getRange)(this.root.getRootNode());else{var t=document.getSelection();if(null==t||t.rangeCount<=0)return null;e=t.getRangeAt(0)}if(null==e)return null;var i=this.normalizeNative(e);return f.info("getNativeRange",i),i}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(e){var t=this,i=[[e.start.node,e.start.offset]];e.native.collapsed||i.push([e.end.node,e.end.offset]);var r=i.map((function(e){var i=o(e,2),r=i[0],s=i[1],a=n.default.find(r,!0),l=a.offset(t.scroll);return 0===s?l:a instanceof n.default.Container?l+a.length():l+a.index(r,s)})),s=Math.min(Math.max.apply(Math,h(r)),this.scroll.length()-1),a=Math.min.apply(Math,[s].concat(h(r)));return new b(a,s-a)}},{key:"normalizeNative",value:function(e){if(!m(this.root,e.startContainer)||!e.collapsed&&!m(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach((function(e){for(var t=e.node,i=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>i)t=t.childNodes[i],i=0;else{if(t.childNodes.length!==i)break;i=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length+1}e.node=t,e.offset=i})),t}},{key:"rangeToNative",value:function(e){var t=this,i=e.collapsed?[e.index]:[e.index,e.index+e.length],r=[],n=this.scroll.length();return i.forEach((function(e,i){e=Math.min(n-1,e);var s,a=t.scroll.leaf(e),l=o(a,2),d=l[0],c=l[1],u=d.position(c,0!==i),h=o(u,2);s=h[0],c=h[1],r.push(s,c)})),r.length<2&&(r=r.concat(r)),r}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var i=this.getBounds(t.index,t.length);if(null!=i){var r=this.scroll.length()-1,n=this.scroll.line(Math.min(t.index,r)),s=o(n,1)[0],a=s;if(t.length>0){var l=this.scroll.line(Math.min(t.index+t.length,r));a=o(l,1)[0]}if(null!=s&&null!=a){var d=e.getBoundingClientRect();i.top<d.top?e.scrollTop-=d.top-i.top:i.bottom>d.bottom&&(e.scrollTop+=i.bottom-d.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(f.info("setNativeRange",e,t,i,o),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=i.parentNode){var n=document.getSelection();if(null!=n)if(null!=e){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;(null==s||r||e!==s.startContainer||t!==s.startOffset||i!==s.endContainer||o!==s.endOffset)&&("BR"==e.tagName&&(t=[].indexOf.call(e.parentNode.childNodes,e),e=e.parentNode),"BR"==i.tagName&&(o=[].indexOf.call(i.parentNode.childNodes,i),i=i.parentNode),(0,c.setRange)(this.root,n,e,t,i,o))}else n.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof t&&(i=t,t=!1),f.info("setRange",e),null!=e){var o=this.rangeToNative(e);this.setNativeRange.apply(this,h(o).concat([t]))}else this.setNativeRange(null);this.update(i)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.sources.USER,t=this.lastRange,i=this.getRange(),r=o(i,2),n=r[0],d=r[1];if(this.lastRange=n,null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,a.default)(t,this.lastRange)){var c;!this.composing&&null!=d&&d.native.collapsed&&d.start.node!==this.cursor.textNode&&this.cursor.restore();var u,h=[l.default.events.SELECTION_CHANGE,(0,s.default)(this.lastRange),(0,s.default)(t),e];(c=this.emitter).emit.apply(c,[l.default.events.EDITOR_CHANGE].concat(h)),e!==l.default.sources.SILENT&&(u=this.emitter).emit.apply(u,h)}}}]),e}();function m(e,t){try{t.parentNode}catch(e){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}t.Range=b,t.default=g},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(0),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"insertInto",value:function(e,i){0===e.children.length?n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertInto",this).call(this,e,i):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),t}(((o=s)&&o.__esModule?o:{default:o}).default.Embed);a.blotName="break",a.tagName="BR",t.default=a},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var n=i(53),s=i(33),a=i(1),l=function(e){function t(t){var i=e.call(this,t)||this;return i.build(),i}return r(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach((function(e){e.attach()}))},t.prototype.build=function(){var e=this;this.children=new n.default,[].slice.call(this.domNode.childNodes).reverse().forEach((function(t){try{var i=d(t);e.insertBefore(i,e.children.head||void 0)}catch(e){if(e instanceof a.ParchmentError)return;throw e}}))},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,(function(e,t,i){e.deleteAt(t,i)}))},t.prototype.descendant=function(e,i){var o=this.children.find(i),r=o[0],n=o[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,n]:r instanceof t?r.descendant(e,n):[null,-1]},t.prototype.descendants=function(e,i,o){void 0===i&&(i=0),void 0===o&&(o=Number.MAX_VALUE);var r=[],n=o;return this.children.forEachAt(i,o,(function(i,o,s){(null==e.blotName&&e(i)||null!=e.blotName&&i instanceof e)&&r.push(i),i instanceof t&&(r=r.concat(i.descendants(e,o,n))),n-=s})),r},t.prototype.detach=function(){this.children.forEach((function(e){e.detach()})),e.prototype.detach.call(this)},t.prototype.formatAt=function(e,t,i,o){this.children.forEachAt(e,t,(function(e,t,r){e.formatAt(t,r,i,o)}))},t.prototype.insertAt=function(e,t,i){var o=this.children.find(e),r=o[0],n=o[1];if(r)r.insertAt(n,t,i);else{var s=null==i?a.create("text",t):a.create(t,i);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some((function(t){return e instanceof t})))throw new a.ParchmentError("Cannot insert "+e.statics.blotName+" into "+this.statics.blotName);e.insertInto(this,t)},t.prototype.length=function(){return this.children.reduce((function(e,t){return e+t.length()}),0)},t.prototype.moveChildren=function(e,t){this.children.forEach((function(i){e.insertBefore(i,t)}))},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),0===this.children.length)if(null!=this.statics.defaultChild){var i=a.create(this.statics.defaultChild);this.appendChild(i),i.optimize(t)}else this.remove()},t.prototype.path=function(e,i){void 0===i&&(i=!1);var o=this.children.find(e,i),r=o[0],n=o[1],s=[[this,e]];return r instanceof t?s.concat(r.path(n,i)):(null!=r&&s.push([r,n]),s)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replace=function(i){i instanceof t&&i.moveChildren(this),e.prototype.replace.call(this,i)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var i=this.clone();return this.parent.insertBefore(i,this.next),this.children.forEachAt(e,this.length(),(function(e,o,r){e=e.split(o,t),i.appendChild(e)})),i},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(e,t){var i=this,o=[],r=[];e.forEach((function(e){e.target===i.domNode&&"childList"===e.type&&(o.push.apply(o,e.addedNodes),r.push.apply(r,e.removedNodes))})),r.forEach((function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=a.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==i.domNode||t.detach())}})),o.filter((function(e){return e.parentNode==i.domNode})).sort((function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1})).forEach((function(e){var t=null;null!=e.nextSibling&&(t=a.find(e.nextSibling));var o=d(e);o.next==t&&null!=o.next||(null!=o.parent&&o.parent.removeChild(i),i.insertBefore(o,t||void 0))}))},t}(s.default);function d(e){var t=a.find(e);if(null==t)try{t=a.create(e)}catch(i){t=a.create(a.Scope.INLINE),[].slice.call(e.childNodes).forEach((function(e){t.domNode.appendChild(e)})),e.parentNode&&e.parentNode.replaceChild(t.domNode,e),t.attach()}return t}t.default=l},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var n=i(12),s=i(34),a=i(19),l=i(1),d=function(e){function t(t){var i=e.call(this,t)||this;return i.attributes=new s.default(i.domNode),i}return r(t,e),t.formats=function(e){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,t){var i=l.query(e);i instanceof n.default?this.attributes.attribute(i,t):t&&(null==i||e===this.statics.blotName&&this.formats()[e]===t||this.replaceWith(e,t))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.replaceWith=function(t,i){var o=e.prototype.replaceWith.call(this,t,i);return this.attributes.copy(o),o},t.prototype.update=function(t,i){var o=this;e.prototype.update.call(this,t,i),t.some((function(e){return e.target===o.domNode&&"attributes"===e.type}))&&this.attributes.build()},t.prototype.wrap=function(i,o){var r=e.prototype.wrap.call(this,i,o);return r instanceof t&&r.statics.scope===this.statics.scope&&this.attributes.move(r),r},t}(a.default);t.default=d},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var n=i(33),s=i(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var i=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(i+=1),[this.parent.domNode,i]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=s.Scope.INLINE_BLOT,t}(n.default);t.default=a},function(e,t,i){"use strict";(function(t){var o=t.Symbol,r=i(68);e.exports=function(){return"function"==typeof o&&"function"==typeof Symbol&&"symbol"==typeof o("foo")&&"symbol"==typeof Symbol("bar")&&r()}}).call(t,i(67))},function(e,t,i){var o=i(11),r=i(3),n={attributes:{compose:function(e,t,i){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var o=r(!0,{},t);for(var n in i||(o=Object.keys(o).reduce((function(e,t){return null!=o[t]&&(e[t]=o[t]),e}),{})),e)void 0!==e[n]&&void 0===t[n]&&(o[n]=e[n]);return Object.keys(o).length>0?o:void 0},diff:function(e,t){"object"!=typeof e&&(e={}),"object"!=typeof t&&(t={});var i=Object.keys(e).concat(Object.keys(t)).reduce((function(i,r){return o(e[r],t[r])||(i[r]=void 0===t[r]?null:t[r]),i}),{});return Object.keys(i).length>0?i:void 0},transform:function(e,t,i){if("object"!=typeof e)return t;if("object"==typeof t){if(!i)return t;var o=Object.keys(t).reduce((function(i,o){return void 0===e[o]&&(i[o]=t[o]),i}),{});return Object.keys(o).length>0?o:void 0}}},iterator:function(e){return new s(e)},length:function(e){return"number"==typeof e.delete?e.delete:"number"==typeof e.retain?e.retain:"string"==typeof e.insert?e.insert.length:1}};function s(e){this.ops=e,this.index=0,this.offset=0}s.prototype.hasNext=function(){return this.peekLength()<1/0},s.prototype.next=function(e){e||(e=1/0);var t=this.ops[this.index];if(t){var i=this.offset,o=n.length(t);if(e>=o-i?(e=o-i,this.index+=1,this.offset=0):this.offset+=e,"number"==typeof t.delete)return{delete:e};var r={};return t.attributes&&(r.attributes=t.attributes),"number"==typeof t.retain?r.retain=e:"string"==typeof t.insert?r.insert=t.insert.substr(i,e):r.insert=t.insert,r}return{retain:1/0}},s.prototype.peek=function(){return this.ops[this.index]},s.prototype.peekLength=function(){return this.ops[this.index]?n.length(this.ops[this.index])-this.offset:1/0},s.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},s.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var e=this.offset,t=this.index,i=this.next(),o=this.ops.slice(this.index);return this.offset=e,this.index=t,[i].concat(o)}return[]},e.exports=n},function(e,t){var i=function(){"use strict";function e(e,t){return null!=t&&e instanceof t}var t,i,o;try{t=Map}catch(e){t=function(){}}try{i=Set}catch(e){i=function(){}}try{o=Promise}catch(e){o=function(){}}function r(n,a,l,d,c){"object"==typeof a&&(l=a.depth,d=a.prototype,c=a.includeNonEnumerable,a=a.circular);var u=[],h=[],p="undefined"!=typeof Buffer;return void 0===a&&(a=!0),void 0===l&&(l=1/0),function n(l,f){if(null===l)return null;if(0===f)return l;var b,g;if("object"!=typeof l)return l;if(e(l,t))b=new t;else if(e(l,i))b=new i;else if(e(l,o))b=new o((function(e,t){l.then((function(t){e(n(t,f-1))}),(function(e){t(n(e,f-1))}))}));else if(r.__isArray(l))b=[];else if(r.__isRegExp(l))b=new RegExp(l.source,s(l)),l.lastIndex&&(b.lastIndex=l.lastIndex);else if(r.__isDate(l))b=new Date(l.getTime());else{if(p&&Buffer.isBuffer(l))return b=Buffer.allocUnsafe?Buffer.allocUnsafe(l.length):new Buffer(l.length),l.copy(b),b;e(l,Error)?b=Object.create(l):void 0===d?(g=Object.getPrototypeOf(l),b=Object.create(g)):(b=Object.create(d),g=d)}if(a){var m=u.indexOf(l);if(-1!=m)return h[m];u.push(l),h.push(b)}for(var y in e(l,t)&&l.forEach((function(e,t){var i=n(t,f-1),o=n(e,f-1);b.set(i,o)})),e(l,i)&&l.forEach((function(e){var t=n(e,f-1);b.add(t)})),l){var v;g&&(v=Object.getOwnPropertyDescriptor(g,y)),v&&null==v.set||(b[y]=n(l[y],f-1))}if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(l);for(y=0;y<_.length;y++){var w=_[y];(!(C=Object.getOwnPropertyDescriptor(l,w))||C.enumerable||c)&&(b[w]=n(l[w],f-1),C.enumerable||Object.defineProperty(b,w,{enumerable:!1}))}}if(c){var x=Object.getOwnPropertyNames(l);for(y=0;y<x.length;y++){var C,S=x[y];(C=Object.getOwnPropertyDescriptor(l,S))&&C.enumerable||(b[S]=n(l[S],f-1),Object.defineProperty(b,S,{enumerable:!1}))}}return b}(n,l)}function n(e){return Object.prototype.toString.call(e)}function s(e){var t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),t}return r.clonePrototype=function(e){if(null===e)return null;var t=function(){};return t.prototype=e,new t},r.__objToStr=n,r.__isDate=function(e){return"object"==typeof e&&"[object Date]"===n(e)},r.__isArray=function(e){return"object"==typeof e&&"[object Array]"===n(e)},r.__isRegExp=function(e){return"object"==typeof e&&"[object RegExp]"===n(e)},r.__getRegExpFlags=s,r}();"object"==typeof e&&e.exports&&(e.exports=i)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=p(i(0)),a=p(i(8)),l=i(4),d=p(l),c=p(i(18)),u=p(i(15)),h=p(i(28));function p(e){return e&&e.__esModule?e:{default:e}}function f(e){return e instanceof d.default||e instanceof l.BlockEmbed}var b=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.emitter=i.emitter,Array.isArray(i.whitelist)&&(o.whitelist=i.whitelist.reduce((function(e,t){return e[t]=!0,e}),{})),o.domNode.addEventListener("DOMNodeInserted",(function(){})),o.optimize(),o.enable(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(e,i){var r=this.line(e),s=o(r,2),a=s[0],d=s[1],h=this.line(e+i),p=o(h,1)[0];if(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"deleteAt",this).call(this,e,i),null!=p&&a!==p&&d>0){if(a instanceof l.BlockEmbed||p instanceof l.BlockEmbed)return void this.optimize();if(a instanceof u.default){var f=a.newlineIndex(a.length(),!0);if(f>-1&&(a=a.split(f+1))===p)return void this.optimize()}else if(p instanceof u.default){var b=p.newlineIndex(0);b>-1&&p.split(b+1)}var g=p.children.head instanceof c.default?null:p.children.head;a.moveChildren(p,g),a.remove()}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,i,o,r){(null==this.whitelist||this.whitelist[o])&&(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,e,i,o,r),this.optimize())}},{key:"insertAt",value:function(e,i,o){if(null==o||null==this.whitelist||this.whitelist[i]){if(e>=this.length())if(null==o||null==s.default.query(i,s.default.Scope.BLOCK)){var r=s.default.create(this.statics.defaultChild);this.appendChild(r),null==o&&i.endsWith("\n")&&(i=i.slice(0,-1)),r.insertAt(0,i,o)}else{var a=s.default.create(i,o);this.appendChild(a)}else n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertAt",this).call(this,e,i,o);this.optimize()}}},{key:"insertBefore",value:function(e,i){if(e.statics.scope===s.default.Scope.INLINE_BLOT){var o=s.default.create(this.statics.defaultChild);o.appendChild(e),e=o}n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,i)}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(f,e)}},{key:"lines",value:function(){return function e(t,i,o){var r=[],n=o;return t.children.forEachAt(i,o,(function(t,i,o){f(t)?r.push(t):t instanceof s.default.Container&&(r=r.concat(e(t,i,n))),n-=o})),r}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e,i),e.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,e,i))}},{key:"path",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"path",this).call(this,e).slice(1)}},{key:"update",value:function(e){if(!0!==this.batch){var i=a.default.sources.USER;"string"==typeof e&&(i=e),Array.isArray(e)||(e=this.observer.takeRecords()),e.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,i,e),n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,i,e)}}}]),t}(s.default.Scroll);b.blotName="scroll",b.className="ql-editor",b.tagName="DIV",b.defaultChild="block",b.allowedChildren=[d.default,l.BlockEmbed,h.default],t.default=b},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SHORTKEY=t.default=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=b(i(24)),a=b(i(11)),l=b(i(3)),d=b(i(2)),c=b(i(23)),u=b(i(0)),h=b(i(5)),p=b(i(10)),f=b(i(9));function b(e){return e&&e.__esModule?e:{default:e}}function g(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var m=(0,p.default)("quill:keyboard"),y=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",v=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return o.bindings={},Object.keys(o.options.bindings).forEach((function(t){("list autofill"!==t||null==e.scroll.whitelist||e.scroll.whitelist.list)&&o.options.bindings[t]&&o.addBinding(o.options.bindings[t])})),o.addBinding({key:t.keys.ENTER,shiftKey:null},S),o.addBinding({key:t.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},(function(){})),/Firefox/i.test(navigator.userAgent)?(o.addBinding({key:t.keys.BACKSPACE},{collapsed:!0},w),o.addBinding({key:t.keys.DELETE},{collapsed:!0},x)):(o.addBinding({key:t.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},w),o.addBinding({key:t.keys.DELETE},{collapsed:!0,suffix:/^.?$/},x)),o.addBinding({key:t.keys.BACKSPACE},{collapsed:!1},C),o.addBinding({key:t.keys.DELETE},{collapsed:!1},C),o.addBinding({key:t.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},w),o.listen(),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"match",value:function(e,t){return t=E(t),!["altKey","ctrlKey","metaKey","shiftKey"].some((function(i){return!!t[i]!==e[i]&&null!==t[i]}))&&t.key===(e.which||e.keyCode)}}]),n(t,[{key:"addBinding",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=E(e);if(null==o||null==o.key)return m.warn("Attempted to add invalid keyboard binding",o);"function"==typeof t&&(t={handler:t}),"function"==typeof i&&(i={handler:i}),o=(0,l.default)(o,t,i),this.bindings[o.key]=this.bindings[o.key]||[],this.bindings[o.key].push(o)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",(function(i){if(!i.defaultPrevented){var n=i.which||i.keyCode,s=(e.bindings[n]||[]).filter((function(e){return t.match(i,e)}));if(0!==s.length){var l=e.quill.getSelection();if(null!=l&&e.quill.hasFocus()){var d=e.quill.getLine(l.index),c=r(d,2),h=c[0],p=c[1],f=e.quill.getLeaf(l.index),b=r(f,2),g=b[0],m=b[1],y=0===l.length?[g,m]:e.quill.getLeaf(l.index+l.length),v=r(y,2),_=v[0],w=v[1],x=g instanceof u.default.Text?g.value().slice(0,m):"",C=_ instanceof u.default.Text?_.value().slice(w):"",S={collapsed:0===l.length,empty:0===l.length&&h.length()<=1,format:e.quill.getFormat(l),offset:p,prefix:x,suffix:C};s.some((function(t){if(null!=t.collapsed&&t.collapsed!==S.collapsed)return!1;if(null!=t.empty&&t.empty!==S.empty)return!1;if(null!=t.offset&&t.offset!==S.offset)return!1;if(Array.isArray(t.format)){if(t.format.every((function(e){return null==S.format[e]})))return!1}else if("object"===o(t.format)&&!Object.keys(t.format).every((function(e){return!0===t.format[e]?null!=S.format[e]:!1===t.format[e]?null==S.format[e]:(0,a.default)(t.format[e],S.format[e])})))return!1;return!(null!=t.prefix&&!t.prefix.test(S.prefix)||null!=t.suffix&&!t.suffix.test(S.suffix)||!0===t.handler.call(e,l,S))}))&&i.preventDefault()}}}}))}}]),t}(f.default);function _(e,t){var i,o=e===v.keys.LEFT?"prefix":"suffix";return g(i={key:e,shiftKey:t,altKey:null},o,/^$/),g(i,"handler",(function(i){var o=i.index;e===v.keys.RIGHT&&(o+=i.length+1);var n=this.quill.getLeaf(o);return!(r(n,1)[0]instanceof u.default.Embed&&(e===v.keys.LEFT?t?this.quill.setSelection(i.index-1,i.length+1,h.default.sources.USER):this.quill.setSelection(i.index-1,h.default.sources.USER):t?this.quill.setSelection(i.index,i.length+1,h.default.sources.USER):this.quill.setSelection(i.index+i.length+1,h.default.sources.USER),1))})),i}function w(e,t){if(!(0===e.index||this.quill.getLength()<=1)){var i=this.quill.getLine(e.index),o=r(i,1)[0],n={};if(0===t.offset){var s=this.quill.getLine(e.index-1),a=r(s,1)[0];if(null!=a&&a.length()>1){var l=o.formats(),d=this.quill.getFormat(e.index-1,1);n=c.default.attributes.diff(l,d)||{}}}var u=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;this.quill.deleteText(e.index-u,u,h.default.sources.USER),Object.keys(n).length>0&&this.quill.formatLine(e.index-u,u,n,h.default.sources.USER),this.quill.focus()}}function x(e,t){var i=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-i)){var o={},n=0,s=this.quill.getLine(e.index),a=r(s,1)[0];if(t.offset>=a.length()-1){var l=this.quill.getLine(e.index+1),d=r(l,1)[0];if(d){var u=a.formats(),p=this.quill.getFormat(e.index,1);o=c.default.attributes.diff(u,p)||{},n=d.length()}}this.quill.deleteText(e.index,i,h.default.sources.USER),Object.keys(o).length>0&&this.quill.formatLine(e.index+n-1,i,o,h.default.sources.USER)}}function C(e){var t=this.quill.getLines(e),i={};if(t.length>1){var o=t[0].formats(),r=t[t.length-1].formats();i=c.default.attributes.diff(r,o)||{}}this.quill.deleteText(e,h.default.sources.USER),Object.keys(i).length>0&&this.quill.formatLine(e.index,1,i,h.default.sources.USER),this.quill.setSelection(e.index,h.default.sources.SILENT),this.quill.focus()}function S(e,t){var i=this;e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var o=Object.keys(t.format).reduce((function(e,i){return u.default.query(i,u.default.Scope.BLOCK)&&!Array.isArray(t.format[i])&&(e[i]=t.format[i]),e}),{});this.quill.insertText(e.index,"\n",o,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach((function(e){null==o[e]&&(Array.isArray(t.format[e])||"link"!==e&&i.quill.format(e,t.format[e],h.default.sources.USER))}))}function O(e){return{key:v.keys.TAB,shiftKey:!e,format:{"code-block":!0},handler:function(t){var i=u.default.query("code-block"),o=t.index,n=t.length,s=this.quill.scroll.descendant(i,o),a=r(s,2),l=a[0],d=a[1];if(null!=l){var c=this.quill.getIndex(l),p=l.newlineIndex(d,!0)+1,f=l.newlineIndex(c+d+n),b=l.domNode.textContent.slice(p,f).split("\n");d=0,b.forEach((function(t,r){e?(l.insertAt(p+d,i.TAB),d+=i.TAB.length,0===r?o+=i.TAB.length:n+=i.TAB.length):t.startsWith(i.TAB)&&(l.deleteAt(p+d,i.TAB.length),d-=i.TAB.length,0===r?o-=i.TAB.length:n-=i.TAB.length),d+=t.length+1})),this.quill.update(h.default.sources.USER),this.quill.setSelection(o,n,h.default.sources.SILENT)}}}}function k(e){return{key:e[0].toUpperCase(),shortKey:!0,handler:function(t,i){this.quill.format(e,!i.format[e],h.default.sources.USER)}}}function E(e){if("string"==typeof e||"number"==typeof e)return E({key:e});if("object"===(void 0===e?"undefined":o(e))&&(e=(0,s.default)(e,!1)),"string"==typeof e.key)if(null!=v.keys[e.key.toUpperCase()])e.key=v.keys[e.key.toUpperCase()];else{if(1!==e.key.length)return null;e.key=e.key.toUpperCase().charCodeAt(0)}return e.shortKey&&(e[y]=e.shortKey,delete e.shortKey),e}v.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},v.DEFAULTS={bindings:{bold:k("bold"),italic:k("italic"),underline:k("underline"),indent:{key:v.keys.TAB,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","+1",h.default.sources.USER)}},outdent:{key:v.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){if(t.collapsed&&0!==t.offset)return!0;this.quill.format("indent","-1",h.default.sources.USER)}},"outdent backspace":{key:v.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",h.default.sources.USER):null!=t.format.list&&this.quill.format("list",!1,h.default.sources.USER)}},"indent code-block":O(!0),"outdent code-block":O(!1),"remove tab":{key:v.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,h.default.sources.USER)}},tab:{key:v.keys.TAB,handler:function(e){this.quill.history.cutoff();var t=(new d.default).retain(e.index).delete(e.length).insert("\t");this.quill.updateContents(t,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,h.default.sources.SILENT)}},"list empty enter":{key:v.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(e,t){this.quill.format("list",!1,h.default.sources.USER),t.format.indent&&this.quill.format("indent",!1,h.default.sources.USER)}},"checklist enter":{key:v.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(e){var t=this.quill.getLine(e.index),i=r(t,2),o=i[0],n=i[1],s=(0,l.default)({},o.formats(),{list:"checked"}),a=(new d.default).retain(e.index).insert("\n",s).retain(o.length()-n-1).retain(1,{list:"unchecked"});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:v.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var i=this.quill.getLine(e.index),o=r(i,2),n=o[0],s=o[1],a=(new d.default).retain(e.index).insert("\n",t.format).retain(n.length()-s-1).retain(1,{header:null});this.quill.updateContents(a,h.default.sources.USER),this.quill.setSelection(e.index+1,h.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){var i=t.prefix.length,o=this.quill.getLine(e.index),n=r(o,2),s=n[0],a=n[1];if(a>i)return!0;var l=void 0;switch(t.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(e.index," ",h.default.sources.USER),this.quill.history.cutoff();var c=(new d.default).retain(e.index-a).delete(i+1).retain(s.length()-2-a).retain(1,{list:l});this.quill.updateContents(c,h.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-i,h.default.sources.SILENT)}},"code exit":{key:v.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(e){var t=this.quill.getLine(e.index),i=r(t,2),o=i[0],n=i[1],s=(new d.default).retain(e.index+o.length()-n-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(s,h.default.sources.USER)}},"embed left":_(v.keys.LEFT,!1),"embed left shift":_(v.keys.LEFT,!0),"embed right":_(v.keys.RIGHT,!1),"embed right shift":_(v.keys.RIGHT,!0)}},t.default=v,t.SHORTKEY=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=l(i(0)),a=l(i(7));function l(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.selection=i,o.textNode=document.createTextNode(t.CONTENTS),o.domNode.appendChild(o.textNode),o._length=0,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,null,[{key:"value",value:function(){}}]),n(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,i){if(0!==this._length)return r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i);for(var o=this,n=0;null!=o&&o.statics.scope!==s.default.Scope.BLOCK_BLOT;)n+=o.offset(o.parent),o=o.parent;null!=o&&(this._length=t.CONTENTS.length,o.optimize(),o.formatAt(n,t.CONTENTS.length,e,i),this._length=0)}},{key:"index",value:function(e,i){return e===this.textNode?0:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,i)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var e=this.textNode,i=this.selection.getNativeRange(),r=void 0,n=void 0,l=void 0;if(null!=i&&i.start.node===e&&i.end.node===e){var d=[e,i.start.offset,i.end.offset];r=d[0],n=d[1],l=d[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var c=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof a.default?(r=this.next.domNode,this.next.insertAt(0,c),this.textNode.data=t.CONTENTS):(this.textNode.data=c,this.parent.insertBefore(s.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=n){var u=[n,l].map((function(e){return Math.max(0,Math.min(r.data.length,e-1))})),h=o(u,2);return n=h[0],l=h[1],{startNode:r,startOffset:n,endNode:r,endOffset:l}}}}},{key:"update",value:function(e,t){var i=this;if(e.some((function(e){return"characterData"===e.type&&e.target===i.textNode}))){var o=this.restore();o&&(t.range=o)}}},{key:"value",value:function(){return""}}]),t}(s.default.Embed);d.blotName="cursor",d.className="ql-cursor",d.tagName="span",d.CONTENTS="\ufeff",t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=s(i(0)),r=i(4),n=s(r);function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o.default.Container);a.allowedChildren=[n.default,r.BlockEmbed,a],t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorStyle=t.ColorClass=t.ColorAttributor=void 0;var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(0),a=(o=s)&&o.__esModule?o:{default:o},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){var i=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e);return i.startsWith("rgb(")?(i=i.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+i.split(",").map((function(e){return("00"+parseInt(e).toString(16)).slice(-2)})).join("")):i}}]),t}(a.default.Attributor.Style),d=new a.default.Attributor.Class("color","ql-color",{scope:a.default.Scope.INLINE}),c=new l("color","color",{scope:a.default.Scope.INLINE});t.ColorAttributor=l,t.ColorClass=d,t.ColorStyle=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sanitize=t.default=void 0;var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,i){if(e!==this.statics.blotName||!i)return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i);i=this.constructor.sanitize(i),this.domNode.setAttribute("href",i)}}],[{key:"create",value:function(e){var i=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return e=this.sanitize(e),i.setAttribute("href",e),i.setAttribute("rel","noopener noreferrer"),i.setAttribute("target","_blank"),i}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return l(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}]),t}(((o=s)&&o.__esModule?o:{default:o}).default);function l(e,t){var i=document.createElement("a");i.href=e;var o=i.href.slice(0,i.href.indexOf(":"));return t.indexOf(o)>-1}a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],t.default=a,t.sanitize=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=a(i(26)),s=a(i(131));function a(e){return e&&e.__esModule?e:{default:e}}var l=0;function d(e,t){e.setAttribute(t,!("true"===e.getAttribute(t)))}var c=function(){function e(t){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",(function(){i.togglePicker()})),this.label.addEventListener("keydown",(function(e){switch(e.keyCode){case n.default.keys.ENTER:i.togglePicker();break;case n.default.keys.ESCAPE:i.escape(),e.preventDefault()}})),this.select.addEventListener("change",this.update.bind(this))}return r(e,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),d(this.label,"aria-expanded"),d(this.options,"aria-hidden")}},{key:"buildItem",value:function(e){var t=this,i=document.createElement("span");return i.tabIndex="0",i.setAttribute("role","button"),i.classList.add("ql-picker-item"),e.hasAttribute("value")&&i.setAttribute("data-value",e.getAttribute("value")),e.textContent&&i.setAttribute("data-label",e.textContent),i.addEventListener("click",(function(){t.selectItem(i,!0)})),i.addEventListener("keydown",(function(e){switch(e.keyCode){case n.default.keys.ENTER:t.selectItem(i,!0),e.preventDefault();break;case n.default.keys.ESCAPE:t.escape(),e.preventDefault()}})),i}},{key:"buildLabel",value:function(){var e=document.createElement("span");return e.classList.add("ql-picker-label"),e.innerHTML=s.default,e.tabIndex="0",e.setAttribute("role","button"),e.setAttribute("aria-expanded","false"),this.container.appendChild(e),e}},{key:"buildOptions",value:function(){var e=this,t=document.createElement("span");t.classList.add("ql-picker-options"),t.setAttribute("aria-hidden","true"),t.tabIndex="-1",t.id="ql-picker-options-"+l,l+=1,this.label.setAttribute("aria-controls",t.id),this.options=t,[].slice.call(this.select.options).forEach((function(i){var o=e.buildItem(i);t.appendChild(o),!0===i.selected&&e.selectItem(o)})),this.container.appendChild(t)}},{key:"buildPicker",value:function(){var e=this;[].slice.call(this.select.attributes).forEach((function(t){e.container.setAttribute(t.name,t.value)})),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var e=this;this.close(),setTimeout((function(){return e.label.focus()}),1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.container.querySelector(".ql-selected");if(e!==i&&(null!=i&&i.classList.remove("ql-selected"),null!=e&&(e.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(e.parentNode.children,e),e.hasAttribute("data-value")?this.label.setAttribute("data-value",e.getAttribute("data-value")):this.label.removeAttribute("data-value"),e.hasAttribute("data-label")?this.label.setAttribute("data-label",e.getAttribute("data-label")):this.label.removeAttribute("data-label"),t))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===("undefined"==typeof Event?"undefined":o(Event))){var r=document.createEvent("Event");r.initEvent("change",!0,!0),this.select.dispatchEvent(r)}this.close()}}},{key:"update",value:function(){var e=void 0;if(this.select.selectedIndex>-1){var t=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];e=this.select.options[this.select.selectedIndex],this.selectItem(t)}else this.selectItem(null);var i=null!=e&&e!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",i)}}]),e}();t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=m(i(0)),r=m(i(5)),n=i(4),s=m(n),a=m(i(18)),l=m(i(28)),d=m(i(27)),c=m(i(44)),u=m(i(6)),h=m(i(25)),p=m(i(7)),f=m(i(79)),b=m(i(51)),g=m(i(26));function m(e){return e&&e.__esModule?e:{default:e}}r.default.register({"blots/block":s.default,"blots/block/embed":n.BlockEmbed,"blots/break":a.default,"blots/container":l.default,"blots/cursor":d.default,"blots/embed":c.default,"blots/inline":u.default,"blots/scroll":h.default,"blots/text":p.default,"modules/clipboard":f.default,"modules/history":b.default,"modules/keyboard":g.default}),o.default.register(s.default,a.default,d.default,u.default,h.default,p.default),t.default=r.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),r=function(){function e(e){this.domNode=e,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),e.create=function(e){if(null==this.tagName)throw new o.ParchmentError("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),t="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},e.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return o.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,i,r){var n=this.isolate(e,t);if(null!=o.query(i,o.Scope.BLOT)&&r)n.wrap(i,r);else if(null!=o.query(i,o.Scope.ATTRIBUTE)){var s=o.create(this.statics.scope);n.wrap(s),s.format(i,r)}},e.prototype.insertAt=function(e,t,i){var r=null==i?o.create("text",t):o.create(t,i),n=this.split(e);this.parent.insertBefore(r,n)},e.prototype.insertInto=function(e,t){void 0===t&&(t=null),null!=this.parent&&this.parent.children.remove(this);var i=null;e.children.insertBefore(this,t),null!=t&&(i=t.domNode),this.domNode.parentNode==e.domNode&&this.domNode.nextSibling==i||e.domNode.insertBefore(this.domNode,i),this.parent=e,this.attach()},e.prototype.isolate=function(e,t){var i=this.split(e);return i.split(t),i},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){null!=this.domNode[o.DATA_KEY]&&delete this.domNode[o.DATA_KEY].mutations},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},e.prototype.replaceWith=function(e,t){var i="string"==typeof e?o.create(e,t):e;return i.replace(this),i},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var i="string"==typeof e?o.create(e,t):e;return null!=this.parent&&this.parent.insertBefore(i,this.next),i.appendChild(this),i},e.blotName="abstract",e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i(12),r=i(35),n=i(36),s=i(1),a=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=o.default.keys(this.domNode),i=r.default.keys(this.domNode),a=n.default.keys(this.domNode);t.concat(i).concat(a).forEach((function(t){var i=s.query(t,s.Scope.ATTRIBUTE);i instanceof o.default&&(e.attributes[i.attrName]=i)}))},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach((function(i){var o=t.attributes[i].value(t.domNode);e.format(i,o)}))},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach((function(e){t.attributes[e].remove(t.domNode)})),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce((function(t,i){return t[i]=e.attributes[i].value(e.domNode),t}),{})},e}();t.default=a},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function n(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter((function(e){return 0===e.indexOf(t+"-")}))}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map((function(e){return e.split("-").slice(0,-1).join("-")}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add(this.keyName+"-"+t),!0)},t.prototype.remove=function(e){n(e,this.keyName).forEach((function(t){e.classList.remove(t)})),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(n(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(i(12).default);t.default=s},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});function n(e){var t=e.split("-"),i=t.slice(1).map((function(e){return e[0].toUpperCase()+e.slice(1)})).join("");return t[0]+i}Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map((function(e){return e.split(":")[0].trim()}))},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[n(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[n(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[n(this.keyName)];return this.canAdd(e,t)?t:""},t}(i(12).default);t.default=s},function(e,t,i){"use strict";var o=Array.prototype.slice,r=i(38),n=Object.keys,s=n?function(e){return n(e)}:i(61),a=Object.keys;s.shim=function(){if(Object.keys){var e=function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2);e||(Object.keys=function(e){return r(e)?a(o.call(e)):a(e)})}else Object.keys=s;return Object.keys||s},e.exports=s},function(e,t,i){"use strict";var o=Object.prototype.toString;e.exports=function(e){var t=o.call(e),i="[object Arguments]"===t;return i||(i="[object Array]"!==t&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===o.call(e.callee)),i}},function(e,t,i){"use strict";var o=function(e){return e!=e};e.exports=function(e,t){return 0===e&&0===t?1/e==1/t:e===t||!(!o(e)||!o(t))}},function(e,t,i){"use strict";var o=i(39);e.exports=function(){return"function"==typeof Object.is?Object.is:o}},function(e,t,i){"use strict";var o=Object,r=TypeError;e.exports=function(){if(null!=this&&this!==o(this))throw new r("RegExp.prototype.flags getter called on non-object");var e="";return this.global&&(e+="g"),this.ignoreCase&&(e+="i"),this.multiline&&(e+="m"),this.dotAll&&(e+="s"),this.unicode&&(e+="u"),this.sticky&&(e+="y"),e}},function(e,t,i){"use strict";var o=i(41),r=i(13).supportsDescriptors,n=Object.getOwnPropertyDescriptor,s=TypeError;e.exports=function(){if(!r)throw new s("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");if("gim"===/a/gim.flags){var e=n(RegExp.prototype,"flags");if(e&&"function"==typeof e.get&&"boolean"==typeof/a/.dotAll)return e.get}return o}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=i,this.modules={}}return o(e,[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach((function(t){null==e.modules[t]&&e.addModule(t)}))}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/"+e);return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}]),e}();r.DEFAULTS={modules:{}},r.themes={default:r},t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=a(i(0)),s=a(i(7));function a(e){return e&&e.__esModule?e:{default:e}}var l="\ufeff",d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.contentNode=document.createElement("span"),i.contentNode.setAttribute("contenteditable",!1),[].slice.call(i.domNode.childNodes).forEach((function(e){i.contentNode.appendChild(e)})),i.leftGuard=document.createTextNode(l),i.rightGuard=document.createTextNode(l),i.domNode.appendChild(i.leftGuard),i.domNode.appendChild(i.contentNode),i.domNode.appendChild(i.rightGuard),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"index",value:function(e,i){return e===this.leftGuard?0:e===this.rightGuard?1:r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,e,i)}},{key:"restore",value:function(e){var t=void 0,i=void 0,o=e.data.split(l).join("");if(e===this.leftGuard)if(this.prev instanceof s.default){var r=this.prev.length();this.prev.insertAt(r,o),t={startNode:this.prev.domNode,startOffset:r+o.length}}else i=document.createTextNode(o),this.parent.insertBefore(n.default.create(i),this),t={startNode:i,startOffset:o.length};else e===this.rightGuard&&(this.next instanceof s.default?(this.next.insertAt(0,o),t={startNode:this.next.domNode,startOffset:o.length}):(i=document.createTextNode(o),this.parent.insertBefore(n.default.create(i),this.next),t={startNode:i,startOffset:o.length}));return e.data=l,t}},{key:"update",value:function(e,t){var i=this;e.forEach((function(e){if("characterData"===e.type&&(e.target===i.leftGuard||e.target===i.rightGuard)){var o=i.restore(e.target);o&&(t.range=o)}}))}}]),t}(n.default.Embed);t.default=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlignStyle=t.AlignClass=t.AlignAttribute=void 0;var o,r=i(0),n=(o=r)&&o.__esModule?o:{default:o},s={scope:n.default.Scope.BLOCK,whitelist:["right","center","justify"]},a=new n.default.Attributor.Attribute("align","align",s),l=new n.default.Attributor.Class("align","ql-align",s),d=new n.default.Attributor.Style("align","text-align",s);t.AlignAttribute=a,t.AlignClass=l,t.AlignStyle=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundStyle=t.BackgroundClass=void 0;var o,r=i(0),n=(o=r)&&o.__esModule?o:{default:o},s=i(29),a=new n.default.Attributor.Class("background","ql-bg",{scope:n.default.Scope.INLINE}),l=new s.ColorAttributor("background","background-color",{scope:n.default.Scope.INLINE});t.BackgroundClass=a,t.BackgroundStyle=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectionStyle=t.DirectionClass=t.DirectionAttribute=void 0;var o,r=i(0),n=(o=r)&&o.__esModule?o:{default:o},s={scope:n.default.Scope.BLOCK,whitelist:["rtl"]},a=new n.default.Attributor.Attribute("direction","dir",s),l=new n.default.Attributor.Class("direction","ql-direction",s),d=new n.default.Attributor.Style("direction","direction",s);t.DirectionAttribute=a,t.DirectionClass=l,t.DirectionStyle=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FontClass=t.FontStyle=void 0;var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(0),a=(o=s)&&o.__esModule?o:{default:o},l={scope:a.default.Scope.INLINE,whitelist:["serif","monospace"]},d=new a.default.Attributor.Class("font","ql-font",l),c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"value",value:function(e){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e).replace(/["']/g,"")}}]),t}(a.default.Attributor.Style),u=new c("font","font-family",l);t.FontStyle=u,t.FontClass=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SizeStyle=t.SizeClass=void 0;var o,r=i(0),n=(o=r)&&o.__esModule?o:{default:o},s=new n.default.Attributor.Class("size","ql-size",{scope:n.default.Scope.INLINE,whitelist:["small","large","huge"]}),a=new n.default.Attributor.Style("size","font-size",{scope:n.default.Scope.INLINE,whitelist:["10px","18px","32px"]});t.SizeClass=s,t.SizeStyle=a},function(e,t,i){"use strict";e.exports={align:{"":i(100),center:i(101),right:i(102),justify:i(103)},background:i(104),blockquote:i(105),bold:i(106),clean:i(107),code:i(82),"code-block":i(82),color:i(108),direction:{"":i(109),rtl:i(110)},float:{center:i(111),full:i(112),left:i(113),right:i(114)},formula:i(115),header:{1:i(116),2:i(117)},italic:i(118),image:i(119),indent:{"+1":i(120),"-1":i(121)},link:i(122),list:{ordered:i(123),bullet:i(124),check:i(125)},script:{sub:i(126),super:i(127)},strike:i(128),underline:i(129),video:i(130)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLastChangeIndex=t.default=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=s(i(0)),n=s(i(5));function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return o.lastRecorded=0,o.ignoreChange=!1,o.clear(),o.quill.on(n.default.events.EDITOR_CHANGE,(function(e,t,i,r){e!==n.default.events.TEXT_CHANGE||o.ignoreChange||(o.options.userOnly&&r!==n.default.sources.USER?o.transform(t):o.record(t,i))})),o.quill.keyboard.addBinding({key:"Z",shortKey:!0},o.undo.bind(o)),o.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},o.redo.bind(o)),/Win/i.test(navigator.platform)&&o.quill.keyboard.addBinding({key:"Y",shortKey:!0},o.redo.bind(o)),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var i=this.stack[e].pop();this.stack[t].push(i),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(i[e],n.default.sources.USER),this.ignoreChange=!1;var o=l(i[e]);this.quill.setSelection(o)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var i=this.quill.getContents().diff(t),o=Date.now();if(this.lastRecorded+this.options.delay>o&&this.stack.undo.length>0){var r=this.stack.undo.pop();i=i.compose(r.undo),e=r.redo.compose(e)}else this.lastRecorded=o;this.stack.undo.push({redo:e,undo:i}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){this.stack.undo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)})),this.stack.redo.forEach((function(t){t.undo=e.transform(t.undo,!0),t.redo=e.transform(t.redo,!0)}))}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(s(i(9)).default);function l(e){var t=e.reduce((function(e,t){return e+=t.delete||0}),0),i=e.length()-t;return function(e){var t=e.ops[e.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some((function(e){return null!=r.default.query(e,r.default.Scope.BLOCK)})))}(e)&&(i-=1),i}a.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},t.default=a,t.getLastChangeIndex=l},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BaseTooltip=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=f(i(3)),s=f(i(2)),a=f(i(8)),l=f(i(26)),d=f(i(43)),c=f(i(83)),u=f(i(84)),h=f(i(31)),p=f(i(85));function f(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var y=[!1,"center","right","justify"],v=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],_=[!1,"serif","monospace"],w=["1","2","3",!1],x=["small",!1,"large","huge"],C=function(e){function t(e,i){b(this,t);var o=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return e.emitter.listenDOM("click",document.body,(function t(i){if(!document.body.contains(e.root))return document.body.removeEventListener("click",t);null==o.tooltip||o.tooltip.root.contains(i.target)||document.activeElement===o.tooltip.textbox||o.quill.hasFocus()||o.tooltip.hide(),null!=o.pickers&&o.pickers.forEach((function(e){e.container.contains(i.target)||e.close()}))})),o}return m(t,e),o(t,[{key:"addModule",value:function(e){var i=r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addModule",this).call(this,e);return"toolbar"===e&&this.extendToolbar(i),i}},{key:"buildButtons",value:function(e,t){e.forEach((function(e){(e.getAttribute("class")||"").split(/\s+/).forEach((function(i){if(i.startsWith("ql-")&&(i=i.slice(3),null!=t[i]))if("direction"===i)e.innerHTML=t[i][""]+t[i].rtl;else if("string"==typeof t[i])e.innerHTML=t[i];else{var o=e.value||"";null!=o&&t[i][o]&&(e.innerHTML=t[i][o])}}))}))}},{key:"buildPickers",value:function(e,t){var i=this;this.pickers=e.map((function(e){if(e.classList.contains("ql-align"))return null==e.querySelector("option")&&O(e,y),new u.default(e,t.align);if(e.classList.contains("ql-background")||e.classList.contains("ql-color")){var i=e.classList.contains("ql-background")?"background":"color";return null==e.querySelector("option")&&O(e,v,"background"===i?"#ffffff":"#000000"),new c.default(e,t[i])}return null==e.querySelector("option")&&(e.classList.contains("ql-font")?O(e,_):e.classList.contains("ql-header")?O(e,w):e.classList.contains("ql-size")&&O(e,x)),new h.default(e)})),this.quill.on(a.default.events.EDITOR_CHANGE,(function(){i.pickers.forEach((function(e){e.update()}))}))}}]),t}(d.default);C.DEFAULTS=(0,n.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var e=this,t=this.container.querySelector("input.ql-image[type=file]");null==t&&((t=document.createElement("input")).setAttribute("type","file"),t.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),t.classList.add("ql-image"),t.addEventListener("change",(function(){if(null!=t.files&&null!=t.files[0]){var i=new FileReader;i.onload=function(i){var o=e.quill.getSelection(!0);e.quill.updateContents((new s.default).retain(o.index).delete(o.length).insert({image:i.target.result}),a.default.sources.USER),e.quill.setSelection(o.index+1,a.default.sources.SILENT),t.value=""},i.readAsDataURL(t.files[0])}})),this.container.appendChild(t)),t.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var S=function(e){function t(e,i){b(this,t);var o=g(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return o.textbox=o.root.querySelector('input[type="text"]'),o.listen(),o}return m(t,e),o(t,[{key:"listen",value:function(){var e=this;this.textbox.addEventListener("keydown",(function(t){l.default.match(t,"enter")?(e.save(),t.preventDefault()):l.default.match(t,"escape")&&(e.cancel(),t.preventDefault())}))}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=t?this.textbox.value=t:e!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+e)||""),this.root.setAttribute("data-mode",e)}},{key:"restoreFocus",value:function(){var e=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=e}},{key:"save",value:function(){var e,t,i=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var o=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",i,a.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",i,a.default.sources.USER)),this.quill.root.scrollTop=o;break;case"video":i=(t=(e=i).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||e.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(t[1]||"https")+"://www.youtube.com/embed/"+t[2]+"?showinfo=0":(t=e.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(t[1]||"https")+"://player.vimeo.com/video/"+t[2]+"/":e;case"formula":if(!i)break;var r=this.quill.getSelection(!0);if(null!=r){var n=r.index+r.length;this.quill.insertEmbed(n,this.root.getAttribute("data-mode"),i,a.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(n+1," ",a.default.sources.USER),this.quill.setSelection(n+2,a.default.sources.USER)}}this.textbox.value="",this.hide()}}]),t}(p.default);function O(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t.forEach((function(t){var o=document.createElement("option");t===i?o.setAttribute("selected","selected"):o.setAttribute("value",t),e.appendChild(o)}))}t.BaseTooltip=S,t.default=C},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){this.head=this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.insertBefore(e[0],null),e.length>1&&this.append.apply(this,e.slice(1))},e.prototype.contains=function(e){for(var t,i=this.iterator();t=i();)if(t===e)return!0;return!1},e.prototype.insertBefore=function(e,t){e&&(e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,i=this.head;null!=i;){if(i===e)return t;t+=i.length(),i=i.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var i,o=this.iterator();i=o();){var r=i.length();if(e<r||t&&e===r&&(null==i.next||0!==i.next.length()))return[i,e];e-=r}return[null,0]},e.prototype.forEach=function(e){for(var t,i=this.iterator();t=i();)e(t)},e.prototype.forEachAt=function(e,t,i){if(!(t<=0))for(var o,r=this.find(e),n=r[0],s=e-r[1],a=this.iterator(n);(o=a())&&s<e+t;){var l=o.length();e>s?i(o,e-s,Math.min(t,s+l-e)):i(o,0,Math.min(l,e+t-s)),s+=l}},e.prototype.map=function(e){return this.reduce((function(t,i){return t.push(e(i)),t}),[])},e.prototype.reduce=function(e,t){for(var i,o=this.iterator();i=o();)t=e(t,i);return t},e}();t.default=o},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var n=i(19),s=i(1),a={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},l=function(e){function t(t){var i=e.call(this,t)||this;return i.scroll=i,i.observer=new MutationObserver((function(e){i.update(e)})),i.observer.observe(i.domNode,a),i.attach(),i}return r(t,e),t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,i){this.update(),0===t&&i===this.length()?this.children.forEach((function(e){e.remove()})):e.prototype.deleteAt.call(this,t,i)},t.prototype.formatAt=function(t,i,o,r){this.update(),e.prototype.formatAt.call(this,t,i,o,r)},t.prototype.insertAt=function(t,i,o){this.update(),e.prototype.insertAt.call(this,t,i,o)},t.prototype.optimize=function(t,i){var o=this;void 0===t&&(t=[]),void 0===i&&(i={}),e.prototype.optimize.call(this,i);for(var r=[].slice.call(this.observer.takeRecords());r.length>0;)t.push(r.pop());for(var a=function(e,t){void 0===t&&(t=!0),null!=e&&e!==o&&null!=e.domNode.parentNode&&(null==e.domNode[s.DATA_KEY].mutations&&(e.domNode[s.DATA_KEY].mutations=[]),t&&a(e.parent))},l=function(e){null!=e.domNode[s.DATA_KEY]&&null!=e.domNode[s.DATA_KEY].mutations&&(e instanceof n.default&&e.children.forEach(l),e.optimize(i))},d=t,c=0;d.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(d.forEach((function(e){var t=s.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(a(s.find(e.previousSibling,!1)),[].forEach.call(e.addedNodes,(function(e){var t=s.find(e,!1);a(t,!1),t instanceof n.default&&t.children.forEach((function(e){a(e,!1)}))}))):"attributes"===e.type&&a(t.prev)),a(t))})),this.children.forEach(l),r=(d=[].slice.call(this.observer.takeRecords())).slice();r.length>0;)t.push(r.pop())}},t.prototype.update=function(t,i){var o=this;void 0===i&&(i={}),(t=t||this.observer.takeRecords()).map((function(e){var t=s.find(e.target,!0);return null==t?null:null==t.domNode[s.DATA_KEY].mutations?(t.domNode[s.DATA_KEY].mutations=[e],t):(t.domNode[s.DATA_KEY].mutations.push(e),null)})).forEach((function(e){null!=e&&e!==o&&null!=e.domNode[s.DATA_KEY]&&e.update(e.domNode[s.DATA_KEY].mutations||[],i)})),null!=this.domNode[s.DATA_KEY].mutations&&e.prototype.update.call(this,this.domNode[s.DATA_KEY].mutations,i),this.optimize(t,i)},t.blotName="scroll",t.defaultChild="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="DIV",t}(n.default);t.default=l},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var n=i(20),s=i(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(i){if(i.tagName!==t.tagName)return e.formats.call(this,i)},t.prototype.format=function(i,o){var r=this;i!==this.statics.blotName||o?e.prototype.format.call(this,i,o):(this.children.forEach((function(e){e instanceof n.default||(e=e.wrap(t.blotName,!0)),r.attributes.copy(e)})),this.unwrap())},t.prototype.formatAt=function(t,i,o,r){null!=this.formats()[o]||s.query(o,s.Scope.ATTRIBUTE)?this.isolate(t,i).format(o,r):e.prototype.formatAt.call(this,t,i,o,r)},t.prototype.optimize=function(i){e.prototype.optimize.call(this,i);var o=this.formats();if(0===Object.keys(o).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e)if(e[i]!==t[i])return!1;return!0}(o,r.formats())&&(r.moveChildren(this),r.remove())},t.blotName="inline",t.scope=s.Scope.INLINE_BLOT,t.tagName="SPAN",t}(n.default);t.default=a},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var n=i(20),s=i(1),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(i){var o=s.query(t.blotName).tagName;if(i.tagName!==o)return e.formats.call(this,i)},t.prototype.format=function(i,o){null!=s.query(i,s.Scope.BLOCK)&&(i!==this.statics.blotName||o?e.prototype.format.call(this,i,o):this.replaceWith(t.blotName))},t.prototype.formatAt=function(t,i,o,r){null!=s.query(o,s.Scope.BLOCK)?this.format(o,r):e.prototype.formatAt.call(this,t,i,o,r)},t.prototype.insertAt=function(t,i,o){if(null==o||null!=s.query(i,s.Scope.INLINE))e.prototype.insertAt.call(this,t,i,o);else{var r=this.split(t),n=s.create(i,o);r.parent.insertBefore(n,r)}},t.prototype.update=function(t,i){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,t,i)},t.blotName="block",t.scope=s.Scope.BLOCK_BLOT,t.tagName="P",t}(n.default);t.default=a},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.formats=function(e){},t.prototype.format=function(t,i){e.prototype.formatAt.call(this,0,this.length(),t,i)},t.prototype.formatAt=function(t,i,o,r){0===t&&i===this.length()?this.format(o,r):e.prototype.formatAt.call(this,t,i,o,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode)},t}(i(21).default);t.default=n},function(e,t,i){"use strict";var o,r=this&&this.__extends||(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},function(e,t){function i(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)});Object.defineProperty(t,"__esModule",{value:!0});var n=i(21),s=i(1),a=function(e){function t(t){var i=e.call(this,t)||this;return i.text=i.statics.value(i.domNode),i}return r(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){var t=e.data;return t.normalize&&(t=t.normalize()),t},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,i,o){null==o?(this.text=this.text.slice(0,t)+i+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,i,o)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(i){e.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var i=s.create(this.domNode.splitText(e));return this.parent.insertBefore(i,this.next),this.text=this.statics.value(this.domNode),i},t.prototype.update=function(e,t){var i=this;e.some((function(e){return"characterData"===e.type&&e.target===i.domNode}))&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=s.Scope.INLINE_BLOT,t}(n.default);t.default=a},function(e,t,i){"use strict";var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var r=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return arguments.length>1&&!this.contains(e)==!t?t:r.call(this,e)}}String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.substr(t,e.length)===e}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var i=this.toString();("number"!=typeof t||!isFinite(t)||Math.floor(t)!==t||t>i.length)&&(t=i.length),t-=e.length;var o=i.indexOf(e,t);return-1!==o&&o===t}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var t,i=Object(this),o=i.length>>>0,r=arguments[1],n=0;n<o;n++)if(t=i[n],e.call(r,t,n,i))return t}}),document.addEventListener("DOMContentLoaded",(function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)}))},function(e,t){var i=-1;function o(e,t,l){if(e==t)return e?[[0,e]]:[];(l<0||e.length<l)&&(l=null);var c=n(e,t),u=e.substring(0,c);c=s(e=e.substring(c),t=t.substring(c));var h=e.substring(e.length-c),p=function(e,t){var a;if(!e)return[[1,t]];if(!t)return[[i,e]];var l=e.length>t.length?e:t,d=e.length>t.length?t:e,c=l.indexOf(d);if(-1!=c)return a=[[1,l.substring(0,c)],[0,d],[1,l.substring(c+d.length)]],e.length>t.length&&(a[0][0]=a[2][0]=i),a;if(1==d.length)return[[i,e],[1,t]];var u=function(e,t){var i=e.length>t.length?e:t,o=e.length>t.length?t:e;if(i.length<4||2*o.length<i.length)return null;function r(e,t,i){for(var o,r,a,l,d=e.substring(i,i+Math.floor(e.length/4)),c=-1,u="";-1!=(c=t.indexOf(d,c+1));){var h=n(e.substring(i),t.substring(c)),p=s(e.substring(0,i),t.substring(0,c));u.length<p+h&&(u=t.substring(c-p,c)+t.substring(c,c+h),o=e.substring(0,i-p),r=e.substring(i+h),a=t.substring(0,c-p),l=t.substring(c+h))}return 2*u.length>=e.length?[o,r,a,l,u]:null}var a,l,d,c,u,h=r(i,o,Math.ceil(i.length/4)),p=r(i,o,Math.ceil(i.length/2));if(!h&&!p)return null;a=p?h&&h[4].length>p[4].length?h:p:h,e.length>t.length?(l=a[0],d=a[1],c=a[2],u=a[3]):(c=a[0],u=a[1],l=a[2],d=a[3]);var f=a[4];return[l,d,c,u,f]}(e,t);if(u){var h=u[0],p=u[1],f=u[2],b=u[3],g=u[4],m=o(h,f),y=o(p,b);return m.concat([[0,g]],y)}return function(e,t){for(var o=e.length,n=t.length,s=Math.ceil((o+n)/2),a=s,l=2*s,d=new Array(l),c=new Array(l),u=0;u<l;u++)d[u]=-1,c[u]=-1;d[a+1]=0,c[a+1]=0;for(var h=o-n,p=h%2!=0,f=0,b=0,g=0,m=0,y=0;y<s;y++){for(var v=-y+f;v<=y-b;v+=2){for(var _=a+v,w=(k=v==-y||v!=y&&d[_-1]<d[_+1]?d[_+1]:d[_-1]+1)-v;k<o&&w<n&&e.charAt(k)==t.charAt(w);)k++,w++;if(d[_]=k,k>o)b+=2;else if(w>n)f+=2;else if(p&&(S=a+h-v)>=0&&S<l&&-1!=c[S]&&k>=(C=o-c[S]))return r(e,t,k,w)}for(var x=-y+g;x<=y-m;x+=2){for(var C,S=a+x,O=(C=x==-y||x!=y&&c[S-1]<c[S+1]?c[S+1]:c[S-1]+1)-x;C<o&&O<n&&e.charAt(o-C-1)==t.charAt(n-O-1);)C++,O++;if(c[S]=C,C>o)m+=2;else if(O>n)g+=2;else if(!p){var k;if((_=a+h-x)>=0&&_<l&&-1!=d[_])if(w=a+(k=d[_])-_,k>=(C=o-C))return r(e,t,k,w)}}}return[[i,e],[1,t]]}(e,t)}(e=e.substring(0,e.length-c),t=t.substring(0,t.length-c));return u&&p.unshift([0,u]),h&&p.push([0,h]),a(p),null!=l&&(p=function(e,t){var o=function(e,t){if(0===t)return[0,e];for(var o=0,r=0;r<e.length;r++){var n=e[r];if(n[0]===i||0===n[0]){var s=o+n[1].length;if(t===s)return[r+1,e];if(t<s){e=e.slice();var a=t-o,l=[n[0],n[1].slice(0,a)],d=[n[0],n[1].slice(a)];return e.splice(r,1,l,d),[r+1,e]}o=s}}throw new Error("cursor_pos is out of bounds!")}(e,t),r=o[1],n=o[0],s=r[n],a=r[n+1];if(null==s)return e;if(0!==s[0])return e;if(null!=a&&s[1]+a[1]===a[1]+s[1])return r.splice(n,2,a,s),d(r,n,2);if(null!=a&&0===a[1].indexOf(s[1])){r.splice(n,2,[a[0],s[1]],[0,s[1]]);var l=a[1].slice(s[1].length);return l.length>0&&r.splice(n+2,0,[a[0],l]),d(r,n,3)}return e}(p,l)),p=function(e){for(var t=!1,o=function(e){return e.charCodeAt(0)>=56320&&e.charCodeAt(0)<=57343},r=function(e){return e.charCodeAt(e.length-1)>=55296&&e.charCodeAt(e.length-1)<=56319},n=2;n<e.length;n+=1)0===e[n-2][0]&&r(e[n-2][1])&&e[n-1][0]===i&&o(e[n-1][1])&&1===e[n][0]&&o(e[n][1])&&(t=!0,e[n-1][1]=e[n-2][1].slice(-1)+e[n-1][1],e[n][1]=e[n-2][1].slice(-1)+e[n][1],e[n-2][1]=e[n-2][1].slice(0,-1));if(!t)return e;var s=[];for(n=0;n<e.length;n+=1)e[n][1].length>0&&s.push(e[n]);return s}(p)}function r(e,t,i,r){var n=e.substring(0,i),s=t.substring(0,r),a=e.substring(i),l=t.substring(r),d=o(n,s),c=o(a,l);return d.concat(c)}function n(e,t){if(!e||!t||e.charAt(0)!=t.charAt(0))return 0;for(var i=0,o=Math.min(e.length,t.length),r=o,n=0;i<r;)e.substring(n,r)==t.substring(n,r)?n=i=r:o=r,r=Math.floor((o-i)/2+i);return r}function s(e,t){if(!e||!t||e.charAt(e.length-1)!=t.charAt(t.length-1))return 0;for(var i=0,o=Math.min(e.length,t.length),r=o,n=0;i<r;)e.substring(e.length-r,e.length-n)==t.substring(t.length-r,t.length-n)?n=i=r:o=r,r=Math.floor((o-i)/2+i);return r}function a(e){e.push([0,""]);for(var t,o=0,r=0,l=0,d="",c="";o<e.length;)switch(e[o][0]){case 1:l++,c+=e[o][1],o++;break;case i:r++,d+=e[o][1],o++;break;case 0:r+l>1?(0!==r&&0!==l&&(0!==(t=n(c,d))&&(o-r-l>0&&0==e[o-r-l-1][0]?e[o-r-l-1][1]+=c.substring(0,t):(e.splice(0,0,[0,c.substring(0,t)]),o++),c=c.substring(t),d=d.substring(t)),0!==(t=s(c,d))&&(e[o][1]=c.substring(c.length-t)+e[o][1],c=c.substring(0,c.length-t),d=d.substring(0,d.length-t))),0===r?e.splice(o-l,r+l,[1,c]):0===l?e.splice(o-r,r+l,[i,d]):e.splice(o-r-l,r+l,[i,d],[1,c]),o=o-r-l+(r?1:0)+(l?1:0)+1):0!==o&&0==e[o-1][0]?(e[o-1][1]+=e[o][1],e.splice(o,1)):o++,l=0,r=0,d="",c=""}""===e[e.length-1][1]&&e.pop();var u=!1;for(o=1;o<e.length-1;)0==e[o-1][0]&&0==e[o+1][0]&&(e[o][1].substring(e[o][1].length-e[o-1][1].length)==e[o-1][1]?(e[o][1]=e[o-1][1]+e[o][1].substring(0,e[o][1].length-e[o-1][1].length),e[o+1][1]=e[o-1][1]+e[o+1][1],e.splice(o-1,1),u=!0):e[o][1].substring(0,e[o+1][1].length)==e[o+1][1]&&(e[o-1][1]+=e[o+1][1],e[o][1]=e[o][1].substring(e[o+1][1].length)+e[o+1][1],e.splice(o+1,1),u=!0)),o++;u&&a(e)}var l=o;function d(e,t,i){for(var o=t+i-1;o>=0&&o>=t-1;o--)if(o+1<e.length){var r=e[o],n=e[o+1];r[0]===n[1]&&e.splice(o,2,[r[0],r[1]+n[1]])}return e}l.INSERT=1,l.DELETE=i,l.EQUAL=0,e.exports=l},function(e,t,i){"use strict";var o;if(!Object.keys){var r=Object.prototype.hasOwnProperty,n=Object.prototype.toString,s=i(38),a=Object.prototype.propertyIsEnumerable,l=!a.call({toString:null},"toString"),d=a.call((function(){}),"prototype"),c=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=function(e){var t=e.constructor;return t&&t.prototype===e},h={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},p=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!h["$"+e]&&r.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{u(window[e])}catch(e){return!0}}catch(e){return!0}return!1}();o=function(e){var t=null!==e&&"object"==typeof e,i="[object Function]"===n.call(e),o=s(e),a=t&&"[object String]"===n.call(e),h=[];if(!t&&!i&&!o)throw new TypeError("Object.keys called on a non-object");var f=d&&i;if(a&&e.length>0&&!r.call(e,0))for(var b=0;b<e.length;++b)h.push(String(b));if(o&&e.length>0)for(var g=0;g<e.length;++g)h.push(String(g));else for(var m in e)f&&"prototype"===m||!r.call(e,m)||h.push(String(m));if(l)for(var y=function(e){if("undefined"==typeof window||!p)return u(e);try{return u(e)}catch(e){return!1}}(e),v=0;v<c.length;++v)y&&"constructor"===c[v]||!r.call(e,c[v])||h.push(c[v]);return h}}e.exports=o},function(e,t,i){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,r=Object.prototype.toString,n=function(e){return!(o&&e&&"object"==typeof e&&Symbol.toStringTag in e)&&"[object Arguments]"===r.call(e)},s=function(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==r.call(e)&&"[object Function]"===r.call(e.callee)},a=function(){return n(arguments)}();n.isLegacyArguments=s,e.exports=a?n:s},function(e,t,i){"use strict";var o=i(13),r=i(64),n=i(39),s=i(40),a=i(70),l=r(s(),Object);o(l,{getPolyfill:s,implementation:n,shim:a}),e.exports=l},function(e,t,i){"use strict";var o=i(14),r=i(66),n=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||o.call(s,n),l=r("%Object.defineProperty%",!0);if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(){return a(o,s,arguments)};var d=function(){return a(o,n,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d},function(e,t,i){"use strict";var o=Array.prototype.slice,r=Object.prototype.toString;e.exports=function(e){var t=this;if("function"!=typeof t||"[object Function]"!==r.call(t))throw new TypeError("Function.prototype.bind called on incompatible "+t);for(var i,n=o.call(arguments,1),s=Math.max(0,t.length-n.length),a=[],l=0;l<s;l++)a.push("$"+l);if(i=Function("binder","return function ("+a.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof i){var r=t.apply(this,n.concat(o.call(arguments)));return Object(r)===r?r:this}return t.apply(e,n.concat(o.call(arguments)))})),t.prototype){var d=function(){};d.prototype=t.prototype,i.prototype=new d,d.prototype=null}return i}},function(e,t,i){"use strict";var o,r=SyntaxError,n=Function,s=TypeError,a=function(e){try{return Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(e){l=null}var d=function(){throw new s},c=l?function(){try{return d}catch(e){try{return l(arguments,"callee").get}catch(e){return d}}}():d,u=i(22)(),h=Object.getPrototypeOf||function(e){return e.__proto__},p=a("async function* () {}"),f=p?p.prototype:o,b=f?f.prototype:o,g="undefined"==typeof Uint8Array?o:h(Uint8Array),m={"%AggregateError%":"undefined"==typeof AggregateError?o:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):o,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":a("async function () {}"),"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":p,"%AsyncIteratorPrototype%":b?h(b):o,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%BigInt%":"undefined"==typeof BigInt?o:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?o:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?o:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":a("function* () {}"),"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):o,"%JSON%":"object"==typeof JSON?JSON:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):o,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):o,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):o,"%Symbol%":u?Symbol:o,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":g,"%TypeError%":s,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?o:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet},y={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=i(14),_=i(69),w=v.call(Function.call,Array.prototype.concat),x=v.call(Function.apply,Array.prototype.splice),C=v.call(Function.call,String.prototype.replace),S=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,O=/\\(\\)?/g;e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new s("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new s('"allowMissing" argument must be a boolean');var i,o=(i=[],C(e,S,(function(e,t,o,r){i[i.length]=o?C(r,O,"$1"):t||e})),i),n=o.length>0?o[0]:"",a=function(e,t){var i,o=e;if(_(y,o)&&(o="%"+(i=y[o])[0]+"%"),_(m,o)){var n=m[o];if(void 0===n&&!t)throw new s("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:o,value:n}}throw new r("intrinsic "+e+" does not exist!")}("%"+n+"%",t),d=a.name,c=a.value,u=!1,h=a.alias;h&&(n=h[0],x(o,w([0,1],h)));for(var p=1,f=!0;p<o.length;p+=1){var b=o[p];if("constructor"!==b&&f||(u=!0),_(m,d="%"+(n+="."+b)+"%"))c=m[d];else if(null!=c){if(l&&p+1>=o.length){var g=l(c,b);if(f=!!g,!t&&!(b in c))throw new s("base intrinsic for "+e+" exists, but the property is not available.");c=f&&"get"in g&&!("originalValue"in g.get)?g.get:c[b]}else f=_(c,b),c=c[b];f&&!u&&(m[d]=c)}}return c}},function(e,t){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t,i){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),i=Object(t);if("string"==typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(i))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var o=Object.getOwnPropertySymbols(e);if(1!==o.length||o[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var r=Object.getOwnPropertyDescriptor(e,t);if(42!==r.value||!0!==r.enumerable)return!1}return!0}},function(e,t,i){"use strict";var o=i(14);e.exports=o.call(Function.call,Object.prototype.hasOwnProperty)},function(e,t,i){"use strict";var o=i(40),r=i(13);e.exports=function(){var e=o();return r(Object,{is:e},{is:function(){return Object.is!==e}}),e}},function(e,t,i){"use strict";var o,r,n,s,a=i(22)()&&"symbol"==typeof Symbol.toStringTag;if(a){o=Function.call.bind(Object.prototype.hasOwnProperty),r=Function.call.bind(RegExp.prototype.exec),n={};var l=function(){throw n};s={toString:l,valueOf:l},"symbol"==typeof Symbol.toPrimitive&&(s[Symbol.toPrimitive]=l)}var d=Object.prototype.toString,c=Object.getOwnPropertyDescriptor;e.exports=a?function(e){if(!e||"object"!=typeof e)return!1;var t=c(e,"lastIndex");if(!t||!o(t,"value"))return!1;try{r(e,s)}catch(e){return e===n}}:function(e){return!(!e||"object"!=typeof e&&"function"!=typeof e)&&"[object RegExp]"===d.call(e)}},function(e,t,i){"use strict";var o=i(13),r=i(73),n=i(41),s=i(42),a=i(75),l=r(n);o(l,{getPolyfill:s,implementation:n,shim:a}),e.exports=l},function(e,t,i){"use strict";var o=i(14),r=i(74),n=r("%Function.prototype.apply%"),s=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||o.call(s,n),l=r("%Object.defineProperty%",!0);if(l)try{l({},"a",{value:1})}catch(e){l=null}e.exports=function(){return a(o,s,arguments)};var d=function(){return a(o,n,arguments)};l?l(e.exports,"apply",{value:d}):e.exports.apply=d},function(e,t,i){"use strict";var o,r=TypeError,n=Object.getOwnPropertyDescriptor;if(n)try{n({},"")}catch(e){n=null}var s=function(){throw new r},a=n?function(){try{return s}catch(e){try{return n(arguments,"callee").get}catch(e){return s}}}():s,l=i(22)(),d=Object.getPrototypeOf||function(e){return e.__proto__},c=o,u=o,h=o,p=o,f="undefined"==typeof Uint8Array?o:d(Uint8Array),b={"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer,"%ArrayBufferPrototype%":"undefined"==typeof ArrayBuffer?o:ArrayBuffer.prototype,"%ArrayIteratorPrototype%":l?d([][Symbol.iterator]()):o,"%ArrayPrototype%":Array.prototype,"%ArrayProto_entries%":Array.prototype.entries,"%ArrayProto_forEach%":Array.prototype.forEach,"%ArrayProto_keys%":Array.prototype.keys,"%ArrayProto_values%":Array.prototype.values,"%AsyncFromSyncIteratorPrototype%":o,"%AsyncFunction%":u,"%AsyncFunctionPrototype%":o,"%AsyncGenerator%":o,"%AsyncGeneratorFunction%":h,"%AsyncGeneratorPrototype%":o,"%AsyncIteratorPrototype%":p&&l&&Symbol.asyncIterator?p[Symbol.asyncIterator]():o,"%Atomics%":"undefined"==typeof Atomics?o:Atomics,"%Boolean%":Boolean,"%BooleanPrototype%":Boolean.prototype,"%DataView%":"undefined"==typeof DataView?o:DataView,"%DataViewPrototype%":"undefined"==typeof DataView?o:DataView.prototype,"%Date%":Date,"%DatePrototype%":Date.prototype,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%ErrorPrototype%":Error.prototype,"%eval%":eval,"%EvalError%":EvalError,"%EvalErrorPrototype%":EvalError.prototype,"%Float32Array%":"undefined"==typeof Float32Array?o:Float32Array,"%Float32ArrayPrototype%":"undefined"==typeof Float32Array?o:Float32Array.prototype,"%Float64Array%":"undefined"==typeof Float64Array?o:Float64Array,"%Float64ArrayPrototype%":"undefined"==typeof Float64Array?o:Float64Array.prototype,"%Function%":Function,"%FunctionPrototype%":Function.prototype,"%Generator%":o,"%GeneratorFunction%":c,"%GeneratorPrototype%":o,"%Int8Array%":"undefined"==typeof Int8Array?o:Int8Array,"%Int8ArrayPrototype%":"undefined"==typeof Int8Array?o:Int8Array.prototype,"%Int16Array%":"undefined"==typeof Int16Array?o:Int16Array,"%Int16ArrayPrototype%":"undefined"==typeof Int16Array?o:Int8Array.prototype,"%Int32Array%":"undefined"==typeof Int32Array?o:Int32Array,"%Int32ArrayPrototype%":"undefined"==typeof Int32Array?o:Int32Array.prototype,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l?d(d([][Symbol.iterator]())):o,"%JSON%":"object"==typeof JSON?JSON:o,"%JSONParse%":"object"==typeof JSON?JSON.parse:o,"%Map%":"undefined"==typeof Map?o:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&l?d((new Map)[Symbol.iterator]()):o,"%MapPrototype%":"undefined"==typeof Map?o:Map.prototype,"%Math%":Math,"%Number%":Number,"%NumberPrototype%":Number.prototype,"%Object%":Object,"%ObjectPrototype%":Object.prototype,"%ObjProto_toString%":Object.prototype.toString,"%ObjProto_valueOf%":Object.prototype.valueOf,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?o:Promise,"%PromisePrototype%":"undefined"==typeof Promise?o:Promise.prototype,"%PromiseProto_then%":"undefined"==typeof Promise?o:Promise.prototype.then,"%Promise_all%":"undefined"==typeof Promise?o:Promise.all,"%Promise_reject%":"undefined"==typeof Promise?o:Promise.reject,"%Promise_resolve%":"undefined"==typeof Promise?o:Promise.resolve,"%Proxy%":"undefined"==typeof Proxy?o:Proxy,"%RangeError%":RangeError,"%RangeErrorPrototype%":RangeError.prototype,"%ReferenceError%":ReferenceError,"%ReferenceErrorPrototype%":ReferenceError.prototype,"%Reflect%":"undefined"==typeof Reflect?o:Reflect,"%RegExp%":RegExp,"%RegExpPrototype%":RegExp.prototype,"%Set%":"undefined"==typeof Set?o:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&l?d((new Set)[Symbol.iterator]()):o,"%SetPrototype%":"undefined"==typeof Set?o:Set.prototype,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer,"%SharedArrayBufferPrototype%":"undefined"==typeof SharedArrayBuffer?o:SharedArrayBuffer.prototype,"%String%":String,"%StringIteratorPrototype%":l?d(""[Symbol.iterator]()):o,"%StringPrototype%":String.prototype,"%Symbol%":l?Symbol:o,"%SymbolPrototype%":l?Symbol.prototype:o,"%SyntaxError%":SyntaxError,"%SyntaxErrorPrototype%":SyntaxError.prototype,"%ThrowTypeError%":a,"%TypedArray%":f,"%TypedArrayPrototype%":f?f.prototype:o,"%TypeError%":r,"%TypeErrorPrototype%":r.prototype,"%Uint8Array%":"undefined"==typeof Uint8Array?o:Uint8Array,"%Uint8ArrayPrototype%":"undefined"==typeof Uint8Array?o:Uint8Array.prototype,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray,"%Uint8ClampedArrayPrototype%":"undefined"==typeof Uint8ClampedArray?o:Uint8ClampedArray.prototype,"%Uint16Array%":"undefined"==typeof Uint16Array?o:Uint16Array,"%Uint16ArrayPrototype%":"undefined"==typeof Uint16Array?o:Uint16Array.prototype,"%Uint32Array%":"undefined"==typeof Uint32Array?o:Uint32Array,"%Uint32ArrayPrototype%":"undefined"==typeof Uint32Array?o:Uint32Array.prototype,"%URIError%":URIError,"%URIErrorPrototype%":URIError.prototype,"%WeakMap%":"undefined"==typeof WeakMap?o:WeakMap,"%WeakMapPrototype%":"undefined"==typeof WeakMap?o:WeakMap.prototype,"%WeakSet%":"undefined"==typeof WeakSet?o:WeakSet,"%WeakSetPrototype%":"undefined"==typeof WeakSet?o:WeakSet.prototype},g=i(14).call(Function.call,String.prototype.replace),m=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,y=/\\(\\)?/g;e.exports=function(e,t){if("string"!=typeof e||0===e.length)throw new TypeError("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new TypeError('"allowMissing" argument must be a boolean');for(var i,o=(i=[],g(e,m,(function(e,t,o,r){i[i.length]=o?g(r,y,"$1"):t||e})),i),s=function(e,t){if(!(e in b))throw new SyntaxError("intrinsic "+e+" does not exist!");if(void 0===b[e]&&!t)throw new r("intrinsic "+e+" exists, but is not available. Please file an issue!");return b[e]}("%"+(o.length>0?o[0]:"")+"%",t),a=1;a<o.length;a+=1)if(null!=s)if(n&&a+1>=o.length){var l=n(s,o[a]);if(!t&&!(o[a]in s))throw new r("base intrinsic for "+e+" exists, but the property is not available.");s=l&&"get"in l&&!("originalValue"in l.get)?l.get:s[o[a]]}else s=s[o[a]];return s}},function(e,t,i){"use strict";var o=i(13).supportsDescriptors,r=i(42),n=Object.getOwnPropertyDescriptor,s=Object.defineProperty,a=TypeError,l=Object.getPrototypeOf,d=/a/;e.exports=function(){if(!o||!l)throw new a("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var e=r(),t=l(d),i=n(t,"flags");return i&&i.get===e||s(t,"flags",{configurable:!0,enumerable:!1,get:e}),e}},function(e,t,i){"use strict";var o=Date.prototype.getDay,r=Object.prototype.toString,n="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag;e.exports=function(e){return"object"==typeof e&&null!==e&&(n?function(e){try{return o.call(e),!0}catch(e){return!1}}(e):"[object Date]"===r.call(e))}},function(e,t){"use strict";var i=Object.prototype.hasOwnProperty,o="~";function r(){}function n(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function s(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)i.call(e,t)&&r.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},s.prototype.listeners=function(e,t){var i=o?o+e:e,r=this._events[i];if(t)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var n=0,s=r.length,a=new Array(s);n<s;n++)a[n]=r[n].fn;return a},s.prototype.emit=function(e,t,i,r,n,s){var a=o?o+e:e;if(!this._events[a])return!1;var l,d,c=this._events[a],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,r),!0;case 5:return c.fn.call(c.context,t,i,r,n),!0;case 6:return c.fn.call(c.context,t,i,r,n,s),!0}for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];c.fn.apply(c.context,l)}else{var h,p=c.length;for(d=0;d<p;d++)switch(c[d].once&&this.removeListener(e,c[d].fn,void 0,!0),u){case 1:c[d].fn.call(c[d].context);break;case 2:c[d].fn.call(c[d].context,t);break;case 3:c[d].fn.call(c[d].context,t,i);break;case 4:c[d].fn.call(c[d].context,t,i,r);break;default:if(!l)for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];c[d].fn.apply(c[d].context,l)}}return!0},s.prototype.on=function(e,t,i){var r=new n(t,i||this),s=o?o+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},s.prototype.once=function(e,t,i){var r=new n(t,i||this,!0),s=o?o+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],r]:this._events[s].push(r):(this._events[s]=r,this._eventsCount++),this},s.prototype.removeListener=function(e,t,i,n){var s=o?o+e:e;if(!this._events[s])return this;if(!t)return 0==--this._eventsCount?this._events=new r:delete this._events[s],this;var a=this._events[s];if(a.fn)a.fn!==t||n&&!a.once||i&&a.context!==i||(0==--this._eventsCount?this._events=new r:delete this._events[s]);else{for(var l=0,d=[],c=a.length;l<c;l++)(a[l].fn!==t||n&&!a[l].once||i&&a[l].context!==i)&&d.push(a[l]);d.length?this._events[s]=1===d.length?d[0]:d:0==--this._eventsCount?this._events=new r:delete this._events[s]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new r:delete this._events[t])):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=o,s.EventEmitter=s,void 0!==e&&(e.exports=s)},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findCaretFocus=h,t.setRange=function(e,t,i,o,r,n){if(a&&e.getRootNode()instanceof ShadowRoot)t.setBaseAndExtent(i,o,r,n),m.set(e.getRootNode(),y(e)),setTimeout((function(){m.delete(e.getRootNode())}));else{var s=document.createRange();s.setStart(i,o),s.setEnd(r,n),t.removeAllRanges(),t.addRange(s)}},t.getRange=y;var o=!1,r="attachShadow"in Element.prototype&&"getRootNode"in Element.prototype,n=!(!r||!document.createElement("div").attachShadow({mode:"open"}).getSelection),s=window.ShadyDOM&&window.ShadyDOM.inUse,a=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,l=!r||s||!n&&!a,d=/^(area|base|br|col|command|embed|hr|img|input|keygen|link|meta|param|script|source|style|template|track|wbr)$/,c=t.eventName="-shadow-selectionchange",u=[Node.ELEMENT_NODE,Node.TEXT_NODE,Node.DOCUMENT_FRAGMENT_NODE];function h(e,t){if(!t)return null;var i=[],o=function(e){for(var t=0;t<e.length;++t)e[t].shadowRoot&&i.push(e[t].shadowRoot)};for(t instanceof Element&&t.shadowRoot&&i.push(t.shadowRoot),o(t.childNodes);;){var r=i.shift();if(!r)break;for(var n=0;n<r.childNodes.length;++n)if(e.containsNode(r.childNodes[n],!0))return r;o(r.querySelectorAll("*"))}return null}function p(e,t,i){var r,n=t.childNodes;if(!n)return t;for(var s=0;s<n.length;++s){var a=n[i?s:n.length-1-s];if(r=a,u.includes(r.nodeType)){if(o&&console.debug("checking child",a,"IsLeft",i),e.containsNode(a,!0)){if(e.containsNode(a,!1))return o&&console.info("found child",a),a;var l=a instanceof Element?a.localName:"";if(!l||!d.exec(l))return o&&console.info("descending child",a),p(e,a,i)}o&&console.info(t,"does NOT contain",a)}}return t}var f={node:null,offset:-1};function b(e,t,i){for(var o=t;null!=(t=g(t,i))&&t.contains(o););return!!t&&t instanceof Element&&e.containsNode(t,!0)}function g(e,t){if(!t&&e)return e.previousSibling||e.parentNode||null;for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}return null}!function(){if(n||l)return document.addEventListener("selectionchange",(function(){document.dispatchEvent(new CustomEvent(c))})),function(){};var e=!1;document.addEventListener("selectionchange",(function(){if(!e){e=!0;var t=window.getSelection();if(t&&"Caret"===t.type){var i=h(t,t.anchorNode);if(i instanceof window.ShadowRoot){var o=y(i);if(o){var r=o.startContainer,n=o.startOffset;f={node:r,offset:n}}}}document.dispatchEvent(new CustomEvent("-shadow-selectionchange")),window.requestAnimationFrame((function(){e=!1}))}}))}();var m=new Map;function y(e){if(s){var t=document.getSelection();return t&&t.rangeCount?t.getRangeAt(0):null}if(l){var i=document.getSelection();return i&&i.containsNode(e,!0)?i.getRangeAt(0):null}if(n){var r=e.getSelection();return r.rangeCount?r.getRangeAt(0):null}var a=m.get(e);if(a)return a;var d=function(e){var t=window.getSelection();if(!t||"None"===t.type)return{range:null,type:"none"};if("Caret"!==t.type&&"Range"!==t.type)throw new TypeError("unexpected type: "+t.type);var i=p(t,e,!0);if(i===e)return o&&console.warn("internal selection bail because leftNode=root"),{range:null,mode:"none"};var r=document.createRange(),n=null,s=void 0;if("Range"===t.type&&(s=function(e,t,i){if("Range"===e.type){var r=function(){return e.toString().length},n=r();o&&console.info('initial selection: "'+e.toString()+'"');var s=void 0;return e.modify("extend","forward","character"),s=r(),o&&console.info('forward selection: "'+e.toString()+'"'),s>n||b(e,i,!0)?(o&&console.info("got forward >, moving right"),e.modify("extend","backward","character"),!0):s<n||!e.containsNode(t)?(o&&console.info("got forward <, moving left"),e.modify("extend","backward","character"),!1):(e.modify("extend","backward","character"),s=r(),o&&console.info('backward selection: "'+e.toString()+'"'),s>n||b(e,t,!1)?(o&&console.info("got backwards >, moving left"),e.modify("extend","forward","character"),!1):s<n||!e.containsNode(i)?(o&&console.info("got backwards <, moving right"),e.modify("extend","forward","character"),!0):void 0)}}(t,i,n=p(t,e,!1)),void 0===s)){r.setStart(i,0);var a=n.childNodes.length;return n instanceof Text&&(a=n.length),r.setEnd(n,a),{range:r,mode:"all"}}var l=t.toString().length,d=0,c=0;if(null===n);else if(n.nodeType===Node.TEXT_NODE){for(var u=n,h=u.textContent||"",g=u.nextSibling,m=h.length-1;m>=0;--m)if(u.splitText(m),t.toString().length!==l){c=m+1;break}for(u.insertData(u.length,h.substr(u.length));u.nextSibling!==g;)u.nextSibling.remove()}if(i.nodeType===Node.TEXT_NODE){var y=i;y!==n&&(y.appendData("?"),t.collapseToStart(),t.modify("extend","right","character"));for(var v=y.textContent||"",_=y.nextSibling,w=y===n?c:v.length-1;w>=0;--w)if(y.splitText(w),""===t.toString()){d=w;break}for(y.insertData(y.length,v.substr(y.length));y.nextSibling!==_;)y.nextSibling.remove();i!==n&&y.deleteData(y.length-1,1),null===n&&(n=i,c=d)}else null===n&&(n=i);return 1===l&&f&&f.node===i&&f.offset>d&&s&&(s=!1),!0===s?(t.collapse(i,d),t.extend(n,c)):!1===s?(t.collapse(n,c),t.extend(i,d)):t.setPosition(i,d),r.setStart(i,d),r.setEnd(n,c),{range:r,mode:"normal"}}(e);return m.set(e,d.range),window.setTimeout((function(){m.delete(e)}),0),o&&console.debug("getRange got",d),d.range}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchText=t.matchSpacing=t.matchNewline=t.matchBlot=t.matchAttributor=t.default=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=v(i(3)),a=v(i(2)),l=v(i(0)),d=v(i(5)),c=v(i(10)),u=v(i(9)),h=i(45),p=i(46),f=v(i(15)),b=i(29),g=i(47),m=i(48),y=i(49);function v(e){return e&&e.__esModule?e:{default:e}}function _(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var w=(0,c.default)("quill:clipboard"),x="__ql-matcher",C=[[Node.TEXT_NODE,N],[Node.TEXT_NODE,A],["br",function(e,t){return T(t,"\n")||t.insert("\n"),t}],[Node.ELEMENT_NODE,A],[Node.ELEMENT_NODE,L],[Node.ELEMENT_NODE,F],[Node.ELEMENT_NODE,P],[Node.ELEMENT_NODE,function(e,t){var i={},o=e.style||{};return o.fontStyle&&"italic"===I(e).fontStyle&&(i.italic=!0),o.fontWeight&&(I(e).fontWeight.startsWith("bold")||parseInt(I(e).fontWeight)>=700)&&(i.bold=!0),Object.keys(i).length>0&&(t=E(t,i)),parseFloat(o.textIndent||0)>0&&(t=(new a.default).insert("\t").concat(t)),t}],["li",function(e,t){var i=l.default.query(e);if(null==i||"list-item"!==i.blotName||!T(t,"\n"))return t;for(var o=-1,r=e.parentNode;!r.classList.contains("ql-clipboard");)"list"===(l.default.query(r)||{}).blotName&&(o+=1),r=r.parentNode;return o<=0?t:t.compose((new a.default).retain(t.length()-1).retain(1,{indent:o}))}],["b",D.bind(D,"bold")],["i",D.bind(D,"italic")],["style",function(){return new a.default}]],S=[h.AlignAttribute,g.DirectionAttribute].reduce((function(e,t){return e[t.keyName]=t,e}),{}),O=[h.AlignStyle,p.BackgroundStyle,b.ColorStyle,g.DirectionStyle,m.FontStyle,y.SizeStyle].reduce((function(e,t){return e[t.keyName]=t,e}),{}),k=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return o.quill.root.addEventListener("paste",o.onPaste.bind(o)),o.container=o.quill.addContainer("ql-clipboard"),o.container.setAttribute("contenteditable",!0),o.container.setAttribute("tabindex",-1),o.matchers=[],C.concat(o.options.matchers).forEach((function(e){var t=r(e,2),n=t[0],s=t[1];(i.matchVisual||s!==F)&&o.addMatcher(n,s)})),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"convert",value:function(e){if("string"==typeof e)return this.container.innerHTML=e.replace(/\>\r?\n +\</g,"><"),this.convert();var t=this.quill.getFormat(this.quill.selection.savedRange.index);if(t[f.default.blotName]){var i=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(i,_({},f.default.blotName,t[f.default.blotName]))}var o=this.prepareMatching(),n=r(o,2),s=n[0],l=n[1],d=B(this.container,s,l);return T(d,"\n")&&null==d.ops[d.ops.length-1].attributes&&(d=d.compose((new a.default).retain(d.length()-1).delete(1))),w.log("convert",this.container.innerHTML,d),this.container.innerHTML="",d}},{key:"dangerouslyPasteHTML",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.default.sources.API;if("string"==typeof e)this.quill.setContents(this.convert(e),t),this.quill.setSelection(0,d.default.sources.SILENT);else{var o=this.convert(t);this.quill.updateContents((new a.default).retain(e).concat(o),i),this.quill.setSelection(e+o.length(),d.default.sources.SILENT)}}},{key:"onPaste",value:function(e){var t=this;if(!e.defaultPrevented&&this.quill.isEnabled()){var i=this.quill.getSelection(),o=(new a.default).retain(i.index),r=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(d.default.sources.SILENT),setTimeout((function(){o=o.concat(t.convert()).delete(i.length),t.quill.updateContents(o,d.default.sources.USER),t.quill.setSelection(o.length()-i.length,d.default.sources.SILENT),t.quill.scrollingContainer.scrollTop=r,t.quill.focus()}),1)}}},{key:"prepareMatching",value:function(){var e=this,t=[],i=[];return this.matchers.forEach((function(o){var n=r(o,2),s=n[0],a=n[1];switch(s){case Node.TEXT_NODE:i.push(a);break;case Node.ELEMENT_NODE:t.push(a);break;default:[].forEach.call(e.container.querySelectorAll(s),(function(e){e[x]=e[x]||[],e[x].push(a)}))}})),[t,i]}}]),t}(u.default);function E(e,t,i){return"object"===(void 0===t?"undefined":o(t))?Object.keys(t).reduce((function(e,i){return E(e,i,t[i])}),e):e.reduce((function(e,o){return o.attributes&&o.attributes[t]?e.push(o):e.insert(o.insert,(0,s.default)({},_({},t,i),o.attributes))}),new a.default)}function I(e){if(e.nodeType!==Node.ELEMENT_NODE)return{};var t="__ql-computed-style";return e[t]||(e[t]=window.getComputedStyle(e))}function T(e,t){for(var i="",o=e.ops.length-1;o>=0&&i.length<t.length;--o){var r=e.ops[o];if("string"!=typeof r.insert)break;i=r.insert+i}return i.slice(-1*t.length)===t}function M(e){if(0===e.childNodes.length)return!1;var t=I(e);return["block","list-item"].indexOf(t.display)>-1}function B(e,t,i){return e.nodeType===e.TEXT_NODE?i.reduce((function(t,i){return i(e,t)}),new a.default):e.nodeType===e.ELEMENT_NODE?[].reduce.call(e.childNodes||[],(function(o,r){var n=B(r,t,i);return r.nodeType===e.ELEMENT_NODE&&(n=t.reduce((function(e,t){return t(r,e)}),n),n=(r[x]||[]).reduce((function(e,t){return t(r,e)}),n)),o.concat(n)}),new a.default):new a.default}function D(e,t,i){return E(i,e,!0)}function P(e,t){var i=l.default.Attributor.Attribute.keys(e),o=l.default.Attributor.Class.keys(e),r=l.default.Attributor.Style.keys(e),n={};return i.concat(o).concat(r).forEach((function(t){var i=l.default.query(t,l.default.Scope.ATTRIBUTE);null!=i&&(n[i.attrName]=i.value(e),n[i.attrName])||(null==(i=S[t])||i.attrName!==t&&i.keyName!==t||(n[i.attrName]=i.value(e)||void 0),null==(i=O[t])||i.attrName!==t&&i.keyName!==t||(i=O[t],n[i.attrName]=i.value(e)||void 0))})),Object.keys(n).length>0&&(t=E(t,n)),t}function L(e,t){var i=l.default.query(e);if(null==i)return t;if(i.prototype instanceof l.default.Embed){var o={},r=i.value(e);null!=r&&(o[i.blotName]=r,t=(new a.default).insert(o,i.formats(e)))}else"function"==typeof i.formats&&(t=E(t,i.blotName,i.formats(e)));return t}function A(e,t){return T(t,"\n")||(M(e)||t.length()>0&&e.nextSibling&&M(e.nextSibling))&&t.insert("\n"),t}function F(e,t){if(M(e)&&null!=e.nextElementSibling&&!T(t,"\n\n")){var i=e.offsetHeight+parseFloat(I(e).marginTop)+parseFloat(I(e).marginBottom);e.nextElementSibling.offsetTop>e.offsetTop+1.5*i&&t.insert("\n")}return t}function N(e,t){var i=e.data;if("O:P"===e.parentNode.tagName)return t.insert(i.trim());if(0===i.trim().length&&e.parentNode.classList.contains("ql-clipboard"))return t;if(!I(e.parentNode).whiteSpace.startsWith("pre")){var o=function(e,t){return(t=t.replace(/[^\u00a0]/g,"")).length<1&&e?" ":t};i=(i=i.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,o.bind(o,!0)),(null==e.previousSibling&&M(e.parentNode)||null!=e.previousSibling&&M(e.previousSibling))&&(i=i.replace(/^\s+/,o.bind(o,!1))),(null==e.nextSibling&&M(e.parentNode)||null!=e.nextSibling&&M(e.nextSibling))&&(i=i.replace(/\s+$/,o.bind(o,!1)))}return t.insert(i)}k.DEFAULTS={matchers:[],matchVisual:!0},t.default=k,t.matchAttributor=P,t.matchBlot=L,t.matchNewline=A,t.matchSpacing=F,t.matchText=N},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"optimize",value:function(e){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),t}(((o=s)&&o.__esModule?o:{default:o}).default);a.blotName="bold",a.tagName=["STRONG","B"],t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addControls=t.default=void 0;var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=c(i(2)),s=c(i(0)),a=c(i(5)),l=c(i(10)),d=c(i(9));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var h=(0,l.default)("quill:toolbar"),p=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r,n=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));if(Array.isArray(n.options.container)){var s=document.createElement("div");b(s,n.options.container),e.container.parentNode.insertBefore(s,e.container),n.container=s}else"string"==typeof n.options.container?n.container=document.querySelector(n.options.container):n.container=n.options.container;return n.container instanceof HTMLElement?(n.container.classList.add("ql-toolbar"),n.controls=[],n.handlers={},Object.keys(n.options.handlers).forEach((function(e){n.addHandler(e,n.options.handlers[e])})),[].forEach.call(n.container.querySelectorAll("button, select"),(function(e){n.attach(e)})),n.quill.on(a.default.events.EDITOR_CHANGE,(function(e,t){e===a.default.events.SELECTION_CHANGE&&n.update(t)})),n.quill.on(a.default.events.SCROLL_OPTIMIZE,(function(){var e=n.quill.selection.getRange(),t=o(e,1)[0];n.update(t)})),n):(r=h.error("Container required for toolbar",n.options),u(n,r))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"addHandler",value:function(e,t){this.handlers[e]=t}},{key:"attach",value:function(e){var t=this,i=[].find.call(e.classList,(function(e){return 0===e.indexOf("ql-")}));if(i){if(i=i.slice(3),"BUTTON"===e.tagName&&e.setAttribute("type","button"),null==this.handlers[i]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[i])return void h.warn("ignoring attaching to disabled format",i,e);if(null==s.default.query(i))return void h.warn("ignoring attaching to nonexistent format",i,e)}var r="SELECT"===e.tagName?"change":"click";e.addEventListener(r,(function(r){var l=void 0;if("SELECT"===e.tagName){if(e.selectedIndex<0)return;var d=e.options[e.selectedIndex];l=!d.hasAttribute("selected")&&(d.value||!1)}else l=!e.classList.contains("ql-active")&&(e.value||!e.hasAttribute("value")),r.preventDefault();t.quill.focus();var c=t.quill.selection.getRange(),u=o(c,1)[0];if(null!=t.handlers[i])t.handlers[i].call(t,l);else if(s.default.query(i).prototype instanceof s.default.Embed){if(!(l=prompt("Enter "+i)))return;t.quill.updateContents((new n.default).retain(u.index).delete(u.length).insert(function(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}({},i,l)),a.default.sources.USER)}else t.quill.format(i,l,a.default.sources.USER);t.update(u)})),this.controls.push([i,e])}}},{key:"update",value:function(e){var t=null==e?{}:this.quill.getFormat(e);this.controls.forEach((function(i){var r=o(i,2),n=r[0],s=r[1];if("SELECT"===s.tagName){var a=void 0;if(null==e)a=null;else if(null==t[n])a=s.querySelector("option[selected]");else if(!Array.isArray(t[n])){var l=t[n];"string"==typeof l&&(l=l.replace(/\"/g,'\\"')),a=s.querySelector('option[value="'+l+'"]')}null==a?(s.value="",s.selectedIndex=-1):a.selected=!0}else if(null==e)s.classList.remove("ql-active");else if(s.hasAttribute("value")){var d=t[n]===s.getAttribute("value")||null!=t[n]&&t[n].toString()===s.getAttribute("value")||null==t[n]&&!s.getAttribute("value");s.classList.toggle("ql-active",d)}else s.classList.toggle("ql-active",null!=t[n])}))}}]),t}(d.default);function f(e,t,i){var o=document.createElement("button");o.setAttribute("type","button"),o.classList.add("ql-"+t),null!=i&&(o.value=i),e.appendChild(o)}function b(e,t){Array.isArray(t[0])||(t=[t]),t.forEach((function(t){var i=document.createElement("span");i.classList.add("ql-formats"),t.forEach((function(e){if("string"==typeof e)f(i,e);else{var t=Object.keys(e)[0],o=e[t];Array.isArray(o)?function(e,t,i){var o=document.createElement("select");o.classList.add("ql-"+t),i.forEach((function(e){var t=document.createElement("option");!1!==e?t.setAttribute("value",e):t.setAttribute("selected","selected"),o.appendChild(t)})),e.appendChild(o)}(i,t,o):f(i,t,o)}})),e.appendChild(i)}))}p.DEFAULTS={},p.DEFAULTS={container:null,handlers:{clean:function(){var e=this,t=this.quill.getSelection();if(null!=t)if(0==t.length){var i=this.quill.getFormat();Object.keys(i).forEach((function(t){null!=s.default.query(t,s.default.Scope.INLINE)&&e.quill.format(t,!1)}))}else this.quill.removeFormat(t,a.default.sources.USER)},direction:function(e){var t=this.quill.getFormat().align;"rtl"===e&&null==t?this.quill.format("align","right",a.default.sources.USER):e||"right"!==t||this.quill.format("align",!1,a.default.sources.USER),this.quill.format("direction",e,a.default.sources.USER)},indent:function(e){var t=this.quill.getSelection(),i=this.quill.getFormat(t),o=parseInt(i.indent||0);if("+1"===e||"-1"===e){var r="+1"===e?1:-1;"rtl"===i.direction&&(r*=-1),this.quill.format("indent",o+r,a.default.sources.USER)}},link:function(e){!0===e&&(e=prompt("Enter link URL:")),this.quill.format("link",e,a.default.sources.USER)},list:function(e){var t=this.quill.getSelection(),i=this.quill.getFormat(t);"check"===e?"checked"===i.list||"unchecked"===i.list?this.quill.format("list",!1,a.default.sources.USER):this.quill.format("list","unchecked",a.default.sources.USER):this.quill.format("list",e,a.default.sources.USER)}}},t.default=p,t.addControls=b},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(31),a=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.label.innerHTML=i,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach((function(e){e.classList.add("ql-primary")})),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"buildItem",value:function(e){var i=n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"buildItem",this).call(this,e);return i.style.backgroundColor=e.getAttribute("value")||"",i}},{key:"selectItem",value:function(e,i){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,i);var o=this.label.querySelector(".ql-color-label"),r=e&&e.getAttribute("data-value")||"";o&&("line"===o.tagName?o.style.stroke=r:o.style.fill=r)}}]),t}(((o=s)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(31),a=function(e){function t(e,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),(function(e){e.innerHTML=i[e.getAttribute("data-value")||""]})),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"selectItem",value:function(e,i){n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectItem",this).call(this,e,i),e=e||this.defaultItem,this.label.innerHTML=e.innerHTML}}]),t}(((o=s)&&o.__esModule?o:{default:o}).default);t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function(){function e(t,i){var o=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.boundsContainer=i||document.body,this.root=t.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",(function(){o.root.style.marginTop=-1*o.quill.root.scrollTop+"px"})),this.hide()}return o(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(e){var t=e.left+e.width/2-this.root.offsetWidth/2,i=e.bottom+this.quill.root.scrollTop;this.root.style.left=t+"px",this.root.style.top=i+"px",this.root.classList.remove("ql-flip");var o=this.boundsContainer.getBoundingClientRect(),r=this.root.getBoundingClientRect(),n=0;if(r.right>o.right&&(n=o.right-r.right,this.root.style.left=t+n+"px"),r.left<o.left&&(n=o.left-r.left,this.root.style.left=t+n+"px"),r.bottom>o.bottom){var s=r.bottom-r.top,a=e.bottom-e.top+s;this.root.style.top=i-a+"px",this.root.classList.add("ql-flip")}return n}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();t.default=r},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{!o&&a.return&&a.return()}finally{if(r)throw n}}return i}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),s=p(i(3)),a=p(i(8)),l=i(52),d=p(l),c=p(i(30)),u=i(17),h=p(i(50));function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],y=function(e){function t(e,i){f(this,t),null!=i.modules.toolbar&&null==i.modules.toolbar.container&&(i.modules.toolbar.container=m);var o=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return o.quill.container.classList.add("ql-snow"),o}return g(t,e),n(t,[{key:"extendToolbar",value:function(e){e.container.classList.add("ql-snow"),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),h.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),h.default),this.tooltip=new v(this.quill,this.options.bounds),e.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},(function(t,i){e.handlers.link.call(e,!i.format.link)}))}}]),t}(d.default);y.DEFAULTS=(0,s.default)(!0,{},d.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){if(e){var t=this.quill.getSelection();if(null==t||0==t.length)return;var i=this.quill.getText(t);/^\S+@\S+\.\S+$/.test(i)&&0!==i.indexOf("mailto:")&&(i="mailto:"+i),this.quill.theme.tooltip.edit("link",i)}else this.quill.format("link",!1)}}}}});var v=function(e){function t(e,i){f(this,t);var o=b(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return o.preview=o.root.querySelector("a.ql-preview"),o}return g(t,e),n(t,[{key:"listen",value:function(){var e=this;r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",(function(t){e.root.classList.contains("ql-editing")?e.save():e.edit("link",e.preview.textContent),t.preventDefault()})),this.root.querySelector("a.ql-remove").addEventListener("click",(function(t){if(null!=e.linkRange){var i=e.linkRange;e.restoreFocus(),e.quill.formatText(i,"link",!1,a.default.sources.USER),delete e.linkRange}t.preventDefault(),e.hide()})),this.quill.on(a.default.events.SELECTION_CHANGE,(function(t,i,r){if(null!=t){if(0===t.length&&r===a.default.sources.USER){var n=e.quill.scroll.descendant(c.default,t.index),s=o(n,2),l=s[0],d=s[1];if(null!=l){e.linkRange=new u.Range(t.index-d,l.length());var h=c.default.formats(l.domNode);return e.preview.textContent=h,e.preview.setAttribute("href",h),e.show(),void e.position(e.quill.getBounds(e.linkRange))}}else delete e.linkRange;e.hide()}}))}},{key:"show",value:function(){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),t}(l.BaseTooltip);v.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),t.default=y},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=A(i(32)),r=i(45),n=i(47),s=i(88),a=A(i(89)),l=A(i(90)),d=i(91),c=A(d),u=i(46),h=i(29),p=i(48),f=i(49),b=A(i(80)),g=A(i(92)),m=A(i(30)),y=A(i(93)),v=A(i(94)),_=A(i(95)),w=A(i(96)),x=A(i(97)),C=i(15),S=A(C),O=A(i(98)),k=A(i(99)),E=A(i(81)),I=A(i(50)),T=A(i(31)),M=A(i(83)),B=A(i(84)),D=A(i(85)),P=A(i(132)),L=A(i(86));function A(e){return e&&e.__esModule?e:{default:e}}o.default.register({"attributors/attribute/direction":n.DirectionAttribute,"attributors/class/align":r.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":h.ColorClass,"attributors/class/direction":n.DirectionClass,"attributors/class/font":p.FontClass,"attributors/class/size":f.SizeClass,"attributors/style/align":r.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":h.ColorStyle,"attributors/style/direction":n.DirectionStyle,"attributors/style/font":p.FontStyle,"attributors/style/size":f.SizeStyle},!0),o.default.register({"formats/align":r.AlignClass,"formats/direction":n.DirectionClass,"formats/indent":s.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":h.ColorStyle,"formats/font":p.FontClass,"formats/size":f.SizeClass,"formats/blockquote":a.default,"formats/code-block":S.default,"formats/header":l.default,"formats/list":c.default,"formats/bold":b.default,"formats/code":C.Code,"formats/italic":g.default,"formats/link":m.default,"formats/script":y.default,"formats/strike":v.default,"formats/underline":_.default,"formats/image":w.default,"formats/video":x.default,"formats/list/item":d.ListItem,"modules/formula":O.default,"modules/syntax":k.default,"modules/toolbar":E.default,"themes/bubble":P.default,"themes/snow":L.default,"ui/icons":I.default,"ui/picker":T.default,"ui/icon-picker":B.default,"ui/color-picker":M.default,"ui/tooltip":D.default},!0),t.default=o.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IndentClass=void 0;var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(0),a=(o=s)&&o.__esModule?o:{default:o},l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"add",value:function(e,i){if("+1"===i||"-1"===i){var o=this.value(e)||0;i="+1"===i?o+1:o-1}return 0===i?(this.remove(e),!0):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,e,i)}},{key:"canAdd",value:function(e,i){return n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,i)||n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,e,parseInt(i))}},{key:"value",value:function(e){return parseInt(n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,e))||void 0}}]),t}(a.default.Attributor.Class),d=new l("indent","ql-indent",{scope:a.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});t.IndentClass=d},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=i(4),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);n.blotName="blockquote",n.tagName="blockquote",t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=i(4),s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),t}(((o=n)&&o.__esModule?o:{default:o}).default);s.blotName="header",s.tagName=["H1","H2","H3","H4","H5","H6"],t.default=s},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ListItem=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=l(i(0)),s=l(i(4)),a=l(i(28));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return d(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),o(t,[{key:"format",value:function(e,i){e!==p.blotName||i?r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i):this.replaceWith(n.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(e,i){return this.parent.isolate(this.offset(this.parent),this.length()),e===this.parent.statics.blotName?(this.parent.replaceWith(e,i),this):(this.parent.unwrap(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e,i))}}],[{key:"formats",value:function(e){return e.tagName===this.tagName?void 0:r(t.__proto__||Object.getPrototypeOf(t),"formats",this).call(this,e)}}]),t}(s.default);h.blotName="list-item",h.tagName="LI";var p=function(e){function t(e){d(this,t);var i=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),o=function(t){if(t.target.parentNode===e){var o=i.statics.formats(e),r=n.default.find(t.target);"checked"===o?r.format("list","unchecked"):"unchecked"===o&&r.format("list","checked")}};return e.addEventListener("touchstart",o),e.addEventListener("mousedown",o),i}return u(t,e),o(t,null,[{key:"create",value:function(e){var i="ordered"===e?"OL":"UL",o=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,i);return"checked"!==e&&"unchecked"!==e||o.setAttribute("data-checked","checked"===e),o}},{key:"formats",value:function(e){return"OL"===e.tagName?"ordered":"UL"===e.tagName?e.hasAttribute("data-checked")?"true"===e.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),o(t,[{key:"format",value:function(e,t){this.children.length>0&&this.children.tail.format(e,t)}},{key:"formats",value:function(){return e={},t=this.statics.blotName,i=this.statics.formats(this.domNode),t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e;var e,t,i}},{key:"insertBefore",value:function(e,i){if(e instanceof h)r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"insertBefore",this).call(this,e,i);else{var o=null==i?this.length():i.offset(this),n=this.split(o);n.parent.insertBefore(e,n)}}},{key:"optimize",value:function(e){r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,e);var i=this.next;null!=i&&i.prev===this&&i.statics.blotName===this.statics.blotName&&i.domNode.tagName===this.domNode.tagName&&i.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(i.moveChildren(this),i.remove())}},{key:"replace",value:function(e){if(e.statics.blotName!==this.statics.blotName){var i=n.default.create(this.statics.defaultChild);e.moveChildren(i),this.appendChild(i)}r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replace",this).call(this,e)}}]),t}(a.default);p.blotName="list",p.scope=n.default.Scope.BLOCK_BLOT,p.tagName=["OL","UL"],p.defaultChild="list-item",p.allowedChildren=[h],t.ListItem=h,t.default=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=i(80),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);n.blotName="italic",n.tagName=["EM","I"],t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(6),a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}]),t}(((o=s)&&o.__esModule?o:{default:o}).default);a.blotName="script",a.tagName=["SUB","SUP"],t.default=a},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=i(6),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);n.blotName="strike",n.tagName="S",t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=i(6),n=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(((o=r)&&o.__esModule?o:{default:o}).default);n.blotName="underline",n.tagName="U",t.default=n},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(0),a=(o=s)&&o.__esModule?o:{default:o},l=i(30),d=["alt","height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,i){d.indexOf(e)>-1?i?this.domNode.setAttribute(e,i):this.domNode.removeAttribute(e):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i)}}],[{key:"create",value:function(e){var i=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&i.setAttribute("src",this.sanitize(e)),i}},{key:"formats",value:function(e){return d.reduce((function(t,i){return e.hasAttribute(i)&&(t[i]=e.getAttribute(i)),t}),{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"sanitize",value:function(e){return(0,l.sanitize)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(a.default.Embed);c.blotName="image",c.tagName="IMG",t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o,r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},s=i(4),a=i(30),l=(o=a)&&o.__esModule?o:{default:o},d=["height","width"],c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"format",value:function(e,i){d.indexOf(e)>-1?i?this.domNode.setAttribute(e,i):this.domNode.removeAttribute(e):n(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,e,i)}}],[{key:"create",value:function(e){var i=n(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return i.setAttribute("frameborder","0"),i.setAttribute("allowfullscreen",!0),i.setAttribute("src",this.sanitize(e)),i}},{key:"formats",value:function(e){return d.reduce((function(t,i){return e.hasAttribute(i)&&(t[i]=e.getAttribute(i)),t}),{})}},{key:"sanitize",value:function(e){return l.default.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}]),t}(s.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",t.default=c},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.FormulaBlot=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=l(i(44)),s=l(i(5)),a=l(i(9));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return d(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),o(t,null,[{key:"create",value:function(e){var i=r(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,e);return"string"==typeof e&&(window.katex.render(e,i,{throwOnError:!1,errorColor:"#f00"}),i.setAttribute("data-value",e)),i}},{key:"value",value:function(e){return e.getAttribute("data-value")}}]),t}(n.default);h.blotName="formula",h.className="ql-formula",h.tagName="SPAN";var p=function(e){function t(){d(this,t);var e=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return e}return u(t,e),o(t,null,[{key:"register",value:function(){s.default.register(h,!0)}}]),t}(a.default);t.FormulaBlot=h,t.default=p},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.CodeToken=t.CodeBlock=void 0;var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),r=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},n=l(i(0)),s=l(i(5)),a=l(i(9));function l(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var h=function(e){function t(){return d(this,t),c(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return u(t,e),o(t,[{key:"replaceWith",value:function(e){this.domNode.textContent=this.domNode.textContent,this.attach(),r(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"replaceWith",this).call(this,e)}},{key:"highlight",value:function(e){var t=this.domNode.textContent;this.cachedText!==t&&((t.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=e(t),this.domNode.normalize(),this.attach()),this.cachedText=t)}}]),t}(l(i(15)).default);h.className="ql-syntax";var p=new n.default.Attributor.Class("token","hljs",{scope:n.default.Scope.INLINE}),f=function(e){function t(e,i){d(this,t);var o=c(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));if("function"!=typeof o.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var r=null;return o.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){clearTimeout(r),r=setTimeout((function(){o.highlight(),r=null}),o.options.interval)})),o.highlight(),o}return u(t,e),o(t,null,[{key:"register",value:function(){s.default.register(p,!0),s.default.register(h,!0)}}]),o(t,[{key:"highlight",value:function(){var e=this;if(!this.quill.selection.composing){this.quill.update(s.default.sources.USER);var t=this.quill.getSelection();this.quill.scroll.descendants(h).forEach((function(t){t.highlight(e.options.highlight)})),this.quill.update(s.default.sources.SILENT),null!=t&&this.quill.setSelection(t,s.default.sources.SILENT)}}}]),t}(a.default);f.DEFAULTS={highlight:null==window.hljs?null:function(e){return window.hljs.highlightAuto(e).value},interval:1e3},t.CodeBlock=h,t.CodeToken=p,t.default=f},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(e,t){e.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(e,t){e.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(e,t){e.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.BubbleTooltip=void 0;var o=function e(t,i,o){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,i);if(void 0===r){var n=Object.getPrototypeOf(t);return null===n?void 0:e(n,i,o)}if("value"in r)return r.value;var s=r.get;return void 0!==s?s.call(o):void 0},r=function(){function e(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,i,o){return i&&e(t.prototype,i),o&&e(t,o),t}}(),n=u(i(3)),s=u(i(8)),a=i(52),l=u(a),d=i(17),c=u(i(50));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var b=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],g=function(e){function t(e,i){h(this,t),null!=i.modules.toolbar&&null==i.modules.toolbar.container&&(i.modules.toolbar.container=b);var o=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return o.quill.container.classList.add("ql-bubble"),o}return f(t,e),r(t,[{key:"extendToolbar",value:function(e){this.tooltip=new m(this.quill,this.options.bounds),this.tooltip.root.appendChild(e.container),this.buildButtons([].slice.call(e.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(e.container.querySelectorAll("select")),c.default)}}]),t}(l.default);g.DEFAULTS=(0,n.default)(!0,{},l.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(e){e?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var m=function(e){function t(e,i){h(this,t);var o=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,i));return o.quill.on(s.default.events.EDITOR_CHANGE,(function(e,t,i,r){if(e===s.default.events.SELECTION_CHANGE)if(null!=t&&t.length>0&&r===s.default.sources.USER){o.show(),o.root.style.left="0px",o.root.style.width="",o.root.style.width=o.root.offsetWidth+"px";var n=o.quill.getLines(t.index,t.length);if(1===n.length)o.position(o.quill.getBounds(t));else{var a=n[n.length-1],l=o.quill.getIndex(a),c=Math.min(a.length()-1,t.index+t.length-l),u=o.quill.getBounds(new d.Range(l,c));o.position(u)}}else document.activeElement!==o.textbox&&o.quill.hasFocus()&&o.hide()})),o}return f(t,e),r(t,[{key:"listen",value:function(){var e=this;o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",(function(){e.root.classList.remove("ql-editing")})),this.quill.on(s.default.events.SCROLL_OPTIMIZE,(function(){setTimeout((function(){if(!e.root.classList.contains("ql-hidden")){var t=e.quill.getSelection();null!=t&&e.position(e.quill.getBounds(t))}}),1)}))}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(e){var i=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"position",this).call(this,e),r=this.root.querySelector(".ql-tooltip-arrow");if(r.style.marginLeft="",0===i)return i;r.style.marginLeft=-1*i-r.offsetWidth/2+"px"}}]),t}(a.BaseTooltip);m.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),t.BubbleTooltip=m,t.default=g},function(e,t,i){e.exports=i(87)}]).default},e.exports=t()},272:(e,t,i)=>{"use strict";i.d(t,{Ho:()=>p,Vg:()=>b,nX:()=>h});var o=i(4516),r=i(7263);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n="link[rel=import][type~=css]",s="include",a="shady-unscoped";function l(e){return o.$.import(e)}function d(e){let t=e.body?e.body:e;const i=(0,r.c0)(t.textContent,e.baseURI),o=document.createElement("style");return o.textContent=i,o}function c(e){const t=e.trim().split(/\s+/),i=[];for(let e=0;e<t.length;e++)i.push(...u(t[e]));return i}function u(e){const t=l(e);if(!t)return console.warn("Could not find style data in module named",e),[];if(void 0===t._styles){const e=[];e.push(...f(t));const i=t.querySelector("template");i&&e.push(...h(i,t.assetpath)),t._styles=e}return t._styles}function h(e,t){if(!e._styles){const i=[],o=e.content.querySelectorAll("style");for(let e=0;e<o.length;e++){let n=o[e],a=n.getAttribute(s);a&&i.push(...c(a).filter((function(e,t,i){return i.indexOf(e)===t}))),t&&(n.textContent=(0,r.c0)(n.textContent,t)),i.push(n)}e._styles=i}return e._styles}function p(e){let t=l(e);return t?f(t):[]}function f(e){const t=[],i=e.querySelectorAll(n);for(let e=0;e<i.length;e++){let o=i[e];if(o.import){const e=o.import,i=o.hasAttribute(a);if(i&&!e._unscopedStyle){const t=d(e);t.setAttribute(a,""),e._unscopedStyle=t}else e._style||(e._style=d(e));t.push(i?e._unscopedStyle:e._style)}}return t}function b(e){let t=e.trim().split(/\s+/),i="";for(let e=0;e<t.length;e++)i+=g(t[e]);return i}function g(e){let t=l(e);if(t&&void 0===t._cssText){let e=m(t),i=t.querySelector("template");i&&(e+=function(e,t){let i="";const o=h(e,t);for(let e=0;e<o.length;e++){let t=o[e];t.parentNode&&t.parentNode.removeChild(t),i+=t.textContent}return i}(i,t.assetpath)),t._cssText=e||null}return t||console.warn("Could not find style data in module named",e),t&&t._cssText||""}function m(e){let t="",i=f(e);for(let e=0;e<i.length;e++)t+=i[e].textContent;return t}},347:(e,t,i)=>{"use strict";var o=i(7734),r=i(3900),n=i(7212),s=i(197),a=i(5367),l=i(3080),d=i(7695),c=i(8591),u=i(4353),h=i(7586);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const p=(0,a.j)(o.Pu);class f extends p{static get is(){return"dom-repeat"}static get template(){return null}static get properties(){return{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},itemsIndexAs:{type:String,value:"itemsIndex"},sort:{type:Function,observer:"__sortChanged"},filter:{type:Function,observer:"__filterChanged"},observe:{type:String,observer:"__observeChanged"},delay:Number,renderedItemCount:{type:Number,notify:!h.w9,readOnly:!0},initialCount:{type:Number},targetFramerate:{type:Number,value:20},_targetFrameTime:{type:Number,computed:"__computeFrameTime(targetFramerate)"},notifyDomChange:{type:Boolean},reuseChunkedInstances:{type:Boolean}}}static get observers(){return["__itemsChanged(items.*)"]}constructor(){super(),this.__instances=[],this.__renderDebouncer=null,this.__itemsIdxToInstIdx={},this.__chunkCount=null,this.__renderStartTime=null,this.__itemsArrayChanged=!1,this.__shouldMeasureChunk=!1,this.__shouldContinueChunking=!1,this.__chunkingId=0,this.__sortFn=null,this.__filterFn=null,this.__observePaths=null,this.__ctor=null,this.__isDetached=!0,this.template=null,this._templateInfo}disconnectedCallback(){super.disconnectedCallback(),this.__isDetached=!0;for(let e=0;e<this.__instances.length;e++)this.__detachInstance(e);this.__chunkingId&&cancelAnimationFrame(this.__chunkingId)}connectedCallback(){if(super.connectedCallback(),(0,u.I)()||(this.style.display="none"),this.__isDetached){this.__isDetached=!1;let e=(0,c.L)((0,c.L)(this).parentNode);for(let t=0;t<this.__instances.length;t++)this.__attachInstance(t,e);this.__chunkingId&&this.__render()}}__ensureTemplatized(){if(!this.__ctor){const e=this;let t=this.template=e._templateInfo?e:this.querySelector("template");if(!t){let e=new MutationObserver((()=>{if(!this.querySelector("template"))throw new Error("dom-repeat requires a <template> child");e.disconnect(),this.__render()}));return e.observe(this,{childList:!0}),!1}let i={};i[this.as]=!0,i[this.indexAs]=!0,i[this.itemsIndexAs]=!0,this.__ctor=(0,r.sm)(t,this,{mutableData:this.mutableData,parentModel:!0,instanceProps:i,forwardHostProp:function(e,t){let i=this.__instances;for(let o,r=0;r<i.length&&(o=i[r]);r++)o.forwardHostProp(e,t)},notifyInstanceProp:function(e,t,i){if((0,l.cK)(this.as,t)){let o=e[this.itemsIndexAs];t==this.as&&(this.items[o]=i);let r=(0,l.Tl)(this.as,`${JSCompiler_renameProperty("items",this)}.${o}`,t);this.notifyPath(r,i)}}})}return!0}__getMethodHost(){return this.__dataHost._methodHost||this.__dataHost}__functionFromPropertyValue(e){if("string"==typeof e){let t=e,i=this.__getMethodHost();return function(){return i[t].apply(i,arguments)}}return e}__sortChanged(e){this.__sortFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__filterChanged(e){this.__filterFn=this.__functionFromPropertyValue(e),this.items&&this.__debounceRender(this.__render)}__computeFrameTime(e){return Math.ceil(1e3/e)}__observeChanged(){this.__observePaths=this.observe&&this.observe.replace(".*",".").split(" ")}__handleObservedPaths(e){if(this.__sortFn||this.__filterFn)if(e){if(this.__observePaths){let t=this.__observePaths;for(let i=0;i<t.length;i++)0===e.indexOf(t[i])&&this.__debounceRender(this.__render,this.delay)}}else this.__debounceRender(this.__render,this.delay)}__itemsChanged(e){this.items&&!Array.isArray(this.items)&&console.warn("dom-repeat expected array for `items`, found",this.items),this.__handleItemPath(e.path,e.value)||("items"===e.path&&(this.__itemsArrayChanged=!0),this.__debounceRender(this.__render))}__debounceRender(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.__renderDebouncer=n.aq.debounce(this.__renderDebouncer,t>0?d.EV.after(t):d._3,e.bind(this)),(0,s.O)(this.__renderDebouncer)}render(){this.__debounceRender(this.__render),(0,s.b)()}__render(){if(!this.__ensureTemplatized())return;let e=this.items||[];const t=this.__sortAndFilterItems(e),i=this.__calculateLimit(t.length);this.__updateInstances(e,i,t),this.initialCount&&(this.__shouldMeasureChunk||this.__shouldContinueChunking)&&(cancelAnimationFrame(this.__chunkingId),this.__chunkingId=requestAnimationFrame((()=>{this.__chunkingId=null,this.__continueChunking()}))),this._setRenderedItemCount(this.__instances.length),h.w9&&!this.notifyDomChange||this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}__sortAndFilterItems(e){let t=new Array(e.length);for(let i=0;i<e.length;i++)t[i]=i;return this.__filterFn&&(t=t.filter(((t,i,o)=>this.__filterFn(e[t],i,o)))),this.__sortFn&&t.sort(((t,i)=>this.__sortFn(e[t],e[i]))),t}__calculateLimit(e){let t=e;const i=this.__instances.length;if(this.initialCount){let o;!this.__chunkCount||this.__itemsArrayChanged&&!this.reuseChunkedInstances?(t=Math.min(e,this.initialCount),o=Math.max(t-i,0),this.__chunkCount=o||1):(o=Math.min(Math.max(e-i,0),this.__chunkCount),t=Math.min(i+o,e)),this.__shouldMeasureChunk=o===this.__chunkCount,this.__shouldContinueChunking=t<e,this.__renderStartTime=performance.now()}return this.__itemsArrayChanged=!1,t}__continueChunking(){if(this.__shouldMeasureChunk){const e=performance.now()-this.__renderStartTime,t=this._targetFrameTime/e;this.__chunkCount=Math.round(this.__chunkCount*t)||1}this.__shouldContinueChunking&&this.__debounceRender(this.__render)}__updateInstances(e,t,i){const o=this.__itemsIdxToInstIdx={};let r;for(r=0;r<t;r++){let t=this.__instances[r],n=i[r],s=e[n];o[n]=r,t?(t._setPendingProperty(this.as,s),t._setPendingProperty(this.indexAs,r),t._setPendingProperty(this.itemsIndexAs,n),t._flushProperties()):this.__insertInstance(s,r,n)}for(let e=this.__instances.length-1;e>=r;e--)this.__detachAndRemoveInstance(e)}__detachInstance(e){let t=this.__instances[e];const i=(0,c.L)(t.root);for(let e=0;e<t.children.length;e++){let o=t.children[e];i.appendChild(o)}return t}__attachInstance(e,t){let i=this.__instances[e];t.insertBefore(i.root,this)}__detachAndRemoveInstance(e){this.__detachInstance(e),this.__instances.splice(e,1)}__stampInstance(e,t,i){let o={};return o[this.as]=e,o[this.indexAs]=t,o[this.itemsIndexAs]=i,new this.__ctor(o)}__insertInstance(e,t,i){const o=this.__stampInstance(e,t,i);let r=this.__instances[t+1],n=r?r.children[0]:this;return(0,c.L)((0,c.L)(this).parentNode).insertBefore(o.root,n),this.__instances[t]=o,o}_showHideChildren(e){for(let t=0;t<this.__instances.length;t++)this.__instances[t]._showHideChildren(e)}__handleItemPath(e,t){let i=e.slice(6),o=i.indexOf("."),r=o<0?i:i.substring(0,o);if(r==parseInt(r,10)){let e=o<0?"":i.substring(o+1);this.__handleObservedPaths(e);let n=this.__itemsIdxToInstIdx[r],s=this.__instances[n];if(s){let i=this.as+(e?"."+e:"");s._setPendingPropertyOrPath(i,t,!1,!0),s._flushProperties()}return!0}}itemForElement(e){let t=this.modelForElement(e);return t&&t[this.as]}indexForElement(e){let t=this.modelForElement(e);return t&&t[this.indexAs]}modelForElement(e){return(0,r.lH)(this.template,e)}}customElements.define(f.is,f)},361:(e,t,i)=>{"use strict";i(1518);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=i(2619).q`
<custom-style>
  <style is="custom-style">
    html {

      /* Material Design color palette for Google products */

      --google-red-100: #f4c7c3;
      --google-red-300: #e67c73;
      --google-red-500: #db4437;
      --google-red-700: #c53929;

      --google-blue-100: #c6dafc;
      --google-blue-300: #7baaf7;
      --google-blue-500: #4285f4;
      --google-blue-700: #3367d6;

      --google-green-100: #b7e1cd;
      --google-green-300: #57bb8a;
      --google-green-500: #0f9d58;
      --google-green-700: #0b8043;

      --google-yellow-100: #fce8b2;
      --google-yellow-300: #f7cb4d;
      --google-yellow-500: #f4b400;
      --google-yellow-700: #f09300;

      --google-grey-100: #f5f5f5;
      --google-grey-300: #e0e0e0;
      --google-grey-500: #9e9e9e;
      --google-grey-700: #616161;

      /* Material Design color palette from online spec document */

      --paper-red-50: #ffebee;
      --paper-red-100: #ffcdd2;
      --paper-red-200: #ef9a9a;
      --paper-red-300: #e57373;
      --paper-red-400: #ef5350;
      --paper-red-500: #f44336;
      --paper-red-600: #e53935;
      --paper-red-700: #d32f2f;
      --paper-red-800: #c62828;
      --paper-red-900: #b71c1c;
      --paper-red-a100: #ff8a80;
      --paper-red-a200: #ff5252;
      --paper-red-a400: #ff1744;
      --paper-red-a700: #d50000;

      --paper-pink-50: #fce4ec;
      --paper-pink-100: #f8bbd0;
      --paper-pink-200: #f48fb1;
      --paper-pink-300: #f06292;
      --paper-pink-400: #ec407a;
      --paper-pink-500: #e91e63;
      --paper-pink-600: #d81b60;
      --paper-pink-700: #c2185b;
      --paper-pink-800: #ad1457;
      --paper-pink-900: #880e4f;
      --paper-pink-a100: #ff80ab;
      --paper-pink-a200: #ff4081;
      --paper-pink-a400: #f50057;
      --paper-pink-a700: #c51162;

      --paper-purple-50: #f3e5f5;
      --paper-purple-100: #e1bee7;
      --paper-purple-200: #ce93d8;
      --paper-purple-300: #ba68c8;
      --paper-purple-400: #ab47bc;
      --paper-purple-500: #9c27b0;
      --paper-purple-600: #8e24aa;
      --paper-purple-700: #7b1fa2;
      --paper-purple-800: #6a1b9a;
      --paper-purple-900: #4a148c;
      --paper-purple-a100: #ea80fc;
      --paper-purple-a200: #e040fb;
      --paper-purple-a400: #d500f9;
      --paper-purple-a700: #aa00ff;

      --paper-deep-purple-50: #ede7f6;
      --paper-deep-purple-100: #d1c4e9;
      --paper-deep-purple-200: #b39ddb;
      --paper-deep-purple-300: #9575cd;
      --paper-deep-purple-400: #7e57c2;
      --paper-deep-purple-500: #673ab7;
      --paper-deep-purple-600: #5e35b1;
      --paper-deep-purple-700: #512da8;
      --paper-deep-purple-800: #4527a0;
      --paper-deep-purple-900: #311b92;
      --paper-deep-purple-a100: #b388ff;
      --paper-deep-purple-a200: #7c4dff;
      --paper-deep-purple-a400: #651fff;
      --paper-deep-purple-a700: #6200ea;

      --paper-indigo-50: #e8eaf6;
      --paper-indigo-100: #c5cae9;
      --paper-indigo-200: #9fa8da;
      --paper-indigo-300: #7986cb;
      --paper-indigo-400: #5c6bc0;
      --paper-indigo-500: #3f51b5;
      --paper-indigo-600: #3949ab;
      --paper-indigo-700: #303f9f;
      --paper-indigo-800: #283593;
      --paper-indigo-900: #1a237e;
      --paper-indigo-a100: #8c9eff;
      --paper-indigo-a200: #536dfe;
      --paper-indigo-a400: #3d5afe;
      --paper-indigo-a700: #304ffe;

      --paper-blue-50: #e3f2fd;
      --paper-blue-100: #bbdefb;
      --paper-blue-200: #90caf9;
      --paper-blue-300: #64b5f6;
      --paper-blue-400: #42a5f5;
      --paper-blue-500: #2196f3;
      --paper-blue-600: #1e88e5;
      --paper-blue-700: #1976d2;
      --paper-blue-800: #1565c0;
      --paper-blue-900: #0d47a1;
      --paper-blue-a100: #82b1ff;
      --paper-blue-a200: #448aff;
      --paper-blue-a400: #2979ff;
      --paper-blue-a700: #2962ff;

      --paper-light-blue-50: #e1f5fe;
      --paper-light-blue-100: #b3e5fc;
      --paper-light-blue-200: #81d4fa;
      --paper-light-blue-300: #4fc3f7;
      --paper-light-blue-400: #29b6f6;
      --paper-light-blue-500: #03a9f4;
      --paper-light-blue-600: #039be5;
      --paper-light-blue-700: #0288d1;
      --paper-light-blue-800: #0277bd;
      --paper-light-blue-900: #01579b;
      --paper-light-blue-a100: #80d8ff;
      --paper-light-blue-a200: #40c4ff;
      --paper-light-blue-a400: #00b0ff;
      --paper-light-blue-a700: #0091ea;

      --paper-cyan-50: #e0f7fa;
      --paper-cyan-100: #b2ebf2;
      --paper-cyan-200: #80deea;
      --paper-cyan-300: #4dd0e1;
      --paper-cyan-400: #26c6da;
      --paper-cyan-500: #00bcd4;
      --paper-cyan-600: #00acc1;
      --paper-cyan-700: #0097a7;
      --paper-cyan-800: #00838f;
      --paper-cyan-900: #006064;
      --paper-cyan-a100: #84ffff;
      --paper-cyan-a200: #18ffff;
      --paper-cyan-a400: #00e5ff;
      --paper-cyan-a700: #00b8d4;

      --paper-teal-50: #e0f2f1;
      --paper-teal-100: #b2dfdb;
      --paper-teal-200: #80cbc4;
      --paper-teal-300: #4db6ac;
      --paper-teal-400: #26a69a;
      --paper-teal-500: #009688;
      --paper-teal-600: #00897b;
      --paper-teal-700: #00796b;
      --paper-teal-800: #00695c;
      --paper-teal-900: #004d40;
      --paper-teal-a100: #a7ffeb;
      --paper-teal-a200: #64ffda;
      --paper-teal-a400: #1de9b6;
      --paper-teal-a700: #00bfa5;

      --paper-green-50: #e8f5e9;
      --paper-green-100: #c8e6c9;
      --paper-green-200: #a5d6a7;
      --paper-green-300: #81c784;
      --paper-green-400: #66bb6a;
      --paper-green-500: #4caf50;
      --paper-green-600: #43a047;
      --paper-green-700: #388e3c;
      --paper-green-800: #2e7d32;
      --paper-green-900: #1b5e20;
      --paper-green-a100: #b9f6ca;
      --paper-green-a200: #69f0ae;
      --paper-green-a400: #00e676;
      --paper-green-a700: #00c853;

      --paper-light-green-50: #f1f8e9;
      --paper-light-green-100: #dcedc8;
      --paper-light-green-200: #c5e1a5;
      --paper-light-green-300: #aed581;
      --paper-light-green-400: #9ccc65;
      --paper-light-green-500: #8bc34a;
      --paper-light-green-600: #7cb342;
      --paper-light-green-700: #689f38;
      --paper-light-green-800: #558b2f;
      --paper-light-green-900: #33691e;
      --paper-light-green-a100: #ccff90;
      --paper-light-green-a200: #b2ff59;
      --paper-light-green-a400: #76ff03;
      --paper-light-green-a700: #64dd17;

      --paper-lime-50: #f9fbe7;
      --paper-lime-100: #f0f4c3;
      --paper-lime-200: #e6ee9c;
      --paper-lime-300: #dce775;
      --paper-lime-400: #d4e157;
      --paper-lime-500: #cddc39;
      --paper-lime-600: #c0ca33;
      --paper-lime-700: #afb42b;
      --paper-lime-800: #9e9d24;
      --paper-lime-900: #827717;
      --paper-lime-a100: #f4ff81;
      --paper-lime-a200: #eeff41;
      --paper-lime-a400: #c6ff00;
      --paper-lime-a700: #aeea00;

      --paper-yellow-50: #fffde7;
      --paper-yellow-100: #fff9c4;
      --paper-yellow-200: #fff59d;
      --paper-yellow-300: #fff176;
      --paper-yellow-400: #ffee58;
      --paper-yellow-500: #ffeb3b;
      --paper-yellow-600: #fdd835;
      --paper-yellow-700: #fbc02d;
      --paper-yellow-800: #f9a825;
      --paper-yellow-900: #f57f17;
      --paper-yellow-a100: #ffff8d;
      --paper-yellow-a200: #ffff00;
      --paper-yellow-a400: #ffea00;
      --paper-yellow-a700: #ffd600;

      --paper-amber-50: #fff8e1;
      --paper-amber-100: #ffecb3;
      --paper-amber-200: #ffe082;
      --paper-amber-300: #ffd54f;
      --paper-amber-400: #ffca28;
      --paper-amber-500: #ffc107;
      --paper-amber-600: #ffb300;
      --paper-amber-700: #ffa000;
      --paper-amber-800: #ff8f00;
      --paper-amber-900: #ff6f00;
      --paper-amber-a100: #ffe57f;
      --paper-amber-a200: #ffd740;
      --paper-amber-a400: #ffc400;
      --paper-amber-a700: #ffab00;

      --paper-orange-50: #fff3e0;
      --paper-orange-100: #ffe0b2;
      --paper-orange-200: #ffcc80;
      --paper-orange-300: #ffb74d;
      --paper-orange-400: #ffa726;
      --paper-orange-500: #ff9800;
      --paper-orange-600: #fb8c00;
      --paper-orange-700: #f57c00;
      --paper-orange-800: #ef6c00;
      --paper-orange-900: #e65100;
      --paper-orange-a100: #ffd180;
      --paper-orange-a200: #ffab40;
      --paper-orange-a400: #ff9100;
      --paper-orange-a700: #ff6500;

      --paper-deep-orange-50: #fbe9e7;
      --paper-deep-orange-100: #ffccbc;
      --paper-deep-orange-200: #ffab91;
      --paper-deep-orange-300: #ff8a65;
      --paper-deep-orange-400: #ff7043;
      --paper-deep-orange-500: #ff5722;
      --paper-deep-orange-600: #f4511e;
      --paper-deep-orange-700: #e64a19;
      --paper-deep-orange-800: #d84315;
      --paper-deep-orange-900: #bf360c;
      --paper-deep-orange-a100: #ff9e80;
      --paper-deep-orange-a200: #ff6e40;
      --paper-deep-orange-a400: #ff3d00;
      --paper-deep-orange-a700: #dd2c00;

      --paper-brown-50: #efebe9;
      --paper-brown-100: #d7ccc8;
      --paper-brown-200: #bcaaa4;
      --paper-brown-300: #a1887f;
      --paper-brown-400: #8d6e63;
      --paper-brown-500: #795548;
      --paper-brown-600: #6d4c41;
      --paper-brown-700: #5d4037;
      --paper-brown-800: #4e342e;
      --paper-brown-900: #3e2723;

      --paper-grey-50: #fafafa;
      --paper-grey-100: #f5f5f5;
      --paper-grey-200: #eeeeee;
      --paper-grey-300: #e0e0e0;
      --paper-grey-400: #bdbdbd;
      --paper-grey-500: #9e9e9e;
      --paper-grey-600: #757575;
      --paper-grey-700: #616161;
      --paper-grey-800: #424242;
      --paper-grey-900: #212121;

      --paper-blue-grey-50: #eceff1;
      --paper-blue-grey-100: #cfd8dc;
      --paper-blue-grey-200: #b0bec5;
      --paper-blue-grey-300: #90a4ae;
      --paper-blue-grey-400: #78909c;
      --paper-blue-grey-500: #607d8b;
      --paper-blue-grey-600: #546e7a;
      --paper-blue-grey-700: #455a64;
      --paper-blue-grey-800: #37474f;
      --paper-blue-grey-900: #263238;

      /* opacity for dark text on a light background */
      --dark-divider-opacity: 0.12;
      --dark-disabled-opacity: 0.38; /* or hint text or icon */
      --dark-secondary-opacity: 0.54;
      --dark-primary-opacity: 0.87;

      /* opacity for light text on a dark background */
      --light-divider-opacity: 0.12;
      --light-disabled-opacity: 0.3; /* or hint text or icon */
      --light-secondary-opacity: 0.7;
      --light-primary-opacity: 1.0;

    }

  </style>
</custom-style>
`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},379:(e,t,i)=>{"use strict";var o=i(9067),r=i(4886),n=i(3218),s=i(7734),a=(i(7543),i(4074),i(1518),i(3823),i(8261),i(1500)),l=i(816),d=i(2619),c=i(9137);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(0,l.b)({_template:d.q`<!--css-build:shadow--><style scope="paper-radio-button">:host {
  display: inline-block;
    line-height: 0;
    white-space: nowrap;
    cursor: pointer;
    font-family: var(--paper-font-common-base_-_font-family);
 -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);
    --calculated-paper-radio-button-size: var(--paper-radio-button-size, 16px);
    --calculated-paper-radio-button-ink-size: var(--paper-radio-button-ink-size, -1px);
}

:host(:focus) {
  outline: none;
}

#radioContainer {
  display: var(--layout-inline_-_display);
    -ms-flex-align: var(--layout-center-center_-_-ms-flex-align);
 -webkit-align-items: var(--layout-center-center_-_-webkit-align-items);
 align-items: var(--layout-center-center_-_align-items);
 -ms-flex-pack: var(--layout-center-center_-_-ms-flex-pack);
 -webkit-justify-content: var(--layout-center-center_-_-webkit-justify-content);
 justify-content: var(--layout-center-center_-_justify-content);
    position: relative;
    width: var(--calculated-paper-radio-button-size);
    height: var(--calculated-paper-radio-button-size);
    vertical-align: middle;

    ;
}

#ink {
  position: absolute;
    top: 50%;
    left: 50%;
    right: auto;
    width: var(--calculated-paper-radio-button-ink-size);
    height: var(--calculated-paper-radio-button-ink-size);
    color: var(--paper-radio-button-unchecked-ink-color, var(--primary-text-color));
    opacity: 0.6;
    pointer-events: none;
    -webkit-transform: translate(-50%, -50%);
    transform: translate(-50%, -50%);
}

#ink[checked] {
  color: var(--paper-radio-button-checked-ink-color, var(--primary-color));
}

#offRadio, #onRadio {
  position: absolute;
    box-sizing: border-box;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
}

#offRadio {
  border: 2px solid var(--paper-radio-button-unchecked-color, var(--primary-text-color));
    background-color: var(--paper-radio-button-unchecked-background-color, transparent);
    transition: border-color 0.28s;
}

#onRadio {
  background-color: var(--paper-radio-button-checked-color, var(--primary-color));
    -webkit-transform: scale(0);
    transform: scale(0);
    transition: -webkit-transform ease 0.28s;
    transition: transform ease 0.28s;
    will-change: transform;
}

:host([checked]) #offRadio {
  border-color: var(--paper-radio-button-checked-color, var(--primary-color));
}

:host([checked]) #onRadio {
  -webkit-transform: scale(0.5);
    transform: scale(0.5);
}

#radioLabel {
  line-height: normal;
    position: relative;
    display: inline-block;
    vertical-align: middle;
    margin-left: var(--paper-radio-button-label-spacing, 10px);
    white-space: normal;
    color: var(--paper-radio-button-label-color, var(--primary-text-color));

    ;
}

:host([checked]) #radioLabel {
  ;
}

#radioLabel:dir(rtl), :host([dir="rtl"]) #radioLabel {
  margin-left: 0;
    margin-right: var(--paper-radio-button-label-spacing, 10px);
}

#radioLabel[hidden] {
  display: none;
}

:host([disabled]) #offRadio {
  border-color: var(--paper-radio-button-unchecked-color, var(--primary-text-color));
    opacity: 0.5;
}

:host([disabled][checked]) #onRadio {
  background-color: var(--paper-radio-button-unchecked-color, var(--primary-text-color));
    opacity: 0.5;
}

:host([disabled]) #radioLabel {
  opacity: 0.65;
}

</style>

<div id="radioContainer">
  <div id="offRadio"></div>
  <div id="onRadio"></div>
</div>

<div id="radioLabel"><slot></slot></div>`,is:"paper-radio-button",behaviors:[a.O],hostAttributes:{role:"radio","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},ready:function(){this._rippleContainer=this.$.radioContainer},attached:function(){(0,c.m)(this,(function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-radio-button-ink-size").trim()){var e=parseFloat(this.getComputedStyleValue("--calculated-paper-radio-button-size").trim()),t=Math.floor(3*e);t%2!=e%2&&t++,this.updateStyles({"--paper-radio-button-ink-size":t+"px"})}}))}});i(4167),i(57);class u extends((0,n.N)((0,r.$)(s.Pu))){static get is(){return"sb-table-cell-select"}static get properties(){return{item:String,isRadio:{type:Boolean,computed:"_isRadio(item)"},value:{notify:!0},data:{type:Object,observer:"init"}}}init(){if(this._attached)return this._setDisabled(),void this._setHidden();this.observeNode(this.$.s,function(){this._setDisabled(),this._setHidden(),this._attached=!0}.bind(this))}_isRadio(){return"radio"===this.item}_setDisabled(){this.disabled=!(!this.data||!this.data.disabled)}_setHidden(){let e=!!this.data&&this.data.hidden,t=new o.X(e),i=this.shadowRoot.querySelector("#"+this.item);i&&t.applyTo(i)}static get template(){return s.qy`
		<style include="sb-common-styles sb-forms-styles"></style>
		<div id="s">
			<template is="dom-if" if="[[isRadio]]">
				<paper-radio-button device noink id="radio" checked="{{value}}" disabled="[[disabled]]"></paper-radio-button>
			</template>
			<template is="dom-if" if="[[!isRadio]]">
				<paper-checkbox device noink id="checkbox" checked="{{value}}" disabled="[[disabled]]"></paper-checkbox>
			</template>
		</div>
		`}}customElements.define(u.is,u)},458:(e,t,i)=>{"use strict";i.d(t,{q2:()=>f,IS:()=>p});i(8443);var o=i(7586),r=i(8246),n=i(272),s=i(7263),a=i(4516),l=i(2622),d=i(3888),c=i(5182);const u=(0,r.y)((e=>{const t=(0,c.e)(e);function i(e){const t=Object.getPrototypeOf(e);return t.prototype instanceof r?t:null}function o(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__ownProperties",e))){let t=null;if(e.hasOwnProperty(JSCompiler_renameProperty("properties",e))){const i=e.properties;i&&(t=
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function(e){const t={};for(let i in e){const o=e[i];t[i]="function"==typeof o?{type:o}:o}return t}(i))}e.__ownProperties=t}return e.__ownProperties}class r extends t{static get observedAttributes(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))){(0,d.kz)(this.prototype);const e=this._properties;this.__observedAttributes=e?Object.keys(e).map((e=>this.prototype._addPropertyToAttributeMap(e))):[]}return this.__observedAttributes}static finalize(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__finalized",this))){const e=i(this);e&&e.finalize(),this.__finalized=!0,this._finalizeClass()}}static _finalizeClass(){const e=o(this);e&&this.createProperties(e)}static get _properties(){if(!this.hasOwnProperty(JSCompiler_renameProperty("__properties",this))){const e=i(this);this.__properties=Object.assign({},e&&e._properties,o(this))}return this.__properties}static typeForProperty(e){const t=this._properties[e];return t&&t.type}_initializeProperties(){(0,d.cn)(),this.constructor.finalize(),super._initializeProperties()}connectedCallback(){super.connectedCallback&&super.connectedCallback(),this._enableProperties()}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback()}}return r}));var h=i(8591);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const p=window.ShadyCSS&&window.ShadyCSS.cssBuild,f=(0,r.y)((e=>{const t=u((0,l.s)(e));return class extends t{static get polymerElementVersion(){return"3.5.2"}static _finalizeClass(){t._finalizeClass.call(this);const e=((i=this).hasOwnProperty(JSCompiler_renameProperty("__ownObservers",i))||(i.__ownObservers=i.hasOwnProperty(JSCompiler_renameProperty("observers",i))?i.observers:null),i.__ownObservers);var i;e&&this.createObservers(e,this._properties),this._prepareTemplate()}static _prepareTemplate(){let e=this.template;e&&("string"==typeof e?(console.error("template getter must return HTMLTemplateElement"),e=null):o.IP||(e=e.cloneNode(!0))),this.prototype._template=e}static createProperties(e){for(let n in e)t=this.prototype,i=n,o=e[n],r=e,o.computed&&(o.readOnly=!0),o.computed&&(t._hasReadOnlyEffect(i)?console.warn(`Cannot redefine computed property '${i}'.`):t._createComputedProperty(i,o.computed,r)),o.readOnly&&!t._hasReadOnlyEffect(i)?t._createReadOnlyProperty(i,!o.computed):!1===o.readOnly&&t._hasReadOnlyEffect(i)&&console.warn(`Cannot make readOnly property '${i}' non-readOnly.`),o.reflectToAttribute&&!t._hasReflectEffect(i)?t._createReflectedProperty(i):!1===o.reflectToAttribute&&t._hasReflectEffect(i)&&console.warn(`Cannot make reflected property '${i}' non-reflected.`),o.notify&&!t._hasNotifyEffect(i)?t._createNotifyingProperty(i):!1===o.notify&&t._hasNotifyEffect(i)&&console.warn(`Cannot make notify property '${i}' non-notify.`),o.observer&&t._createPropertyObserver(i,o.observer,r[o.observer]),t._addPropertyToAttributeMap(i);var t,i,o,r}static createObservers(e,t){const i=this.prototype;for(let o=0;o<e.length;o++)i._createMethodObserver(e[o],t)}static get template(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_template",this))){let e=this.prototype.hasOwnProperty(JSCompiler_renameProperty("_template",this.prototype))?this.prototype._template:void 0;"function"==typeof e&&(e=e()),this._template=void 0!==e?e:this.hasOwnProperty(JSCompiler_renameProperty("is",this))&&function(e){let t=null;if(e&&(!o.yu||o.ek)&&(t=a.$.import(e,"template"),o.yu&&!t))throw new Error(`strictTemplatePolicy: expecting dom-module or null template for ${e}`);return t}(this.is)||Object.getPrototypeOf(this.prototype).constructor.template}return this._template}static set template(e){this._template=e}static get importPath(){if(!this.hasOwnProperty(JSCompiler_renameProperty("_importPath",this))){const e=this.importMeta;if(e)this._importPath=(0,s.rG)(e.url);else{const e=a.$.import(this.is);this._importPath=e&&e.assetpath||Object.getPrototypeOf(this.prototype).constructor.importPath}}return this._importPath}constructor(){super(),this._template,this._importPath,this.rootPath,this.importPath,this.root,this.$}_initializeProperties(){this.constructor.finalize(),this.constructor._finalizeTemplate(this.localName),super._initializeProperties(),this.rootPath=o.wA,this.importPath=this.constructor.importPath;let e=function(e){if(!e.hasOwnProperty(JSCompiler_renameProperty("__propertyDefaults",e))){e.__propertyDefaults=null;let t=e._properties;for(let i in t){let o=t[i];"value"in o&&(e.__propertyDefaults=e.__propertyDefaults||{},e.__propertyDefaults[i]=o)}}return e.__propertyDefaults}(this.constructor);if(e)for(let t in e){let i=e[t];if(this._canApplyPropertyDefault(t)){let e="function"==typeof i.value?i.value.call(this):i.value;this._hasAccessor(t)?this._setPendingProperty(t,e,!0):this[t]=e}}}_canApplyPropertyDefault(e){return!this.hasOwnProperty(e)}static _processStyleText(e,t){return(0,s.c0)(e,t)}static _finalizeTemplate(e){const t=this.prototype._template;if(t&&!t.__polymerFinalized){t.__polymerFinalized=!0;const i=this.importPath;!function(e,t,i,r){if(!p){const o=t.content.querySelectorAll("style"),s=(0,n.nX)(t),a=(0,n.Ho)(i),l=t.content.firstElementChild;for(let i=0;i<a.length;i++){let o=a[i];o.textContent=e._processStyleText(o.textContent,r),t.content.insertBefore(o,l)}let d=0;for(let t=0;t<s.length;t++){let i=s[t],n=o[d];n!==i?(i=i.cloneNode(!0),n.parentNode.insertBefore(i,n)):d++,i.textContent=e._processStyleText(i.textContent,r)}}if(window.ShadyCSS&&window.ShadyCSS.prepareTemplate(t,i),o.vK&&p&&o.qM){const i=t.content.querySelectorAll("style");if(i){let t="";Array.from(i).forEach((e=>{t+=e.textContent,e.parentNode.removeChild(e)})),e._styleSheet=new CSSStyleSheet,e._styleSheet.replaceSync(t)}}}(this,t,e,i?(0,s.O2)(i):""),this.prototype._bindTemplate(t)}}connectedCallback(){window.ShadyCSS&&this._template&&window.ShadyCSS.styleElement(this),super.connectedCallback()}ready(){this._template&&(this.root=this._stampTemplate(this._template),this.$=this.root.$),super.ready()}_readyClients(){this._template&&(this.root=this._attachDom(this.root)),super._readyClients()}_attachDom(e){const t=(0,h.L)(this);if(t.attachShadow)return e?(t.shadowRoot||(t.attachShadow({mode:"open",shadyUpgradeFragment:e}),t.shadowRoot.appendChild(e),this.constructor._styleSheet&&(t.shadowRoot.adoptedStyleSheets=[this.constructor._styleSheet])),o.Kp&&window.ShadyDOM&&window.ShadyDOM.flushInitial(t.shadowRoot),t.shadowRoot):null;throw new Error("ShadowDOM not available. PolymerElement can create dom as children instead of in ShadowDOM by setting `this.root = this;` before `ready`.")}updateStyles(e){window.ShadyCSS&&window.ShadyCSS.styleSubtree(this,e)}resolveUrl(e,t){return!t&&this.importPath&&(t=(0,s.O2)(this.importPath)),(0,s.O2)(e,t)}static _parseTemplateContent(e,i,o){return i.dynamicFns=i.dynamicFns||this._properties,t._parseTemplateContent.call(this,e,i,o)}static _addTemplatePropertyEffect(e,i,r){return!o.F3||i in this._properties||r.info.part.signature&&r.info.part.signature.static||r.info.part.hostProp||e.nestedTemplate||console.warn(`Property '${i}' used in template but not declared in 'properties'; attribute will not be observed.`),t._addTemplatePropertyEffect.call(this,e,i,r)}}}))},479:(e,t,i)=>{"use strict";i.d(t,{jy:()=>n,jz:()=>o,ui:()=>r});const o=60,r=60;class n{constructor(e,t){this.metadata=e,this.labelMultiplier=null!=t?t:9}getImageWidth(e){let t=this._getImageWidth(e,0);if(null==t)return;let i=-1;do{i=Math.max(i,t.width),t=this._getImageWidth(e,t.end)}while(null!=t);return this.hasInvalidWidth&&this._warnInvalidWidthParameter(),i}_getImageWidth(e,t){if(!this.metadata)return;let i=this._getImageFunctionStart(t);if(-1===i)return;let o=this._getImageFunctionEnd(i),r=this.metadata.calculatedFormula.substring(i,o).split(","),n=this._getWidthFromImageFunctionArgs(r);e=null!=e?e:0;let s=this.metadata.label.length*this.labelMultiplier;return{width:Math.max(n,s)+e,end:o}}_getImageFunctionStart(e){return this.metadata.calculatedFormula?this.metadata.calculatedFormula.toLowerCase().indexOf("image(",e):-1}_getImageFunctionEnd(e){let t=this.metadata.calculatedFormula?this.metadata.calculatedFormula.toLowerCase():null;if(!t)return-1;let i=0,o=0;for(let r=e,n=t.length;r<n;r++)if("("===t.substring(r,r+1)?i++:")"===t.substring(r,r+1)&&o++,i>0&&i===o)return r;return-1}_getWidthFromImageFunctionArgs(e){if(e.length<=3)return o;let t;try{t=parseInt(e[3].trim())}catch(e){return this.hasInvalidWidth=!0,o}return isNaN(t)?(this.hasInvalidWidth=!0,o):t}_warnInvalidWidthParameter(){console.warn('May not have properly sized the column to fit the image specified by this formula: "'+this.metadata.calculatedFormula+"\"\nREASON: At least one of the formula's IMAGE function(s) has its width parameter (4th argument) defined from a field.\nSOLUTION: All of the formula's IMAGE function(s) should have its width parameter either omitted or hardcoded to a number.")}}},503:(e,t,i)=>{"use strict";i.d(t,{D:()=>b});i(1518);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/var o={"U+0008":"backspace","U+0009":"tab","U+001B":"esc","U+0020":"space","U+007F":"del"},r={8:"backspace",9:"tab",13:"enter",27:"esc",33:"pageup",34:"pagedown",35:"end",36:"home",32:"space",37:"left",38:"up",39:"right",40:"down",46:"del",106:"*"},n={shift:"shiftKey",ctrl:"ctrlKey",alt:"altKey",meta:"metaKey"},s=/[a-z0-9*]/,a=/U\+/,l=/^arrow/,d=/^space(bar)?/,c=/^escape$/;function u(e,t){var i="";if(e){var o=e.toLowerCase();" "===o||d.test(o)?i="space":c.test(o)?i="esc":1==o.length?t&&!s.test(o)||(i=o):i=l.test(o)?o.replace("arrow",""):"multiply"==o?"*":o}return i}function h(e,t){return e.key?u(e.key,t):e.detail&&e.detail.key?u(e.detail.key,t):(i=e.keyIdentifier,n="",i&&(i in o?n=o[i]:a.test(i)?(i=parseInt(i.replace("U+","0x"),16),n=String.fromCharCode(i).toLowerCase()):n=i.toLowerCase()),n||function(e){var t="";return Number(e)&&(t=e>=65&&e<=90?String.fromCharCode(32+e):e>=112&&e<=123?"f"+(e-112+1):e>=48&&e<=57?String(e-48):e>=96&&e<=105?String(e-96):r[e]),t}(e.keyCode)||"");var i,n}function p(e,t){return h(t,e.hasModifiers)===e.key&&(!e.hasModifiers||!!t.shiftKey==!!e.shiftKey&&!!t.ctrlKey==!!e.ctrlKey&&!!t.altKey==!!e.altKey&&!!t.metaKey==!!e.metaKey)}function f(e){return e.trim().split(" ").map((function(e){return function(e){return 1===e.length?{combo:e,key:e,event:"keydown"}:e.split("+").reduce((function(e,t){var i=t.split(":"),o=i[0],r=i[1];return o in n?(e[n[o]]=!0,e.hasModifiers=!0):(e.key=o,e.event=r||"keydown"),e}),{combo:e.split(":").shift()})}(e)}))}const b={properties:{keyEventTarget:{type:Object,value:function(){return this}},stopKeyboardEventPropagation:{type:Boolean,value:!1},_boundKeyHandlers:{type:Array,value:function(){return[]}},_imperativeKeyBindings:{type:Object,value:function(){return{}}}},observers:["_resetKeyEventListeners(keyEventTarget, _boundKeyHandlers)"],keyBindings:{},registered:function(){this._prepKeyBindings()},attached:function(){this._listenKeyEventListeners()},detached:function(){this._unlistenKeyEventListeners()},addOwnKeyBinding:function(e,t){this._imperativeKeyBindings[e]=t,this._prepKeyBindings(),this._resetKeyEventListeners()},removeOwnKeyBindings:function(){this._imperativeKeyBindings={},this._prepKeyBindings(),this._resetKeyEventListeners()},keyboardEventMatchesKeys:function(e,t){for(var i=f(t),o=0;o<i.length;++o)if(p(i[o],e))return!0;return!1},_collectKeyBindings:function(){var e=this.behaviors.map((function(e){return e.keyBindings}));return-1===e.indexOf(this.keyBindings)&&e.push(this.keyBindings),e},_prepKeyBindings:function(){for(var e in this._keyBindings={},this._collectKeyBindings().forEach((function(e){for(var t in e)this._addKeyBinding(t,e[t])}),this),this._imperativeKeyBindings)this._addKeyBinding(e,this._imperativeKeyBindings[e]);for(var t in this._keyBindings)this._keyBindings[t].sort((function(e,t){var i=e[0].hasModifiers;return i===t[0].hasModifiers?0:i?-1:1}))},_addKeyBinding:function(e,t){f(e).forEach((function(e){this._keyBindings[e.event]=this._keyBindings[e.event]||[],this._keyBindings[e.event].push([e,t])}),this)},_resetKeyEventListeners:function(){this._unlistenKeyEventListeners(),this.isAttached&&this._listenKeyEventListeners()},_listenKeyEventListeners:function(){this.keyEventTarget&&Object.keys(this._keyBindings).forEach((function(e){var t=this._keyBindings[e],i=this._onKeyBindingEvent.bind(this,t);this._boundKeyHandlers.push([this.keyEventTarget,e,i]),this.keyEventTarget.addEventListener(e,i)}),this)},_unlistenKeyEventListeners:function(){for(var e,t,i,o;this._boundKeyHandlers.length;)t=(e=this._boundKeyHandlers.pop())[0],i=e[1],o=e[2],t.removeEventListener(i,o)},_onKeyBindingEvent:function(e,t){if(this.stopKeyboardEventPropagation&&t.stopPropagation(),!t.defaultPrevented)for(var i=0;i<e.length;i++){var o=e[i][0],r=e[i][1];if(p(o,t)&&(this._triggerKeyHandler(o,r,t),t.defaultPrevented))return}},_triggerKeyHandler:function(e,t,i){var o=Object.create(e);o.keyboardEvent=i;var r=new CustomEvent(e.event,{detail:o,cancelable:!0});this[t].call(this,r),r.defaultPrevented&&i.preventDefault()}}},571:(e,t,i)=>{"use strict";i.d(t,{IM:()=>d,IU:()=>l,h1:()=>c,yJ:()=>a});var o=i(6902),r=i(6206),n=i(904),s=i(4358);function a(e,t,i){const r=function(e,t){if(!e.hasOwnProperty(t))throw new Error("Metadata type does not exist.");return e[t]}(s.QE,e),a=function(e,t){if(!e.fields||!e.fields.hasOwnProperty(t))throw new Error("Field does not exist in metadata.");return e.fields[t]}(r,t);!function(e,t){const i=e.type;if(i&&typeof t!==i)throw new Error("Given type does not match field metadata.")}(a,i),function(e,t){if(e.required&&(null==t||""===t))throw new Error("Field is required to have a value set.")}(a,i);let l=a.localizable?(0,o.L)(i):i;n.yJ(e,[t],l)}function l(e,t){n.yJ(e,[t],null)}function d(e,t){return new Promise((i=>{const o=n.lB(e,t,(e=>{setTimeout((()=>{o()})),i(e)}))}))}function c(e){for(let t in e)n.yJ(t,[],(0,r.Fr)(n.Jt(t,[]),e[t]))}},622:(e,t,i)=>{"use strict";var o=i(7734);i(7543),i(1306),i(4482);class r extends o.Pu{static get is(){return"sb-describe"}static get properties(){return{objects:Array,fields:Array,cache:{type:String,value:"describe"},describe:{type:Object,notify:!0},error:{type:Object,notify:!0},background:{type:Boolean,value:!1}}}static get observers(){return["describeObjects(objects)","describeFields(fields)"]}constructor(){super(),this.waiting=!1}describeObjects(){let e=[];this.objects.forEach((function(t){e.push(t)})),this._describe(this.objects).then(function(t){let i=null,o={objects:e};for(let e=0,o=t.length;e<o;e++){let o=t[e];o&&(i=i||{},i[o.name]=o)}i&&(o.md=i,this.describe=o),this.waiting=!1}.bind(this),function(e){this.waiting=!1,this.error=e||e.message}.bind(this))}describeFields(){let e=[];this.fields.forEach((function(t){e.push(t)}));let t={};for(let e=0,i=this.fields.length;e<i;e++){let i=this.fields[e].split("."),o=i[0],r=i[1];t[o]=t[o]||{},t[o][r]=!0}this._describe(Object.keys(t)).then(function(i){let o=null,r={},n={fields:e},s=[];for(let e=0,n=i.length;e<n;e++){let n=i[e];if(!n)continue;o=o||{};let a=t[n.name];for(let e=0,t=n.fields.length;e<t;e++)r[n.name+"."+n.fields[e].name]=n.fields[e],a[n.fields[e].name]&&(o[n.name+"."+n.fields[e].name]=n.fields[e],n.fields[e].tableName=n.name,null!=n.fields[e].controllerName&&s.push(n.fields[e]))}s.forEach((e=>{let t=e.tableName+"."+e.controllerName;e.controllingField=r[t],e.controllingField.controllingPicklist=!0,o[t]=e.controllingField})),o&&(n.md=o,this.describe=n),this.waiting=!1}.bind(this),function(e){this.waiting=!1,this.error=e||e.message}.bind(this))}_describe(e){this.waiting=!0;let t=[];for(let i=0,o=e.length;i<o;i++)t.push(this.$.service.describe({sObject:e[i]}));return Promise.all(t)}static get template(){return o.qy`
			<template is="dom-if" if="[[!background]]">
				<sb-loading-spinner show="[[waiting]]"/>
			</template>
			<sb-service id="service" cache="[[cache]]" background="true"></sb-service>
		`}}customElements.define(r.is,r)},656:(e,t,i)=>{"use strict";var o=i(7734),r=(i(7543),i(347),i(7695)),n=i(7212),s=(i(2804),i(479)),a=i(5770),l=i(3311),d=i(6595),c=i(9815),u=i(1149),h=i(4886),p=i(4127),f=i(178),b=i(3218),g=i(6206),m=(i(7533),i(7022),i(1925),i(7893),i(8421),i(6902)),y=i(1890),v=(i(1520),i(2619));const _=v.b`
:host #fieldLabel {
  padding-top: 5px;
}
`;i(4),i(4167);class w extends((0,p.g)(o.Pu)){static get is(){return"sb-option-cell"}static get properties(){return{item:String,itemLabel:String,value:{notify:!0},model:Object,data:Object,editable:Boolean,prefix:{type:String,value:function(){return m.B.org.prefix?m.B.org.prefix+"__":""}},selected:{type:Boolean,value:!1},index:Number,display:String,viewport:{type:Object,value:function(){return l.L.getViewport()}},optionDrawer:{type:Boolean,value:function(){return this.classList.contains("drawerCell")}},renderReadOnly:{type:Boolean,computed:"getRenderReadOnly(optionDrawer)"},isDisabled:{type:Boolean,computed:"getDisabled(optionDrawer, selected)"}}}static get observers(){return["_buildCellObserver(itemLabel, model, data, prefix)","setItemLabel(item)","_displayChangedObserver(value, display, item, data, field)"]}_buildCellObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this.buildCell(e,t,i,o)}buildCell(){this.field=this.getField(),this.itemLabel===this.prefix+"Quantity__c"?this.initQuantityCell():this.itemLabel===this.prefix+"UnitPrice__c"?this.initUnitPriceCell():this.initCell()}getQuantityEditable(){return this.getFieldRecordValue("QuantityEditable__c")||!1===this.data.recordHasQuantity}getPriceEditable(){return"Yes"===this.getFieldRecordValue("PriceEditable__c")&&!1===this.getFieldRecordValue("Bundled__c")}getField(){return this.model.fieldDetails[this.item]}initQuantityCell(){if(!0===this.data.hasDimension&&!0===this.data.isSegmented&&!0===this.data.configured)return this.mdqWarningIcon=!0;this.editable=this.getQuantityEditable(),null!=this.getFieldRecordValue("ProductQuantityScale__c")?(this.field=JSON.parse(JSON.stringify(this.field)),this.field.scale=this.getFieldRecordValue("ProductQuantityScale__c")):void 0!==m.B.org.quantityScale&&(this.field.scale=m.B.org.quantityScale),this.$.field.preventNumericAlignment=!0,this.attachQuantityChangeCallback(),this.initCell()}initUnitPriceCell(){this.editable=this.getPriceEditable(),null!=m.B.org.currencyDecimalScale&&(this.field.scale=m.B.org.currencyDecimalScale),this.initCell()}initCell(){0===this.index&&this.viewport&&this.viewport.isMobile()&&(this.editable=!1),void 0===this.editable&&this.optionDrawer&&(this.editable=!0),void 0===this.editable&&(this.editable=this.field.updateable&&this.quoteLineHasField(this.itemLabel)),this.setDisplayIfRelationshipItem(),this.attachValueChangedCallback(),this.handleOriginalValues(),this.$.field.record=this,this.$.field.md=this.field}attachQuantityChangeCallback(){this.addEventListener("value-changed",function(e){this.dispatchEvent((0,u.uv)("sb-quantity-changed",{Id:this.data.record.Id,bundleId:this.getBundleId(),changed:!0,invalidQuantity:this.data.invalidQuantity,validQuantity:this.data.validQuantity,path:e.composedPath?e.composedPath():[e.target.parentNode]}))}.bind(this))}attachValueChangedCallback(){this.addEventListener("value-changed",this.syncValueChangeWithOptionConfiguration.bind(this))}getBundleId(){return this.data.parentProductKey||this.getFieldRecordValue("ConfiguredSKU__c")}getFieldRecordValue(e){return this.data.record[this.prefix+e]}quoteLineHasField(e){return!!this.model.quoteLineFields[e]}setItemLabel(){this.item.startsWith("record.")?this.itemLabel=this.item.split(".")[1]:this.itemLabel=this.item}syncValueChangeWithOptionConfiguration(){if(!this.data.configuration||0==this.data.configuration.length)return;if(this.data.configuration.length>1)return;let e=this.data.configuration[0].optionData;if(!e)return;let t=this.item.split("."),i=t[t.length-1];void 0!==e[i]&&(e[i]=this.value)}handleOriginalValues(){!this.data._transient_.original&&this.data.record&&(this.data._transient_.original={},this.data._transient_.original.record=JSON.parse(JSON.stringify(this.data.record))),this.data._transient_.original&&(this.data._transient_.original.record.hasOwnProperty(this.item.split(".")[1])||this.set("data._transient_.original."+this.item,this.value),this.$.field.originalValue=this.get("data._transient_.original."+this.item))}setDisplayIfRelationshipItem(){let e=new y.u(this.item,null,(e=>this.get("data."+e)),this.setValue.bind(this));e.hasRelationship()&&(this.display=e.getRelationshipName())}_displayChangedObserver(e,t,i,o,r){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r)return this._displayChanged(e,t,i,o,r)}_displayChanged(){new y.u(this.item,null,(e=>this.get("data."+e)),this.setValue.bind(this)).addRelationshipName(this.value,this.display,this.field.referenceTo[0])}getValue(e){return this.data.record[e]}setValue(e,t){this.set("data."+e,t)}equals(e){return this.data===e.data}getRenderReadOnly(){return!this.optionDrawer}getDisabled(){return!!this.optionDrawer||this.selected}static get template(){return o.qy`
		<style include="sb-icons-styles sb-common-styles"></style>
		<style>${_}</style>

		<template is="dom-if" if="[[mdqWarningIcon]]">
			<span id="warningIcon" class="sf-icon-warning"></span>
			<paper-tooltip for="warningIcon" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
				[[data.reconfigureDimensionWarning]]
			</paper-tooltip>
		</template>
		<template is="dom-if" if="[[optionDrawer]]">
			<div id="fieldLabel">[[field.label]]</div>
		</template>
		<sb-field id="field"
				  property="[[item]]"
				  disabled="[[!isDisabled]]"
				  value="{{value}}"
				  editing="[[editable]]"
				  ref-display="{{display}}"
				  index="[[index]]"
				  signaler="[[signaler]]"
				  render-read-only="[[renderReadOnly]]"></sb-field>
		`}}customElements.define(w.is,w);const x=v.b`
#drawerTable {
  border-bottom: 1px solid #D8DDE6;
}
`;i(9630);class C extends((0,h.$)(o.Pu)){static get is(){return"sb-option-drawer"}static get properties(){return{option:Object,md:Object,fieldNames:Array,richTextFields:Array}}static get observers(){return["_setFieldNamesAndRichTextFieldsObserver(option, md)"]}_setFieldNamesAndRichTextFieldsObserver(e,t){if(void 0!==e&&void 0!==t)return this.setFieldNamesAndRichTextFields(e,t)}setFieldNamesAndRichTextFields(){let e=[],t=[];for(let i in this.option._transient_.attributeItems)e.push("record."+i),this.md.fieldDetails["record."+i]&&"richtextarea"===this.md.fieldDetails["record."+i].extraTypeInfo&&t.push("record."+i);this.fieldNames=e,this.richTextFields=t}static get template(){return o.qy`
		<style>${x}</style>
		<div id="drawerTable">
			<sb-row-drawer
				item="sb-option-cell"
				model="[[md]]"
				data="{{option}}"
				field-names="[[fieldNames]]"
				rich-text-fields="[[richTextFields]]"
				highlight-on-focus="true"
			></sb-row-drawer>
		</div>

		`}}customElements.define(C.is,C);const S=v.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  --sf-icon-padding: 0;
}
:host .drawer {
  background-color: var(--sbPageHeaderBgColor);
  border-bottom: 1px solid #d0d0d0;
  display: table-row;
}
[hidden] {
  display: none;
}
#optiontable {
  padding: 0px;
}
.datatable > .featureless {
  display: none;
}
a {
  display: inline-block;
  cursor: pointer;
  padding: 8px 12px;
  margin: 4px 0;
}
:host([label='Options']) {
  --sbOptionCellBorderTop: 0;
  --sbOptionCellBorderBottom: 1px solid #d8dde6;
}
#upgradeOptionsButton {
  margin: 10px;
}
#upgradeOptionsButton[class*='--mobile'] {
  margin: 0;
  width: 100%;
  height: 53px;
  border-radius: 0;
}
#optiontable[class*='--mobile'] {
  border-bottom: var(--option-table-border-bottom, none);
  overflow-x: hidden;
}
[class*='--mobile'] #upgradeOptionsButton {
  margin: 0;
  width: 100%;
  height: 53px;
  border-radius: 0;
}
[class*='--mobile'] #optiontable {
  border-bottom: var(--option-table-border-bottom, none);
  overflow-x: hidden;
}
.upgradeOption {
  --upgrade-option-color: #aaaaaa;
  color: #aaaaaa;
}
sb-table-row[class*='--desktop']::shadow #swipe-header.focused {
  background-color: var(--sbTableRowHoverColor);
}
[class*='--desktop'] sb-table-row::shadow #swipe-header.focused {
  background-color: var(--sbTableRowHoverColor);
}
`;i(9235);class O extends((0,b.N)((0,p.g)((0,h.$)((0,f.T)(o.Pu))))){static get is(){return"sb-product-option-table"}static get properties(){return{featureId:String,model:Object,isClickSelection:Boolean,index:String,routeSource:String,options:Array,showAddOptionsButton:Boolean,md:Object,fieldSet:Array,featureless:Boolean,prefix:{type:String,computed:"getPrefix(model)"},primaryMobileCol:{type:Array,computed:"_getPrimaryMobileColumns(prefix, fieldSet, fieldSetName)"},parentIdDataPath:{type:String,computed:"setParentIdDataPath(model, prefix)"},disabledStateMap:Object,disableAllFields:Boolean,configSearch:Object,viewport:{type:Object,value:function(){return l.L.getViewport()}},showUpgradeOptions:{type:Boolean,value:!1},upgradeOptionButtonText:{type:String,value:"Show Available Upgrades"},hasUpgradeOptions:Boolean,headerActions:{type:Array,value:[]},spinner:{type:Boolean,notify:!0},attributeItemFields:{type:Array,value:[]},productHasAttributeSet:Boolean,tabIndex:{type:Number,value:null}}}get events(){let e={};return e[u.sV.NAVIGATION_CHANGED]=this.navigationChanged,e}static get observers(){return["_setMetadataRequestObserver(model, fieldSet, prefix, options)","_initOptionsObserver(model, featureId, isClickSelection, fieldSet)","disabledStateMapChanged(disabledStateMap.*)","_setOptionsDisabledDataObserver(disabledStateMap, options)","setUpgradeOptionClass(options)","_filterOptionsObserver(configSearch, options)","setProductRulesActions(options, model.productRulesActions.*)","_firePriceRules(options, model.optionDataByOptionIdAndIndex.*)","_notifyObserver(model.optionNotifications, options)","_showOrHideAddOptionsButtonObserver(model, featureId, isClickSelection)","_setHasUpgradeOptionsObserver(hasUpgradeOptions, showAddOptionsButton)","_setHeaderActions(options)","_showUpgradeOptionIfSelectionMethodAddObserver(options, isClickSelection)","setOptionIndex(options)","isFeatureOptionless(options.splices)"]}ready(){super.ready(),this.$.header.selectable=!1,this.handleSelectionChanged(),this.handleMetadataChanged(),this.handleDeleteOption(),this.handleConfigureOption(),this.viewport&&this.viewport.isMobile()||(this.editFirstWhenSelected="sb-field")}handleSelectionChanged(){this.addEventListener("selection-changed",this._selectionChanged.bind(this)),this.addEventListener("sb-quantity-changed",this._handleOptionUpgrades.bind(this))}_selectionChanged(e){this.model.setOptionSelected(e.detail.Id,e.detail.selected),this.ifRadioSelectedClearOtherRadioSelections(e);let t=null!=e.detail.index?e.detail.index:this.getOptionIndex(e.detail.Id);t<0||(!0===e.detail.selected&&"Configurator"===this.routeSource?(this._displayAvailableRowActions(t,!1),this.set(["options",t,"selected"],e.detail.selected)):this._displayAvailableRowActions(t,!0),"Configurator"===this.routeSource&&e.detail.path&&this.options.length>t&&(this.options[t].upgradedAssetId||this.options[t].sourceProductIds)&&this._handleOptionUpgrades(e,t))}_displayAvailableRowActions(e,t){if(!(this.options.length<=e))for(let i=0;i<this.options[e]._transient_.rowActions.length;i++)this.set(["options",e,"_transient_.rowActions",i,"invisible"],t),"OptionLookup"===this.routeSource&&this.set(["options",e,"_transient_.rowActions",i,"hidden"],t),"Configure"===this.options[e]._transient_.rowActions[i].title&&!0!==this.options[e].configurable&&this.set(["options",e,"_transient_.rowActions",i,"invisible"],!0)}handleMetadataChanged(){this.$.fieldMetaData.addEventListener("md-changed",function(e){let t=this.initFieldMetadata(e.detail.value.fieldsByObject);this.rowClassMap=t.fieldSetMd.rowClassMap,this.md=t.fieldSetMd,this.attributeItemMd=t.attributeItemMd,this.spinner=!1}.bind(this))}_handleOptionUpgrades(e,t){if("Amendment"!==this.model.product.quoteType)return;let i=this.options[t||this.getOptionIndex(e.detail.Id)],o=new d.Q(this.prefix,this.options,i);if(new c.K(o).setQuantitiesByRatio(),!o.getSourceOption()&&!o.getUpgradeOption())return;let s=this.getOptionIndex(o.getSourceOption().record.Id),a=this.getOptionIndex(o.getUpgradeOption().record.Id);this._handleOptionUpgradesDebouncer=n.aq.debounce(this._handleOptionUpgradesDebouncer,r.EV.after(10),(()=>{let e=o.getSourceOption(),t=o.getUpgradeOption();e.invalidQuantity?this._notifyQuantityChange(s,a,e,!0):t.invalidQuantity?this._notifyQuantityChange(a,s,t,!0):this._notifyQuantityChange(s,a),e.invalidQuantity=null,t.invalidQuantity=null}))}_notifyQuantityChange(e,t,i,o){o&&(i.record[this.prefix+"Quantity__c"]=i.invalidQuantity,this.notifyPath(["options",e,"record",this.prefix+"Quantity__c"]),i.record[this.prefix+"Quantity__c"]=i.validQuantity),this.notifyPath(["options",t,"record",this.prefix+"Quantity__c"]),this.notifyPath(["options",e,"record",this.prefix+"Quantity__c"])}_getPrimaryMobileColumns(){let e=["record."+this.prefix+"ProductName__c"];return e&&e.length>0&&this.fieldSetName&&this.fieldSetName.endsWith("Phone")&&(e=["record."+this.fieldSet[0]]),e}_setMetadataRequestObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this.setMetadataRequest(e,t,i,o)}setMetadataRequest(){this.spinner=!0;let e=new Set,t=[];for(let t of this.fieldSet)e.add(t);e=this.setAttributeItemMetaData(e);for(let i of e.values())t.push("ProductOption__c."+i),t.push("QuoteLine__c."+i);JSON.stringify(this.$.fieldMetaData.fields)!==JSON.stringify(t)&&(this.$.fieldMetaData.fields=t)}setAttributeItemMetaData(e){let t=new Set;for(let i of this.options)if(this.hasAttributeItems(i))for(let o in i._transient_.attributeItems)e.add(o),t.add(o);for(let e of t.values())this.attributeItemFields.push(e);return e}initFieldMetadata(e){let t={fieldLabelMap:{},recordKeys:[],fieldLabels:[],fieldDetails:{},labelTypeMap:{},itemTypeMap:{},fields:this.fieldSet},i={fieldLabelMap:{},recordKeys:[],fieldLabels:[],fieldDetails:{},labelTypeMap:{},itemTypeMap:{},fields:this.attributeItemFields};for(let o in e[this.prefix+"ProductOption__c"]){let r=e[this.prefix+"ProductOption__c"][o];"currency"===r.type.toLowerCase()&&(r.CurrencyIsoCode=this.model.currencyIsoCode),this.addMetaDataProperties(t,r),this.attributeItemFields.length>0&&this.addMetaDataProperties(i,r)}return this.addAdditionalMetaDataProperties(t,e),this.addAdditionalMetaDataProperties(i,e),{fieldSetMd:t,attributeItemMd:i}}addMetaDataProperties(e,t){let i=t.name;if(-1==e.fields.indexOf(i))return;e.fieldLabels.push(t.label),e.recordKeys.push("record."+i),e.fieldLabelMap[i]=t.label,e.fieldDetails["record."+i]=t;let o=t.type;if(!this._isMobile()){i===this.prefix+"Quantity__c"&&(o="string");let e=new s.jy(t).getImageWidth(20);e&&(o+=":"+e)}e.labelTypeMap[t.label.replace(/\W/g,"")]=o,e.itemTypeMap["record."+i]=o}addAdditionalMetaDataProperties(e,t){e.quoteLineFields=t[this.prefix+"QuoteLine__c"],e.headerClassMap=new a.u(Object.keys(e.labelTypeMap),"Th",e.labelTypeMap,null,!0).build(),e.rowClassMap=new a.u(e.recordKeys,"Td",e.itemTypeMap,["initial"]).build(),delete e.fields}_initOptionsObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this.initOptions(e,t,i,o)}initOptions(){this.productHasAttributeSet=!this._isMobile()&&this.model.product._transient_&&this.model.product._transient_.hasAttributeItems,this.options=this.model.getOptionsByFeatureId(this.featureId)}_notifyObserver(e,t){if(void 0!==e&&void 0!==t)return this.notify(e,t)}notify(e){if(this.isClickSelection)for(let t=0,i=this.options.length;t<i;t++)for(let i of e)this.notifyPath(`options.${t}.${i}`);else{this.model.getFeature(this.featureId)._transient_.changedExternally&&this._optionsExternallyChanged();let t=this.$.tbody.querySelectorAll("sb-table-row");t.length&&t.forEach((t=>{t.notify(e)}))}}_optionsExternallyChanged(){this.$.tbody.querySelector("dom-repeat").render(),this._renderChangedRows(),this.isFeatureOptionless(),this._setHeaderActions()}_renderChangedRows(){let e=this.$.tbody.querySelectorAll("sb-table-row");for(let t=this.options.length-1;t>=0;t--)this.options[t].selected?this._addSelectedOption(this.options[t],e[t],t):this.deleteOption(this.options[t].record.Id,t)}_addSelectedOption(e,t,i){t.rowData||(e._transient_.rowActions=this.model.getOption(e.record.Id)._transient_.rowActions,t.rowData=e,t.$.row.selected=!0,this._displayAvailableRowActions(i,!1))}deselectOptionsOnOptionLookup(){for(let[e,t]of this.options.entries())this.set(`options.${e}.selected`,!1)}getOptionIndex(e){let t=-1,i=0,o=this.options.length;for(;t<0&&i<o;)this.options[i].record.Id===e&&(t=i),i++;return t}ifRadioSelectedClearOtherRadioSelections(e){if("radio"!==e.detail.selectionType||!e.detail.selected)return;let t=this.$.tbody.querySelectorAll("sb-table-row");if(!t||0==t.length)return;let i=e.composedPath()[0];for(let e of t)"radio"==e.selectionType&&e!==i&&(this.dispatchEvent((0,u.uv)("group-selected",{selected:!1})),e.selected=!1)}setParentIdDataPath(){return"record."+this.prefix+"ConfiguredSKU__c"}navigationChanged(){this.model.getFeature(this.featureId)._transient_.changedExternally||this.reset()}_setOptionsDisabledDataObserver(e,t){if(void 0!==e&&void 0!==t)return this.setOptionsDisabledData(e,t)}setOptionsDisabledData(){this.options.length&&this.disabledStateMap&&Object.keys(this.disabledStateMap).length&&this.options.forEach(function(e,t){this.optionShouldChange(e)&&this.changeOptionDisabled(e,t)}.bind(this))}disabledStateMapChanged(e){if(!this.options||!this.options.length||!Object.keys(this.disabledStateMap).length)return;let t=e.path.split(".")[1],i=this.model.optionsById[t],o=this.options.findIndex((e=>e.record.Id===t));o>=0&&this.optionShouldChange(i)&&this.changeOptionDisabled(i,o)}optionShouldChange(e){return e.disabledData&&this.disabledStateMap[e.record.Id]!==e.disabledData.constrained}changeOptionDisabled(e,t){let i=!!this.disabledStateMap[e.record.Id],o=e.disabledData.disabled;this.set(`options.${t}.disabledData`,{disabled:o,constrained:i}),this.isClickSelection||1!=this.disabledStateMap[e.record.Id]||this.deleteOption(e.record.Id,t,!0)}reset(){}routeToLookup(){let e={qId:this.model.qId,pId:this.model.product.record.Id,fId:this.featureId};"Dynamic"===this.model.getFeature(this.featureId).optionSelectionMethod&&(e.path=["product","dl"]),this.dispatchEvent((0,u.uv)("add-option-clicked",e))}isFeatureOptionless(){this.options&&(this.featureless=0===this.options.length?"featureless":null)}isOptionSelected(e){return"OptionLookup"!==this.routeSource&&!!e.selected}handleDeleteOption(){this.addEventListener("delete-tapped",function(e){this.deleteOption(e.detail.Id,e.detail.index)}.bind(this))}deleteOption(e,t,i){let o=this.sameOptionAdded(e,this.options[t].index,!0);o||(this.model.optionsById[e].selected=!1),this.dispatchEvent((0,u.uv)("sb-option-deleted",this.options[t])),this.splice("options",t,1),this.showOrHideAddOptionsButton(),i&&o&&this.deleteOption(o.id,o.index,!0)}sameOptionAdded(e,t){let i=null;for(let[o,r]of this.options.entries())if(r.record.Id===e){if(r.index===t)continue;i={id:e,index:o},r.index>t&&r.index--}return i}handleConfigureOption(){this.addEventListener("configure-tapped",function(e){let t=this.isClickSelection?null:e.detail.index,i=this.isClickSelection?this.model.optionsById[e.detail.Id]:this.model.getFeature(this.featureId)._transient_.optionConfigurations[e.detail.index];this.dispatchEvent((0,u.uv)("configure-option-tapped",{addedIndex:i.index||0,index:t,optionId:i.record.Id,optionalSKU:i.record[this.prefix+"OptionalSKU__c"],productId:this.model.product.record.Id,tabIndex:this.tabIndex,optionData:i.record,isDynamicOption:i.isDynamicOption}))}.bind(this))}_filterOptionsObserver(e,t){if(void 0!==e&&void 0!==t)return this.filterOptions(e,t)}filterOptions(){let e=this.configSearch.setOptionVisibility(this.options);for(let t=0;t<this.options.length;t++)this.options[t].hiddenByRule||this.set("options."+t+".hidden",e[t].hidden)}setOptionIndex(){let e={};for(let t=0;t<this.options.length;t++){e[this.options[t].record.Id]||(e[this.options[t].record.Id]=0),void 0===this.options[t].index&&this.set("options."+t+".index",e[this.options[t].record.Id]);let i="_"+this.options[t].record.Id+"_"+this.options[t].index,o=this.model.product.configuration.configuredOptions&&this.model.product.configuration.configuredOptions[i];this.set("options."+t+".configured",o),e[this.options[t].record.Id]++}}setProductRulesActions(){0!=Object.keys(this.model.productRulesActions).length&&this.model.optionsByFeatureId[this.featureId]&&(0==this.isClickSelection&&this.setUnaddedOptionsRulesActions(),void 0!==this.options[0]&&this.setDisplayedOptionsRulesActions())}setUnaddedOptionsRulesActions(){let e=this.model.optionsByFeatureId[this.featureId];for(let t=0;t<e.length;t++){let i=e[t];this.model.productRulesActions.selectOptions[i.record.Id]&&!this.sameOptionAdded(i.record.Id,t)&&(i.selected=!0,i.added=!0,this.push("options",i),this.showOrHideAddOptionsButton(),this.fireOptionChangedByRule(!0)),this.model.productRulesActions.showOptions[i.record.Id]&&(i.hidden=!1,i.hiddenByRule=!1),this.model.productRulesActions.hideOptions[i.record.Id]&&(i.hidden=!0,i.hiddenByRule=!0),!0===this.model.productRulesActions.disableOptions[i.record.Id]&&(i.disabledData={disabled:!0,constrained:!0}),!1===this.model.productRulesActions.disableOptions[i.record.Id]&&(i.disabledData={disabled:!0,constrained:!1}),!0===this.model.productRulesActions.enableOptions[i.record.Id]&&(i.disabledData={disabled:!1,constrained:!1}),!1===this.model.productRulesActions.enableOptions[i.record.Id]&&(i.disabledData={disabled:!1,constrained:!0})}}setDisplayedOptionsRulesActions(){for(let e=0;e<this.options.length;e++)if(this.model.productRulesActions.hideOptions[this.options[e].record.Id]&&(this.set(`options.${e}.hidden`,!0),this.options[e].hiddenByRule=!0),this.model.productRulesActions.showOptions[this.options[e].record.Id]&&(this.set(`options.${e}.hidden`,!1),this.options[e].hiddenByRule=!1),!0===this.model.productRulesActions.disableOptions[this.options[e].record.Id]&&this.set(`options.${e}.disabledData`,{disabled:!0,constrained:!0}),!1===this.model.productRulesActions.disableOptions[this.options[e].record.Id]&&this.set(`options.${e}.disabledData`,{disabled:!0,constrained:!1}),!0===this.model.productRulesActions.enableOptions[this.options[e].record.Id]&&this.set(`options.${e}.disabledData`,{disabled:!1,constrained:!1}),!1===this.model.productRulesActions.enableOptions[this.options[e].record.Id]&&this.set(`options.${e}.disabledData`,{disabled:!1,constrained:!0}),this.isClickSelection&&this.model.productRulesActions.selectOptions[this.options[e].record.Id]&&(this.set(`options.${e}.selected`,!0),this.fireOptionChangedByRule(!0)),this.model.productRulesActions.deselectOptions[this.options[e].record.Id])if(this.isClickSelection)this.set(`options.${e}.selected`,!1),this.fireOptionChangedByRule(!1);else{if(this.deleteOption(this.options[e].record.Id,e),void 0===this.options[e])return;e--}}fireOptionChangedByRule(e){this.viewport&&!this.viewport.isMobile()||this.dispatchEvent((0,u.uv)("option-changed-by-rule",{added:e}))}_firePriceRules(){let e=this.model.optionDataByOptionIdAndIndex,t=this.options;if(null!=t&&void 0!==e)for(let i=0;i<t.length;i++){let o=t[i].optionId||t[i].record.Id,r=t[i].index;if(e[o]&&null!=e[o][r]){let e=this._getPriceActions(t[i],o,r);for(let t in e)e.hasOwnProperty(t)&&this.set(["options",i,"record",t],e[t])}}}_getPriceActions(e,t,i){let o={},r=this.model.optionDataByOptionIdAndIndex[t][i].optionData;for(let t in r)r.hasOwnProperty(t)&&"attributes"!=t&&e.record[t]!=r[t]&&(o[t]=r[t]);return this._calculateUnitPrice(o,r),o}_calculateUnitPrice(e,t){const i=this.getPrefix()+"UnitPrice__c";if(void 0!==t[i])return e[i]=t[i]}setUpgradeOptionClass(){this.observeNode(this.$.tbody,function(){let e=this.$.tbody.querySelectorAll("#row[hidden]");for(let t=0;t<e.length;t++)e[t].rowData.isUpgrade&&(0,g.p1)("upgradeOption",!0,e[t])}.bind(this))}toggleUpgradeOptions(){let e=this.options;this.showUpgradeOptions=!this.showUpgradeOptions,this.showUpgradeOptions?this.upgradeOptionButtonText="Hide Available Upgrades":this.upgradeOptionButtonText="Show Available Upgrades";for(let t=0;t<e.length;t++)!0===e[t].isUpgrade&&(this.showUpgradeOptions?this.set("options."+t+".hidden",!1):this.set("options."+t+".hidden",!0))}_showOrHideAddOptionsButtonObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.showOrHideAddOptionsButton(e,t,i)}showOrHideAddOptionsButton(){this.showAddOptionsButton=!this.isClickSelection&&!this.model.maxOptionsMet(this.model.getFeature(this.featureId))}getPrefix(){return this.model.prefix}_setHasUpgradeOptionsObserver(e,t){if(void 0!==e&&void 0!==t)return this.setHasUpgradeOptions(e,t)}setHasUpgradeOptions(e,t){this.hasUpgradeOptions=e&&!t}_setHeaderActions(){if("OptionLookup"!==this.routeSource&&0!==this.options.length&&this.options[0]._transient_.rowActions){this.headerActions=JSON.parse(JSON.stringify(this.options[0]._transient_.rowActions));for(let e=this.headerActions.length-1;e>=0;e--)this.headerActions[e].invisible=!0;this.isClickSelection||(this.headerActions[0].hidden=!0)}}_getDisplayStyle(e,t){return t?"none":e?"table-row":"table-row-group"}_showUpgradeOptionIfSelectionMethodAddObserver(e,t){if(void 0!==e&&void 0!==t)return this._showUpgradeOptionIfSelectionMethodAdd(e,t)}_showUpgradeOptionIfSelectionMethodAdd(){if(!this.isClickSelection)for(let e=0;e<this.options.length;e++)this.options[e].isUpgrade&&this.set(`options.${e}.hidden`,!1)}_isMobile(){return this.viewport&&this.viewport.isMobile()}hasAttributeItems(e){return!this._isMobile()&&"Add"!==this.model.getFeature(this.featureId).optionSelectionMethod&&e&&e._transient_&&e._transient_.attributeItems&&Object.keys(e._transient_.attributeItems).length>0||!1}static get template(){return o.qy`
		<style include="sb-common-styles sb-tables-styles"></style>
		<style>${S}</style>

		<sb-field-md id="fieldMetaData" background="true"></sb-field-md>
		<div device class="datatable" id="optiontable">
			<div class$="thead [[featureless]]">
				<sb-table-header
						id="header"
						cols="[[md.fieldLabels]]"
						header-class-map="[[md.headerClassMap]]"
						header-actions="[[headerActions]]"
						has-placeholder="[[productHasAttributeSet]]"
				></sb-table-header>
			</div>
			<div class="tbody" id="tbody">
				<template is="dom-repeat" items="{{options}}" as="option">

					<sb-table-row
							id="row"
							cell="sb-option-cell"
							cols="[[md.recordKeys]]"
							cols-display="[[md.fieldLabelMap]]"
							row-data="{{option}}"
							selectable="[[md]]"
							selection-type="[[option.selectionType]]"
							selected="{{option.selected}}"
							disabled-data="[[option.disabledData]]"
							disable-all-fields="[[disableAllFields]]"
							model="[[md]]"
							requires-model="true"
							row-actions="[[option._transient_.rowActions]]"
							index="[[index]]"
							route-source="[[routeSource]]"
							selection-id-data-path="record.Id"
							parent-id-data-path="[[parentIdDataPath]]"
							hidden$="[[option.hidden]]"
							primary-mobile-cols="[[primaryMobileCol]]"
							repeat-primary-mobile-cols="true"
							path-prefix="record."
							row-class-map="[[rowClassMap]]"
							edit-first-when-selected="[[editFirstWhenSelected]]"
							option-selected="[[option.selected]]"
							highlight-row-on-focus="[[!_isMobile()]]"
							selection-on-load="true"
							name$="[[option.name]]"
							has-toggle="[[hasAttributeItems(option)]]"
							has-toggle-placeholder="[[productHasAttributeSet]]"
							style$="display:[[_getDisplayStyle(productHasAttributeSet, option.hidden)]]"
					></sb-table-row>

					<template is="dom-if" if="[[hasAttributeItems(option)]]">
						<template is="dom-if" if="[[option._transient_.optionDrawerExpanded]]">
							<div class="drawer">
								<sb-option-drawer
									id="drawerRow"
									option="{{option}}"
									md="[[attributeItemMd]]"
									name$="[[option.name]]"
								></sb-option-drawer>
							</div>
						</template>
					</template>

				</template>
				<template is="dom-if" if="[[hasUpgradeOptions]]">
					<paper-button noink id="upgradeOptionsButton" on-click="toggleUpgradeOptions">[[upgradeOptionButtonText]]</paper-button>
				</template>
			</div>
		</div>
		<template is="dom-if" if="[[showAddOptionsButton]]">
			<a on-click="routeToLookup"><sb-i18n>Add Options</sb-i18n></a>
		</template>
		`}}customElements.define(O.is,O)},658:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ProductConfig:()=>le});var o=i(7734),r=(i(7543),i(7695)),n=i(7212),s=i(9137),a=(i(2804),i(1520),i(7571)),l=i(1669);class d{constructor(e){this.root=e,this.idProperties=["optionId","index","tag"],this.buildSubtree(this.root)}buildSubtree(e){let t={};this._buildNode(e),e.getChildren(e).forEach((e=>{t[e.optionId]=t[e.optionId]||e.index||0,void 0!==e.index&&t[e.optionId]!==e.index||(e.index=t[e.optionId],t[e.optionId]++),this.buildSubtree(e)}))}getFromPath(e){let t=this.root;for(let i=0,o=e.length;i<o;i++){let o=this._buildId(e[i]);t=this._findOnLevel(o,t)}return t}_buildNode(e){e.nodeId=this._buildId(e),e.getChildren=function(){return this.optionConfigurations}.bind(e)}_buildId(e){let t="";for(let i of this.idProperties)("tag"!==i||"tag"===i&&null!=e[i])&&(t+="_"+e[i]);return t}_findOnLevel(e,t){let i=e.constructor===String?e:this._buildId(e);return(t=t||this.root).getChildren().find((e=>e.nodeId===i))}}class c{constructor(e,t){this.init(e,t)}init(e,t){this.path=[],this.descendLevel=!1,this.configTree=new d(e),this._setConfiguredOptionsObject(t),this.CONFIG_TAG="config",this.SAVE_TAG="save"}configure(e){let t=this.getLastFromPath(),i=this._getParentConfiguration();e.index=e.index||t.index,e.optionId=e.optionId||t.optionId,void 0!==this.stagedOption&&(e.optionData=this.stagedOption.optionData||e.optionData,e.isDynamicOption=this.stagedOption.isDynamicOption||e.isDynamicOption||!1);const o=this._setAndReturnConfiguration(e,i,this.CONFIG_TAG);return o.configuredOptions=this.getConfiguredOptionsFromPath(),this.descendLevel=!1,o}save(e,t){const i=this._setAndGetConfiguration(t),o=this._getTagForSave(t);return this._removeDeselectedOptions(e.removedOptions,o,null),this._addSelectedOptions(e.selectedOptions,o),this._sortOptionConfigurations(i,e.selectedOptions),t||this._setConfigured(i),i}_getTagForSave(e){return 0===this.path.length?null:e?this.CONFIG_TAG:this.SAVE_TAG}cancel(){const e=this.getCurrentConfiguration(),t=this._getParentConfiguration();this._removeSubtree(e,t,this.CONFIG_TAG,!0)}remove(e,t,i){let o=this._getConfiguration(t);!o.getChildren||o.getChildren().length<1||(e.optionId=e.record?e.record.Id:e.optionId,e.index=e.index||0,this._removeSubtree(e,o,i))}removeAddedOption(e){const t=0===this.path.length?null:this.CONFIG_TAG;this.remove(e,t,null)}swapConfiguration(e){const t=this._getParentConfiguration(),i=this.getSaveConfiguration();e.index=i.index,this._removePreviousConfigurations(t),this._addToConfigTree(t,e),this._setConfigured(e),e.tag="saved"}removeClonedConfiguration(){const e=this.getSaveConfiguration(),t=this._getParentConfiguration();this._removeSubtree(e,t,this.SAVE_TAG,!0)}handleDescendantRules(e,t,i,o,r){let n,s=this.configTree.getFromPath(this.path.concat(e));if(!s)return;s.changedByProductActions=r;let a={};n=s.getChildren(),t.forEach((e=>{a[e.optionId]=void 0===a[e.optionId]?0:a[e.optionId]+1,e.index=a[e.optionId],void 0===n.find((t=>this._buildId(e)===t.nodeId))&&(this.configTree.buildSubtree(e),n.push(e))}));for(let e=n.length-1;e>=0;e--){let i=n[e];void 0===t.find((e=>i.nodeId===this._buildId(e)))&&this._removeSubtree(i,s)}s.disabledOptionIds=o,s.hiddenOptionIds=i}getExistingConfiguration(){return this._getConfiguration()}getCurrentConfiguration(){return this._getConfiguration(this.CONFIG_TAG)}getSaveConfiguration(){return this._getConfiguration(this.SAVE_TAG)}_getConfiguration(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=this._createPath(e);return this.configTree.getFromPath(t)}addToPath(e,t,i,o){this.path.push({optionId:e,optionalSKU:t,index:i,tabIndex:o}),this.descendLevel=!0}popFromPathAndGetNextSKU(){this.path.pop(),this.descendLevel=!1;let e=this.getLastFromPath();return e?e.optionalSKU:e}getLastFromPath(){return this.path[this.path.length-1]}getConfiguredOptionsFromPath(){return this.configuredOptions[this._buildPathString(!0)]||{}}_getParentConfiguration(){const e=this.path.length>0?this.CONFIG_TAG:null,t=this.path.slice(0,this.path.length-1),i=this._createPath(e,t);return this.configTree.getFromPath(i)}_setConfiguredOptionsObject(e){this.configuredOptions={},e&&(this._addConfigsToConfigurationObject(this.configTree.root,[]),this.configTree.root.configuredOptions=this.getConfiguredOptionsFromPath())}_addConfigsToConfigurationObject(e,t){e.getChildren().forEach((e=>{let i={optionId:e.optionId,index:e.index};this._addConfigsToConfigurationObject(e,t.concat([i]))})),this._setConfigured(e,t)}_setConfigured(e,t){let i=this._buildPathString(!1,t);e.configured=!0,e.configurationEntered=!0,i&&(this.configuredOptions[i]=this.configuredOptions[i]||{},this.configuredOptions[i][e.nodeId]=!0)}_updateThenGetSubtree(e,t,i,o){const r=this._buildId(e);let n=this._findInConfiguration(r,t);return n?(this._updateSubtree(n,e,i),n):(this._appendSubtree(e,t,o),e.staged=!0,e)}_updateSubtree(e,t,i){i&&(delete e.staged,e.optionData=t.optionData,e.externalConfigurationData=t.externalConfigurationData),this._propagateRuleData(e,t.disabledOptionIds,t.hiddenOptionIds),this._propagateAttributes(e.configurationData,t.configurationData),this._mergeNestedConfigurations(t,e)}_mergeNestedConfigurations(e,t){if(e.optionConfigurations.length>0){let i={};e.optionConfigurations.forEach((e=>{i[e.optionId]=void 0===i[e.optionId]?0:i[e.optionId]+1,e.index=i[e.optionId],e.selected=!0,this._updateThenGetSubtree(e,t,!1)}))}}_propagateRuleData(e,t,i){e.disabledOptionIds=e.disabledOptionIds||t,e.hiddenOptionIds=e.hiddenOptionIds||i}_propagateAttributes(e,t){Object.keys(t).forEach((i=>{e[i]=e[i]||t[i]}))}_setAndReturnConfiguration(e,t,i){let o=i===this.SAVE_TAG?this._cloneConfiguration(e,t):e;return o.tag=i,o.staged=!0,this._addToConfigTree(t,o)}_cloneConfiguration(e,t){const i=this._buildId(e,this.CONFIG_TAG),o=this._findInConfiguration(i,t);return JSON.parse(JSON.stringify(o))}_addToConfigTree(e,t){return this.configTree.buildSubtree(t),e.getChildren().push(t),t}_appendSubtree(e,t,i){this._addIndexProperty(e,t),this.configTree.buildSubtree(e),null!=i?t.getChildren().splice(i,0,e):t.getChildren().push(e)}_removeSubtree(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this._getChildIndexAndAdjustIndices(e.optionId,e.index,t.getChildren(),i,o);r>=0&&this._removeConfiguration(t,r,this._buildId(e,i))}_removeConfiguration(e,t,i){let o=this._buildPathString(!0);e.getChildren().splice(t,1),o&&this.configuredOptions[o]&&this.configuredOptions[o][i]&&!this._findInConfiguration(i,e)&&delete this.configuredOptions[o][i]}_findInConfiguration(e,t){let i=e.constructor===String?e:this._buildId(e);return t.getChildren().find((e=>e.nodeId===i))}_addIndexProperty(e,t){let i=e.index||0;for(;this._findInConfiguration(this._buildId({optionId:e.optionId,index:i}),t);)i++;e.index=i}_getChildIndexAndAdjustIndices(e,t,i,o,r){let n=0,s=-1,a=this._buildId({optionId:e,index:t},o===this.SAVE_TAG?"":o);for(let l of i)l.nodeId===a||o===this.SAVE_TAG&&-1!==l.nodeId.indexOf(a)?s=n:!r&&l.optionId===e&&l.index>t&&this._alterIndexPropertyAndNodeId(l),n++;return s}_alterIndexPropertyAndNodeId(e){let t=e.nodeId;e.index--,e.nodeId=this._buildId(e);let i=this._buildPathString(!0);i&&this.configuredOptions[i]&&(this.configuredOptions[i][e.nodeId]=!0,delete this.configuredOptions[i][t])}_buildId(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"_"+e.optionId+"_"+e.index+(t?"_"+t:"")}_buildPathString(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.path,i=this.configTree.root.nodeId,o=e?0:1;for(let e=0;e<t.length-o;e++)i+="-"+this._buildId(t[e]);return i}_createPath(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.path,i=[];for(let[o,r]of t.entries())o===t.length-1?r.tag=e:r.tag=this.CONFIG_TAG,i.push(r);return i}_setAndGetConfiguration(e){return 0===this.path.length?this.getExistingConfiguration():e?this.getCurrentConfiguration():this._setAndReturnConfiguration(this.getCurrentConfiguration(),this._getParentConfiguration(),this.SAVE_TAG)}_removeDeselectedOptions(e,t,i){for(let o of e)this.remove(o,t,i)}_addSelectedOptions(e,t){let i=this._getConfiguration(t);for(let[t,o]of e.entries())this._updateThenGetSubtree(o,i,!0,t)}_sortOptionConfigurations(e,t){if(!t||0===t.length||t.length!==e.getChildren().length)return;const i=[];for(let[o,r]of t.entries())i[o]=this._findInConfiguration(r,e);e.optionConfigurations=i}_removePreviousConfigurations(e){const t=this.getExistingConfiguration();t&&this._removeSubtree(t,e,null,!0),this._removeSubtree(this.getCurrentConfiguration(),e,this.CONFIG_TAG,!0),this._removeSubtree(this.getSaveConfiguration(),e,this.SAVE_TAG,!0)}}class u{reconfigure(e,t){let i={};if(t?e.configuration=t:e.nestedOptionModel=e.nestedOptionModel||new c(e.configuration,!0),e.configuration.optionConfigurations.length){this.buildOptionConfiguration(e,e.configuration.optionConfigurations,i);for(let t of e.options)this._addSelectedDataToOption(i[t.record.Id],t)}else for(let t of e.options)t.configuration&&delete t.configuration}buildOptionConfiguration(e,t,i){let o={};for(let r=0;r<t.length;r++){let n=t[r];!0!==o[n.optionId]&&(n.isSegmented&&(o[n.optionId]=!0),i[n.optionId]=this.buildStrippedOptionData(e,n,r))}}buildStrippedOptionData(e,t,i){if(0===t.optionConfigurations.length){let o=this.newConfiguration(t.optionId,t.optionData,t.isDynamicOption,i);return o.configured=t.configured,"Amendment"===e.quoteType&&(o.upgradedAssetId=t.upgradedAssetId,o.priorBundledQuantity=t.priorBundledQuantity),o}let o=t.optionConfigurations.length>0;return{optionId:t.optionId,optionData:t.optionData,optionConfigurations:o,index:i}}newConfiguration(e,t,i,o){return{optionId:e,optionData:t,isDynamicOption:i,index:o}}_addSelectedDataToOption(e,t){e?(t.isDynamicOption=e.isDynamicOption,t.priorBundledQuantity=e.priorBundledQuantity,t.configured=t.configured||!0===e.configured||e.optionConfigurations):t.selected=!0===t.selected}}var h=i(6595),p=i(3613),f=i(7874),b=i(6902),g=i(4886),m=i(8678),y=i(2619);const v=y.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host {
  --my-page-header-display: block;
}
.product-header {
  font-weight: 300;
  padding: 15px;
  margin: 0;
  font-size: 1.5em;
}
#pcNav[class*='--desktop'] {
  display: none !important;
}
[class*='--desktop'] #pcNav {
  display: none !important;
}
paper-tooltip[class*='--mobile'] {
  display: none;
}
[class*='--mobile'] paper-tooltip {
  display: none;
}
:host {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
}
:host > #pageBody {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
.actionsCollapsed {
  display: flex;
  flex-direction: column;
}
.actionsCollapsed #pcSave {
  order: 1;
}
.actionsCollapsed #pcCancel {
  order: 2;
}
.actionsCollapsed #customActions {
  order: 3;
}
`;i(622),i(5001);var _=i(6206),w=i(3311),x=i(8729),C=i(4070),S=i(665);class O{constructor(e,t,i,o){this.quote=e,this.product=t,this.prefix=i,this.currencyIsoCode=o,this.dynamicOptions=[],this.featureOptionIds=[],this.product&&!this.product.initialized&&this._initializeProduct(this.product),this.fieldSetHandler=new S.V(this.product.optionFieldSets,"OptionConfiguration","OptionConfigurationTablet","OptionConfigurationPhone"),this.defaultOptionPaths=["selected",`record.${this.prefix}Quantity__c`],this.additionalOptionPaths=[]}getRequest(){let e={quote:this.quote.record};return this.product?(e.product={configuredProductId:this.product.configuration.configuredProductId,lineItemId:this.product.configuration.lineItemId,lineKey:this.product.configuration.lineItemKey,configurationAttributes:this._createConfigAttributesMap(),optionConfigurations:this._createFeatureOptionsMap(this.product.features),configurationData:{}},e.products=[],this._appendReadOnlyProperties(e,this.product.configuration),e):e}getResponse(e){if(!e)return;let t=[];if(this.dynamicOptions=[],this.featureOptionIds=[],e.products)for(let i=0,o=e.products.length;i<o;i++)t.push(this._cloneProduct(i));this._extendResponseQuote(e.quote),this._extendResponseProduct(this.product,e.product);let i={quote:this.quote,product:this.product,products:this._extendResponseProducts(e.products,t),optionNotifications:this._getResponseOptionPaths()};return this.dynamicOptions.length>0&&this.featureOptionIds.length>0&&(i.dynamicOptions=this.dynamicOptions,i.featureOptionIds=this.featureOptionIds),this.optionsToExtend&&(i.optionsToExtend=this.optionsToExtend),i}_appendReadOnlyProperties(e,t){e.readOnly={};let i=this._getMatchingQuoteLine(t);i&&(e.readOnly.line=i.record)}_getMatchingQuoteLine(e){if(null==e||null==e.lineItemKey)return null;let t=this.quote.lineItems.filter(function(t){return t.key===e.lineItemKey}.bind(this));return 1===t.length?t[0]:null}_createConfigAttributesMap(){var e={};for(let t=0,i=this.product.configurationAttributes.length;t<i;t++)e[this.product.configurationAttributes[t].targetFieldName]=null;return(0,_.X$)(e,this.product.configuration.configurationData),e}_createFeatureOptionsMap(e){let t={};for(let o=0,r=e.length;o<r;o++){var i=e[o].record.Name;t[i]=[];let r=e[o]._transient_.optionConfigurations;delete e[o]._transient_.changedExternally,"Add"===e[o].optionSelectionMethod?this._mixInUnselectedOptionsToAdd(t[i],e[o].record.Id,r):r&&this._pushOptionConfigurations(t[i],r,"Click"===e[o].optionSelectionMethod)}return t}_pushOptionConfigurations(e,t,i){for(let o=0,r=t.length;o<r;o++){let r=i?void 0:t[o].index;e.push(this._createPseudoOptionConfiguration(t[o],r))}i||e.push({productId:null,Quantity:1,configurationData:{}})}_createPseudoOptionConfiguration(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o={optionId:e.record.Id,selected:e.selected,ProductCode:e.record[this.prefix+"ProductCode__c"],ProductName:e.record[this.prefix+"ProductName__c"],Quantity:e.record[this.prefix+"Quantity__c"],configurationData:{}};return void 0!==t&&(o.index=t),this._appendReadOnlyProperties(o,e),this.isNestedBundlesSupported()&&void 0!==e.optionConfigurations&&!0===e.configured&&this._createNestedFeatureMap(o,e.optionConfigurations,i),o}_createNestedFeatureMap(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(i>=2)return;const o={};for(const r of t){r.selected=!0,e.optionConfigurations=e.optionConfigurations||{};const t=r.optionId;let n=this.product.virtualFeatureTitle;const s=r.optionData[this.prefix+"Feature__c"];if(void 0!==s){const e=this.product._transient_.featuresForNestedBundles.features[s];n=e.Name,"Click"!==e[this.prefix+"OptionSelectionMethod__c"]&&(void 0===o[t]?o[t]=0:o[t]++)}const a=this.product._transient_.featuresForNestedBundles.products[r.configuredProductId];r.record=this._createOptionConfigurationRecordFromProductRecord(a,t,r.optionData[this.prefix+"Quantity__c"]),e.optionConfigurations[n]=e.optionConfigurations[n]||[],e.optionConfigurations[n].push(this._createPseudoOptionConfiguration(r,o[t],i+1))}}_createOptionConfigurationRecordFromProductRecord(e,t,i){const o={};return null!=e.ProductCode&&(o[this.prefix+"ProductCode__c"]=e.ProductCode),o[this.prefix+"ProductName__c"]=e.Name,o.Id=t,o[this.prefix+"Quantity__c"]=i,o}_mixInUnselectedOptionsToAdd(e,t,i){this.product.options.forEach((o=>{if((o.record[this.prefix+"Feature__c"]||"Other")!==t)return;let r=i.filter((e=>e.record.Id===o.record.Id));if(r.length)for(let t=0;t<r.length;t++)e.push(this._createPseudoOptionConfiguration(r[t],r[t].index||t));else o.selected=!1,e.push(this._createPseudoOptionConfiguration(o,0))}))}_extendResponseQuote(e){null!=e&&(0,_.X$)(this.quote.record,this._sanitizeObject(e))}_extendResponseProduct(e,t,i){t&&(this._extendResponseConfigurationData(e,t.configurationData),this._extendResponseConfigurationAttributes(e,t.configurationAttributes),this._extendResponseOptionConfigurations(e,t.optionConfigurations,i))}_extendResponseConfigurationData(e,t){null!=t&&(0,_.X$)(e.configuration.externalConfigurationData,this._sanitizeObject(t))}_extendResponseConfigurationAttributes(e,t){null!=t&&(0,_.X$)(e.configuration.configurationData,this._sanitizeObject(t))}_extendResponseOptionConfigurations(e,t,i){let o,r={};for(let i in t){let o=t[i],n={};for(let t of o){const o=this.isNestedBundlesSupported(),s=void 0!==t.optionConfigurations&&Object.keys(t.optionConfigurations).length>0,a=o&&s;if(a){this.optionsToExtend=this.optionsToExtend||{staticOptionIds:[],dynamicOptions:[],configurationsByFeature:{}},(!0===t.selected||(0,m.wB)(t))&&(this.optionsToExtend.configurationsByFeature[i]=this.optionsToExtend.configurationsByFeature[i]||[],this.optionsToExtend.configurationsByFeature[i].push(t)),(0,m.wB)(t)&&this.optionsToExtend.dynamicOptions.push({parentFeatureName:i,parentProductId:e.record.Id,parentOptionId:null,productId:t.productId}),m.xq.setIndex(t,n);const o=e.nestedOptionModel,r=(0,m.AO)([],t);m.xq.findOptionsToExtendOrUpdate(o,r,t,this.optionsToExtend,this.prefix)}let l=t.optionId;l?(r[l]=r[l]||[],r[l].push(t)):t.productId&&!a&&this._createDynamicOption(t,i)}}let n=e.options;for(let t of n){let n=r[t.record.Id];n&&n.forEach((r=>{o||null==r.configurationData||(o=this.fieldSetHandler.getByViewport(w.L.getViewport()).fields),this._extendResponseOptionConfiguration(e,t,r,o,i)}))}}_createDynamicOption(e,t){let i=this.product.features.find((e=>e.record.Name===t));this.featureOptionIds.push(i.record.Id+":"+e.productId),this.dynamicOptions.push({productId:e.productId,featureId:i.record.Id,Quantity:isNaN(e.Quantity)?1:e.Quantity,configurationData:e.configurationData})}_extendResponseOptionConfiguration(e,t,i,o,r){r&&(t.parentProductKey=r);let n=t.record[this.prefix+"Feature__c"]||"Other",s=e.features.find((e=>e.record.Id===n));"Click"===s.optionSelectionMethod?this._setOptionDataForClickFeature(t,i,o):this._setOptionDataForNonClickFeature(t,i,o,s),this.isNestedBundlesSupported()&&(t.configured=!0);const a=e.nestedOptionModel;null!=a&&a.constructor===c&&this._setOptionListPriceToUnitPrice(a,t)}_setOptionListPriceToUnitPrice(e,t){const i=t.record[this.prefix+"UnitPrice__c"];if(null!=i){const o=(0,m.AO)([],t),r=(0,m.Ej)(e,o);null!=r&&(r.listPrice=i)}}_setOptionDataForClickFeature(e,t,i){null!=t.selected&&(e.selected=t.selected),this._extendQuantityAndConfigurationDataToOption(e,t,i)}_setOptionDataForNonClickFeature(e,t,i,o){let r=o._transient_.optionConfigurations.find((e=>e.record.Id===t.optionId&&e.index===t.index));if(t.selected)if(r)this._extendQuantityAndConfigurationDataToOption(r,t,i);else{let r=this._createOptionConfigurationFromOption(e,t.index);this._extendQuantityAndConfigurationDataToOption(r,t,i),o._transient_.optionConfigurations.push(r),o._transient_.changedExternally=!0}else!t.selected&&r&&(r.selected=!1,o._transient_.changedExternally=!0)}_createOptionConfigurationFromOption(e,t){let i=JSON.parse(JSON.stringify(e));return i.index=t,i.addedManually=!0,i.selected=!0,i.configured=!!this.isNestedBundlesSupported(),i}_extendQuantityAndConfigurationDataToOption(e,t,i){null!=t.Quantity&&e.selected&&(e.record[this.prefix+"Quantity__c"]=t.Quantity),null!=t.configurationData&&this._extendConfigurationDataToOption(e,t,i)}_extendConfigurationDataToOption(e,t,i){let o=this._sanitizeObject(t.configurationData),r={};for(let t in o){let n=o[t];if(-1===i.indexOf(t)){r[t]=n;continue}e.record[t]=n;let s=`record.${t}`;-1===this.additionalOptionPaths.indexOf(s)&&this.additionalOptionPaths.push(s)}e.externalConfigurationData=e.externalConfigurationData||{},(0,_.X$)(e.externalConfigurationData,r)}_extendResponseProducts(e,t){if(!e||0===e.length)return[];let i=[];for(let o=0,r=e.length;o<r;o++){let r=t[o];r.nestedOptionModel=new c(r.configuration,r.configuration.configured),this._extendResponseProduct(r,e[o],r.productKey),this._resetFeatureOptionConfiguration(r),i.push(r)}return i}_cloneProduct(e){let t=JSON.parse(JSON.stringify(this.product));return t.productKey=this._buildProductKey(this.product.record.Id,e),this._enableSaveToLineEditor(t),t}_buildProductKey(e,t){let i=(t<10?"00":t<100?"0":"")+t;return e.substring(0,15)+i}_enableSaveToLineEditor(e){e.configuration.lineItemKey=null,delete e.configuration.lineItemId}_resetFeatureOptionConfiguration(e){let t=e.features||[];for(let e of t)e._transient_.optionConfigurations=[];this._initializeProduct(e)}_initializeProduct(e){const t=this.prefix.endsWith("__")?this.prefix.substring(0,this.prefix.length-2):this.prefix;this._prepareForNestedBundleSupport(e,t),new C.y(this.quote.record.Id,e,t,this.quote.record.CurrencyIsoCode)}isNestedBundlesSupported(){return b.B.isExternalConfiguratorNestedBundlesEnabled&&this.product.record[this.prefix+"ExternallyConfigurable__c"]}_prepareForNestedBundleSupport(e,t){if(!0===e.configuration.configured)return;const i=e.record[(0,_.Nn)(t)+"ExternallyConfigurable__c"];if(b.B.isExternalConfiguratorNestedBundlesEnabled&&i&&(e.configuration.configured=!0,e.configuration.optionConfigurations))for(const e of this.product.configuration.optionConfigurations)e.configured=!0,e.optionConfigurations=[]}_getResponseOptionPaths(){let e=this.defaultOptionPaths.concat(this.additionalOptionPaths);return this.additionalOptionPaths=[],e}_sanitizeObject(e){return JSON.parse(JSON.stringify(e,(function(e,t){return e.endsWith("__c")&&t instanceof Object?JSON.stringify(t):t})))}}var k=i(1149),E=i(178);i(347),i(53);const I=y.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
.container {
  display: inline-block;
}
paper-button {
  background-color: var(--sbConfiguratorCustomActionBgColor);
  color: var(--sbConfiguratorCustomActionFontColor);
  border-color: var(--sbConfiguratorCustomActionBorderColor);
}
paper-button:hover {
  background-color: var(--sbConfiguratorCustomActionHoverBgColor);
  font-color: var(--sbConfiguratorCustomActionHoverFontColor);
}
#menuButton > .sf-icon-down {
  margin: -10px;
  font-size: var(--sbIcon16);
}
#remainingItems {
  border-radius: var(--sbDialogBorderRadius);
  border: var(--sbBtnBorder);
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  position: fixed;
  z-index: 100;
  display: none;
}
#remainingItems.open {
  display: block;
}
#remainingItems > paper-button {
  display: block;
  white-space: nowrap;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
  border-radius: 0;
}
#remainingItems > paper-button:first-of-type {
  border-top-left-radius: var(--sbDialogBorderRadius);
  border-top-right-radius: var(--sbDialogBorderRadius);
}
#remainingItems > paper-button:last-of-type {
  border-bottom-left-radius: var(--sbDialogBorderRadius);
  border-bottom-right-radius: var(--sbDialogBorderRadius);
}
.collapsedActions paper-button {
  display: block;
  white-space: nowrap;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
#firstItem,
#menuButton {
  border-radius: 0;
}
#firstItem:first-of-type,
#menuButton:first-of-type {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
#firstItem:last-of-type,
#menuButton:last-of-type,
#firstItem.end,
#menuButton.end {
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
.hide {
  display: none;
}
`;i(4167),i(4);const T={"Product Code":"ProductCode"};class M extends((0,g.$)((0,E.T)(o.Pu))){static get is(){return"sb-custom-actions"}static get properties(){return{customActions:Array,products:Array,isClassic:Boolean,productIndex:Number,firstItem:Object,remainingItems:Array,customActionsExist:Boolean,moreThanOneCustomActionsExist:{type:Boolean,value:!1},menuClosed:{type:Boolean,value:!0},viewport:{type:Object,observer:"_viewportChanged",value:function(){return w.L.getViewport()}},buttonsCollapsed:{type:Boolean,notify:!0},messenger:{type:Object,computed:"_newMessenger(quote, products, productIndex)"},quote:{type:Object,notify:!0},popupResponse:{type:Object,notify:!0,observer:"_updateQuoteFromPopupResponse"},callBeforePopupOpen:Object}}get events(){let e={};return e[k.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get observers(){return["_initObserver(customActions, products, productIndex, isClassic, menuClosed)"]}get prefix(){return b.B.org.prefix?b.B.org.prefix+"__":""}_initObserver(e,t,i,o,r){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r)return this.init(e,t,i,o,r)}init(){if(this.isClassic&&this.products.length>1)return this.classList.add("hide"),void(this.customActionsExist=!1);let e=this.prefix+"URL__c",t=this.prefix+"Label__c",i=this.prefix+"Page__c",o=this.prefix+"URLTarget__c",r=this.prefix+"Action__c",n=this.prefix+"BrandButton__c",s=[];if(this.customActions.forEach((a=>{if("Product Configurator"===a[i]&&this.checkCustomActionsConditionsMet(a)){let i="";!0===a[n]&&(i="primary"),s.push({label:a[t],url:a[e],target:a[o],action:a[r],brandButtonClass:i})}})),0===s.length)return this.classList.add("hide"),void(this.customActionsExist=!1);this.firstItem=s[0],s.length>1&&(this.remainingItems=s.slice(1),this.moreThanOneCustomActionsExist=!0),this.customActionsExist=!0,this.buttonsCollapsed=!(this.viewport&&!this.viewport.isMobile()&&this.viewport.M.up),this.classList.remove("hide")}_itemSelected(e){const t=e.target.id,i="firstItem"===t?this.firstItem:this.remainingItems[t];void 0!==i.url?this.handleURLAction(i):"Apply Edit Rules"===i.action&&this.applyRules()}handleURLAction(e){"Popup"===e.target?this.handlePopup(e.url):this.handleNav(e.url)}handlePopup(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.$.popup.url=e,this.$.popup.autoLaunched=t,this.$.popup.redirectOnCancelOrClose=i,this.$.popup.messenger=this.messenger,this.$.popup.callBeforeOpen=this.callBeforePopupOpen,this.$.popup.open()}handleNav(e){this._isLightningExperience()?sforce.one.navigateToURL(e):window.location.href=e}applyRules(){this.dispatchEvent((0,k.uv)("sb-apply-edit-rules",{bundleId:this.products[this.productIndex].record.Id}))}_isLightningExperience(){return"undefined"!=typeof sforce&&sforce&&!!sforce.one}checkCustomActionsConditionsMet(e){let t=this.prefix+"Custom_Action_Conditions__r",i=this.prefix+"Field__c",o=this.prefix+"Operator__c",r=this.prefix+"FilterValue__c",n=this.prefix+"TargetObject__c";return!1!==this._checkPackagedCustomActionConditionMet(e)&&(void 0===e[t]||e[t].records.some((e=>{if(void 0===e[i]||void 0===e[r]||void 0===e[o])return!1;let t="Product";e[n]&&(t=e[n]);let s=T[e[i]]||e[i],a="Quote"===t?this.quote.record:this.products[this.productIndex].record;return _.J0.arithmeticOperatorConversion(a[s],e[r],e[o])})))}_checkPackagedCustomActionConditionMet(e){return"Launch External"!==e.Name||void 0!==e[this.prefix+"URL__c"]&&!!this.products[this.productIndex].record[this.prefix+"ExternallyConfigurable__c"]}_changeMenu(e){this.menuClosed=x.z.changeMenu(e,this.menuClosed,this.shadowRoot.querySelector("#remainingItems"),"open",this)}viewportChanged(e){this.viewport=e.detail.viewport}_viewportChanged(){this.buttonsCollapsed=!(this.viewport&&!this.viewport.isMobile()&&this.viewport.M.up)}_newMessenger(){if(void 0!==this.quote&&void 0!==this.products&&void 0!==this.productIndex)return new O(this.quote,this.products[this.productIndex],this.prefix,this.currencyIsoCode)}_updateQuoteFromPopupResponse(){this.quote=this.popupResponse.quote}static get template(){return o.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style>${I}</style>

		<div class="container" device>
			<template is="dom-if" if="[[customActionsExist]]">
				<template is="dom-if" if="[[buttonsCollapsed]]">
					<div class="collapsedActions">
						<paper-button id="firstItem" label$="[[firstItem.label]]" on-click="_itemSelected" data-target$="[[firstItem.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[firstItem.label]]</paper-button>
						<template is="dom-repeat" items="[[remainingItems]]" as="item">
							<paper-button id="[[index]]" label$="[[item.label]]" on-click="_itemSelected" data-target$="[[item.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[item.label]]</paper-button>
						</template>
					</div>
				</template>

				<template is="dom-if" if="[[!buttonsCollapsed]]">
					<paper-button id="firstItem" label$="[[firstItem.label]]" on-click="_itemSelected" data-target$="[[firstItem.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[firstItem.label]]</paper-button>
					<template is="dom-if" if="[[moreThanOneCustomActionsExist]]">
						<paper-button id="menuButton" on-click="_changeMenu" noink><i class="sf-icon-down"></i></paper-button>
						<div id="remainingItems">
							<template is="dom-repeat" items="[[remainingItems]]" as="item">
								<paper-button id="[[index]]" label$="[[item.label]]" on-click="_itemSelected" data-target$="[[item.target]]" class$="[[firstItem.brandButtonClass]]" noink>[[item.label]]</paper-button>
							</template>
						</div>
					</template>
				</template>
			</template>
			<sb-popup id="popup" response-message="{{popupResponse}}"></sb-popup>
		</div>
	    `}}customElements.define(M.is,M);class B{constructor(e,t,i){this.searchFilters=e,this.prefix=t,this.fieldTypes=i}containsFeature(e){let t=this.searchFilters[this.prefix+"Feature__c"];return null==t||(-1!==e.record.Name.toLowerCase().indexOf(t.toLowerCase())||void 0!==e.untranslatedRecord&&-1!==e.untranslatedRecord.Name.toLowerCase().indexOf(t.toLowerCase()))}hasVisibleOptions(e,t){if(e.length>0){for(let i=0,o=e.length;i<o;i++){if(!e[i].hidden)return!0;if(t&&t[e[i].record.Id])return!0}return!1}return!this.hasFilterValues()}allOptionsHiddenByRule(e){for(let t of e)if(!1===t.hiddenByRule||null==t.hiddenByRule)return!1;return!0}hasRequiredConfigAttributes(e,t){let i=t.configAttributesByFeatureId[e.record.Id];if(i)for(let e of i)if(e.required)return!0;return!1}hasConfigAttributes(e,t){return!!t.configAttributesByFeatureId[e.record.Id]}setOptionVisibility(e){for(let e in this.searchFilters)""===this.searchFilters[e]&&(this.searchFilters[e]=null);let t=JSON.parse(JSON.stringify(e));for(let e=0,i=t.length;e<i;e++){if(void 0===t[e].record[this.prefix+"UnitPrice__c"]){t[e].hidden=!0;continue}if(t[e].isUpgrade)continue;const i=Object.keys(this.searchFilters).some((i=>{let o=this.searchFilters[i],r=t[e].record[i];return null!=o&&i!==this.prefix+"Feature__c"&&(null==r||("number"==typeof r?this.checkNumber(o,r):"multipicklist"===this.fieldTypes[i]?this.checkMultiPicklist(o,r):this.checkDefault(o,String(r),t[e].untranslatedRecord,i)))}));t[e].hidden=t[e].hiddenByRule||i}return t}hasFilterValues(){for(let e in this.searchFilters)if(null!==this.searchFilters[e])return!0;return!1}checkDefault(e,t,i,o){return!(-1!==t.toLowerCase().indexOf(e.toLowerCase())||i&&i[o]&&-1!==i[o].toLowerCase().indexOf(e.toLowerCase()))}checkNumber(e,t){const i=Number(e);return!(!Number.isNaN(i)&&""!==e)||t!==i}checkMultiPicklist(e,t){let i=e.split(";"),o=t.split(";");return i.every((e=>o.every((t=>this.checkDefault(e,t)))))}}var D=i(3218);const P=y.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
}
:host paper-drawer-panel#drawer {
  overflow: auto;
  overflow-y: hidden;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host .filter-buttons {
  margin: 10px 0 0 20px;
  display: flex;
  align-items: center;
}
:host .primary {
  background-color: #0070d2;
  color: #FFFFFF;
  font-weight: 400;
}
:host .primary:hover {
  background-color: #005fb2;
  color: #FFFFFF;
}
:host .click {
  padding-top: 10px;
  color: var(--sbLinkColor);
  margin-left: 18px;
  cursor: pointer;
}
:host .click:hover {
  color: var(--sbLinkColorHover);
}
#drawer,
#search {
  position: relative;
  top: inherit;
  overflow-x: hidden !important;
}
#openPanel,
#closePanel {
  top: 50%;
  position: fixed;
  z-index: 3;
  width: 16px;
}
#openPanel:hover,
#closePanel:hover {
  cursor: pointer;
}
#closePanel {
  left: 295px;
}
.product-header {
  background-color: var(--sbProductBundlesLayoutProductHeaderBgColor);
  font-family: var(--sbProductBundlesLayoutProductHeaderFontFamily);
  color: var(--sbProductBundlesLayoutProductHeaderColor);
  font-size: var(--sbProductBundlesLayoutProductHeaderFontSize);
  font-weight: var(--sbProductBundlesLayoutProductHeaderFontWeight);
  font-style: var(--sbProductBundlesLayoutProductHeaderFontStyle);
  text-decoration: var(--sbProductBundlesLayoutProductHeaderTextDecoration);
  display: flex;
  padding: 15px;
  margin: 0;
}
.nav-item {
  background-color: var(--sbNavigationDrawerRowColor);
  border-bottom: 1px solid #d8dde6;
  padding: 15px;
  cursor: pointer;
  text-transform: uppercase;
}
.nav-item[class*='--mobile'] {
  font-weight: 400;
  font-size: 1rem;
}
[class*='--mobile'] .nav-item {
  font-weight: 400;
  font-size: 1rem;
}
.nav-item:hover {
  background-color: var(--sbNavigationDrawerRowHoverColor);
}
.mobile-panel {
  font-weight: bold;
}
.hidden {
  display: none;
}
.selected-tab {
  background-color: var(--sbNavigationDrawerRowSelectedColor);
}
.back {
  padding: 15px;
}
:host {
  --paper-drawer-panel-scrim-width: 0px;
}
#bundleContainer[class*='--mobile'] {
  left: 0 !important;
  display: block;
  margin-top: -1px;
}
[class*='--mobile'] #bundleContainer {
  left: 0 !important;
  display: block;
  margin-top: -1px;
}
.title[class*='--mobile'] {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
[class*='--mobile'] .title {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
#bundleContainer {
  position: relative;
}
#bundleContainer.transition {
  transition: -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;
  transition: transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;
}
.multiple-bundles {
  float: right;
}
#bundleContainer[class*='--mobile'] {
  float: none;
}
[class*='--mobile'] #bundleContainer {
  float: none;
}
#bundleContainer.multiple-bundles.close[class*='--desktop'] {
  width: calc(100% - 24px);
}
#bundleContainer.multiple-bundles.open[class*='--desktop'] {
  width: calc(100% - 280px);
}
[class*='--desktop'] #bundleContainer.multiple-bundles.close {
  width: calc(100% - 24px);
}
[class*='--desktop'] #bundleContainer.multiple-bundles.open {
  width: calc(100% - 280px);
}
`;i(2367),i(7533),i(7022),i(9704),i(4196),i(8421);const L=y.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
paper-tooltip {
  --paper-tooltip-padding: 5px;
  --paper-tooltip-color: var(--sbFontColor);
  --paper-tooltip-font-family: var(--sbFont);
  --paper-tooltip-font-size: 14px;
  --paper-tooltip-border-radius: 4px;
  --paper-tooltip-z-index: 999;
  --paper-tooltip-background-color: #fff;
  --paper-tooltip-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  --paper-tooltip-border: var(--sbBtnBorder);
  --paper-tooltip-opacity: 1;
}
:host {
  --sbFieldWordWrap: break-word;
}
#feature-header {
  background-color: var(--sbGroupHeaderBgColor);
  border-bottom-color: var(--sbGroupHeaderBorderBottomColor);
  border-bottom-style: solid;
  border-bottom-width: var(--sbGroupHeaderBorderBottomWidth);
  padding: 8px 15px 8px 15px;
  margin: 0px;
  border-top-left-radius: 3px;
  border-top-right-radius: 3px;
}
h2 {
  display: inline-block;
  font-family: var(--sbGroupHeaderFontFamily);
  font-size: var(--sbGroupHeaderFontSize);
  color: var(--sbGroupHeaderFontColor);
  font-weight: var(--sbGroupHeaderFontWeight);
  font-style: var(--sbGroupHeaderFontStyle);
  text-decoration: var(--sbGroupHeaderTextDecoration);
}
#tooltip-container {
  float: right;
  display: inline-block;
}
.sf-icon-info {
  color: var(--sbBrandedButtonBackgroundColor);
  font-size: 30px;
  position: relative;
  top: -7px;
}
#additional-information-tooltip {
  min-width: 155px;
  max-width: 320px;
}
#instructions {
  display: flex;
  justify-content: space-between;
  color: var(--sbProductFeatureHeaderInstructionsColor);
  font-family: var(--sbProductFeatureHeaderInstructionsFontFamily);
  font-size: var(--sbProductFeatureHeaderInstructionsFontSize);
  font-weight: var(--sbProductFeatureHeaderInstructionsFontWeight);
  font-style: var(--sbProductFeatureHeaderInstructionsFontStyle);
  text-decoration: var(--sbProductFeatureHeaderInstructionsTextDecoration);
  padding-top: var(--sbProductFeatureHeaderInstructionsPaddingTop);
  padding-right: var(--sbProductFeatureHeaderInstructionsPaddingRight);
  padding-bottom: var(--sbProductFeatureHeaderInstructionsPaddingBottom);
  padding-left: var(--sbProductFeatureHeaderInstructionsPaddingLeft);
}
.group {
  margin: 15px;
  border-color: var(--sbGroupBorderColor);
  border-style: solid;
  border-width: var(--sbGroupBorderWidth);
  border-radius: 4px;
}
.footer-attributes {
  background-color: var(--sbGroupHeaderBgColor);
  padding: 4px 15px 8px 15px;
  border-bottom-left-radius: 3px;
  border-bottom-right-radius: 3px;
}
#feature-header[class*='--mobile'] {
  font-weight: 400;
  color: #16325c;
  min-height: 1.1rem;
}
#feature-sub-header[class*='--mobile'] {
  padding: 15px;
}
#feature-sub-header[class*='--mobile'],
#feature-tabs[class*='--mobile'],
#feature-body[class*='--mobile'],
.footer-attributes[class*='--mobile'] {
  display: none;
}
#feature-sub-header.expanded[class*='--mobile'],
#feature-tabs.expanded[class*='--mobile'],
#feature-body.expanded[class*='--mobile'] {
  display: block;
}
#feature-sub-header.expanded[class*='--mobile'] #instructions {
  flex-flow: column;
}
.primary.first[class*='--mobile']:after {
  margin-top: 0px !important;
}
.first-feature[class*='--mobile'] header {
  border-top-width: var(--sbTableRowBorderBottomWidth);
  border-top-style: var(--sbTableRowBorderBottomStyle);
  border-top-color: var(--sbTableRowBorderBottomColor);
}
#feature-header.expanded[class*='--mobile'] {
  border-bottom: 0;
}
#feature-sub-header.expanded[class*='--mobile'] {
  border-top-width: var(--sbTableRowBorderBottomWidth);
  border-top-style: var(--sbTableRowBorderBottomStyle);
  border-top-color: var(--sbTableRowBorderBottomColor);
}
#feature-body.expanded[class*='--mobile'] {
  border-bottom-width: var(--sbTableRowBorderBottomWidth);
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
.loadingSpinner[class*='--mobile'] {
  position: absolute;
  left: calc(100% - 20px);
  margin-top: -28px;
}
[class*='--mobile'] #feature-header {
  font-weight: 400;
  color: #16325c;
  min-height: 1.1rem;
}
[class*='--mobile'] #feature-sub-header {
  padding: 15px;
}
[class*='--mobile'] #feature-sub-header,
[class*='--mobile'] #feature-tabs,
[class*='--mobile'] #feature-body,
[class*='--mobile'] .footer-attributes {
  display: none;
}
[class*='--mobile'] #feature-sub-header.expanded,
[class*='--mobile'] #feature-tabs.expanded,
[class*='--mobile'] #feature-body.expanded {
  display: block;
}
[class*='--mobile'] #feature-sub-header.expanded #instructions {
  flex-flow: column;
}
[class*='--mobile'] .primary.first:after {
  margin-top: 0px !important;
}
[class*='--mobile'] .first-feature header {
  border-top-width: var(--sbTableRowBorderBottomWidth);
  border-top-style: var(--sbTableRowBorderBottomStyle);
  border-top-color: var(--sbTableRowBorderBottomColor);
}
[class*='--mobile'] #feature-header.expanded {
  border-bottom: 0;
}
[class*='--mobile'] #feature-sub-header.expanded {
  border-top-width: var(--sbTableRowBorderBottomWidth);
  border-top-style: var(--sbTableRowBorderBottomStyle);
  border-top-color: var(--sbTableRowBorderBottomColor);
}
[class*='--mobile'] #feature-body.expanded {
  border-bottom-width: var(--sbTableRowBorderBottomWidth);
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
[class*='--mobile'] .loadingSpinner {
  position: absolute;
  left: calc(100% - 20px);
  margin-top: -28px;
}
`;i(9235),i(2868);const A=y.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
.tr {
  text-align: center;
  vertical-align: top;
  display: flex;
}
.td {
  width: 33%;
}
.td[class*='--mobile'] {
  width: 100%;
}
[class*='--mobile'] .td {
  width: 100%;
}
.header-attributes {
  padding: 0 30px 8px;
}
.header-attributes[class*='--mobile'] {
  padding: 0 0 0 25px;
}
[class*='--mobile'] .header-attributes {
  padding: 0 0 0 25px;
}
.footer-attributes {
  padding: 0 30px 15px 30px;
}
.footer-attributes[class*='--mobile'] {
  padding: 0 0 0 25px;
}
[class*='--mobile'] .footer-attributes {
  padding: 0 0 0 25px;
}
.tr[class*='--mobile'] {
  flex-flow: column;
}
#table[class*='--mobile'] {
  padding-left: 25px;
  border-top: var(--sbAttributeTableBorderTop, 1px solid #d8dde6);
}
:host([class*='--mobile'][label='Attributes']) #table {
  border-bottom: 1px solid #d8dde6;
}
:host([class*='--mobile'][label='Attributes']) {
  --sbAttributeTableBorderTop: 0;
}
[class*='--mobile'] .tr {
  flex-flow: column;
}
[class*='--mobile'] #table {
  padding-left: 25px;
  border-top: var(--sbAttributeTableBorderTop, 1px solid #d8dde6);
}
:host([class*='--mobile'][label='Attributes']) #table {
  border-bottom: 1px solid #d8dde6;
}
:host([class*='--mobile'][label='Attributes']) {
  --sbAttributeTableBorderTop: 0;
}
`;var F=i(4127);const N=y.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
.td {
  display: flex;
  padding-top: 4px;
  width: 100%;
  font-size: 14px;
  font-weight: 400;
}
.td > .label {
  text-align: right;
  padding-right: 10px;
  width: 40%;
  align-self: center;
  white-space: normal;
  color: var(--sbConfigAttrLabelColor);
  font-size: 13px;
}
.td > .field {
  text-align: left;
  padding-left: 10px;
  width: 60%;
  border-left: transparent solid;
  padding-left: 2px;
}
.td > .field[class*='--mobile'] {
  width: 105%;
}
[class*='--mobile'] .td > .field {
  width: 105%;
}
.td > .sb-icon-help-circled {
  font-size: var(--sbFontSizeDefault);
}
.td > .mandatory-no-value {
  border-left: #c23934 solid;
  padding-left: 2px;
}
.td[class*='--mobile'] {
  flex-direction: column;
  padding: 18px 0 12px;
  text-transform: uppercase;
  max-width: 90%;
}
.td[class*='--mobile'] > .label {
  text-align: left;
  align-self: auto;
  width: 100%;
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
.td[class*='--mobile'] > .field {
  padding-left: 0;
  width: 100%;
}
.td.attributeItem[class*='--mobile'] {
  max-width: 100%;
}
[class*='--mobile'] .td {
  flex-direction: column;
  padding: 18px 0 12px;
  text-transform: uppercase;
  max-width: 90%;
}
[class*='--mobile'] .td > .label {
  text-align: left;
  align-self: auto;
  width: 100%;
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
[class*='--mobile'] .td > .field {
  padding-left: 0;
  width: 100%;
}
[class*='--mobile'] .td.attributeItem {
  max-width: 100%;
}
`;class R extends((0,F.g)((0,g.$)(o.Pu))){static get is(){return"sb-attribute-item"}static get properties(){return{value:{notify:!0,observer:"_notifyAttributeChanged"},item:String,model:Object,md:Object,data:{type:Object,notify:!0},label:{type:String,reflectToAttribute:!0}}}static get observers(){return["_setAttributeMDObserver(item, model, targetField)","_setTargetFieldObserver(item, model)","_setRequiredObserver(value, model, attributeMD)","setLabel(md)"]}_setRequiredObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.setRequired(e,t,i)}setRequired(){!1!==this.attributeMD.required&&!0!==this.attributeMD.autoSelect&&(0,_.p1)("mandatory-no-value",!1===this.isValidValue(),this.$.attributeField)}isValidValue(){return!(void 0===this.value||null===this.value||""===this.value)}_setAttributeMDObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.setAttributeMD(e,t,i)}setAttributeMD(){if(!this.model.fields)return;this.attributeMD=this.model.attributeMD[this.item],this.$.field.disabled=this.attributeMD.autoSelect,this.hidden=this.attributeMD.hidden;let e=JSON.parse(JSON.stringify(this.model.fields[this.targetField]));"picklist"!==e.type&&"multipicklist"!==e.type||(e.picklistValues=this.getPicklistValues(e.picklistValues),e.required=this.attributeMD.required),this.md=e}_setTargetFieldObserver(e,t){if(void 0!==e&&void 0!==t)return this.setTargetField(e,t)}setTargetField(){this.$.field.record=this,this.targetField=this.model.attributeMD[this.item].targetFieldName}setLabel(){this.label=this.md.label}getPicklistValues(e){if(void 0===this.attributeMD)return e;if(!this.attributeMD.shownValues&&!this.attributeMD.hiddenValues)return e;let t=this.attributeMD.shownValues||[];if(!this.attributeMD.shownValues)for(let i of e)t.push(i.value);let i=this.attributeMD.hiddenValues||[];return e.filter((function(e){return-1!==t.indexOf(e.value)&&-1===i.indexOf(e.value)}))}_notifyAttributeChanged(e){this.model&&this.dispatchEvent((0,k.uv)("sb-config-attribute-changed",{Id:this.item,bundleId:this.model.attributeMD[this.item].bundleId,changed:!0,path:!0}))}getValue(e){let t=this.model.attributeFieldMD[e];if(t&&t.length>0)return this.data[t[0]]}setValue(e,t){this.set("data."+e,t)}equals(e){return this.data===e.data}static get template(){return o.qy`
		<style>${N}</style>
		
		<div device class="td attributeItem">
			<div class="label">[[label]]</div>
			<div class="field" id="attributeField">
				<sb-field
					id="field"
					value="{{value}}"
					md="[[md]]"
					editing=true
					property="[[item]]"
				></sb-field>
			</div>
		</div>
		`}}customElements.define(R.is,R);class q extends((0,g.$)(o.Pu)){static get is(){return"sb-attribute-table"}static get properties(){return{featureId:String,position:String,model:Object,configAttributes:Object,addedClass:String,md:Object,showTable:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return w.L.getViewport()}},spinner:{type:Boolean,notify:!0}}}static get observers(){return["_generateColumnsObserver(featureId, model, configAttributes, md)","_getMDObserver(configAttributes, model)","bindDataToModel(configAttributes.*)"]}ready(){super.ready(),this.$.optionFieldMetadata.addEventListener("md-changed",function(e){this.setMD(e),this.spinner=!1}.bind(this)),this.addEventListener("lookup-value-changed",this._setReferencedData.bind(this))}_getMDObserver(e,t){if(void 0!==e&&void 0!==t)return this.getMD(e,t)}getMD(){this.spinner=!0;let e={},t=this.model.configurationAttributeModelMap;for(let i in t)e[t[i].targetFieldName]=null;this.$.optionFieldMetadata.fields=Object.keys(e)}setMD(e){this.md={fields:e.detail.value.fieldsByObject[this.model.prefix+"ProductOption__c"],attributeMD:this.model.configurationAttributeModelMap,attributeFieldMD:this.model.configurationAttributeTargetFieldMap}}_generateColumnsObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this.generateColumns(e,t,i,o)}prepareColumns(e,t){const i=[],o=[],r=[],n=e.length;for(let s=0;s<n;s++){const n=e[s].myId;e[s].position!=t&&t||(1==e[s].columnOrder?i.push(n):2==e[s].columnOrder?o.push(n):r.push(n))}return[i,o,r]}createFeatureAttributesByFieldName(e,t){let i={};const o=e.length;for(let r=0;r<o;r++){const o=e[r].myId;t.attributeMD[o].processed=!0;const n=e[r].targetFieldName;let s=i[n]||[];s.push(o),i[n]=s}return i}generateColumns(e,t,i,o){const r=(t.configAttributesByFeatureId[e]||[]).filter((e=>o.fields&&o.fields.hasOwnProperty(e.targetFieldName))),[n,s,a]=this.prepareColumns(r,this.position);this.normalizeData(this.createFeatureAttributesByFieldName(r,o)),this.setColumns(n,s,a)}normalizeData(e){for(let t in e){let i=e[t],o=this.md.attributeFieldMD[t];if(o.length<=i.length)return;for(let e of o)if(-1===i.indexOf(e)&&this.md.attributeMD[e].processed){for(let t of i)this.configAttributes[t]=this.configAttributes[e];break}}}setColumns(e,t,i){e.length>0&&(this.showTable=!0,this.$.firstColumn.overridePropagateFromParentToChild(this.captureCallBack),this.$.firstColumn.setFromChildToParentExtension(this.captureCallBack),this.$.firstColumn.model=this.md,this.$.firstColumn.group||(this.$.firstColumn.group=e)),t.length>0&&(this.showTable=!0,this.$.secondColumn.overridePropagateFromParentToChild(this.captureCallBack),this.$.secondColumn.setFromChildToParentExtension(this.captureCallBack),this.$.secondColumn.model=this.md,this.$.secondColumn.group||(this.$.secondColumn.group=t)),i.length>0&&(this.showTable=!0,this.$.thirdColumn.overridePropagateFromParentToChild(this.captureCallBack),this.$.thirdColumn.setFromChildToParentExtension(this.captureCallBack),this.$.thirdColumn.model=this.md,this.$.thirdColumn.group||(this.$.thirdColumn.group=i))}captureCallBack(e){let t=this.elements,i=e.path.split(".")[1];if(void 0===i)return;let o=this.model.attributeMD[i].targetFieldName;for(let r=0,n=t.length;r<n;r++){t[r].item.split(".")[0]!==i&&(this.model.attributeMD[t[r].item].targetFieldName===o&&(t[r].value=e.value))}}bindDataToModel(e){if(void 0===e.path||"configAttributes"===e.path)return;let t=this._getTargetFieldNameFromModel(e.path.split(".")[1]);this.model.product.configuration.configurationData[t]=e.value}_setReferencedData(e){if(!(e&&e.detail&&e.detail.obj&&e.detail.item))return;const t=this._getTargetFieldNameFromModel(e.detail.item),i=this.md.fields[t].relationshipName;if(null===i)return;const o=null===e.detail.value?null:{attributes:e.detail.obj.attributes,Id:e.detail.obj.Id,Name:e.detail.obj.Name};this.model.product.configuration.configurationData[i]=o}_getTargetFieldNameFromModel(e){return this.model.configurationAttributeModelMap[e].targetFieldName}isMobile(){return this.viewport&&this.viewport.isMobile()}static get template(){return o.qy`
		<style>${A}</style>
		
		<sb-field-md id="optionFieldMetadata" object="ProductOption__c" background="true"></sb-field-md>
		<div device id="table" class$="table [[addedClass]]" hidden$="[[!showTable]]">
			<div class="tr">
				<div class="td">
					<sb-group
							id="firstColumn"
							item="sb-attribute-item"
							data="{{configAttributes}}"
					></sb-group>
				</div>
				<div class="td">
					<sb-group
							id="secondColumn"
							item="sb-attribute-item"
							data="{{configAttributes}}"
					></sb-group>
				</div>
				<div class="td">
					<sb-group
							id="thirdColumn"
							item="sb-attribute-item"
							data="{{configAttributes}}"
					></sb-group>
				</div>
			</div>
		</div>
		`}}customElements.define(q.is,q);i(656);class j extends((0,D.N)((0,g.$)((0,E.T)(o.Pu)))){static get is(){return"sb-product-feature"}static get properties(){return{featureId:String,model:Object,maxOptions:Object,feature:Object,fieldSetKey:String,fieldSetHandler:Object,tabNames:{type:Array,readOnly:!0,value:["options","attributes"]},tabs:{type:Array,value:[]},viewport:{type:Object,value:function(){return w.L.getViewport()}},configSearch:Object,isMobile:{type:Boolean,value:!1,computed:"_setIsMobile(viewport)"},hasConfigAttributes:{type:Boolean,value:!1,computed:"_setHasConfigAttributes(model, featureId)"},hasTopConfigAttributes:{type:Boolean,computed:"_setHasTopConfigAttributes(model, featureId)"},hasBottomConfigAttributes:{type:Boolean,computed:"_setHasBottomConfigAttributes(model, featureId)"},mobileHasConfigAttributes:{type:Boolean,value:!1},hasOptions:{type:Boolean,computed:"_setHasOptions(model, featureId)"},mobileHasOptions:Boolean,hasOptionsAndConfigAttributes:{type:Boolean,value:!1,computed:"_setHasOptionsAndConfigAttributes(hasConfigAttributes, hasOptions)"},mobileHasOptionsAndConfigAttributes:Boolean,hasInstructions:{type:Boolean,computed:"_setHasInstructions(feature)"},mobileHasInstructions:Boolean,expanded:{type:Boolean,value:!1},selectedOptions:{type:Number,value:0},hasSelectedOptions:{type:Boolean,value:!1,computed:"_hasSelectedOptions(selectedOptions)"},featureIndex:Number,configAttributes:{type:Object,notify:!0},hasUpgradeOptions:{type:Boolean,computed:"_setHasUpgradedOptions(feature)"},mobileRendering:{type:Boolean,value:!1},mobileExpanded:{type:Boolean,value:!1},spinner:{type:Boolean,notify:!0},tabIndex:{type:Number,value:null}}}ready(){Object.entries({"selection-changed":"handleSelectionCounter"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),super.ready()}get events(){let e={};return e[k.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get observers(){return["_renderObserver(featureId, model)","_buildTabsObserver(viewport, model, featureId)","featureChanged(feature)","_initFieldSetObserver(model, fieldSetKey, fieldSetHandler)"]}_setHasUpgradedOptions(){return this.model.getHasUpgradeOptions(this.feature)}_hasSelectedOptions(e){return!e}_renderObserver(e,t){if(void 0!==e&&void 0!==t)return this.render(e,t)}render(){this.model.featureIdsWithOptionsOrConfigAttr[this.featureId]&&(this.setFeatureAndOptionSelectionMethod(),this.setOptionsDetails(),this.setFieldSetHandler(),this.renderFeatureInDesktopOrMobileView(),this.initSelectedOptions(),this.handleDeleteOptions(),this.handleOptionChangedByRule())}_buildTabsObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.buildTabs(e,t,i)}buildTabs(){if(!this.isMobile)return;let e=b.B.properties.i18n.value(),t={name:"t1",label:e.l("Options"),pageComponent:"sb-product-option-table",attributes:[{name:"id",value:"ot"}],bind:["model","featureId","fieldSet","fieldSetName","routeSource","isClickSelection","disabledStateMap","configSearch","hasUpgradeOptions"]},i={name:"t2",label:e.l("Attributes"),pageComponent:"sb-attribute-table",attributes:[{name:"id",value:"configAttributesTop"},{name:"added-class",value:"header-attributes"}],bind:["featureId","model","configAttributes"]};this.tabs=[t,i]}setFieldSetHandler(){this.fieldSetHandler=new S.V(this.model.product.optionFieldSets,"OptionConfiguration","OptionConfigurationTablet","OptionConfigurationPhone")}setFeatureAndOptionSelectionMethod(){this.feature=this.model.getFeature(this.featureId)}setOptionsDetails(){this.isClickSelection="Click"===this.feature.optionSelectionMethod,this.routeSource="Configurator"}featureChanged(){let e=this.feature.record[this.model.prefix+"ConfigurationFieldSet__c"];this.fieldSetKey=void 0===e?null:e}setFieldSetFromViewport(){let e=this.fieldSetHandler.getByViewport(this.viewport);this.fieldSet=e.fields,this.fieldSetName=e.name}_initFieldSetObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.initFieldSet(e,t,i)}initFieldSet(){this.fieldSetKey?(this.fieldSet=this.model.product.optionFieldSets[this.fieldSetKey],this.fieldSetName=this.fieldSetKey):this.setFieldSetFromViewport()}_setIsMobile(e){if(e)return e.isMobile()}_setHasConfigAttributes(e,t){let i=this.model.configAttributesByFeatureId[t];if(!i)return!1;for(let e=0;e<i.length;e++)if(!i[e].hidden)return!0;return!1}_setHasTopConfigAttributes(e,t){return this._hasTopOrBottomConfigAttributes("Top",t)}_setHasBottomConfigAttributes(e,t){return this._hasTopOrBottomConfigAttributes("Bottom",t)}_hasTopOrBottomConfigAttributes(e,t){if(!this.model.configAttributesByFeatureId[t])return!1;for(let i of this.model.configAttributesByFeatureId[t])if(i.position===e&&!i.hidden)return!0;return!1}_setHasOptions(){return!!this.model.optionsByFeatureId[this.featureId]||this.model.featureIdsWIthSelectionMethodDynamic[this.featureId]}_setHasOptionsAndConfigAttributes(e,t){return!(!e||!t)}_setHasInstructions(){return!!this.feature.instructionsText||!!this.feature.additionalInstructions}viewportChanged(e){this.viewport=e.detail.viewport,this.fieldSetKey||this.setFieldSetFromViewport()}renderFeatureInDesktopOrMobileView(){(0,_.p1)("group",!this.isMobile,this.$.feature)}applyFilters(){let e=this.model.getOptionsByFeatureId(this.featureId),t=new ConfiguratorSearch(this.searchFilters,e,{});this.filtered=!t.hasOptions||!t.containsFeature(this.feature)}mobileExpand(e){this.mobileExpanded?this.expand(e.composedPath()):this.mobileRendering||(this.mobileRendering=!0,(0,_.p1)("first",!1,this.shadowRoot.querySelector("header")),(0,s.m)(this,function(e){this.mobileHasInstructions=this.hasInstructions,this.mobileHasOptionsAndConfigAttributes=this.hasOptionsAndConfigAttributes,this.mobileHasConfigAttributes=this.hasConfigAttributes,this.mobileHasOptions=this.hasOptions,this.observeNode(this.$.feature,function(){this.mobileExpanded=!0,this.mobileRendering=!1,(0,_.p1)("first",!0,this.shadowRoot.querySelector("header")),this.expand(e)}.bind(this))}.bind(this,e.composedPath())))}domExpand(e){this.expand(e.composedPath())}expand(e){this.expanded=!this.expanded,this.dispatchEvent((0,k.uv)("feature-expanded",{expanded:this.expanded,path:e}))}initSelectedOptions(){let e=""!==b.B.org.prefix?b.B.org.prefix+"__":"";var t=this.model.getOptionsByFeatureId(this.featureId);for(let i=0,o=t.length;i<o;i++)if(t[i].selected&&this.selectedOptions++,void 0===t[i].record[e+"UnitPrice__c"])return console.warn("Option is missing entry in selected pricebook => "+t[i].record[e+"ProductCode__c"]+": "+t[i].record[e+"ProductName__c"]),!0}handleSelectionCounter(e){e.detail.changed&&("radio"!==e.detail.selectionType?(this.selectedOptions||e.detail.selected)&&(this.selectedOptions+=e.detail.selected?1:-1):this.selectedOptions=e.detail.selected?1:0)}handleDeleteOptions(e){this.addEventListener("delete-tapped",(function(e){this.selectedOptions>0&&this.selectedOptions--}))}handleOptionChangedByRule(e){this.addEventListener("option-changed-by-rule",(function(e){e.detail.added?this.selectedOptions++:this.selectedOptions--}))}static get template(){return o.qy`
		<style include="sb-common-styles sb-tables-styles"></style>
		<style>${L}</style>
		<style include="sb-icons-styles sb-tables-styles"></style>

		<div device id="feature">
			<template is="dom-if" if="[[isMobile]]">
				<header id="feature-header" class="primary first" on-click="mobileExpand">
					<span id="feature-name">[[feature.record.Name]]</span>
					<span hidden$="[[hasSelectedOptions]]">&nbsp;([[selectedOptions]])</span>
				</header>
				<sf-loading-spinner class="loadingSpinner" invisible$="[[!mobileRendering]]" show="truthy" position="relative" size="small"></sf-loading-spinner>

				<template is="dom-if" if="[[mobileHasInstructions]]">
						<div id="feature-sub-header">
							<div id="instructions">
								<i class="sf-icon-warning" hidden$="[[!!feature.instructionsText]]"> <span id="instructions-text">[[feature.instructionsText]]</span></i>
								<p id="additional-instructions" hidden$="[[!feature.additionalInstructions]]">[[feature.additionalInstructions]]</p>
							</div>
						</div>
				</template>

				<div id="feature-tabs">
					<template is="dom-if" if="[[mobileHasOptionsAndConfigAttributes]]">
						<sb-tabs secondary-tabs
								tabs="[[tabs]]"
							 	model="[[model]]"
							 	feature-id="[[featureId]]"
							 	field-set="[[fieldSet]]"
							 	field-set-name="[[fieldSetName]]"
							 	route-source="[[routeSource]]"
							 	is-click-selection="[[isClickSelection]]"
							 	disabled-state-map="[[disabledStateMap]]"
								config-search="[[configSearch]]"
								config-attributes="{{configAttributes}}"
								has-upgrade-options="[[hasUpgradeOptions]]"
						></sb-tabs>
					</template>
				</div>

				<template is="dom-if" if="[[!mobileHasOptionsAndConfigAttributes]]">
					<div id="feature-body">
						<template is="dom-if" if="[[mobileHasConfigAttributes]]">
							<div class="attribute-table-wrapper">
								<sb-attribute-table
										id="configAttributesTop"
										feature-id="[[featureId]]"
										position="Top"
										model="{{model}}"
										config-attributes="{{configAttributes}}"
								></sb-attribute-table>
							</div>
						</template>

						<template is="dom-if" if="[[mobileHasOptions]]">
							<sb-product-option-table
									id="ot"
									model="{{model}}"
									feature-id="[[featureId]]"
									field-set="[[fieldSet]]"
									field-set-name="[[fieldSetName]]"
									route-source="[[routeSource]]"
									is-click-selection="[[isClickSelection]]"
									disabled-state-map="[[disabledStateMap]]"
									config-search="[[configSearch]]"
									has-upgrade-options="[[hasUpgradeOptions]]"
							></sb-product-option-table>
						</template>

						<template is="dom-if" if="[[mobileHasConfigAttributes]]">
							<div class="attribute-table-wrapper">
								<sb-attribute-table
										id="configAttributesBottom"
										feature-id="[[featureId]]"
										position="Bottom"
										model="{{model}}"
										config-attributes="{{configAttributes}}"
								></sb-attribute-table>
							</div>
						</template>
					</div>
				</template>
			</template>

			<template is="dom-if" if="[[!isMobile]]">
				<header id="feature-header" class="primary first" on-click="domExpand">
					<h2 id="feature-name">[[feature.record.Name]]</h2>

					<template is="dom-if" if="[[hasUpgradeOptions]]">
						<div id="tooltip-container">
							<div id="additional-instructions-icon" class="sf-icon-info"></div>
							<paper-tooltip for="additional-instructions-icon" fit-to-visible-bounds="true" position="left" offset="20" animation-delay="0" id="additional-information-tooltip">
								<sb-i18n key="showAvailableUpgrades">This feature has products available for upgrade, click the Show Available Upgrades button at the bottom of the feature to select upgrade options.</sb-i18n>
							</paper-tooltip>
						</div>
					</template>

					<div id="feature-sub-header">
						<template is="dom-if" if="[[hasInstructions]]">
							<div id="instructions">
								<p id="instructions-text">[[feature.instructionsText]]</p>
								<p id="additional-instructions">[[feature.additionalInstructions]]</p>
							</div>
						</template>

						<template is="dom-if" if="[[hasTopConfigAttributes]]">
							<sb-attribute-table
									id="configAttributesTop"
									feature-id="[[featureId]]"
									position="Top"
									model="{{model}}"
									config-attributes="{{configAttributes}}"
									spinner="{{spinner}}"
							></sb-attribute-table>
						</template>
					</div>
				</header>

				<template is="dom-if" if="[[hasOptions]]">
					<div id="feature-body">
						<sb-product-option-table
								id="ot" model="{{model}}"
								tab-index="[[tabIndex]]"
								feature-id="[[featureId]]"
								field-set="[[fieldSet]]"
								field-set-name="[[fieldSetName]]"
								route-source="[[routeSource]]"
								is-click-selection="[[isClickSelection]]"
								disabled-state-map="[[disabledStateMap]]"
								config-search="[[configSearch]]"
								has-upgrade-options="[[hasUpgradeOptions]]"
								spinner="{{spinner}}"
						></sb-product-option-table>
					</div>
				</template>

				<div class="footer-attributes">
					<template is="dom-if" if="[[hasBottomConfigAttributes]]">
						<sb-attribute-table
								id="configAttributesBottom"
								feature-id="[[featureId]]"
								position="Bottom"
								model="{{model}}"
								config-attributes="{{configAttributes}}"
								spinner="{{spinner}}"
						></sb-attribute-table>
					</template>
				</div>
			</template>
		</div>
		`}}customElements.define(j.is,j);var H=i(7402);const V=y.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
sb-tabs[class*='--desktop']::shadow #paperTabContainer {
  border: none;
}
[class*='--desktop'] sb-tabs::shadow #paperTabContainer {
  border: none;
}
`;i(4482);const U=y.b`
div {
  border-top-width: var(--sbTableRowBorderBottomWidth);
  border-top-style: var(--sbTableRowBorderBottomStyle);
  border-top-color: var(--sbTableRowBorderBottomColor);
}
.empty {
  margin: 15px;
  padding: 15px;
  background: #f4f6f9;
  border: 1px solid #d0d0d0;
  border-radius: 4px;
  overflow: auto;
}
`;class z extends((0,F.g)(o.Pu)){static get is(){return"sb-product-feature-list"}static get properties(){return{features:Object,configSearch:Object,model:Object,label:String,spinner:{type:Boolean,value:!1},show:{type:Boolean,value:!1},tabIndex:{type:Number,value:null},viewport:{type:Object,value:function(){return w.L.getViewport()}}}}_initLazyTabRenderingObserver(e,t){if(void 0!==e&&void 0!==t)return this.initLazyTabRendering(e,t)}initLazyTabRendering(e,t){this.show=!0===this.isMobile()||null===e,!1===this.show&&this.addEventListener("sb-tab-selected",this.handleTabSelected.bind(this))}static get observers(){return["_initFeaturesObserver(label, model)","_filterFeaturesObserver(configSearch, features, model)","filterFeaturesFromRules(model.productRulesActions)","handleFeatureExpandEvent(features)","_setFeatureOptionsAsRenderedObserver(show, features, model)","_initLazyTabRenderingObserver(tabIndex, viewport)"]}_initFeaturesObserver(e,t){if(void 0!==e&&void 0!==t)return this.initFeatures(e,t)}initFeatures(){this.features=this.features||this.model.getTabFeaturesMap()[this.label]}filterFeaturesFromRules(e){this.configSearch&&this.features&&e&&Object.keys(e).length>0&&this.filterFeatures(this.configSearch,this.features,this.model,e)}_filterFeaturesObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.filterFeatures(e,t,i)}filterFeatures(e,t,i,o){(0,_.bv)(this)?this._filterFeatures(e,t,i,o):this._filterQueuedForNextRender||((0,s.m)(this,this._filterFeatures.bind(this,e,t,i,o)),this._filterQueuedForNextRender=!0)}_filterFeatures(e,t,i,o){let r=!0;for(let n=0,s=this.features.length;n<s;n++)r=this._filterFeatureByIndex(e,t,i,o,n)&&r;this._parentHandleContentFiltered(!r),this._filterQueuedForNextRender=!1}_parentHandleContentFiltered(e){if(null==this.label)return;let t=(0,_.bv)(this);t&&"function"==typeof t.contentFilteredHandler&&t.contentFilteredHandler(this.label,e)}_filterFeatureByIndex(e,t,i,o,r){let n=o?o.showOptions:null,s=i.optionsByFeatureId[t[r].record.Id]||[];s=e.setOptionVisibility(s);let a=this._hideFeature(e,t[r],i,s,n);return this.set("features."+r+".hidden",a),a}_hideFeature(e,t,i,o,r){if(e.hasRequiredConfigAttributes(t,i))return!1;if(!e.containsFeature(t))return!0;if(e.hasVisibleOptions(o,r))return!1;let n=e.allOptionsHiddenByRule(o),s=e.hasConfigAttributes(t,i);if(n&&s)return!1;let a=t.optionSelectionMethod;return"Click"===a||(!!i.maxOptionsMet(t)||"Dynamic"!==a&&!e.hasVisibleOptions(t._transient_.optionConfigurations,r))}handleFeatureExpandEvent(){this.addEventListener("feature-expanded",function(e){e.detail.path.forEach(function(t){if("feature-header"===t.id)for(;t.nextElementSibling;)t.classList.toggle("expanded",e.detail.expanded),t=t.nextElementSibling}.bind(this))}.bind(this))}handleTabSelected(){!0!==this.show&&(this.spinner=!0,setTimeout(this.renderComponent.bind(this),10))}renderComponent(){this.renderingComponent||(this.renderingComponent=!0,(0,s.m)(this,function(){this.show=!0,this.spinner=!1,this.renderingComponent=!1}.bind(this)))}get prefix(){return b.B.org.prefix?b.B.org.prefix+"__":""}isMobile(){return!(!this.viewport||!this.viewport.isMobile())}_setFeatureOptionsAsRenderedObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.setFeatureOptionsAsRendered(e,t,i)}setFeatureOptionsAsRendered(){!1!==this.show&&this.features.forEach((e=>{this.model.getOptionsByFeatureId(e.record.Id).forEach((t=>{"Add"==e.optionSelectionMethod&&(t=this.model.product.options.find((e=>e.record.Id===t.record.Id))),t._transient_=t._transient_||{},t._transient_.rendered=!0}))}))}_showNoVisibleOptionsInFeatureMessage(e){return!(!e||b.B.isHideFeatureNoOptionEnabled)}static get template(){return o.qy`
		<style>${U}</style>
		<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>

		<div id="featureList">
			<template is="dom-if" if="[[show]]">
				<template id="features" class="features" is="dom-repeat" items="{{features}}" as="feature">
					<sb-product-feature
							feature-id="[[feature.record.Id]]"
							name$="[[feature.record.Name]]"
							hidden$="[[feature.hidden]]"
							model="[[model]]"
							tab-index="[[tabIndex]]"
							config-attributes="{{configAttributes}}"
							disabled-state-map="[[disabledStateMap]]"
							config-search="[[configSearch]]"
							spinner="{{spinner}}"
					></sb-product-feature>

					<template is="dom-if" if="[[_showNoVisibleOptionsInFeatureMessage(feature.hidden)]]">
						<div class="empty"><sb-i18n key="No visible options in feature" value="[[feature.record.Name]]">No visible options in feature '{0}'</sb-i18n></div>
					</template>
				</template>
			</template>
		</div>
		`}}customElements.define(z.is,z);const $=y.b`
header {
  font-size: 1rem;
  font-weight: bold;
  padding: 18px 13px 8px;
  font-weight: 500;
  color: #16325c;
  text-align: center;
  text-transform: uppercase;
}
`;function W(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Q(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class G extends o.Pu{static get is(){return"sb-product-feature-category-list"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?W(Object(i),!0).forEach((function(t){Q(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):W(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({categoryNamesOrFeatures:Array,hasCategories:{type:Boolean,value:!1}},z.properties)}static get observers(){return["setHasCategories(model)","_setCategoryNamesOrFeaturesObserver(model, hasCategories)"]}setHasCategories(e){this.hasCategories=e.checkAtLeastOneFeatureHasCategory()}_setCategoryNamesOrFeaturesObserver(e,t){if(void 0!==e&&void 0!==t)return this.setCategoryNamesOrFeatures(e,t)}setCategoryNamesOrFeatures(e,t){this.categoryNamesOrFeatures=t?Object.keys(e.getTabFeaturesMap()):e.featuresWithOptionsOrConfigAttr}getFeaturesByCategory(e){return this.model.getTabFeaturesMap()[e]}static get template(){return o.qy`
		<style>${$}</style>
		<template is="dom-if" if="[[hasCategories]]">
			<template id="categories" is="dom-repeat" items="[[categoryNamesOrFeatures]]" as="categoryName">
				<header>[[categoryName]]</header>

				<sb-product-feature-list
						config-attributes="{{configAttributes}}"
						disabled-state-map="[[disabledStateMap]]"
						config-search="[[configSearch]]"
						features="[[getFeaturesByCategory(categoryName)]]"
						model="[[model]]"
				></sb-product-feature-list>
			</template>
		</template>

		<template is="dom-if" if="[[!hasCategories]]">
			<sb-product-feature-list
					config-attributes="{{configAttributes}}"
					disabled-state-map="[[disabledStateMap]]"
					config-search="[[configSearch]]"
					features="[[categoryNamesOrFeatures]]"
					model="[[model]]"
			></sb-product-feature-list>
		</template>
		`}}function K(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Y(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}customElements.define(G.is,G);class X extends((0,F.g)((0,g.$)((0,E.T)(a.YW)))){static get is(){return"sb-product-feature-layout"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?K(Object(i),!0).forEach((function(t){Y(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):K(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({qId:String,product:Object,model:Object,configAttributes:{type:Object,notify:!0},features:{type:Object,value:{},computed:"_setFeatures(model)"},vp:{type:Object,value:function(){return w.L.getViewport()}},isMobile:{type:Boolean,value:!1,computed:"_setIsMobile(vp)"},hasTopConfigAttributes:{type:Boolean,computed:"_setHasTopConfigAttributes(configAttributes)"},hasBottomConfigAttributes:{type:Boolean,computed:"_setHasBottomConfigAttributes(configAttributes)"},hasFeaturelessConfigAttributes:{type:Boolean,computed:"_setHasFeaturelessConfigAttributes(configAttributes)"},isMobileAndHasConfigAttributes:{type:Boolean,value:!1,computed:"_setIsMobileAndHasFeaturelessConfigAttributes(isMobile, hasFeaturelessConfigAttributes)"},isSectionLayout:{type:Boolean,value:!1},isPaginationRequired:{type:Boolean,value:!1},tabsForFeatureLayout:Object,tabsForTabsAndWizardLayout:Object,selectedTabIndex:{type:Number,notify:!0},optionConstraintsHandler:{type:Object,value:{},computed:"setOptionConstraintsHandler(model)"},disabledStateMap:{type:Object,value:{}},configSearch:Object,listenersAttached:{type:Boolean,value:!1},spinner:{type:Boolean}},a.YW.properties)}get events(){let e={};return e[k.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get observers(){return["_setConfigAttributes(model)","_renderObserver(model, isSectionLayout)","_buildModelObserver(product, qId, currencyIsoCode)","_handleProductRulesResponseObserver(model, disabledStateMap, product.configuration.*)","_setOptionDataObserver(model, product.configuration.optionDataByOptionIdAndIndex)","_updateProductFromPopupResponseObserver(popupResponse, model)","_createConstraintsHoverMessagesObserver(model, optionConstraintsHandler)","_setSelectedForConstraintsObserver(optionConstraintsHandler.optionConstraints, disabledStateMap)"]}_buildModelObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.buildModel(e,t,i)}buildModel(){this.model=new C.y(this.qId,this.product,this.app.org.prefix,this.currencyIsoCode)}_setConfigAttributes(){this.configAttributes=this.model.configurationAttributeValueMap}_setHasFeaturelessConfigAttributes(){let e=this.model.configAttributesByFeatureId.featureless;if(!e)return!1;for(let t=0;t<e.length;t++)if(!e[t].hidden)return!0;return!1}_setFeatures(e){return e.featuresWithOptionsOrConfigAttr}_setIsMobile(e){if(e)return e.isMobile()}_setHasTopConfigAttributes(e){if(!this.model||!this.model.configAttributesByFeatureId.featureless)return!1;for(let e of this.model.configAttributesByFeatureId.featureless)if("Top"===e.position&&!e.hidden)return!0;return!1}_setHasBottomConfigAttributes(e){if(!this.model||!this.model.configAttributesByFeatureId.featureless)return!1;for(let e of this.model.configAttributesByFeatureId.featureless)if("Bottom"===e.position&&!e.hidden)return!0;return!1}_setIsMobileAndHasFeaturelessConfigAttributes(e,t){return e&&t}viewportChanged(e){this.vp=e.detail.viewport}_renderObserver(e,t){if(void 0!==e&&void 0!==t)return this.render(e,t)}render(){let e=this.model.getOptionLayout();if(this.isMobile&&(e="Sections",this.hasFeaturelessConfigAttributes))return this.buildFeatureLayoutTabs(),void this.handleOptionSelectionChanged();this.isSectionLayout&&(e="Sections"),this.isMobile||"Tabs"!==e&&!this.model.checkAtLeastOneFeatureHasCategory()?"Wizard"===e?(this.buildTabsAndWizardLayoutTabs(),this.isPaginationRequired=!0):"Sections"!==e&&"None"!==e||(this.isSectionLayout=!0):(this.buildTabsAndWizardLayoutTabs(),this.isPaginationRequired=!1),this.handleOptionSelectionChanged(),this.listenersAttached=!0}buildFeatureLayoutTabs(){let e={name:"t1",label:this.i18n.l("Features"),pageComponent:"sb-product-feature-category-list",bind:["model","configAttributes","disabledStateMap","configSearch"]},t={name:"t2",label:this.i18n.l("Attributes"),pageComponent:"sb-attribute-table",attributes:[{name:"id",value:"globalConfigAttributes"},{name:"added-class",value:"header-attributes"},{name:"feature-id",value:"featureless"}],bind:["model","configAttributes"]};this.tabsForFeatureLayout=[e,t]}buildTabsAndWizardLayoutTabs(){let e=this.model.getTabFeaturesMap(),t=Object.keys(e),i=[];for(let e=0,o=t.length;e<o;e++){let o="t"+e;i.push({name:o,label:t[e]})}this.isSectionLayout=!1,this.tabsForTabsAndWizardLayout=i}setOptionConstraintsHandler(){return new H.W(this.model.product,this.model.prefix)}handleOptionSelectionChanged(){this.listenersAttached||(this.addEventListener("selection-changed",(function(e){if(e&&e.detail){if(!1===e.detail.selected&&this.model.getOption(e.detail.Id).added){let t=this.model.getOption(e.detail.Id);t.added=!1,t.removed=!0}this.handleOptionConstraints(e.detail.Id,e.detail.selected)}})),this.addEventListener("delete-tapped",function(e){if(e&&e.detail&&!this.hasSameOptionAdded(e.detail.Id)){let t=this.model.getOption(e.detail.Id);t.added=!1,t.removed=!0,t._transient_&&(t._transient_.rendered=!1),this.handleOptionConstraints(e.detail.Id,!1)}}.bind(this)))}hasSameOptionAdded(e){let t=this.model.getOption(e).record[this.model.prefix+"Feature__c"],i=this.model.getFeature(t),o=i?i._transient_.optionConfigurations:[];for(let t=0,i=o.length;t<i;t++)if(o[t].record.Id===e)return!0;return!1}handleOptionConstraints(e,t){let i=this.optionConstraintsHandler.handleOptionConstraints(e,t);i&&i.forEach((e=>{this.set(`disabledStateMap.${e.optionId}`,e.disabledState)}))}_handleProductRulesResponseObserver(e,t){if(void 0!==e&&void 0!==t&&this.product&&this.product.configuration&&this.product.configuration.productRulesActions)return this._handleProductRulesResponse(e,t)}_handleProductRulesResponse(){(0,_.bv)(this)&&this.product.configuration.productRulesActions&&(this.setOptionsDisabledByRules(Object.keys(this.product.configuration.productRulesActions.enableOptions),!1),this.setOptionsDisabledByRules(Object.keys(this.product.configuration.productRulesActions.disableOptions),!0),this.setOptionsHiddenByRules(Object.keys(this.product.configuration.productRulesActions.hideOptions),!0),this.setOptionsHiddenByRules(Object.keys(this.product.configuration.productRulesActions.showOptions),!1),this.setOptionsSelectedByRules(Object.keys(this.product.configuration.productRulesActions.selectOptions),!0),this.setOptionsSelectedByRules(Object.keys(this.product.configuration.productRulesActions.deselectOptions),!1),this.set("model.productRulesActions",this.product.configuration.productRulesActions),delete this.product.configuration.productRulesActions)}setOptionsDisabledByRules(e,t){const i=t?"disableOptions":"enableOptions";for(let o of e){if(this.model.optionSystemOrRequired(o)){delete this.product.configuration.productRulesActions[i][o];continue}let e=t?this.optionConstraintsHandler.optionShouldBeDisabled(o):!this.optionConstraintsHandler.optionShouldBeDisabled(o);this.product.configuration.productRulesActions[i][o]=e;let r=!!(t&&e||!t&&!e);this.model.getOption(o).disabledData={disabled:t,constrained:r}}}setOptionsHiddenByRules(e,t){for(let i of e){let e=this.model.getOption(i);e.hidden=t,e.hiddenByRule=t,this.handleFeatureVisibility(this.model.featureIdByOptionId[i])}}setOptionsSelectedByRules(e,t){for(let i of e){let e=this.model.getOption(i);e.selected=t,e.selectedByRule=t}}_setOptionSelections(e,t,i){t&&Object.keys(t).forEach((t=>{let o=e.getOption(t);o&&o.selected!==i&&(o.selected=i)}))}handleFeatureVisibility(e){const t=this.checkFeatureHasVisibleOptions(e),i=this.features.findIndex((t=>t.record.Id===e));this.set(["features",i,"hidden"],t)}checkFeatureHasVisibleOptions(e){for(let t of this.model.optionsByFeatureId[e])if(!t.hidden)return!1;return!0}_setOptionDataObserver(e,t){if(void 0!==e&&void 0!==t)return this._setOptionData(e,t)}_setOptionData(){(0,_.bv)(this)&&(this.set("model.optionDataByOptionIdAndIndex",this.product.configuration.optionDataByOptionIdAndIndex),delete this.product.configuration.optionDataByOptionIdAndIndex)}_updateProductFromPopupResponseObserver(e,t){if(void 0!==e&&void 0!==t)return this._updateProductFromPopupResponse(e,t)}_updateProductFromPopupResponse(){this.popupResponse.dynamicOptions&&this.popupResponse.dynamicOptions.length>0||this._bindResponseChangesToUI()}_bindResponseChangesToUI(){this.model.init(this.popupResponse.product),this._setConfigAttributes(),this.set("model.optionNotifications",this.popupResponse.optionNotifications)}handleDynamicOptionsAdded(e){for(let i in e){let o=0,r=this._getDynamicOptions(i,e[i].record[this.model.prefix+"Feature__c"]);for(let n of r){var t=this._extendDataToOption(e[i],n,o++);let r=this.model.getFeature(n.featureId);this.popupResponse.product.options.push(t),r._transient_.optionConfigurations.push(t),r._transient_.changedExternally=!0}}this.syncConfigurationAttributesToProduct(t),this._bindResponseChangesToUI()}_getDynamicOptions(e,t){let i=[];for(let o of this.popupResponse.dynamicOptions||[])o.productId.substring(0,15)===e.substring(0,15)&&o.featureId.substring(0,15)===t.substring(0,15)&&i.push(o);return i}_extendDataToOption(e,t,i){if(e=Object.assign({},e),t.configurationData&&"object"==typeof t.configurationData)for(let i in t.configurationData)e.record[i]=t.configurationData[i];return e.record=Object.assign({},e.record),e.record[this.model.prefix+"Quantity__c"]=t.Quantity,e.index=t.index||i,e.isDynamicOption=!0,e.selected=!0,e.added=!0,void 0===e.record[this.model.prefix+"UnitPrice__c"]&&(e.record[this.model.prefix+"UnitPrice__c"]=0),e}syncConfigurationAttributesToProduct(e){if(void 0===this.autoSelectAttributes){this.autoSelectAttributes={};for(let e of this.popupResponse.product.configurationAttributes)!0===e.autoSelect&&void 0===this.autoSelectAttributes[e.targetFieldName]&&(this.autoSelectAttributes[e.targetFieldName]=!0)}for(let t in this.autoSelectAttributes)this.popupResponse.product.configuration.configurationData[t]=e.record[t]}_createConstraintsHoverMessagesObserver(e,t){if(void 0!==e&&void 0!==t)return this._createConstraintsHoverMessages(e,t)}_createConstraintsHoverMessages(){this.model.optionConstraintsByConstrained||this.model.createConstraintsHoverMessages(this.optionConstraintsHandler.optionConstraints.byConstrained)}_setSelectedForConstraintsObserver(e,t){if(void 0!==e&&void 0!==t)return this.setSelectedForConstraints(e,t)}setSelectedForConstraints(){let e=this.optionConstraintsHandler.getConstrainingByConstrained();for(let t of e)for(let e of t){let t=e.selected&&!this.disabledStateMap[e.record.Id];this.handleOptionConstraints(e.record.Id,t)}}static get template(){return o.qy`
		<style>${V}</style>
		<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>

		<template is="dom-if" if="[[isMobile]]">
			<template is="dom-if" if="[[hasFeaturelessConfigAttributes]]">
				<sb-tabs
						tabs="[[tabsForFeatureLayout]]"
						selected-tab-index="{{selectedTabIndex}}"
						config-attributes="{{configAttributes}}"
						disabled-state-map="[[disabledStateMap]]"
						config-search="[[configSearch]]"
						model="[[model]]"
				></sb-tabs>
			</template>

			<template is="dom-if" if="[[!hasFeaturelessConfigAttributes]]">
				<sb-product-feature-category-list
						model="[[model]]"
						config-attributes="{{configAttributes}}"
						disabled-state-map="[[disabledStateMap]]"
						config-search="[[configSearch]]"
				></sb-product-feature-category-list>
			</template>
		</template>

		<template is="dom-if" if="[[!isMobile]]">
			<!--Featureless Config Attributes-->
			<template is="dom-if" if="[[hasTopConfigAttributes]]">
				<sb-attribute-table
						id="globalConfigAttributes"
						feature-id="featureless"
						model="[[model]]"
						config-attributes="{{configAttributes}}"
						added-class="header-attributes"
						position="Top"
						spinner="{{spinner}}"
				></sb-attribute-table>
			</template>

			<!--Section layout-->
			<template is="dom-if" if="[[isSectionLayout]]">
				<sb-product-feature-list
						config-attributes="{{configAttributes}}"
						disabled-state-map="[[disabledStateMap]]"
						config-search="[[configSearch]]"
						features="[[features]]"
						model="[[model]]"
				></sb-product-feature-list>
			</template>

			<!--Tab or Wizard layout-->
			<template is="dom-if" if="[[!isSectionLayout]]">
				<sb-tabs
						tabs="[[tabsForTabsAndWizardLayout]]"
						page-component="sb-product-feature-list"
						selected-tab-index="{{selectedTabIndex}}"
						use-pagination="[[isPaginationRequired]]"
						config-attributes="{{configAttributes}}"
						disabled-state-map="[[disabledStateMap]]"
						config-search="[[configSearch]]"
						model="[[model]]"
						bind='["model", "configAttributes", "disabledStateMap", "configSearch"]'
						device
				></sb-tabs>
			</template>

			<template is="dom-if" if="[[hasBottomConfigAttributes]]">
				<sb-attribute-table
						id="globalConfigAttributes"
						feature-id="featureless"
						model="[[model]]"
						config-attributes="{{configAttributes}}"
						added-class="footer-attributes"
						position="Bottom"
						spinner="{{spinner}}"
				></sb-attribute-table>
			</template>
		</template>
		`}}customElements.define(X.is,X);const J=y.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.header {
  margin: 20px 20px;
}
.header[class*='--mobile'] {
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
}
[class*='--mobile'] .header {
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
}
`;class Z extends((0,g.$)((0,E.T)(o.Pu))){static get is(){return"sb-product-bundles-filter-item"}static get properties(){return{value:{notify:!0},item:String,model:Object,label:String}}get events(){let e={};return e[k.sV.CLEAR_PRODUCT_FILTER]=this.clear,e}static get observers(){return["setFieldData(model)"]}setFieldData(){let e;for(let t=0,i=this.model.length;t<i;t++)if(this.model[t].name===this.item){this.label=this.model[t].label,e="picklist"===this.model[t].type||"multipicklist"===this.model[t].type?this.model[t]:{type:"string"};break}this.$.field.editing=!0,this.$.field.property=this.item,this.$.field.md=e}clear(){this.value=null}static get template(){return o.qy`
	    <style>${J}</style>
		<div device class="header">
			<div>[[label]]</div>
			<div>
				<sb-field id="field" value="{{value}}" record="[[data]]"></sb-field>
			</div>
		</div>
	    `}}customElements.define(Z.is,Z);class ee extends((0,D.N)((0,g.$)((0,E.T)(o.Pu)))){static get is(){return"sb-product-bundles-layout"}static get properties(){return{productIndex:{type:Number,notify:!0},selectedTabIndex:{type:Number,value:0},configuredProducts:Array,setToSections:{type:Boolean,value:!0},isClassic:Boolean,noHeader:{type:Boolean,value:!1},hasSelected:{type:Boolean,value:!1},hasMultipleBundles:{type:Boolean,value:!1,observer:"formatBundlesLayout"},drawerState:String,qId:String,searchFilters:Array,searchValuesByFilter:Object,searchFieldMD:Object,searchFilterTypeMap:Object,configSearch:Object,viewport:{type:Object,value:function(){return w.L.getViewport()}},isMobile:{type:Boolean,value:!1,computed:"_setIsMobile(viewport)"}}}get events(){let e={};return e[k.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get observers(){return["setMD(searchFilters)","initSearchFilter(searchFieldMD)","_updateProductFromPopupResponseObserver(popupResponse, configuredProducts)","_resize(configuredProducts.*)","_selectBundleObserver(isMobile, configuredProducts, isClassic, hasMultipleBundles, productIndex)"]}get prefix(){return b.B.org.prefix?b.B.org.prefix+"__":""}_resize(){this.resize()}initSearchFilter(){this.$.group.group=this.searchFilters,this.$.group.model=this.searchFieldMD,this.$.group.data=this.searchValuesByFilter;let e={};for(let t of this.searchFieldMD)e[t.name]=t.type;this.searchFilterTypeMap=e,this.configSearch=new B(this.searchValuesByFilter,this.prefix,this.searchFilterTypeMap)}connectedCallback(){super.connectedCallback(),this.handleResize(),this.handlePanelSlide(),this.handlePanelEvents(),this.handleMD()}handlePanelEvents(){this.addEventListener("side-toggle-clicked",function(){this.toggle()}.bind(this)),this.addEventListener("iron-select",function(){"drawer"==this.$.drawer.selected?this.drawerState="open":this.drawerState="closed"}.bind(this)),this.addEventListener("x-clicked",function(){this.$.search.closeDrawer()}.bind(this)),this.addEventListener("enter-keypress",function(){this.searchFilters&&this.applyFilters()}.bind(this))}handleMD(){this.$.md.addEventListener("md-changed",function(e){this.searchFieldMD=e.detail.value.fields}.bind(this))}navTo(e){let t=e.composedPath()[0].id.split("_")[1],i=this.configuredProducts.length,o=this.productIndex;for(let e=0;e<i;e++)this.getProductId(e)===t&&(o=e);this.setSelected(t),!this.isMobile&&this.isClassic?this.shadowRoot.querySelector("#Bundle"+t).scrollIntoView():this.dispatchEvent((0,k.uv)("bundle-panel-clicked",o))}toggle(){this.toggleTransition(!0),this.$.drawer.togglePanel()}classicOrSelectedIndex(e,t){return this.isClassic&&!this.isMobile||this.configuredProducts[this.productIndex]===e||!this.productIndex&&0===t||this.productIndex>=this.configuredProducts.length&&0===t}handleResize(){let e=document.querySelector("#sidebarCell");e&&e.addEventListener("click",this.resize.bind(this)),window.addEventListener("resize",this.resize.bind(this))}resize(){this.toggleTransition(!1),"drawer"===this.$.drawer.selected?this._setBundleContainerWidth(!1):this._setBundleContainerWidth(!0)}handlePanelSlide(){this.isMobile||this.addEventListener("iron-select",function(){"drawer"===this.$.drawer.selected?this._setBundleContainerWidth(!1):this._setBundleContainerWidth(!0)}.bind(this)),this.isMobile&&this.addEventListener("iron-deselect",function(e){"drawer"===e.detail.item.id&&document.activeElement.blur()}.bind(this))}_selectBundleObserver(e,t,i,o,r){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r)return this.selectBundle(e,t,i,o,r)}selectBundle(){if(this.$.search.shadowRoot.querySelector("#scrim").style.width="100%",this.isMobile&&(this.navWidth=0,this.$.drawer.shadowRoot.querySelector("#scrim").style.width="100%"),1===this.configuredProducts.length&&(this.navWidth=0),this.buildPanelIfMultipleBundesAndNotMobile(),!this.isClassic||this.isMobile){let e=this.getProductId(this.productIndex);this.dispatchEvent((0,k.uv)("bundle-name-changed",{name:this.configuredProducts[this.productIndex].record.Name})),this.observeNode(this.$.panel,function(){this.setSelected(e)}.bind(this))}this.resize()}buildPanelIfMultipleBundesAndNotMobile(){1===this.configuredProducts.length||this.isMobile||(this.panelWidth=256,this.navWidth=24,this.$.panel.rightSideButton=!0,this.toggleTransition(!1),"1"===this.isOpen?(this.$.drawer.selected="drawer",this.drawerState="open",this._setBundleContainerWidth(!1)):(this.$.drawer.selected="main",this.drawerState="closed",this._setBundleContainerWidth(!0)))}_setBundleContainerWidth(e){this.configuredProducts&&this.configuredProducts.length<2||((0,_.p1)("open",!e,this.$.bundleContainer),(0,_.p1)("close",e,this.$.bundleContainer))}toggleTransition(e){this.$.drawer._transition=e,(0,_.p1)("transition",e,this.$.bundleContainer)}defaultState(){return"1"===this.isOpen?"drawer":"main"}toggleSearch(){this.$.search.togglePanel()}refocus(){this.$.search.querySelector("#searchPanel").querySelector("sb-group").shadowRoot.querySelector("sb-product-bundles-filter-item").shadowRoot.querySelector("sb-field").shadowRoot.querySelector("div#f").firstChild.focus()}reverseFocus(){this.$.clear.focus()}setMD(){this.$.md.object="ProductOption__c",this.$.md.fields=this.searchFilters}applyFilters(){this.$.clear.focus(),this.$.search.closeDrawer(),this.configSearch=new B(this.searchValuesByFilter,this.prefix,this.searchFilterTypeMap)}clearFields(){(0,k.rC)(k.sV.CLEAR_PRODUCT_FILTER),this.blur(),this.configSearch=new B(this.searchValuesByFilter,this.prefix,this.searchFilterTypeMap)}viewportChanged(e){this.viewport=e.detail.viewport}getProductId(e,t){let i=this.configuredProducts[e];return(t?"_":"")+(i.productKey||i.record.Id)}setSelected(e){this.removeAllSelected(),(0,_.p1)("selected-tab",!0,this.shadowRoot.querySelector("#_"+e))}removeAllSelected(){let e=this.shadowRoot.querySelectorAll("div.nav-item");for(let t of e)(0,_.p1)("selected-tab",!1,t)}_setIsMobile(e){if(e)return e.isMobile()}_updateProductFromPopupResponseObserver(e,t){if(void 0!==e&&void 0!==t)return this._updateProductFromPopupResponse(e,t)}_updateProductFromPopupResponse(){let e=this.popupResponse.products;if(!e||0===e.length)return;let t=this.configuredProducts.length;for(let t of e)this.push("configuredProducts",t);1===t&&this.buildPanelIfMultipleBundesAndNotMobile()}formatBundlesLayout(){(0,_.p1)("multiple-bundles",this.hasMultipleBundles,this.$.bundleContainer)}static get template(){return o.qy`
		<style include="sb-common-styles sb-icons-styles"></style>
		<style>${P}</style>

		<sb-field-md id="md"></sb-field-md>
		<!--Search Wrapper Component-->
		<paper-drawer-panel device id="search" right-drawer force-narrow="true" disable-swipe="true" style="position:relative">
			<div slot="main">
				<!--Bundle List Wrapper Component-->
				<paper-drawer-panel id="drawer" force-narrow="true" disable-swipe="true">
					<div slot="main" style="overflow-x: hidden; overflow-y: scroll">
						<div id="bundleContainer">
							<template is="dom-repeat" id="bundles" items="[[configuredProducts]]" as="configuredProduct">
								<!--Each Bundle in this repeat-->
								<template is="dom-if" if="[[classicOrSelectedIndex(configuredProduct,index)]]">
									<div id$="Bundle[[configuredProduct.record.Id]]">
										<template is="dom-if" if="[[!isMobile]]">
											<h1 class="product-header">[[configuredProduct.record.Name]]</h1>
										</template>
										<sb-product-feature-layout id="features"
																   product="[[configuredProduct]]"
																   selected-tab-index="[[selectedTabIndex]]"
																   is-section-layout="[[isClassic]]"
																   q-id="[[qId]]"
																   currency-iso-code="[[currencyIsoCode]]"
																   config-search="[[configSearch]]"
																   popup-response="[[popupResponse]]"
										></sb-product-feature-layout>
									</div>
								</template>
							</template>
						</div>
					</div>
					<div slot="drawer">
						<!--Bundle List side panel-->
						<sb-side-panel id="panel" render-header="[[noHeader]]" is-open="[[drawerState]]" side-text="Bundles">
							<div class="panel-actions" slot="panel-actions">
								<template is="dom-repeat" items="[[configuredProducts]]">
									<div on-click="navTo" class="nav-item" label$="[[item.record.Name]]" id$="[[getProductId(index, 'true')]]">[[item.record.Name]]</div>
								</template>
							</div>
						</sb-side-panel>
					</div>
				</paper-drawer-panel>
			</div>
			<!--Search Filters side panel-->
			<div slot="drawer">
				<sb-side-panel id="searchPanel">
					<h3 class="title" slot="title"><sb-i18n>Filter</sb-i18n></h3>
					<div class="panel-actions" slot="panel-actions" tabindex="0" on-focus="refocus">
						<div tabindex="0" on-focus="reverseFocus"></div>
						<sb-group id="group" item="sb-product-bundles-filter-item"></sb-group>
						<div class="filter-buttons">
							<paper-button noink on-click="applyFilters" class="primary"><sb-i18n>Apply</sb-i18n></paper-button>
							<text id="clear" class="click" on-click="clearFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>
						</div>
						<div tabindex="0" on-focus="refocus"></div>
					</div>
				</sb-side-panel>
			</div>
		</paper-drawer-panel>
		`}}customElements.define(ee.is,ee);i(5305),i(3712),i(7943);var te=i(9406),ie=i(8449),oe=i(571);i(3941);class re extends o.Pu{static get is(){return"sb-product-rules-invoke"}static get properties(){return{quote:Object,product:Object,upgradeAssetId:{type:String,value:null},error:{type:Array,notify:!0},configResponse:{type:String,notify:!0}}}static get observers(){return["_updateObserver(quote, product)"]}ready(){super.ready(),this.setSpinnerMessage(),this.$.service.addEventListener("response-changed",function(e){this.configResponse=e.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(e){e.detail.value&&(e.detail.value.validations?this.error=e.detail.value.validations:this.error=[e.detail.value.message]),console.log(e.detail)}.bind(this))}setSpinnerMessage(){(0,oe.yJ)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}_updateObserver(e,t){if(void 0!==e&&void 0!==t)return this.update(e,t)}update(){this.product.configuration.configuredProductKey=this.product.productKey||this.product.configuration.configuredProductId,this.quote.priorBundledQuantityByLineKey=new ie.M(this.quote).mapPriorBundledQuantityByLineKey();let e=this.quote.lineItems;this.quote.lineItems=null,this.$.service.model=this._getRequestModel(this.quote,this.product.configuration,this.upgradeAssetId),this.quote.lineItems=e,delete this.quote.priorBundledQuantityByLineKey}_getRequestModel(e,t,i){return(new te.k).addQuote("quote",e,!0).addObject("configuration",t).add("upgradedAssetId",i).build()}static get template(){return o.qy`
		<sb-async-service id="service" saver="ProductConfigurationServiceProvider.ProductRulesInvoker" background="[[background]]"></sb-async-service>
		`}}customElements.define(re.is,re);i(8332),i(8500);function ne(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function se(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const ae="ConfigurationError";class le extends((0,g.$)(a.YW)){static get is(){return"sb-product-config"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?ne(Object(i),!0).forEach((function(t){se(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):ne(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({lineEditorModel:Object,productSelectionModel:Object,topLevelBundle:Object,currentTarget:Object,productIndex:Number,headerSubtitle:String,hasMultipleBundles:Boolean,isClassic:Boolean,searchValuesByFilter:Object,searchFilters:Array,validationMessages:Array,headerTitle:String,isMobileAndHasMultipleBundles:{type:Boolean,value:!1,computed:"_setIsMobileAndHasMultipleBundles(viewport, hasMultipleBundles)"},productIds:{type:String,computed:"getProductIds(ctx)"},lineKey:{type:Number,computed:"getLineKey(ctx)"},groupKey:{type:Number,computed:"getGroupKey(ctx)"},ignoreCache:{type:Boolean,computed:"getIgnoreCache(ctx)"},optionId:{type:String,computed:"getOptionId(ctx)"},spinner:{type:Boolean,value:!1},errors:{type:Array,value:[],notify:!0},preventPreLoadObjects:{type:Boolean,value:!1}},a.YW.properties)}ready(){Object.entries({"errors-changed":"clearStackTrace"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),super.ready(),this.handleLineEditorModelResponse(),this.handleProductLoadResponse(),this.handleOptionSaveResponse(),this.handleProductRulesInvokerResponse(),this.handleCustomActionsCollapsed(),this.handleOnAddOptionClick(),this.handleBundlePanelClick(),this.handleChangeEvents(),this.handleApplyEditRulesAction(),this.handleBundleNameChange(),this.handleExternalConfiguration(),this.handleConfigureOptionEvent(),this.handleOptionConfiguratorResponse(),this.handleExternalConfiguratorOptionLoadResponse()}connectedCallback(){super.connectedCallback(),this.preventPreLoadObjects||this.preLoadObjects()}handleLineEditorModelResponse(){this.$.lineEditorRead.addEventListener("line-editor-model-changed",function(e){this.lineEditorModel=e.detail.value,this.isoCode=this.lineEditorModel.quote.record.CurrencyIsoCode||null,this.$.optionSave.stripLinesThreshold=this.lineEditorModel.settings.largeQuoteThreshold,this.$.optionSave.stripLinesMessage=this.lineEditorModel.customLabels.msg_large_quote_sent_without_lines,this.$.productLoad.quote=this.$.optionSave.quote=this.$.productRulesInvoke.quote=this.$.optionConfigure.quote=e.detail.value.quote,this.headerSubtitle=e.detail.value.headerSubtitle}.bind(this))}handleProductLoadResponse(){this.$.productLoad.addEventListener("product-load-model-changed",function(e){if(e.detail.value&&!e.detail.value.returnToQuote&&void 0===e.detail.value.configuredProducts)return void this._handleExternalDynamicOptionsResponse(e.detail.value);let t=this.handleProductConfigurationInitializer(e.detail.value);if(t.returnToQuote)return this.$.productAlerts.displayContinueButton=!1,this.$.productAlerts.cancelCB=function(){return this.nav("#",{qId:this.lineEditorModel.quote.record.Id},["quote","le"],!1)}.bind(this),this.$.productAlerts.alerts=[t.returnToQuote];if(""!==this.optionId)return this.setOptionConfigurationDetails(t);if(this.loadedModelIsReconfigure(t)){const e=t.configuredProducts[0];e.quoteType=this.lineEditorModel.quote.record[this.prefix+"Type__c"],(new u).reconfigure(e),this.addAttributeSetFromServerProductVO(t.configuredProducts[0])}for(let e of t.configuredProducts){if(!e.rulesProcessed){new l.R(e.configuration,e).initProductRulesActions(!0)}null!=t.attributeSet&&Object.keys(t.attributeSet.attributeItemIdsByOptionId).length>0&&(e._transient_=e._transient_||{},e._transient_.attributeSet=t.attributeSet),null!=e.configuration&&null==e.nestedOptionModel&&(e.nestedOptionModel=new c(e.configuration)),e.configuration.configuredOptions=e.nestedOptionModel.getConfiguredOptionsFromPath()}this.productSelectionModel=void 0,this.productSelectionModel=t,this.hasMultipleBundles=this.productSelectionModel.configuredProducts.length>1,this.isClassic=this.hasMultipleBundles&&"Classic"===this.lineEditorModel.settings.multipleBundlesView,this.currentTarget=this.productSelectionModel;for(let e=0;e<this.productSelectionModel.configuredProducts.length;e++)this.productIndex=e;this.productIndex=this.getProductIndex(),this.searchFilters=this.productSelectionModel.configuredProducts[0].optionFieldSets.SearchFilters;let i={};if(this.searchFilters&&!this.productSelectionModel.searchValuesByFilter){for(let e=0,t=this.searchFilters.length;e<t;e++)i[this.searchFilters[e]]=null;this.productSelectionModel.searchValuesByFilter=i}this.$.bundles.searchValuesByFilter=this.productSelectionModel.searchValuesByFilter,this.$.bundles.searchFilters=this.searchFilters,this.checkForExternalConfiguration()}.bind(this))}handleExternalConfiguratorOptionLoadResponse(){this.$.productLoad.addEventListener("external-configurator-response-changed",(e=>{const t=e.detail.value.dynamicOptions;this._delegateDynamicOptionsToFeatureLayout(t);const i=e.detail.value.nestedOptions,o=this.optionsToExtend.configurationsByFeature,r=this.currentTarget.configuredProducts[this.productIndex],n=void 0!==this.topLevelBundle?this.topLevelBundle.nestedOptionModel:r.nestedOptionModel,s=this.app.org.prefix;m.xq.extendOptionsWithServerResponse(i,o,n,[],s),this.productIndex===this.productSelectionModel.configuredProducts.length-1?this.save():this.navToBundle({detail:this.productIndex+1})}))}handleOptionSaveResponse(){this.$.optionSave.addEventListener("psm-response-changed",function(e){this.validationMessages=null;let t=e.detail.value,i=new l.R(t,this.topLevelBundle);return i.initValidationMessages(),this.validationMessages=i.getValidationMessages(),this.validationMessages.length>0?(this.spinner=!1,void(""!==this.optionId&&this.topLevelBundle.nestedOptionModel.removeClonedConfiguration())):t.guidedMessages&&t.guidedMessages.length>0?(this.$.productAlerts.cancelCB=()=>{""!==this.optionId&&this.topLevelBundle.nestedOptionModel.removeClonedConfiguration()},this.$.productAlerts.displayContinueButton=!0,this.$.productAlerts.continueCB=()=>{""!==this.optionId&&this.topLevelBundle.nestedOptionModel.swapConfiguration(t),this.afterSaveNavigate(t,i)},this.spinner=!1,void(this.$.productAlerts.alerts=t.guidedMessages)):(""!==this.optionId&&this.topLevelBundle.nestedOptionModel.swapConfiguration(t),void this.afterSaveNavigate(t,i))}.bind(this))}afterSaveNavigate(e,t){let i,o="none";if(""!==this.optionId){i=this.topLevelBundle.nestedOptionModel.getLastFromPath().tabIndex,o=this.topLevelBundle.nestedOptionModel.popFromPathAndGetNextSKU()||"none",t.initDescendantTree()}let r,n=this.ctx.params?this.ctx.params.redirectUrl:null,s=this.createPathParams(n);""!==this.optionId?r=this.createQueryParams({oId:o,ignoreCache:!1,jspr:!0},i):(r={qId:e.quote.record.Id},null!=this.ctx.params.groupKey&&(r.groupKey=this.ctx.params.groupKey),this.ctx.params.aId&&"quote"!==s[0]&&(r.aId=this.ctx.params.aId)),e.quote&&(this.lineEditorModel.quote=e.quote),this.nav("#",r,s,!1)}handleProductRulesInvokerResponse(){this.$.productRulesInvoke.addEventListener("config-response-changed",this._processProductRulesInvokerResponse.bind(this))}_processProductRulesInvokerResponse(e){let t=e.detail.value,i=this.currentTarget.configuredProducts.findIndex((e=>(e.productKey||e.record.Id)===t.configuredProductKey)),o=this.currentTarget.configuredProducts[i],r=new l.R(t,o);r.init(void 0!==this.topLevelBundle?this.topLevelBundle.nestedOptionModel:o.nestedOptionModel),this.validationMessages=r.getValidationMessages(),void 0!==o.configuration&&void 0!==o.configuration.configurationData&&(t.configurationData=o.configuration.configurationData),o.configuration=this._setHiddenAndDisabledOptionIds(o.configuration,t.hiddenOptionIds,t.disabledOptionIds),this.$.bundles.set(`configuredProducts.${i}.configuration.productRulesActions`,r.getProductRulesActions()),this.$.bundles.set(`configuredProducts.${i}.configuration.optionDataByOptionIdAndIndex`,r.getOptionDataByOptionIdAndIndex()),(0,s.m)(this,(function(){this.spinner=!1}))}_setHiddenAndDisabledOptionIds(e,t,i){return e.hiddenOptionIds=t,e.disabledOptionIds=i,e}handleCustomActionsCollapsed(){this.changeAllActions(this.$.customActions.buttonsCollapsed),this.$.customActions.addEventListener("buttons-collapsed-changed",function(e){let t=e.detail.value;this.changeAllActions(t)}.bind(this))}handleOnAddOptionClick(){let e;this.addEventListener("selected-page-changed",function(t){e=t.detail}.bind(this)),this.addEventListener("add-option-clicked",function(t){let i,o=""===this.optionId?t.detail:Object.assign({},t.detail,{oId:this.optionId});""===this.optionId&&(i=this.getProductIndex(t.detail.pId));let r=this.createQueryParams(o,e),n=null!=o.path?o.path:["product","ol"];void 0!==i&&(r.productIdx=i),this.nav("#",r,n,!1)}.bind(this))}handleBundlePanelClick(){this.addEventListener("bundle-panel-clicked",this.navToBundle)}navToBundle(e){let t=this.createQueryParams(this.ctx.params);t.productIdx=e.detail,t.open=1,t.tab&&delete t.tab,this.nav("#",t,["product","pc"],!1)}handleChangeEvents(){this.addEventListener("selection-changed",function(e){this.handleChangeEvent(e,"On Selection")}.bind(this)),this.addEventListener("sb-quantity-changed",function(e){this.handleChangeEvent(e,"On Quantity Change")}.bind(this)),this.addEventListener("sb-config-attribute-changed",function(e){this.handleChangeEvent(e,"On Attribute Change")}.bind(this)),this.addEventListener("sb-option-deleted",function(e){let t=this.topLevelBundle||this.productSelectionModel.configuredProducts[this.productIndex];t.nestedOptionModel&&t.nestedOptionModel.removeAddedOption(e.detail)}.bind(this))}handleApplyEditRulesAction(){this.addEventListener("sb-apply-edit-rules",(function(e){let t=this.getProductById(e.detail.bundleId);this.handleApplyImmediatelyProductRules(t,e.detail,"On Apply Rules")}))}handleBundleNameChange(){this.isMobileViewport()?this.addEventListener("bundle-name-changed",function(e){this.headerTitle=e.detail.name}.bind(this)):this.headerTitle=this.i18n.l("Configure Products")}handleExternalConfiguration(){this.addEventListener("sb-close-popup",(function(e){const t=b.B.isExternalConfiguratorNestedBundlesEnabled,i=e.detail.dynamicOptions&&e.detail.dynamicOptions.length>0&&e.detail.featureOptionIds;if(t&&m.xq.hasOptionsToBeExtended(e.detail.optionsToExtend))this._loadExternalConfiguratorOptions(e.detail);else{if(i)return t&&(e.detail.redirect=e.detail.redirect||{},e.detail.redirect.auto=!0),void this._handleExternalDynamicOptions(e.detail);if(t&&(!1===e.detail.redirect.save?this.cancel():this.productIndex===this.productSelectionModel.configuredProducts.length-1?this.save():this.navToBundle({detail:this.productIndex+1})),!e.detail.redirect)return null;if(1===this.productSelectionModel.configuredProducts.length){if(!e.detail.redirect.auto)return null;e.detail.redirect.save?this.save():this.cancel()}else{const t=this.lineEditorModel.settings.thirdPartyConfigurator;if(t&&e.detail.redirect.save)this.productIndex===this.productSelectionModel.configuredProducts.length-1?this.save():this.navToBundle({detail:this.productIndex+1});else{if(!t)return null;this.cancel()}}}}))}handleProductConfigurationInitializer(e){if(this.isReconfigure(e))return e;if(e.hasInitializedProductConfiguration)return e;for(let t of e.configuredProducts){let e=t.configuration;for(let i of e.optionConfigurations){let e=i.optionData.Id;for(let o of t.options)if(o.record.Id===e)for(let e in i.optionData)void 0!==o.record[e]&&o.record[e]!=i.optionData[e]&&(o.record[e]=i.optionData[e])}}return e.hasInitializedProductConfiguration=!0,e}save(){if(!1===this.configurationAttributesValid())return void(this.validationMessages=[this.i18n.l(this.lineEditorModel.customLabels.Configuration_Attribute_Error)+this.getConfigurationAttributeMissingFeaturesMessage()]);if(this.validationMessages=null,""!==this.optionId){let e=this.prepareProductForServer(this.currentTarget.configuredProducts[0]);if(this.validationMessages)return;return this.spinner=!0,this.$.optionSave.configuration=void 0,this.$.optionSave.configuration=e.configuration}let e=this.isReconfigure(this.productSelectionModel)?this.getConfiguredProductsToSave():this.getSelectedProductsToSave();this.validationMessages||(this.spinner=!0,this.$.optionSave.products=void 0,this.$.optionSave.products=e)}cancel(){if(this.spinner=!0,""===this.optionId){let e={qId:this.lineEditorModel.quote.record.Id};return null!=this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),f.m.back(this,e,["quote","le"])}this.topLevelBundle.nestedOptionModel.cancel();let e=this.topLevelBundle.nestedOptionModel.getLastFromPath().tabIndex,t=this.topLevelBundle.nestedOptionModel.popFromPathAndGetNextSKU(),i=t?this.createQueryParams({oId:t,ignoreCache:!1},e):this.createQueryParams({qId:this.lineEditorModel.quote.record.Id},e);this.nav("#",i,["product","pc"],!1)}getConfiguredProductsToSave(){let e=[];return this.productSelectionModel.configuredProducts.forEach((t=>{e.push(this.prepareProductForServer(t))})),e}getSelectedProductsToSave(){let e=this.productSelectionModel.configuredProducts,t={};for(let i of e){let e=this.prepareProductForServer(i),o=i.record.Id,r=t[o];r||(r=[]),r.push(e),t[o]=r}let i=this.productSelectionModel.selectedProducts,o=Object.keys(i).sort((function(e,t){return i[e].index-i[t].index})),r=[];for(let e of o){let o=i[e],n=t[e];n?r=r.concat(n):o.invalid||r.push(o)}return r}checkForExternalConfiguration(){let e=this.productSelectionModel.configuredProducts[this.productIndex],t=this.prefix+"ExternallyConfigurable__c",i=this.lineEditorModel.settings.externalConfiguratorUrl,o=this.lineEditorModel.settings.thirdPartyConfigurator;!e.record[t]||e.visitedExternal&&!o||this.isClassic||null===i||(e.visitedExternal=!0,this.$.customActions.callBeforePopupOpen=this._loadDataBeforeExtConfiguratorOpens.bind(this,e),this.$.customActions.handlePopup(i,!0,o))}async _loadDataBeforeExtConfiguratorOpens(e){let t;b.B.isExternalConfiguratorNestedBundlesEnabled&&(this.spinner=!0,t=await m.xq.getDataForNestedReconfigure(e.features,this.prefix),e._transient_.featuresForNestedBundles=t,this.spinner=!1)}_handleExternalDynamicOptions(e){this.$.productLoad.featureOptionIds=e.featureOptionIds,this.$.productLoad.ignoreCache=void 0,this.$.productLoad.ignoreCache=!0,this._setRedirectConfiguration(e)}_delegateDynamicOptionsToFeatureLayout(e){if(!e)return;this.$.bundles.shadowRoot.querySelector("#features").handleDynamicOptionsAdded(e)}_redirectAfterOptionsHandled(){void 0!==this.redirectAfterOptionsAdded&&("save"===this.redirectAfterOptionsAdded?this.save():this.cancel())}_handleExternalDynamicOptionsResponse(e){this._delegateDynamicOptionsToFeatureLayout(e),this._redirectAfterOptionsHandled()}_loadExternalConfiguratorOptions(e){this.optionsToExtend=e.optionsToExtend,this.$.productLoad.externalConfiguratorRequest={optionsToExtend:e.optionsToExtend,dynamicFeatureOptionIds:e.featureOptionIds,quoteRecord:this.lineEditorModel.quote.record},this._setRedirectConfiguration(e)}_setRedirectConfiguration(e){e.redirect&&e.redirect.auto&&(e.redirect.save?this.redirectAfterOptionsAdded="save":this.redirectAfterOptionsAdded="cancel")}handleChangeEvent(e,t){if(e&&e.detail&&e.detail.bundleId&&e.detail.changed&&e.detail.path){let i=this.getProductById(e.detail.bundleId);this.handleApplyImmediatelyProductRules(i,e.detail,t)}if("On Quantity Change"===t&&(this.validationMessages=null,e.detail.invalidQuantity>0)){let t=this.i18n.l(this.lineEditorModel.customLabels.Maximum_Quantity_Error,[e.detail.validQuantity]);this.validationMessages=[{type:"warning",msg:t}]}}handleApplyImmediatelyProductRules(e,t,i){e&&this.isAppliedImmediately(e,t,i)&&(this.spinner=!0,this._applyImmediatelyProductRulesDebouncer=n.aq.debounce(this._applyImmediatelyProductRulesDebouncer,r.EV.after(250),(()=>{this.$.productRulesInvoke.product=void 0,e=this.prepareProductForServer(e,!0),this.$.productRulesInvoke.upgradeAssetId=e.upgradedAssetId||null,this.$.productRulesInvoke.product=e})))}isAppliedImmediately(e,t,i){let o,r,n=this.prefix+"AppliedImmediately__c",s=this.prefix+"AppliedImmediatelyContext__c";return"On Apply Rules"===i||("On Attribute Change"===i?(o=e.configurationAttributes.find((e=>e.myId===t.Id)),o.appliedImmediately):(o=e.options.find((e=>e.record.Id===t.Id)),r=o.record[s],("Always"===r||r===i||void 0===r&&"On Selection"===i)&&o.record[n]))}handleConfigureOptionEvent(){this.addEventListener("configure-option-tapped",function(e){let t=this.prepareProductForNestedConfigure(e.detail),i=this.createQueryParams({oId:t.nestedOptionModel.getLastFromPath().optionalSKU,ignoreCache:!1},0);this.nav("#",i,["product","pc"],!1)}.bind(this))}prepareProductForNestedConfigure(e){let t;if(""===this.optionId){let i=this.productSelectionModel.currentIndex=this.getProductIndex(e.productId);t=this.productSelectionModel.configuredProducts[i]}else t=this.topLevelBundle;return t.nestedOptionModel=t.nestedOptionModel||new c,t.nestedOptionModel.addToPath(e.optionId,e.optionalSKU,e.addedIndex,e.tabIndex),t.nestedOptionModel.stagedOption={optionData:e.optionData,isDynamicOption:e.isDynamicOption},t}handleOptionConfiguratorResponse(){this.$.optionConfigure.addEventListener("option-configurator-response-changed",function(e){this.currentTarget=e.detail.value;let t=this.currentTarget.configuredProducts[0];if(this.ctx.params.oId&&0==t.options.length&&0==t.configurationAttributes.length&&!this.hasDynamicFeature(t)){let e=this.topLevelBundle.nestedOptionModel.getLastFromPath().tabIndex,t=this.topLevelBundle.nestedOptionModel.popFromPathAndGetNextSKU(),i=t?this.createQueryParams({oId:t,ignoreCache:!1},e):this.createQueryParams({qId:this.lineEditorModel.quote.record.Id},e);return this.$.productAlerts.displayContinueButton=!1,this.$.productAlerts.cancelCB=function(){return this.nav("#",i,["product","pc"],!1)}.bind(this),this.$.productAlerts.alerts=[this.i18n.l(this.lineEditorModel.customLabels.msg_has_no_options_config)]}{if(this.topLevelBundle.nestedOptionModel&&(this.topLevelBundle.nestedOptionModel.descendLevel?(t.configuration=this.topLevelBundle.nestedOptionModel.configure(t.configuration),t.quoteType=this.lineEditorModel.quote.record[this.prefix+"Type__c"],(new u).reconfigure(t,t.configuration),this.ctx.params.tab&&(this.ctx.params.tab=0)):(t.configuration=this.topLevelBundle.nestedOptionModel.getCurrentConfiguration(),t.configuration.configuredOptions=this.topLevelBundle.nestedOptionModel.getConfiguredOptionsFromPath())),!t.rulesProcessed){new l.R(t.configuration,t).initProductRulesActions(!0)}this.addAttributeSetFromServerProductVO(t);let e=this.topLevelBundle.optionFieldSets.SearchFilters,i={};for(let t of e)i[t]=null;this.productIndex=0,this.$.bundles.searchValuesByFilter=i,this.$.bundles.searchFilters=e,this.$.bundles.set("configuredProducts",this.currentTarget.configuredProducts)}}.bind(this))}getProductById(e){return this.currentTarget.configuredProducts.find((t=>(t.productKey||t.record.Id)===e))}getProductIndex(e){if(""!==this.optionId)return;if(e)for(var t=0;t<this.productSelectionModel.configuredProducts.length;t++)if(this.productSelectionModel.configuredProducts[t].record.Id===e)return t;if(!this.ctx.params||!this.ctx.params.productIdx)return 0;let i=+this.ctx.params.productIdx;return Number.isNaN(i)||i<0||i>=this.currentTarget.configuredProducts.length?0:i}hasDynamicFeature(e){for(let t of e.features)if("Dynamic"===t.record[this.prefix+"OptionSelectionMethod__c"])return!0;return!1}addAttributeSetFromServerProductVO(e){e.attributeSet&&0===Object.keys(e.attributeSet.attributeItemIdsByOptionId).length||(e._transient_=e._transient_||{},e._transient_.attributeSet=e.attributeSet)}changeAllActions(e){e?this.shadowRoot.querySelector("#allActions").classList.add("actionsCollapsed"):this.shadowRoot.querySelector("#allActions").classList.remove("actionsCollapsed")}prepareProductForServer(e,t){let i,o={record:{}},r=this.topLevelBundle?this.topLevelBundle.nestedOptionModel:e.nestedOptionModel;o.upgradedAssetId=e.upgradedAssetId;try{i=this.getSelectedAndRemovedOptions(e,t)}catch(e){if(e.name===ae)return void(this.validationMessages=[e.message]);throw e}return o.configuration=r.save(i,t),o.configuration.configurationData=e.configuration.configurationData,o.configuration.configuredProductId=o.record.Id=e.record.Id,o}getSelectedAndRemovedOptions(e,t){let i={selectedOptions:[],removedOptions:[]};for(let o of e.features)for(let r of o._transient_.optionConfigurations)if(r.selected){if(!t&&r.configurationRequired&&!0!==r.configured){const e=this.i18n.l(this.lineEditorModel.customLabels.msg_options_missing_config);throw new de(e)}if(r.isUpgrade){new h.Q(this.prefix,e.options,r).setUpgradedAssetId()}let o=JSON.parse(JSON.stringify(r));this.buildOptionForLineEditor(o,i.selectedOptions)}else i.removedOptions.push(r);return i}buildOptionForLineEditor(e,t){e.optionConfigurations=e.optionConfigurations||[],e.optionId=e.record.Id,e.optionData=e.record,void 0===e.configurationData&&(e.configurationData={}),e.isDynamicOption=e.isDynamicOption||e.isUpgrade,delete e.record,t.push(e)}createQueryParams(e,t){let i=this.ctx.params;return i?(i.pId?e.pId=i.pId:e.pId=this.getAllProductIds(),i.redirectUrl&&(e.redirectUrl=i.redirectUrl),e.oId&&(e.qId=i.qId,"none"===e.oId&&delete e.oId),i.productIdx?e.productIdx=i.productIdx:null!=i.pId&&"string"!=typeof i.pId&&i.pId.length>1&&(e.productIdx=0),i.lineKey&&(e.lineKey=i.lineKey),null==e.ignoreCache&&i.ignoreCache&&(e.ignoreCache=!1),t||0==t?e.tab=t:i.tab&&(e.tab=i.tab),i.groupKey&&(e.groupKey=i.groupKey),i.aId&&(e.aId=i.aId),e):e}getAllProductIds(){let e=[];for(let t of this.currentTarget.configuredProducts)e.push(t.record.Id);return e.join()}createPathParams(e){return""!==this.optionId?["product","pc"]:"ProductLookup"===e?["product","lookup"]:"RecommendationLookup"===e?["recommend","lookup"]:["quote","le"]}toggle(){this.viewport.isMobile()&&this.hasMultipleBundles&&this.$.bundles.toggle()}isMobileViewport(){return this.viewport&&this.viewport.isMobile()}_setIsMobileAndHasMultipleBundles(e,t){return e.isMobile()&&t}getRequiredConfigurationAttributes(){if(this.requiredConfigAttributes)return this.requiredConfigAttributes;let e=this.currentTarget.configuredProducts,t={};for(let i=0,o=e.length;i<o;i++){let o=e[i].configurationAttributes,r={};for(let e=0,t=o.length;e<t;e++){let t=o[e];!0===t.required&&-1===Object.keys(r).indexOf(t.targetFieldName)&&(r[t.targetFieldName]=t)}t[i]=r}return this.requiredConfigAttributes=t,this.requiredConfigAttributes}configurationAttributesValid(){let e=this.getRequiredConfigurationAttributes(),t={},i=this.currentTarget.configuredProducts;for(let o=0,r=i.length;o<r;o++){let r=i[o].configuration.configurationData,n=e[o];for(let e in n)this.requiredConfigurationAttributeValid(r[e])||(t[e]=!0)}return this.requiredAttributeMissingValue=t,0===Object.keys(t).length}getConfigurationAttributeMissingFeaturesMessage(){let e={};void 0===this.requiredAttributeMissingValue&&this.getRequiredConfigurationAttributes();for(let t in this.requiredConfigAttributes)for(let i in this.requiredConfigAttributes[t]){if(!0!==this.requiredAttributeMissingValue[i])continue;let o=this.getFeatureNameFromId(this.requiredConfigAttributes[t][i].featureId);void 0!==o&&(e[o]=void 0)}let t=Object.keys(e);return 0===t.length?"":" in the following features: "+t}getFeatureNameFromId(e){if(void 0!==e)for(let t of this.currentTarget.configuredProducts)for(let i of t.features)if(i.record.Id===e)return i.record.Name}requiredConfigurationAttributeValid(e){return!this.isNil(e)}search(){this.$.bundles.toggleSearch()}setOptionConfigurationDetails(e){if(this.topLevelBundle=e.currentIndex?e.configuredProducts[e.currentIndex]:e.configuredProducts[0],null==this.topLevelBundle.nestedOptionModel)return delete this.ctx.params.oId,this.nav("#",this.ctx.params,["product","pc"],!1);let t=this.topLevelBundle.nestedOptionModel.getExistingConfiguration();this.topLevelBundle.nestedOptionModel&&t&&(t.configured||t.changedByProductActions||t.optionConfigurations.length)&&(this.$.optionConfigure.featureOptionalSKUs=this.buildDynamicConfigurations(t),this.$.optionConfigure.configuration=t),this.topLevelBundle.nestedOptionModel?this.$.optionConfigure.ignoreCache="ol"!==this.ctx.params.origin&&this.topLevelBundle.nestedOptionModel.descendLevel:this.$.optionConfigure.ignoreCache=!0,this.$.optionConfigure.product=void 0,this.$.optionConfigure.product=this.topLevelBundle}buildDynamicConfigurations(e){let t=[];for(let i of e.optionConfigurations){if(!i.isDynamicOption)continue;let e=i.optionData;e.Id&&e[this.prefix+"Feature__c"]&&e[this.prefix+"OptionalSKU__c"]&&t.push(e[this.prefix+"Feature__c"]+":"+e[this.prefix+"OptionalSKU__c"]+":"+e.Id)}return t}preLoadObjects(){this.configuratorObjects=[this.prefix+"DiscountSchedule__c",this.prefix+"ProductOption__c",this.prefix+"QuoteLine__c"]}getProductIds(){return this.ctx.params&&this.ctx.params.pId||""}getLineKey(){return this.ctx.params?parseInt(this.ctx.params.lineKey||-1):-1}getGroupKey(){return this.ctx.params?parseInt(this.ctx.params.groupKey||-1):-1}getIgnoreCache(){return!!this.ctx.params&&"true"===this.ctx.params.ignoreCache}get prefix(){return b.B.org.prefix?b.B.org.prefix+"__":""}getOptionId(){return this.ctx.params&&this.ctx.params.oId||""}isNil(e){return null==e||""===e}loadedModelIsReconfigure(e){return!e.quote&&1==e.configuredProducts.length}clearStackTrace(){this.errors[0]&&(this.validationMessages=(0,p.W)(this.errors),this.spinner=!1)}isReconfigure(e){return!e.selectedProducts}static get template(){return o.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style>${v}</style>
		
		<sb-describe objects="[[configuratorObjects]]" error="{{errors}}"></sb-describe>
		<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>
		<div device id="messages">
			<sb-toast type="error" messages="[[validationMessages]]"/>
		</div>
		<sb-product-alert id="productAlerts"></sb-product-alert>

		<sb-line-editor-read id="lineEditorRead" quote-id="[[ctx.params.qId]]" error="{{errors}}"></sb-line-editor-read>
		<sb-pc-product-load id="productLoad" product-ids="[[productIds]]" line-key="[[lineKey]]"
							group-key="[[groupKey]]" ignore-cache="[[ignoreCache]]" error="{{errors}}"></sb-pc-product-load>
		<sb-pc-option-save id="optionSave" group-key="[[groupKey]]" error="{{errors}}"></sb-pc-option-save>
		<sb-product-rules-invoke id="productRulesInvoke" error="{{errors}}" background="true"></sb-product-rules-invoke>
		<sb-pc-option-configure id="optionConfigure" option-id="[[optionId]]" error="{{errors}}"></sb-pc-option-configure>

		<sb-page-header device>
			<i id="headerIcon" class="icon sf-icon-custom_apps resize" slot="icon"></i>
			<h1 id="headerTitle" slot="h1">[[headerTitle]]</h1>
			<h2 slot="h2">[[headerSubtitle]]</h2>

			<div class="fixedActions" slot="fixedActions">
				<template is="dom-if" if="[[isMobileAndHasMultipleBundles]]">
					<paper-button noink on-click="toggle" class="icon sf-icon-rows">
						<span class="badge icon-badge-upper-left">[[productSelectionModel.configuredProducts.length]]</span>
					</paper-button>
				</template>
				<paper-button noink on-click="search" id="fb" class="sf-icon-filterlist"></paper-button>
				<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
					<sb-i18n>Filter</sb-i18n>
				</paper-tooltip>
			</div>

			<div class="actions" id="allActions" slot="actions">
				<sb-custom-actions id="customActions"
									class="end"
									products="[[productSelectionModel.configuredProducts]]"
									custom-actions="[[lineEditorModel.customActions]]"
									product-index="[[productIndex]]"
									is-classic="[[isClassic]]"
									quote="{{lineEditorModel.quote}}"
									popup-response="{{popupResponse}}"
				></sb-custom-actions>
				<paper-button noink id="pcCancel" on-click="cancel"><sb-i18n>Cancel</sb-i18n></paper-button>
				<paper-button class="primary" noink id="pcSave" on-click="save"><sb-i18n>Save</sb-i18n></paper-button>
			</div>
		</sb-page-header>

		<sb-product-bundles-layout id="bundles"
									product-index="[[productIndex]]"
									is-mobile="[[ctx.params.m]]"
									configured-products="[[productSelectionModel.configuredProducts]]"
									is-classic="[[isClassic]]"
									is-open="[[ctx.params.open]]"
									selected-tab-index="[[ctx.params.tab]]"
									q-id="[[ctx.params.qId]]"
									currency-iso-code="[[isoCode]]"
									popup-response="[[popupResponse]]"
									has-multiple-bundles="[[hasMultipleBundles]]"
									device
		></sb-product-bundles-layout>
		`}}class de extends Error{constructor(e){super(),this.name=ae,this.message=e}}customElements.define(le.is,le)},665:(e,t,i)=>{"use strict";i.d(t,{V:()=>o});class o{constructor(e,t,i,o){this.fieldSets=e,this.desktopFields={name:t},i&&(this.tabletFields={name:i}),o&&(this.phoneFields={name:o})}getByViewport(e){return e&&e.isPhone()?this._getPhoneFieldSet():e&&e.isTablet()?this._getTabletFieldSet():this._getDesktopFieldSet()}_getPhoneFieldSet(){let e=this.phoneFields?this.fieldSets[this.phoneFields.name]:null;return e&&0!==e.length?(this.phoneFields.fields=e,this.phoneFields):this._getTabletFieldSet()}_getTabletFieldSet(){let e=this.tabletFields?this.fieldSets[this.tabletFields.name]:null;return e&&0!==e.length?(this.tabletFields.fields=e,this.tabletFields):this._getDesktopFieldSet()}_getDesktopFieldSet(){return this.desktopFields.fields=this.fieldSets[this.desktopFields.name],this.desktopFields}}},801:(e,t,i)=>{"use strict";i.d(t,{J:()=>s});var o=i(8246),r=i(904);function n(e,t){e._ignoreFns.hasOwnProperty(t)&&e._ignoreFns[t](),e._ignoreFns[t]=(0,r.lB)(e._recordIds[t],e.constructor.properties[t].observing.path,(i=>{e.__data?e.set(t,i):e._detach()}))}const s=(0,o.y)((e=>class extends e{ready(){var e=this;super.ready&&super.ready(),this._ignoreFns={},this._recordIds={};for(let t in this.constructor.properties){const i=this.constructor.properties[t].observing;if(i){if(!Array.isArray(i.path))throw new Error(`Expected path to be an Array. Got: ${i.path}`);if(i.twoWay){const e=`__${t}Changed`;this[e]=e=>{this._recordIds.hasOwnProperty(t)&&(0,r.yJ)(this._recordIds[t],i.path,e)},this._createPropertyObserver(t,e)}const o=`__${t}IdChanged`;if(i.hasOwnProperty("id"))this._recordIds[t]=i.id,n(this,t);else if(i.hasOwnProperty("idProperty"))this[o]=()=>{this._recordIds[t]=this.hasOwnProperty(t)?this[i.idProperty]:this.__data[i.idProperty],n(this,t)},this._createPropertyObserver(i.idProperty,o);else{const r=i.idFunction.indexOf("("),s=-1===r?null:i.idFunction.substring(0,r);this[o]=function(){e._recordIds[t]=e[s](...arguments),n(e,t)},this._createMethodObserver(`${o}${i.idFunction.substring(r)}`)}}}}connectedCallback(){super.connectedCallback&&super.connectedCallback();for(let e in this._recordIds)n(this,e)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),this._detach()}_detach(){for(let e in this._ignoreFns)this._ignoreFns[e]()}}))},816:(e,t,i)=>{"use strict";i.d(t,{b:()=>r});var o=i(2521);i(8443);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=function(e){let t;return t="function"==typeof e?e:r.Class(e),e._legacyForceObservedAttributes&&(t.prototype._legacyForceObservedAttributes=e._legacyForceObservedAttributes),customElements.define(t.is,t),t};r.Class=o.X},891:(e,t,i)=>{"use strict";i.d(t,{Ix:()=>U,ch:()=>P,kz:()=>A,pQ:()=>L,wB:()=>F});i(8443);var o=i(7695),r=i(7212),n=i(7586),s=i(8591);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let a="string"==typeof document.head.style.touchAction,l="__polymerGestures",d="__polymerGesturesHandled",c="__polymerGesturesTouchAction",u=["mousedown","mousemove","mouseup","click"],h=[0,1,4,2],p=function(){try{return 1===new MouseEvent("test",{buttons:1}).buttons}catch(e){return!1}}();function f(e){return u.indexOf(e)>-1}let b=!1;function g(e){if(!f(e)&&"touchend"!==e)return a&&b&&n.Hp?{passive:!0}:void 0}!function(){try{let e=Object.defineProperty({},"passive",{get(){b=!0}});window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(e){}}();let m=navigator.userAgent.match(/iP(?:[oa]d|hone)|Android/);const y=[],v={button:!0,input:!0,keygen:!0,meter:!0,output:!0,textarea:!0,progress:!0,select:!0},_={button:!0,command:!0,fieldset:!0,input:!0,keygen:!0,optgroup:!0,option:!0,select:!0,textarea:!0};function w(e){let t=Array.prototype.slice.call(e.labels||[]);if(!t.length){t=[];try{let i=e.getRootNode();if(e.id){let o=i.querySelectorAll(`label[for = '${e.id}']`);for(let e=0;e<o.length;e++)t.push(o[e])}}catch(e){}}return t}let x=function(e){let t=e.sourceCapabilities;var i;if((!t||t.firesTouchEvents)&&(e[d]={skip:!0},"click"===e.type)){let t=!1,o=I(e);for(let e=0;e<o.length;e++){if(o[e].nodeType===Node.ELEMENT_NODE)if("label"===o[e].localName)y.push(o[e]);else if(i=o[e],v[i.localName]){let i=w(o[e]);for(let e=0;e<i.length;e++)t=t||y.indexOf(i[e])>-1}if(o[e]===O.mouse.target)return}if(t)return;e.preventDefault(),e.stopPropagation()}};function C(e){let t=m?["click"]:u;for(let i,o=0;o<t.length;o++)i=t[o],e?(y.length=0,document.addEventListener(i,x,!0)):document.removeEventListener(i,x,!0)}function S(e){let t=e.type;if(!f(t))return!1;if("mousemove"===t){let t=void 0===e.buttons?1:e.buttons;return e instanceof window.MouseEvent&&!p&&(t=h[e.which]||0),Boolean(1&t)}return 0===(void 0===e.button?0:e.button)}let O={mouse:{target:null,mouseIgnoreJob:null},touch:{x:0,y:0,id:-1,scrollDecided:!1}};function k(e,t,i){e.movefn=t,e.upfn=i,document.addEventListener("mousemove",t),document.addEventListener("mouseup",i)}function E(e){document.removeEventListener("mousemove",e.movefn),document.removeEventListener("mouseup",e.upfn),e.movefn=null,e.upfn=null}n.bK&&document.addEventListener("touchend",(function(e){if(!n.bK)return;O.mouse.mouseIgnoreJob||C(!0),O.mouse.target=I(e)[0],O.mouse.mouseIgnoreJob=r.aq.debounce(O.mouse.mouseIgnoreJob,o.EV.after(2500),(function(){C(),O.mouse.target=null,O.mouse.mouseIgnoreJob=null}))}),!!b&&{passive:!0});const I=window.ShadyDOM&&window.ShadyDOM.noPatch?window.ShadyDOM.composedPath:e=>e.composedPath&&e.composedPath()||[],T={},M=[];function B(e){const t=I(e);return t.length>0?t[0]:e.target}function D(e){let t,i=e.type,o=e.currentTarget[l];if(!o)return;let r=o[i];if(r){if(!e[d]&&(e[d]={},"touch"===i.slice(0,5))){let t=e.changedTouches[0];if("touchstart"===i&&1===e.touches.length&&(O.touch.id=t.identifier),O.touch.id!==t.identifier)return;a||"touchstart"!==i&&"touchmove"!==i||function(e){let t=e.changedTouches[0],i=e.type;if("touchstart"===i)O.touch.x=t.clientX,O.touch.y=t.clientY,O.touch.scrollDecided=!1;else if("touchmove"===i){if(O.touch.scrollDecided)return;O.touch.scrollDecided=!0;let i=function(e){let t="auto",i=I(e);for(let e,o=0;o<i.length;o++)if(e=i[o],e[c]){t=e[c];break}return t}(e),o=!1,r=Math.abs(O.touch.x-t.clientX),n=Math.abs(O.touch.y-t.clientY);e.cancelable&&("none"===i?o=!0:"pan-x"===i?o=n>r:"pan-y"===i&&(o=r>n)),o?e.preventDefault():R("track")}}(e)}if(t=e[d],!t.skip){for(let i,o=0;o<M.length;o++)i=M[o],r[i.name]&&!t[i.name]&&i.flow&&i.flow.start.indexOf(e.type)>-1&&i.reset&&i.reset();for(let o,n=0;n<M.length;n++)o=M[n],r[o.name]&&!t[o.name]&&(t[o.name]=!0,o[i](e))}}}function P(e,t,i){return!!T[t]&&(function(e,t,i){let o=T[t],r=o.deps,n=o.name,s=e[l];s||(e[l]=s={});for(let t,i,o=0;o<r.length;o++)t=r[o],m&&f(t)&&"click"!==t||(i=s[t],i||(s[t]=i={_count:0}),0===i._count&&e.addEventListener(t,D,g(t)),i[n]=(i[n]||0)+1,i._count=(i._count||0)+1);e.addEventListener(t,i),o.touchAction&&F(e,o.touchAction)}(e,t,i),!0)}function L(e,t,i){return!!T[t]&&(function(e,t,i){let o=T[t],r=o.deps,n=o.name,s=e[l];if(s)for(let t,i,o=0;o<r.length;o++)t=r[o],i=s[t],i&&i[n]&&(i[n]=(i[n]||1)-1,i._count=(i._count||1)-1,0===i._count&&e.removeEventListener(t,D,g(t)));e.removeEventListener(t,i)}(e,t,i),!0)}function A(e){M.push(e);for(let t=0;t<e.emits.length;t++)T[e.emits[t]]=e}function F(e,t){a&&e instanceof HTMLElement&&o._3.run((()=>{e.style.touchAction=t})),e[c]=t}function N(e,t,i){let o=new Event(t,{bubbles:!0,cancelable:!0,composed:!0});if(o.detail=i,(0,s.L)(e).dispatchEvent(o),o.defaultPrevented){let e=i.preventer||i.sourceEvent;e&&e.preventDefault&&e.preventDefault()}}function R(e){let t=function(e){for(let t,i=0;i<M.length;i++){t=M[i];for(let i,o=0;o<t.emits.length;o++)if(i=t.emits[o],i===e)return t}return null}(e);t.info&&(t.info.prevent=!0)}function q(e,t,i,o){t&&N(t,e,{x:i.clientX,y:i.clientY,sourceEvent:i,preventer:o,prevent:function(e){return R(e)}})}function j(e,t,i){if(e.prevent)return!1;if(e.started)return!0;let o=Math.abs(e.x-t),r=Math.abs(e.y-i);return o>=5||r>=5}function H(e,t,i){if(!t)return;let o,r=e.moves[e.moves.length-2],n=e.moves[e.moves.length-1],s=n.x-e.x,a=n.y-e.y,l=0;r&&(o=n.x-r.x,l=n.y-r.y),N(t,"track",{state:e.state,x:i.clientX,y:i.clientY,dx:s,dy:a,ddx:o,ddy:l,sourceEvent:i,hover:function(){return function(e,t){let i=document.elementFromPoint(e,t),o=i;for(;o&&o.shadowRoot&&!window.ShadyDOM;){let r=o;if(o=o.shadowRoot.elementFromPoint(e,t),r===o)break;o&&(i=o)}return i}(i.clientX,i.clientY)}})}function V(e,t,i){let o=Math.abs(t.clientX-e.x),r=Math.abs(t.clientY-e.y),n=B(i||t);!n||_[n.localName]&&n.hasAttribute("disabled")||(isNaN(o)||isNaN(r)||o<=25&&r<=25||function(e){if("click"===e.type){if(0===e.detail)return!0;let t=B(e);if(!t.nodeType||t.nodeType!==Node.ELEMENT_NODE)return!0;let i=t.getBoundingClientRect(),o=e.pageX,r=e.pageY;return!(o>=i.left&&o<=i.right&&r>=i.top&&r<=i.bottom)}return!1}(t))&&(e.prevent||N(n,"tap",{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:i}))}A({name:"downup",deps:["mousedown","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["down","up"],info:{movefn:null,upfn:null},reset:function(){E(this.info)},mousedown:function(e){if(!S(e))return;let t=B(e),i=this;k(this.info,(function(e){S(e)||(q("up",t,e),E(i.info))}),(function(e){S(e)&&q("up",t,e),E(i.info)})),q("down",t,e)},touchstart:function(e){q("down",B(e),e.changedTouches[0],e)},touchend:function(e){q("up",B(e),e.changedTouches[0],e)}}),A({name:"track",touchAction:"none",deps:["mousedown","touchstart","touchmove","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["track"],info:{x:0,y:0,state:"start",started:!1,moves:[],addMove:function(e){this.moves.length>2&&this.moves.shift(),this.moves.push(e)},movefn:null,upfn:null,prevent:!1},reset:function(){this.info.state="start",this.info.started=!1,this.info.moves=[],this.info.x=0,this.info.y=0,this.info.prevent=!1,E(this.info)},mousedown:function(e){if(!S(e))return;let t=B(e),i=this,o=function(e){let o=e.clientX,r=e.clientY;j(i.info,o,r)&&(i.info.state=i.info.started?"mouseup"===e.type?"end":"track":"start","start"===i.info.state&&R("tap"),i.info.addMove({x:o,y:r}),S(e)||(i.info.state="end",E(i.info)),t&&H(i.info,t,e),i.info.started=!0)};k(this.info,o,(function(e){i.info.started&&o(e),E(i.info)})),this.info.x=e.clientX,this.info.y=e.clientY},touchstart:function(e){let t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchmove:function(e){let t=B(e),i=e.changedTouches[0],o=i.clientX,r=i.clientY;j(this.info,o,r)&&("start"===this.info.state&&R("tap"),this.info.addMove({x:o,y:r}),H(this.info,t,i),this.info.state="track",this.info.started=!0)},touchend:function(e){let t=B(e),i=e.changedTouches[0];this.info.started&&(this.info.state="end",this.info.addMove({x:i.clientX,y:i.clientY}),H(this.info,t,i))}}),A({name:"tap",deps:["mousedown","click","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["click","touchend"]},emits:["tap"],info:{x:NaN,y:NaN,prevent:!1},reset:function(){this.info.x=NaN,this.info.y=NaN,this.info.prevent=!1},mousedown:function(e){S(e)&&(this.info.x=e.clientX,this.info.y=e.clientY)},click:function(e){S(e)&&V(this.info,e)},touchstart:function(e){const t=e.changedTouches[0];this.info.x=t.clientX,this.info.y=t.clientY},touchend:function(e){V(this.info,e.changedTouches[0],e)}});const U=B},904:(e,t,i)=>{"use strict";i.d(t,{Jt:()=>n,lB:()=>l,yH:()=>d,yJ:()=>a});var o=i(6206);function r(e,t){return e.has(t)||e.set(t,{fields:new Map,observers:[]}),e.get(t)}function n(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(0,o.aj)(__clientCache.data[e],t)}function s(e,t,i,o,r){if(i===o||!e)return;for(let t of e.observers)t(o);const n=n=>{s(e.fields.get(n),t,i?i[n]:void 0,o?o[n]:void 0,r+1)};r<t.length?n(t[r]):e.fields.forEach(((e,t)=>{n(t)}))}function a(e,t,i){const r=__clientCache.data[e];__clientCache.data[e]=(0,o.ah)(r,t,i),s(__clientCache.observers.get(e),t,r,__clientCache.data[e],0)}function l(e,t,i){if("function"!=typeof i)throw new Error("Observer must be a function!");let o=r(__clientCache.observers,e);for(let e of t)o=r(o.fields,e);o.observers.push(i);const s=n(e,t);return void 0!==s&&i(s),()=>{o.observers.splice(o.observers.indexOf(i),1)}}function d(e){a(e,[],void 0),__clientCache.observers.delete(e),delete __clientCache.data[e]}window.__clientCache={data:{},observers:new Map}},983:(e,t,i)=>{"use strict";i.d(t,{Q:()=>o});class o{constructor(e,t){this.controlledPicklist=e,this.controllingValue=t}build(){let e=this.controlledPicklist.picklistValues,t=[];return e.forEach(function(e){this._testBit(atob(e.validFor),this._getControllingValueIndex(this.controllingValue))&&t.push(e)}.bind(this)),t}_getControllingValueIndex(e){if("boolean"===this.controlledPicklist.controllingField.type)return!0===e?1:0;let t=this.controlledPicklist.controllingField.picklistValues;for(let i=0,o=t.length;i<o;i++)if(t[i].value==e)return i;return-1}_testBit(e,t){var i=Math.floor(t/8),o=7-t%8;return(Math.pow(2,o)&e.charCodeAt(i))>>o==1}}},1111:(e,t,i)=>{"use strict";i.d(t,{k:()=>o});const o={Apply:"Apply","Asset Selection":"Asset Selection",Cancel:"Cancel","Clear Fields":"Clear Fields",Filter:"Filter",Select:"Select",None:"None",searchText:"Search {0}",lookupQueryError:"Can't perform lookup due to field encryption or a querying error",FieldSetWarning:"Create a Field Set with the label of CPQ_Lookup in {0} object setup to determine which fields are displayed in this CPQ list view popup.",numResults:"{0} Results",Save:"Save","Background color":"Background color","Block quote":"Block quote",Bold:"Bold","Bullet list":"Bullet list","Clear formatting":"Clear formatting","Decrease indent":"Decrease indent","Edit Description":"Edit Description","Font family":"Font family","Font size":"Font size","Header size":"Header size","Unsupported HTML tags detected":"Unsupported HTML tags detected, saving may cause original formatting to be altered or lost. If you wish to preserve original formatting, cancel out of the Rich-Text Editor.","Increase indent":"Increase indent","Insert or edit image":"Insert or edit image","Insert or edit link":"Insert or edit link",Italic:"Italic","Numbered list":"Numbered list",Redo:"Redo",Strikethrough:"Strikethrough",Subscript:"Subscript",Superscript:"Superscript","Align left":"Align left",Center:"Center","Align right":"Align right","Text color":"Text color",Underline:"Underline",Undo:"Undo","Constrain proportions":"Constrain proportions",Dimensions:"Dimensions","Insert image":"Insert image",Source:"Source","Search Products":"Search Products","Product Search":"Product Search","Select All":"Reduce search results to fewer than {0} to enable select all",Popup:"Popup","Add Products":"Add Products",Delete:"Delete","Favorite Lookup":"Favorite Lookup","Select & Add More":"Select & Add More",Share:"Share","Share Favorites":"Share Favorites",Attributes:"Attributes",Options:"Options",showAvailableUpgrades:"This feature has products available for upgrade, click the Show Available Upgrades button at the bottom of the feature to select upgrade options.","No visible options in feature":"No visible options in feature '{0}'",Features:"Features","Add Options":"Add Options",Add:"Add","Configure Products":"Configure Products","Configuration Attribute Error":"Please review required configuration attributes","Configuration Error":"Some or all options require further configuration. Look for configuration icon next to options that must be configured.","Maximum Quantity Error":"Exceeded maximum quantity available. Value has been reduced to {0}","Add to Cart":"Add to Cart",Categories:"Categories",Description:"Description",Go:"Go","My Favorites":"My Favorites",Price:"Price","Product Code":"Product Code","Product Name":"Product Name","Start Over":"Start Over",Alert:"Alert",Continue:"Continue","Return to Quote":"The quote line you are attempting to reconfigure does not exist. Please add the product again to configure it.","Contract Selection":"Active Contract Selection","Select Contract":"Select Contract","Active Contracts":"Active Contracts","Evergreen Contracts":"Evergreen Contracts",Skip:"Skip",Favorites:"Favorites","Guided Selling":"Guided Selling","Product Filter":"Product Filter","Product Selection":"Product Selection",Suggest:"Suggest","Available Groups":"Available Groups","Clone To Groups":"Clone To Group(s)","Select Groups":"Select one or more group(s)","Selected Groups":"Selected Groups","Custom Segments":"Custom Segments","Discount Schedule Editor":"Discount Schedule Editor",Update:"Update","Add to Favorites":"Add to Favorites","Favorite Name":"Favorite Name","Choose Price Book":"Choose Price Book",Details:"Details",Total:"Total","Quote Total":"Quote Total","Add To Favorite":"Add To Favorite","Click to edit description":"Click to edit description.",emptyLinesMsg:"This group has no line items. Click on Add Products button or drag lines from other groups.",mobileEmptyLinesMsg:"This group has no line items. Click on Add Products button to add a product.","Remove From Favorites":"Remove From Favorites","Segmented Products":"Segmented Products","Standard Products":"Standard Products",Subtotal:"Subtotal",missingOpportunityLineItem:"This product will not sync to the opportunity because a valid pricebook entry does not exist.",msg_qty_cannot_decrease_on_renewal:"Quantity of Line {0} cannot decrease below original value {1} on a Renewal Quote.",msg_qty_no_negative_on_amend:"The quantities of the assets in the Amendment Quote are not allowed to be negative. Please adjust line(s) {0}.",msg_qty_of_upgrade_exceeds_source_prior:"Combined quantity of upgrades to Line {0} cannot exceed {1}.",msg_qty_of_source_too_low:'Product "{0}" cannot be refunded. The quantity of Line {1} cannot decrease without a corresponding upgrade.',pesterPSLAssignment:"As of Winter ’21, Salesforce CPQ requires permission set licenses instead of managed package licenses. Contact your Salesforce CPQ admin about upgrading.","Edit Quote":"Edit Quote",emptyGroupedQuoteMsg:"This quote has no line items. Click on Add Group button to select products.",emptyQuoteMsg:"This quote has no line items. Click on Add Products button to select products.",fullScreenMode:"Toggle Full Screen Mode",Reset_Column_Widths:"Reset Column Widths","Accept Recommendation":"Accept Recommendation",Explanation:"Explanation",Floor:"Floor",Norm:"Norm","Pricing Guidance":"Pricing Guidance",PricingGuidanceNotAvailable:"Can't load pricing guidance for this record. Contact your Salesforce admin.",Target:"Target","Back to Quote":"Back to Quote",There_are_unsaved_changes_in_one_or_more_of_your_categories:"There are unsaved changes in one or more of your categories.  We're just making sure you want to go back to the quote without updating.",Leave_page_without_updating:"Leave page without updating?","Consumption Schedule":"Consumption Schedule","Never Mind":"Never Mind",msg_cannot_delete_group:"You cannot delete this Group as it contains Quote Lines being amended.",msg_confirm_group_delete:"All lines will also be deleted. Are you sure you want to delete this group?",msg_confirm_remove_favorite:"Are you sure you want to remove favorite?",msg_confirm_remove_group_from_favorites:"All lines will be removed from favorites. Are you sure you want to remove this group from favorites?",Ok:"Ok",msg_missing_pricebook_id:"A PriceBook Id is missing. Please contact your administrator to resolve the issue.","Consumption Schedule Name":"Consumption Schedule Name",Items_Sorted_by:"{0} Items - Sorted by {1}","Search Consumption Schedule Name":"Search Consumption Schedule Name","There are no rates that match your search criteria":"There are no rates that match your search criteria",Your_search_term_must_have_2_or_more_characters:"Your search term must have 2 or more characters, excluding *, ?, (), or ' '","Recommended Products":"Recommended Products","Subscription Selection":"Subscription Selection","Quick Save and Continue":"Quick Save and Continue",lbl_close:"Close",lbl_groups:"Groups"}},1149:(e,t,i)=>{"use strict";i.d(t,{UQ:()=>a,f3:()=>s,rC:()=>r,sV:()=>o,uv:()=>n});const o=Object.freeze({AUTO_LAUNCH_POPUP:"sf-auto-launch-popup",BUILD_LAYOUT:"sf-build-layout",CLEAR_PRODUCT_FILTER:"sf-clear-product-filter",CLOSE_GROUP_PANEL:"sf-close-group-panel",CLOSE_LOOKUP_DIALOG:"sf-close-lookup-dialog",COL_WIDTHS_CHANGED:"sf-col-widths-changed",DELETE_GROUPS:"sf-delete-groups",DESELECT_CHECKBOX:"sf-deselect-checkbox",GROUP_ADDED:"sf-group-added",GROUP_DELETED:"sf-group-deleted",GROUP_EXPANDED:"sf-group-expanded",GROUP_PANEL_CREATED:"sf-group-panel-created",GROUP_PANEL_TOGGLED:"sf-group-panel-toggled",GROUP_TOGGLED:"sf-group-toggled",IRON_LIST_RESIZED:"sf-iron-list-resized",LINE_SPLICE_COMPLETE:"sf-line-splice-complete",NAVIGATION_CHANGED:"sf-navigation-changed",OPEN_LOOKUP_DIALOG:"sf-open-lookup-dialog",OPEN_RTE_DIALOG:"sf-open-rte-dialog",OPEN_SEARCH_BAR_DIALOG:"sf-open-search-bar-dialog",PAGE_RESIZED:"sf-page-resized",PANEL_CLOSED:"sf-panel-closed",QUOTE_SAVED:"sf-quote-saved",REFRESH_LINE_ACTIONS:"sf-refresh-line-actions",REFRESH_TABLE:"sf-refresh-table",RENDER_NEW_TAB:"sf-render-new-tab",RESET_ON_ACTION:"sf-reset-on-action",RESET_COL_SIZES:"sf-reset-col-sizes",ROWS_RENUMBERED:"sf-rows-renumbered",SCHEDULE_ACTION:"sf-schedule-action",SORT_LINES_REQUIRED:"sf-sort-lines-required",TOGGLE_OPTIONAL_CLICKED:"sf-toggle-optional-clicked",TOGGLE_PANEL_CLICKED:"sf-toggle-panel-clicked",UPDATE_IRON_LIST:"sf-update-iron-list",VIEWPORT_CHANGED:"sf-viewport-changed",UBP_ROW_REFRESH:"sf-ubp-row-refresh",TOGGLE_QUICKSAVE:"sf-toggle-quicksave",COL_SIZE_ERR:"sf-col-size-err",GENERIC_ERROR:"sf-generic-error",MDQ_LINE_DELETED:"sf-mdq-line-deleted"});function r(e,t){e&&window&&window.dispatchEvent&&window.dispatchEvent(new CustomEvent(e,{detail:t}))}function n(e){return new CustomEvent(e,{bubbles:!0,composed:!0,cancelable:!0,detail:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}})}function s(e,t){e&&e.addEventListener&&t&&Object.entries(t).map((t=>{let[i,o]=t;null!=i&&null!=o&&e.addEventListener(i,e[o])}))}function a(e,t){e&&e.removeEventListener&&t&&Object.entries(t).map((t=>{let[i,o]=t;null!=i&&null!=o&&e.removeEventListener(i,e[o])}))}},1306:(e,t,i)=>{"use strict";var o=i(7734),r=i(6902),n=i(6862),s=i(5118),a=i(6206);class l extends o.Pu{static get is(){return"sb-service"}static get properties(){return{reader:String,loader:String,saver:String,uid:String,model:Object,context:Object,mdType:String,mdItems:Array,sObject:String,soql:String,fileType:String,fileId:String,fileContentsField:String,cache:String,waiting:{type:Boolean,notify:!0},response:{type:Object,notify:!0},error:{type:Object,notify:!0},client:{type:Object,value:function(){return new n.N}},transient:{type:Boolean},background:{type:Boolean,value:!1},ignoreCache:{type:Boolean,value:!1},version:String}}static get observers(){return["_readObserver(reader, uid)","_saveObserver(saver, model)","_loadObserver(loader, uid, context)","_mdObserver(mdType, mdItems)","_describe(sObject)","_query(soql)","_streamFileContentsObserver(uid, fileType, fileId, fileContentsField)","_spinnerObserver(waiting, background)"]}get prefix(){return r.B.org.prefix?r.B.org.prefix:""}read(e){(0,a.X$)(this,e);var t=this._returnPromiseIfCachedResponse();return t||this._response(this.client.read(this.prefix,this.reader,this.uid))}load(e){(0,a.X$)(this,e);var t=this._returnPromiseIfCachedResponse();return t||this._response(this.client.load(this.prefix,this.loader,this.uid,this.context))}save(e){if((0,a.X$)(this,e),this.transient)return this._response(Promise.resolve(this.model));var t=this._returnCachedPromise(this.uid);return t||this._response(this.client.save(this.prefix,this.saver,this.model))}md(e){(0,a.X$)(this,e);var t=this._returnPromiseIfCachedResponse();return t||this._response(this.client.md(this.prefix,this.mdType,this.mdItems))}describe(e){(0,a.X$)(this,e);var t=this._returnPromiseIfCachedResponse(this.sObject);return t||this._response(this.client.describe(this.prefix,this.sObject),this.sObject)}streamFileContents(e){(0,a.X$)(this,e);var t=this._returnPromiseIfCachedResponse();return t||this._response(this.client.streamFileContents(this.fileType,this.fileId,this.fileContentsField))}query(e){(0,a.X$)(this,e);var t=this._returnPromiseIfCachedResponse();return t||this._response(this.client.query(this.soql,this.version))}_readObserver(e,t){if(void 0!==e&&void 0!==t)return this._read(e,t)}_read(){this.read().then((function(){}),(function(e){console.error(e.message||e)}))}_loadObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this._load(e,t,i)}_load(){this.load().then((function(){}),(function(e){console.error(e.message||e)}))}_saveObserver(e,t){if(void 0!==e&&void 0!==t)return this._save(e,t)}_save(){this.save().then((function(){}),(function(e){console.error(e.message||e)}))}_mdObserver(e,t){if(void 0!==e&&void 0!==t)return this._md(e,t)}_md(){this.md().then((function(){}),(function(e){console.error(e.message||e)}))}_describe(){this.describe().then((function(){}),(function(e){console.error(e.message||e)}))}_query(){this.query().then((function(){}),(function(e){console.error(e.message||e)}))}_streamFileContentsObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this._streamFileContents(e,t,i,o)}_streamFileContents(){this.streamFileContents().then((()=>{}),(e=>{console.error(e.message||e)}))}_spinnerObserver(e,t){if(void 0!==e&&void 0!==t)return this._spinner(e,t)}_spinner(){this.spinner=this.waiting&&!this.background}_returnCachedPromise(e){var t=s.l.get(this.cache,e,"promise");return t?(t._services=t._services||[],-1===t._services.indexOf(this)&&t._services.push(this),t):this.transient?Promise.resolve(this.response):null}_returnPromiseIfCachedResponse(e){if(!0===this.ignoreCache)return!1;e=e||this.uid;var t=s.l.get(this.cache,e);return t?(this.response=t,Promise.resolve(this.response)):this._returnCachedPromise(e)}_response(e,t){return this.waiting=!0,s.l.add(this.cache,t||this.uid,e,"promise"),e.then(function(i){null!=i&&(this.response=i,(e._services||[]).forEach(function(e){e.response=this.response}.bind(this)),s.l.add(this.cache,t||this.uid,this.response,"value",this));return s.l.remove(this.cache,t||this.uid,"promise"),this.waiting=!1,Promise.resolve(this.response)}.bind(this),function(i){(this.waiting=!1,i)&&(this.error=this._createError(i),(e._services||[]).forEach(function(e){e.error=this.error}.bind(this)));return s.l.remove(this.cache,t||this.uid,"promise"),Promise.reject(this.error)}.bind(this))}createError(e){return this._createError(e)}_createError(e){var t,i=e.message||e,o={message:i,errorCode:e.errorCode};if(i.indexOf&&-1!=i.indexOf("ValidationException: [")||i.startsWith&&i.startsWith("[")){var r=i.indexOf("["),n=i.indexOf("]",r)+1;n>r&&(t=i.substring(r,n))}if(t)try{var s=t.replace(/\n/g,"\\n").replace(/\r/g,"\\r"),a=JSON.parse(s);o.validations=a}catch(e){}return o}static get template(){return o.qy`
		<sb-loading-spinner show="[[spinner]]"/>
		`}}customElements.define(l.is,l)},1386:(e,t,i)=>{"use strict";i.d(t,{H:()=>r});var o=i(8449);class r{constructor(e,t,i,o,r){this.quote=e,this.products=t,this.groupKey=i,this.stripLinesThreshold=o,this.stripLinesMessage=r}reduceQuote(e){if(this.originalLines=this.quote.lineItems,this.quote.partialVO=!0,!1===e)return this.quote.lineItems=[],this.quote;let t=this.stripLinesMessage.replace("{0}",this.quote.record.Id).replace("{1}",this.stripLinesThreshold);return console.log(t),this._setAggregatedDataToQuote(),this._setNecessaryLineItemsToQuote(),this.quote}_setAggregatedDataToQuote(){let e=new o.M(this.quote);this.quote.existingProductIds=e.getExistingProductIdsFromLines();let t=e.getSegmentTemplatesByDimensionTypeForGroupKey(this.groupKey);this.quote.segmentTemplatesByDimensionTypeByGroupKey={},this.quote.segmentTemplatesByDimensionTypeByGroupKey[(this.groupKey||-1)+""]=t,this.quote.emptyGroupKeys=e.getKeysOfEmptyGroups()}_setNecessaryLineItemsToQuote(){this.products&&(this.requiredKeys=this._getNecessaryLineKeys());let e=[];for(let t of this.quote.lineItems)this.requiredKeys.has(t.key)&&e.push(t);this.quote.lineItems=e}revertQuote(){return this.quote.partialVO=!1,this.quote.lineItems=this.originalLines,delete this.quote.existingProductIds,delete this.quote.segmentTemplatesByDimensionTypeByGroupKey,delete this.quote.emptyGroupKeys,this.quote}getRequiredKeys(){return this.requiredKeys}_getNecessaryLineKeys(){let e="Quote__c"==this.quote.record.attributes.type?"":this.quote.record.attributes.type.slice(0,-8),t=new Set;return this.products.forEach((i=>{if(i.configuration&&i.configuration.lineItemKey){let o=this.quote.lineItems.length;for(let r=0;r<o;r++){let o=this.quote.lineItems[r];if(o.key===i.configuration.lineItemKey){this._addLineKeyWithRecursiveCallOnChildrenAndSource(e,t,o);break}}}if(i.upgradedAssetId){let o=this.quote.lineItems.length;for(let r=0;r<o;r++){let o=this.quote.lineItems[r];if(o.record[e+"UpgradedAsset__c"]===i.upgradedAssetId&&o.record[e+"Existing__c"]){this._addLineKeyWithRecursiveCallOnChildrenAndSource(e,t,o);break}}}})),t}_addLineKeyWithRecursiveCallOnChildrenAndSource(e,t,i){if(t.has(i.key))return;let o=i.record[e+"Bundle__c"],r=null!=i.sourceLineKey;(o||r)&&this.quote.lineItems.forEach((n=>{let s=o&&n.parentItemKey===i.key,a=r&&n.key===i.sourceLineKey;(s||a)&&this._addLineKeyWithRecursiveCallOnChildrenAndSource(e,t,n)})),t.add(i.key)}}},1445:(e,t,i)=>{"use strict";i.d(t,{S:()=>a});var o=i(7734),r=(i(4074),i(4886)),n=(i(4167),i(57),i(1149)),s=i(9067);class a extends((0,r.$)(o.Pu)){static get is(){return"sb-checkbox"}static get properties(){return{focusOnAttached:Boolean,applyFocus:{type:Boolean,observer:"_applyFocus"},value:{notify:!0,observer:"_boolify"},hide:{type:Object,observer:"hideShow"}}}_boolify(){"boolean"!=typeof this.value&&(this.value=null!==this.value&&"true"===this.value.toLowerCase())}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&setTimeout(this.focus.bind(this),10)}focus(){this.$.checkbox.focus()}blur(){this.dispatchEvent((0,n.uv)("blur"))}hideShow(){new s.X(this.hide).applyTo(this.$.checkbox)}_applyFocus(){this.applyFocus&&this.focus()}static get template(){return o.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-forms-styles"></style>

		<paper-checkbox tabindex$="[[tabIndex]]" device noink id="checkbox" checked="{{value}}" disabled="[[disabled]]" hidden$="[[hidden]]" on-blur="blur"></paper-checkbox>
		`}}customElements.define(a.is,a)},1499:(e,t,i)=>{"use strict";i(1518);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=i(2619).q`
<custom-style>
  <style is="custom-style">
    [hidden] {
      display: none !important;
    }
  </style>
</custom-style>
<custom-style>
  <style is="custom-style">
    html {

      --layout: {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      };

      --layout-inline: {
        display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
      };

      --layout-horizontal: {
        @apply --layout;

        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      };

      --layout-horizontal-reverse: {
        @apply --layout;

        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
      };

      --layout-vertical: {
        @apply --layout;

        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      };

      --layout-vertical-reverse: {
        @apply --layout;

        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      };

      --layout-wrap: {
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
      };

      --layout-wrap-reverse: {
        -ms-flex-wrap: wrap-reverse;
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
      };

      --layout-flex-auto: {
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
      };

      --layout-flex-none: {
        -ms-flex: none;
        -webkit-flex: none;
        flex: none;
      };

      --layout-flex: {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      };

      --layout-flex-2: {
        -ms-flex: 2;
        -webkit-flex: 2;
        flex: 2;
      };

      --layout-flex-3: {
        -ms-flex: 3;
        -webkit-flex: 3;
        flex: 3;
      };

      --layout-flex-4: {
        -ms-flex: 4;
        -webkit-flex: 4;
        flex: 4;
      };

      --layout-flex-5: {
        -ms-flex: 5;
        -webkit-flex: 5;
        flex: 5;
      };

      --layout-flex-6: {
        -ms-flex: 6;
        -webkit-flex: 6;
        flex: 6;
      };

      --layout-flex-7: {
        -ms-flex: 7;
        -webkit-flex: 7;
        flex: 7;
      };

      --layout-flex-8: {
        -ms-flex: 8;
        -webkit-flex: 8;
        flex: 8;
      };

      --layout-flex-9: {
        -ms-flex: 9;
        -webkit-flex: 9;
        flex: 9;
      };

      --layout-flex-10: {
        -ms-flex: 10;
        -webkit-flex: 10;
        flex: 10;
      };

      --layout-flex-11: {
        -ms-flex: 11;
        -webkit-flex: 11;
        flex: 11;
      };

      --layout-flex-12: {
        -ms-flex: 12;
        -webkit-flex: 12;
        flex: 12;
      };

      /* alignment in cross axis */

      --layout-start: {
        -ms-flex-align: start;
        -webkit-align-items: flex-start;
        align-items: flex-start;
      };

      --layout-center: {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      };

      --layout-end: {
        -ms-flex-align: end;
        -webkit-align-items: flex-end;
        align-items: flex-end;
      };

      --layout-baseline: {
        -ms-flex-align: baseline;
        -webkit-align-items: baseline;
        align-items: baseline;
      };

      /* alignment in main axis */

      --layout-start-justified: {
        -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
      };

      --layout-center-justified: {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      };

      --layout-end-justified: {
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
      };

      --layout-around-justified: {
        -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
      };

      --layout-justified: {
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
      };

      --layout-center-center: {
        @apply --layout-center;
        @apply --layout-center-justified;
      };

      /* self alignment */

      --layout-self-start: {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      };

      --layout-self-center: {
        -ms-align-self: center;
        -webkit-align-self: center;
        align-self: center;
      };

      --layout-self-end: {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      };

      --layout-self-stretch: {
        -ms-align-self: stretch;
        -webkit-align-self: stretch;
        align-self: stretch;
      };

      --layout-self-baseline: {
        -ms-align-self: baseline;
        -webkit-align-self: baseline;
        align-self: baseline;
      };

      /* multi-line alignment in main axis */

      --layout-start-aligned: {
        -ms-flex-line-pack: start;  /* IE10 */
        -ms-align-content: flex-start;
        -webkit-align-content: flex-start;
        align-content: flex-start;
      };

      --layout-end-aligned: {
        -ms-flex-line-pack: end;  /* IE10 */
        -ms-align-content: flex-end;
        -webkit-align-content: flex-end;
        align-content: flex-end;
      };

      --layout-center-aligned: {
        -ms-flex-line-pack: center;  /* IE10 */
        -ms-align-content: center;
        -webkit-align-content: center;
        align-content: center;
      };

      --layout-between-aligned: {
        -ms-flex-line-pack: justify;  /* IE10 */
        -ms-align-content: space-between;
        -webkit-align-content: space-between;
        align-content: space-between;
      };

      --layout-around-aligned: {
        -ms-flex-line-pack: distribute;  /* IE10 */
        -ms-align-content: space-around;
        -webkit-align-content: space-around;
        align-content: space-around;
      };

      /*******************************
                Other Layout
      *******************************/

      --layout-block: {
        display: block;
      };

      --layout-invisible: {
        visibility: hidden !important;
      };

      --layout-relative: {
        position: relative;
      };

      --layout-fit: {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-scroll: {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
      };

      --layout-fullbleed: {
        margin: 0;
        height: 100vh;
      };

      /* fixed position */

      --layout-fixed-top: {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
      };

      --layout-fixed-right: {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
      };

      --layout-fixed-bottom: {
        position: fixed;
        right: 0;
        bottom: 0;
        left: 0;
      };

      --layout-fixed-left: {
        position: fixed;
        top: 0;
        bottom: 0;
        left: 0;
      };

    }
  </style>
</custom-style>`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content);var r=document.createElement("style");r.textContent="[hidden] { display: none !important; }",document.head.appendChild(r)},1500:(e,t,i)=>{"use strict";i.d(t,{O:()=>c});i(1518);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o={properties:{name:{type:String},value:{notify:!0,type:String},required:{type:Boolean,value:!1}},attached:function(){},detached:function(){}};var r=i(9735);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const n={properties:{checked:{type:Boolean,value:!1,reflectToAttribute:!0,notify:!0,observer:"_checkedChanged"},toggles:{type:Boolean,value:!0,reflectToAttribute:!0},value:{type:String,value:"on",observer:"_valueChanged"}},observers:["_requiredChanged(required)"],created:function(){this._hasIronCheckedElementBehavior=!0},_getValidity:function(e){return this.disabled||!this.required||this.checked},_requiredChanged:function(){this.required?this.setAttribute("aria-required","true"):this.removeAttribute("aria-required")},_checkedChanged:function(){this.active=this.checked,this.fire("iron-change")},_valueChanged:function(){void 0!==this.value&&null!==this.value||(this.value="on")}},s=[o,r.Q,n];var a=i(215),l=i(5232);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const d={_checkedChanged:function(){n._checkedChanged.call(this),this.hasRipple()&&(this.checked?this._ripple.setAttribute("checked",""):this._ripple.removeAttribute("checked"))},_buttonStateChanged:function(){l.v._buttonStateChanged.call(this),this.disabled||this.isAttached&&(this.checked=this.active)}},c=[a.O,s,d]},1518:(e,t,i)=>{"use strict";i.d(t,{C6:()=>D,qy:()=>B.q});var o=i(1837),r=(i(816),i(8221),i(5307),i(347),i(7543),i(7734)),n=i(8246),s=i(9539),a=i(458);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let l=(0,n.y)((e=>{let t=(0,a.q2)(e);return class extends t{static get properties(){return{items:{type:Array},multi:{type:Boolean,value:!1},selected:{type:Object,notify:!0},selectedItem:{type:Object,notify:!0},toggle:{type:Boolean,value:!1}}}static get observers(){return["__updateSelection(multi, items.*)"]}constructor(){super(),this.__lastItems=null,this.__lastMulti=null,this.__selectedMap=null}__updateSelection(e,t){let i=t.path;if(i==JSCompiler_renameProperty("items",this)){let i=t.base||[],o=this.__lastItems;if(e!==this.__lastMulti&&this.clearSelection(),o){let e=(0,s.k)(i,o);this.__applySplices(e)}this.__lastItems=i,this.__lastMulti=e}else if(t.path==`${JSCompiler_renameProperty("items",this)}.splices`)this.__applySplices(t.value.indexSplices);else{let e=i.slice(`${JSCompiler_renameProperty("items",this)}.`.length),t=parseInt(e,10);e.indexOf(".")<0&&e==t&&this.__deselectChangedIdx(t)}}__applySplices(e){let t=this.__selectedMap;for(let i=0;i<e.length;i++){let o=e[i];t.forEach(((e,i)=>{e<o.index||(e>=o.index+o.removed.length?t.set(i,e+o.addedCount-o.removed.length):t.set(i,-1))}));for(let e=0;e<o.addedCount;e++){let i=o.index+e;t.has(this.items[i])&&t.set(this.items[i],i)}}this.__updateLinks();let i=0;t.forEach(((e,o)=>{e<0?(this.multi?this.splice(JSCompiler_renameProperty("selected",this),i,1):this.selected=this.selectedItem=null,t.delete(o)):i++}))}__updateLinks(){if(this.__dataLinkedPaths={},this.multi){let e=0;this.__selectedMap.forEach((t=>{t>=0&&this.linkPaths(`${JSCompiler_renameProperty("items",this)}.${t}`,`${JSCompiler_renameProperty("selected",this)}.${e++}`)}))}else this.__selectedMap.forEach((e=>{this.linkPaths(JSCompiler_renameProperty("selected",this),`${JSCompiler_renameProperty("items",this)}.${e}`),this.linkPaths(JSCompiler_renameProperty("selectedItem",this),`${JSCompiler_renameProperty("items",this)}.${e}`)}))}clearSelection(){this.__dataLinkedPaths={},this.__selectedMap=new Map,this.selected=this.multi?[]:null,this.selectedItem=null}isSelected(e){return this.__selectedMap.has(e)}isIndexSelected(e){return this.isSelected(this.items[e])}__deselectChangedIdx(e){let t=this.__selectedIndexForItemIndex(e);if(t>=0){let e=0;this.__selectedMap.forEach(((i,o)=>{t==e++&&this.deselect(o)}))}}__selectedIndexForItemIndex(e){let t=this.__dataLinkedPaths[`${JSCompiler_renameProperty("items",this)}.${e}`];if(t)return parseInt(t.slice(`${JSCompiler_renameProperty("selected",this)}.`.length),10)}deselect(e){let t=this.__selectedMap.get(e);if(t>=0){let i;this.__selectedMap.delete(e),this.multi&&(i=this.__selectedIndexForItemIndex(t)),this.__updateLinks(),this.multi?this.splice(JSCompiler_renameProperty("selected",this),i,1):this.selected=this.selectedItem=null}}deselectIndex(e){this.deselect(this.items[e])}select(e){this.selectIndex(this.items.indexOf(e))}selectIndex(e){let t=this.items[e];this.isSelected(t)?this.toggle&&this.deselectIndex(e):(this.multi||this.__selectedMap.clear(),this.__selectedMap.set(t,e),this.__updateLinks(),this.multi?this.push(JSCompiler_renameProperty("selected",this),t):this.selected=this.selectedItem=t)}}}))(r.Pu);class d extends l{static get is(){return"array-selector"}static get template(){return null}}customElements.define(d.is,d);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let c,u=null,h=window.HTMLImports&&window.HTMLImports.whenReady||null;function p(e){requestAnimationFrame((function(){h?h(e):(u||(u=new Promise((e=>{c=e})),"complete"===document.readyState?c():document.addEventListener("readystatechange",(()=>{"complete"===document.readyState&&c()}))),u.then((function(){e&&e()})))}))}const f="__seenByShadyCSS",b="__shadyCSSCachedStyle";let g=null,m=null;class y{constructor(){this.customStyles=[],this.enqueued=!1,p((()=>{window.ShadyCSS.flushCustomStyles&&window.ShadyCSS.flushCustomStyles()}))}enqueueDocumentValidation(){!this.enqueued&&m&&(this.enqueued=!0,p(m))}addCustomStyle(e){e[f]||(e[f]=!0,this.customStyles.push(e),this.enqueueDocumentValidation())}getStyleForCustomStyle(e){if(e[b])return e[b];let t;return t=e.getStyle?e.getStyle():e,t}processStyles(){const e=this.customStyles;for(let t=0;t<e.length;t++){const i=e[t];if(i[b])continue;const o=this.getStyleForCustomStyle(i);if(o){const e=o.__appliedElement||o;g&&g(e),i[b]=e}}return e}}
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function v(e,t){for(let i in t)null===i?e.style.removeProperty(i):e.style.setProperty(i,t[i])}y.prototype.addCustomStyle=y.prototype.addCustomStyle,y.prototype.getStyleForCustomStyle=y.prototype.getStyleForCustomStyle,y.prototype.processStyles=y.prototype.processStyles,Object.defineProperties(y.prototype,{transformCallback:{get:()=>g,set(e){g=e}},validateCallback:{get:()=>m,set(e){let t=!1;m||(t=!0),m=e,t&&this.enqueueDocumentValidation()}}});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const _=!(window.ShadyDOM&&window.ShadyDOM.inUse);let w,x;function C(e){w=(!e||!e.shimcssproperties)&&(_||Boolean(!navigator.userAgent.match(/AppleWebKit\/601|Edge\/15/)&&window.CSS&&CSS.supports&&CSS.supports("box-shadow","0 0 0 var(--foo)")))}window.ShadyCSS&&void 0!==window.ShadyCSS.cssBuild&&(x=window.ShadyCSS.cssBuild);const S=Boolean(window.ShadyCSS&&window.ShadyCSS.disableRuntime);window.ShadyCSS&&void 0!==window.ShadyCSS.nativeCss?w=window.ShadyCSS.nativeCss:window.ShadyCSS?(C(window.ShadyCSS),window.ShadyCSS=void 0):C(window.WebComponents&&window.WebComponents.flags);const O=w,k=new y;window.ShadyCSS||(window.ShadyCSS={prepareTemplate(e,t,i){},prepareTemplateDom(e,t){},prepareTemplateStyles(e,t,i){},styleSubtree(e,t){k.processStyles(),v(e,t)},styleElement(e){k.processStyles()},styleDocument(e){k.processStyles(),v(document.body,e)},getComputedStyleValue:(e,t)=>function(e,t){const i=window.getComputedStyle(e).getPropertyValue(t);return i?i.trim():""}(e,t),flushCustomStyles(){},nativeCss:O,nativeShadow:_,cssBuild:x,disableRuntime:S}),window.ShadyCSS.CustomStyleInterface=k;var E=i(272);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const I="include",T=window.ShadyCSS.CustomStyleInterface;class M extends HTMLElement{constructor(){super(),this._style=null,T.addCustomStyle(this)}getStyle(){if(this._style)return this._style;const e=this.querySelector("style");if(!e)return null;this._style=e;const t=e.getAttribute(I);return t&&(e.removeAttribute(I),e.textContent=(0,E.Vg)(t)+e.textContent),this.ownerDocument!==window.document&&window.document.head.appendChild(this),this._style}}window.customElements.define("custom-style",M);i(8383);var B=i(2619);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const D=(0,o.r)(HTMLElement).prototype},1520:(e,t,i)=>{"use strict";i(1518);var o=i(816),r=i(5565),n=i(2619);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,o.b)({_template:n.q`<!--css-build:shadow--><style scope="paper-tooltip">:host {
  display: block;
        position: absolute;
        outline: none;
        z-index: 1002;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;
        cursor: default;
}

#tooltip {
  display: block;
  outline: none;
  -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);
  line-height: 1;

	/** CPQ Style Properties */
	padding: var(--paper-tooltip-padding, 8px);
  color: var(--paper-tooltip-color, var(--paper-tooltip-text-color, white));
  font-family: var(--paper-tooltip-font-family, var(--paper-font-common-base_-_font-family));
  font-size: var(--paper-tooltip-font-size, 10px);
	border-radius: var(--paper-tooltip-border-radius, 2px);
  background-color: var(--paper-tooltip-background-color, var(--paper-tooltip-background, #616161));
	z-index: var(--paper-tooltip-z-index);
	box-shadow: var(--paper-tooltip-box-shadow);
	border: var(--paper-tooltip-border);
	opacity: var(--paper-tooltip-opacity);
}

@keyframes keyFrameScaleUp {
0% {
  transform: scale(0.0);
}

100% {
  transform: scale(1.0);
}

}

@keyframes keyFrameScaleDown {
0% {
  transform: scale(1.0);
}

100% {
  transform: scale(0.0);
}

}

@keyframes keyFrameFadeInOpacity {
0% {
  opacity: 0;
}

100% {
  opacity: var(--paper-tooltip-opacity, 0.9);
}

}

@keyframes keyFrameFadeOutOpacity {
0% {
  opacity: var(--paper-tooltip-opacity, 0.9);
}

100% {
  opacity: 0;
}

}

@keyframes keyFrameSlideDownIn {
0% {
  transform: translateY(-2000px);
          opacity: 0;
}

10% {
  opacity: 0.2;
}

100% {
  transform: translateY(0);
          opacity: var(--paper-tooltip-opacity, 0.9);
}

}

@keyframes keyFrameSlideDownOut {
0% {
  transform: translateY(0);
          opacity: var(--paper-tooltip-opacity, 0.9);
}

10% {
  opacity: 0.2;
}

100% {
  transform: translateY(-2000px);
          opacity: 0;
}

}

.fade-in-animation {
  opacity: 0;
        animation-delay: var(--paper-tooltip-delay-in, 500ms);
        animation-name: keyFrameFadeInOpacity;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: var(--paper-tooltip-duration-in, 500ms);
        animation-fill-mode: forwards;
        ;
}

.fade-out-animation {
  opacity: var(--paper-tooltip-opacity, 0.9);
        animation-delay: var(--paper-tooltip-delay-out, 0ms);
        animation-name: keyFrameFadeOutOpacity;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: var(--paper-tooltip-duration-out, 500ms);
        animation-fill-mode: forwards;
        ;
}

.scale-up-animation {
  transform: scale(0);
        opacity: var(--paper-tooltip-opacity, 0.9);
        animation-delay: var(--paper-tooltip-delay-in, 500ms);
        animation-name: keyFrameScaleUp;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: var(--paper-tooltip-duration-in, 500ms);
        animation-fill-mode: forwards;
        ;
}

.scale-down-animation {
  transform: scale(1);
        opacity: var(--paper-tooltip-opacity, 0.9);
        animation-delay: var(--paper-tooltip-delay-out, 500ms);
        animation-name: keyFrameScaleDown;
        animation-iteration-count: 1;
        animation-timing-function: ease-in;
        animation-duration: var(--paper-tooltip-duration-out, 500ms);
        animation-fill-mode: forwards;
        ;
}

.slide-down-animation {
  transform: translateY(-2000px);
        opacity: 0;
        animation-delay: var(--paper-tooltip-delay-out, 500ms);
        animation-name: keyFrameSlideDownIn;
        animation-iteration-count: 1;
        animation-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
        animation-duration: var(--paper-tooltip-duration-out, 500ms);
        animation-fill-mode: forwards;
        ;
}

.slide-down-animation-out {
  transform: translateY(0);
        opacity: var(--paper-tooltip-opacity, 0.9);
        animation-delay: var(--paper-tooltip-delay-out, 500ms);
        animation-name: keyFrameSlideDownOut;
        animation-iteration-count: 1;
        animation-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
        animation-duration: var(--paper-tooltip-duration-out, 500ms);
        animation-fill-mode: forwards;
        ;
}

.cancel-animation {
  animation-delay: -30s !important;
}

.hidden {
  display: none !important;
}

</style>

    <div id="tooltip" class="hidden">
      <slot></slot>
    </div>
`,is:"paper-tooltip",hostAttributes:{role:"tooltip",tabindex:-1},properties:{for:{type:String,observer:"_findTarget"},manualMode:{type:Boolean,value:!1,observer:"_manualModeChanged"},position:{type:String,value:"bottom"},fitToVisibleBounds:{type:Boolean,value:!1},offset:{type:Number,value:14},marginTop:{type:Number,value:14},animationDelay:{type:Number,value:500,observer:"_delayChange"},animationEntry:{type:String,value:""},animationExit:{type:String,value:""},animationConfig:{type:Object,value:function(){return{entry:[{name:"fade-in-animation",node:this,timing:{delay:0}}],exit:[{name:"fade-out-animation",node:this}]}}},_showing:{type:Boolean,value:!1}},listeners:{webkitAnimationEnd:"_onAnimationEnd"},get target(){var e=(0,r.tT)(this).parentNode,t=(0,r.tT)(this).getOwnerRoot();return this.for?(0,r.tT)(t).querySelector("#"+this.for):e.nodeType==Node.DOCUMENT_FRAGMENT_NODE?t.host:e},attached:function(){this._findTarget()},detached:function(){this.manualMode||this._removeListeners()},playAnimation:function(e){"entry"===e?this.show():"exit"===e&&this.hide()},cancelAnimation:function(){this.$.tooltip.classList.add("cancel-animation")},show:function(){if(!this._showing){if(""===(0,r.tT)(this).textContent.trim()){for(var e=!0,t=(0,r.tT)(this).getEffectiveChildNodes(),i=0;i<t.length;i++)if(""!==t[i].textContent.trim()||t[i].shadowRoot&&t[i].shadowRoot.textContent&&""!==t[i].shadowRoot.textContent.trim()){e=!1;break}if(e)return}this._showing=!0,this.$.tooltip.classList.remove("hidden"),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.updatePosition(),this._animationPlaying=!0,this.$.tooltip.classList.add(this._getAnimationType("entry"))}},hide:function(){if(this._showing){if(this._animationPlaying)return this._showing=!1,void this._cancelAnimation();this._onAnimationFinish(),this._showing=!1,this._animationPlaying=!0}},updatePosition:function(){if(this._target&&this.offsetParent){var e=this.offset;14!=this.marginTop&&14==this.offset&&(e=this.marginTop);var t,i,o=this.offsetParent.getBoundingClientRect(),r=this._target.getBoundingClientRect(),n=this.getBoundingClientRect(),s=(r.width-n.width)/2,a=(r.height-n.height)/2,l=r.left-o.left,d=r.top-o.top;switch(this.position){case"top":t=l+s,i=d-n.height-e;break;case"bottom":t=l+s,i=d+r.height+e;break;case"left":t=l-n.width-e,i=d+a;break;case"right":t=l+r.width+e,i=d+a}this.fitToVisibleBounds?(o.left+t+n.width>window.innerWidth?(this.style.right="0px",this.style.left="auto"):(this.style.left=Math.max(0,t)+"px",this.style.right="auto"),o.top+i+n.height>window.innerHeight?(this.style.bottom=o.height-d+e+"px",this.style.top="auto"):(this.style.top=Math.max(-o.top,i)+"px",this.style.bottom="auto")):(this.style.left=t+"px",this.style.top=i+"px")}},_addListeners:function(){this._target&&(this.listen(this._target,"mouseenter","show"),this.listen(this._target,"focus","show"),this.listen(this._target,"mouseleave","hide"),this.listen(this._target,"blur","hide"),this.listen(this._target,"tap","hide")),this.listen(this.$.tooltip,"animationend","_onAnimationEnd"),this.listen(this,"mouseenter","hide")},_findTarget:function(){this.manualMode||this._removeListeners(),this._target=this.target,this.manualMode||this._addListeners()},_delayChange:function(e){500!==e&&this.updateStyles({"--paper-tooltip-delay-in":e+"ms"})},_manualModeChanged:function(){this.manualMode?this._removeListeners():this._addListeners()},_cancelAnimation:function(){this.$.tooltip.classList.remove(this._getAnimationType("entry")),this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.add("hidden")},_onAnimationFinish:function(){this._showing&&(this.$.tooltip.classList.remove(this._getAnimationType("entry")),this.$.tooltip.classList.remove("cancel-animation"),this.$.tooltip.classList.add(this._getAnimationType("exit")))},_onAnimationEnd:function(){this._animationPlaying=!1,this._showing||(this.$.tooltip.classList.remove(this._getAnimationType("exit")),this.$.tooltip.classList.add("hidden"))},_getAnimationType:function(e){if("entry"===e&&""!==this.animationEntry)return this.animationEntry;if("exit"===e&&""!==this.animationExit)return this.animationExit;if(this.animationConfig[e]&&"string"==typeof this.animationConfig[e][0].name){if(this.animationConfig[e][0].timing&&this.animationConfig[e][0].timing.delay&&0!==this.animationConfig[e][0].timing.delay){var t=this.animationConfig[e][0].timing.delay;"entry"===e?this.updateStyles({"--paper-tooltip-delay-in":t+"ms"}):"exit"===e&&this.updateStyles({"--paper-tooltip-delay-out":t+"ms"})}return this.animationConfig[e][0].name}},_removeListeners:function(){this._target&&(this.unlisten(this._target,"mouseenter","show"),this.unlisten(this._target,"focus","show"),this.unlisten(this._target,"mouseleave","hide"),this.unlisten(this._target,"blur","hide"),this.unlisten(this._target,"tap","hide")),this.unlisten(this.$.tooltip,"animationend","_onAnimationEnd"),this.unlisten(this,"mouseenter","hide")}})},1669:(e,t,i)=>{"use strict";i.d(t,{R:()=>r});var o=i(6902);class r{constructor(e,t){this.prefix=o.B.org.prefix?o.B.org.prefix+"__":"",this.data=e,this.product=t,this.validationMessages=[],this.productRulesActions={},this.optionDataByOptionIdAndIndex={}}getValidationMessages(){return this.validationMessages}getProductRulesActions(){return this.productRulesActions}getOptionDataByOptionIdAndIndex(){return this.optionDataByOptionIdAndIndex}init(e){this.initValidationMessages(),this.product&&(this.initProductRulesActions(),this.initDescendantTree(e),this.initOptionDataByOptionIdAndIndex())}initValidationMessages(){if(this.data.validationMessages)for(var e of this.data.validationMessages)this.validationMessages.push(e);else for(let t of this.data.configuredProducts)for(var e of t.configuration.validationMessages)this.validationMessages.push(e)}initProductRulesActions(e){let t={},i={},o={},r={},n={},s={},a={},l={},d={};for(var c of this.data.optionConfigurations)t[c.optionData.Id||c.optionId]=!0;if(null!=this.data.disabledOptionIds)for(var u of this.data.disabledOptionIds)i[u]=!0;if(null!=this.data.hiddenOptionIds)for(var h of this.data.hiddenOptionIds)o[h]=!0;if(e)return this.assignProductRules(t,i,o);for(var p of this.product.options)this.optionNotInPricebook(p)||(this.handleProductActions(o,p,s,a,"hiddenByRule"),this.handleProductActions(i,p,l,d,"disabled"),this.handleProductActions(t,p,n,r,"selected"));this.productRulesActions={showOptions:s,hideOptions:a,selectOptions:r,deselectOptions:n,enableOptions:l,disableOptions:d}}initOptionDataByOptionIdAndIndex(){let e=this.data.optionConfigurations;for(let t=0;t<e.length;t++){let i=e[t];void 0===this.optionDataByOptionIdAndIndex[i.optionId]&&(this.optionDataByOptionIdAndIndex[i.optionId]={}),this.optionDataByOptionIdAndIndex[i.optionId][i.index]={optionData:i.optionData,listPrice:i.listPrice}}}handleProductActions(e,t,i,o,r){return"disabled"===r?e[t.record.Id]&&t.disabledData&&!t.disabledData.disabled?o[t.record.Id]=!0:!e[t.record.Id]&&t.disabledData&&t.disabledData.disabled?i[t.record.Id]=!0:void 0:e[t.record.Id]&&!t[r]?o[t.record.Id]=!0:!e[t.record.Id]&&t[r]?i[t.record.Id]=!0:void 0}assignProductRules(e,t,i){this.prefix;for(var o of(this.product.rulesProcessed=!0,this.product.options))this.optionNotInPricebook(o)||(o.selected=o.selectedByRule=!!e[o.record.Id],t[o.record.Id]&&(o.disabledData={disabled:!0,constrained:!1}),i[o.record.Id]&&(o.hidden=!0,o.hiddenByRule=!0))}initDescendantTree(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.product.nestedOptionModel;if(!e)return void(console.log&&console.warn("Skipped descendant level rules",this.product));let t={};for(var i=0;i<this.data.optionConfigurations.length;i++){let o=this.data.optionConfigurations[i];t[o.optionId]=void 0===t[o.optionId]?0:t[o.optionId]+1;let r={optionId:this.data.optionId,index:this.data.index||0},n={optionId:o.optionId,index:t[o.optionId]};o.index=t[o.optionId],e.handleDescendantRules([r,n],o.optionConfigurations,o.hiddenOptionIds,o.disabledOptionIds,o.changedByProductActions)}}optionNotInPricebook(e){return void 0===e.record[this.prefix+"UnitPrice__c"]||null==e.record[this.prefix+"UnitPrice__c"]}}},1771:(e,t,i)=>{"use strict";i(1518);var o=i(816),r=i(2619);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const n=(0,o.b)({_template:r.q`
    <style>
      :host {
        display: inline-block;
        position: fixed;
        clip: rect(0px,0px,0px,0px);
      }
    </style>
    <div aria-live$="[[mode]]">[[_text]]</div>
`,is:"iron-a11y-announcer",properties:{mode:{type:String,value:"polite"},timeout:{type:Number,value:150},_text:{type:String,value:""}},created:function(){n.instance||(n.instance=this),document.addEventListener("iron-announce",this._onIronAnnounce.bind(this))},announce:function(e){this._text="",this.async((function(){this._text=e}),this.timeout)},_onIronAnnounce:function(e){e.detail&&e.detail.text&&this.announce(e.detail.text)}});n.instance=null,n.requestAvailability=function(){n.instance||(n.instance=document.createElement("iron-a11y-announcer")),document.body?document.body.appendChild(n.instance):document.addEventListener("load",(function(){document.body.appendChild(n.instance)}))};var s=i(9735),a=i(5565);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,o.b)({_template:r.q`
    <style>
      :host {
        display: inline-block;
      }
    </style>
    <slot id="content"></slot>
`,is:"iron-input",behaviors:[s.Q],properties:{bindValue:{type:String,value:""},value:{type:String,computed:"_computeValue(bindValue)"},allowedPattern:{type:String},autoValidate:{type:Boolean,value:!1},_inputElement:Object},observers:["_bindValueChanged(bindValue, _inputElement)"],listeners:{input:"_onInput",keypress:"_onKeypress"},created:function(){n.requestAvailability(),this._previousValidInput="",this._patternAlreadyChecked=!1},attached:function(){this._observer=(0,a.tT)(this).observeNodes(function(e){this._initSlottedInput()}.bind(this))},detached:function(){this._observer&&((0,a.tT)(this).unobserveNodes(this._observer),this._observer=null)},get inputElement(){return this._inputElement},_initSlottedInput:function(){this._inputElement=this.getEffectiveChildren()[0],this.inputElement&&this.inputElement.value&&(this.bindValue=this.inputElement.value),this.fire("iron-input-ready")},get _patternRegExp(){var e;if(this.allowedPattern)e=new RegExp(this.allowedPattern);else if("number"===this.inputElement.type)e=/[0-9.,e-]/;return e},_bindValueChanged:function(e,t){t&&(void 0===e?t.value=null:e!==t.value&&(this.inputElement.value=e),this.autoValidate&&this.validate(),this.fire("bind-value-changed",{value:e}))},_onInput:function(){this.allowedPattern&&!this._patternAlreadyChecked&&(this._checkPatternValidity()||(this._announceInvalidCharacter("Invalid string of characters not entered."),this.inputElement.value=this._previousValidInput));this.bindValue=this._previousValidInput=this.inputElement.value,this._patternAlreadyChecked=!1},_isPrintable:function(e){var t=8==e.keyCode||9==e.keyCode||13==e.keyCode||27==e.keyCode,i=19==e.keyCode||20==e.keyCode||45==e.keyCode||46==e.keyCode||144==e.keyCode||145==e.keyCode||e.keyCode>32&&e.keyCode<41||e.keyCode>111&&e.keyCode<124;return!(t||0==e.charCode&&i)},_onKeypress:function(e){if(this.allowedPattern||"number"===this.inputElement.type){var t=this._patternRegExp;if(t&&!(e.metaKey||e.ctrlKey||e.altKey)){this._patternAlreadyChecked=!0;var i=String.fromCharCode(e.charCode);this._isPrintable(e)&&!t.test(i)&&(e.preventDefault(),this._announceInvalidCharacter("Invalid character "+i+" not entered."))}}},_checkPatternValidity:function(){var e=this._patternRegExp;if(!e)return!0;for(var t=0;t<this.inputElement.value.length;t++)if(!e.test(this.inputElement.value[t]))return!1;return!0},validate:function(){if(!this.inputElement)return this.invalid=!1,!0;var e=this.inputElement.checkValidity();return e&&(this.required&&""===this.bindValue?e=!1:this.hasValidator()&&(e=s.Q.validate.call(this,this.bindValue))),this.invalid=!e,this.fire("iron-input-validate"),e},_announceInvalidCharacter:function(e){this.fire("iron-announce",{text:e})},_computeValue:function(e){return e}})},1776:(e,t,i)=>{"use strict";i.d(t,{m:()=>l});var o=i(6902);function r(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s{constructor(e,t,i){this.sessionId=e,this.version=t||this._getApiVersion(),this.connectionOptions=i||{}}getConnection(){let e=new jsforce.Connection(function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({sessionId:this.sessionId,version:this.version,instanceUrl:o.B.user.inCommunity?o.B.org.orgUrl:o.B.org.orgInstanceUrl},this.connectionOptions));return e.oik=o.B.user.oik,e}_getApiVersion(){if("undefined"!=typeof SB&&SB&&void 0!==SB.Constants&&SB.Constants&&void 0!==SB.Constants.apiVersion&&SB.Constants.apiVersion)return SB.Constants.apiVersion;throw new Error("Unable to process request: Could not determine API version")}}var a=i(2459);class l{constructor(e){this.prefix=e}getConnection(e){return"undefined"!=typeof Visualforce?Promise.resolve(this.getRemoteConnection(null,e)):(new a.W).getConnection()}getRemoteConnection(e,t){return new s(window.sb.vfSessionId,e,t).getConnection()}}},1837:(e,t,i)=>{"use strict";i.d(t,{r:()=>P});var o=i(458),r=i(9866),n=i(6986),s=i(8246);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const a=/:host\(:dir\((ltr|rtl)\)\)/g,l=/([\s\w-#\.\[\]\*]*):dir\((ltr|rtl)\)/g,d=/:dir\((?:ltr|rtl)\)/,c=Boolean(window.ShadyDOM&&window.ShadyDOM.inUse),u=[];let h=null,p="";function f(){p=document.documentElement.getAttribute("dir")}function b(e){if(!e.__autoDirOptOut){e.setAttribute("dir",p)}}function g(){f(),p=document.documentElement.getAttribute("dir");for(let e=0;e<u.length;e++)b(u[e])}const m=(0,s.y)((e=>{c||h||(f(),h=new MutationObserver(g),h.observe(document.documentElement,{attributes:!0,attributeFilter:["dir"]}));const t=(0,n.W)(e);class i extends t{static _processStyleText(e,i){return e=t._processStyleText.call(this,e,i),!c&&d.test(e)&&(e=this._replaceDirInCssText(e),this.__activateDir=!0),e}static _replaceDirInCssText(e){let t=e;return t=t.replace(a,':host([dir="$1"])'),t=t.replace(l,':host([dir="$2"]) $1'),t}constructor(){super(),this.__autoDirOptOut=!1}ready(){super.ready(),this.__autoDirOptOut=this.hasAttribute("dir")}connectedCallback(){t.prototype.connectedCallback&&super.connectedCallback(),this.constructor.__activateDir&&(h&&h.takeRecords().length&&g(),u.push(this),b(this))}disconnectedCallback(){if(t.prototype.disconnectedCallback&&super.disconnectedCallback(),this.constructor.__activateDir){const e=u.indexOf(this);e>-1&&u.splice(e,1)}}}return i.__activateDir=!1,i}));i(9137);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function y(){document.body.removeAttribute("unresolved")}"interactive"===document.readyState||"complete"===document.readyState?y():window.addEventListener("DOMContentLoaded",y);var v=i(5565),_=i(891),w=i(7212),x=i(7695),C=i(3080),S=i(8591);i(8443);
/**
@license
Copyright (c) 2019 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const O=window.ShadyDOM,k=window.ShadyCSS;function E(e,t){return(0,S.L)(e).getRootNode()===t}var I=i(7586);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
const T="disable-upgrade",M=e=>{for(;e;){const t=Object.getOwnPropertyDescriptor(e,"observedAttributes");if(t)return t.get;e=Object.getPrototypeOf(e.prototype).constructor}return()=>[]};(0,s.y)((e=>{const t=(0,o.q2)(e);let i=M(t);return class extends t{constructor(){super(),this.__isUpgradeDisabled}static get observedAttributes(){return i.call(this).concat(T)}_initializeProperties(){this.hasAttribute(T)?this.__isUpgradeDisabled=!0:super._initializeProperties()}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}attributeChangedCallback(e,t,i,o){e==T?this.__isUpgradeDisabled&&null==i&&(super._initializeProperties(),this.__isUpgradeDisabled=!1,(0,S.L)(this).isConnected&&super.connectedCallback()):super.attributeChangedCallback(e,t,i,o)}connectedCallback(){this.__isUpgradeDisabled||super.connectedCallback()}disconnectedCallback(){this.__isUpgradeDisabled||super.disconnectedCallback()}}}));var B=i(3888);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const D="disable-upgrade";window.ShadyCSS;const P=(0,s.y)((e=>{const t=(0,r.b)((0,o.q2)(e)),i=o.IS?t:m(t),n=M(i),s={x:"pan-x",y:"pan-y",none:"none",all:"auto"};class a extends i{constructor(){super(),this.isAttached,this.__boundListeners,this._debouncers,this.__isUpgradeDisabled,this.__needsAttributesAtConnected,this._legacyForceObservedAttributes}static get importMeta(){return this.prototype.importMeta}created(){}__attributeReaction(e,t,i){(this.__dataAttributes&&this.__dataAttributes[e]||e===D)&&this.attributeChangedCallback(e,t,i,null)}setAttribute(e,t){if(I.CE&&!this._legacyForceObservedAttributes){const i=this.getAttribute(e);super.setAttribute(e,t),this.__attributeReaction(e,i,String(t))}else super.setAttribute(e,t)}removeAttribute(e){if(I.CE&&!this._legacyForceObservedAttributes){const t=this.getAttribute(e);super.removeAttribute(e),this.__attributeReaction(e,t,null)}else super.removeAttribute(e)}static get observedAttributes(){return I.CE&&!this.prototype._legacyForceObservedAttributes?(this.hasOwnProperty(JSCompiler_renameProperty("__observedAttributes",this))||(this.__observedAttributes=[],(0,B.kz)(this.prototype)),this.__observedAttributes):n.call(this).concat(D)}_enableProperties(){this.__isUpgradeDisabled||super._enableProperties()}_canApplyPropertyDefault(e){return super._canApplyPropertyDefault(e)&&!(this.__isUpgradeDisabled&&this._isPropertyPending(e))}connectedCallback(){this.__needsAttributesAtConnected&&this._takeAttributes(),this.__isUpgradeDisabled||(super.connectedCallback(),this.isAttached=!0,this.attached())}attached(){}disconnectedCallback(){this.__isUpgradeDisabled||(super.disconnectedCallback(),this.isAttached=!1,this.detached())}detached(){}attributeChangedCallback(e,t,i,o){t!==i&&(e==D?this.__isUpgradeDisabled&&null==i&&(this._initializeProperties(),this.__isUpgradeDisabled=!1,(0,S.L)(this).isConnected&&this.connectedCallback()):(super.attributeChangedCallback(e,t,i,o),this.attributeChanged(e,t,i)))}attributeChanged(e,t,i){}_initializeProperties(){if(I.IP&&this.hasAttribute(D))this.__isUpgradeDisabled=!0;else{let e=Object.getPrototypeOf(this);e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))||(this._registered(),e.__hasRegisterFinished=!0),super._initializeProperties(),this.root=this,this.created(),I.CE&&!this._legacyForceObservedAttributes&&(this.hasAttributes()?this._takeAttributes():this.parentNode||(this.__needsAttributesAtConnected=!0)),this._applyListeners()}}_takeAttributes(){const e=this.attributes;for(let t=0,i=e.length;t<i;t++){const i=e[t];this.__attributeReaction(i.name,null,i.value)}}_registered(){}ready(){this._ensureAttributes(),super.ready()}_ensureAttributes(){}_applyListeners(){}serialize(e){return this._serializeValue(e)}deserialize(e,t){return this._deserializeValue(e,t)}reflectPropertyToAttribute(e,t,i){this._propertyToAttribute(e,t,i)}serializeValueToAttribute(e,t,i){this._valueToNodeAttribute(i||this,e,t)}extend(e,t){if(!e||!t)return e||t;let i=Object.getOwnPropertyNames(t);for(let o,r=0;r<i.length&&(o=i[r]);r++){let i=Object.getOwnPropertyDescriptor(t,o);i&&Object.defineProperty(e,o,i)}return e}mixin(e,t){for(let i in t)e[i]=t[i];return e}chainObject(e,t){return e&&t&&e!==t&&(e.__proto__=t),e}instanceTemplate(e){let t=this.constructor._contentForTemplate(e);return document.importNode(t,!0)}fire(e,t,i){i=i||{},t=null==t?{}:t;let o=new Event(e,{bubbles:void 0===i.bubbles||i.bubbles,cancelable:Boolean(i.cancelable),composed:void 0===i.composed||i.composed});o.detail=t;let r=i.node||this;return(0,S.L)(r).dispatchEvent(o),o}listen(e,t,i){e=e||this;let o=this.__boundListeners||(this.__boundListeners=new WeakMap),r=o.get(e);r||(r={},o.set(e,r));let n=t+i;r[n]||(r[n]=this._addMethodEventListenerToNode(e,t,i,this))}unlisten(e,t,i){e=e||this;let o=this.__boundListeners&&this.__boundListeners.get(e),r=t+i,n=o&&o[r];n&&(this._removeEventListenerFromNode(e,t,n),o[r]=null)}setScrollDirection(e,t){(0,_.wB)(t||this,s[e]||"auto")}$$(e){return this.root.querySelector(e)}get domHost(){let e=(0,S.L)(this).getRootNode();return e instanceof DocumentFragment?e.host:e}distributeContent(){const e=(0,v.tT)(this);window.ShadyDOM&&e.shadowRoot&&ShadyDOM.flush()}getEffectiveChildNodes(){return(0,v.tT)(this).getEffectiveChildNodes()}queryDistributedElements(e){return(0,v.tT)(this).queryDistributedElements(e)}getEffectiveChildren(){return this.getEffectiveChildNodes().filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}getEffectiveTextContent(){let e=this.getEffectiveChildNodes(),t=[];for(let i,o=0;i=e[o];o++)i.nodeType!==Node.COMMENT_NODE&&t.push(i.textContent);return t.join("")}queryEffectiveChildren(e){let t=this.queryDistributedElements(e);return t&&t[0]}queryAllEffectiveChildren(e){return this.queryDistributedElements(e)}getContentChildNodes(e){let t=this.root.querySelector(e||"slot");return t?(0,v.tT)(t).getDistributedNodes():[]}getContentChildren(e){return this.getContentChildNodes(e).filter((function(e){return e.nodeType===Node.ELEMENT_NODE}))}isLightDescendant(e){const t=this;return t!==e&&(0,S.L)(t).contains(e)&&(0,S.L)(t).getRootNode()===(0,S.L)(e).getRootNode()}isLocalDescendant(e){return this.root===(0,S.L)(e).getRootNode()}scopeSubtree(e){return function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!O||!k)return null;if(!O.handlesDynamicScoping)return null;const i=k.ScopingShim;if(!i)return null;const o=i.scopeForNode(e),r=(0,S.L)(e).getRootNode(),n=e=>{if(!E(e,r))return;const t=Array.from(O.nativeMethods.querySelectorAll.call(e,"*"));t.push(e);for(let e=0;e<t.length;e++){const n=t[e];if(!E(n,r))continue;const s=i.currentScopeForNode(n);s!==o&&(""!==s&&i.unscopeNode(n,s),i.scopeNode(n,o))}};if(n(e),t){const t=new MutationObserver((e=>{for(let t=0;t<e.length;t++){const i=e[t];for(let e=0;e<i.addedNodes.length;e++){const t=i.addedNodes[e];t.nodeType===Node.ELEMENT_NODE&&n(t)}}}));return t.observe(e,{childList:!0,subtree:!0}),t}return null}(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1])}getComputedStyleValue(e){return(window.getComputedStyle(this).getPropertyValue(e)||"").trim()}debounce(e,t,i){return this._debouncers=this._debouncers||{},this._debouncers[e]=w.aq.debounce(this._debouncers[e],i>0?x.EV.after(i):x._3,t.bind(this))}isDebouncerActive(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];return!(!t||!t.isActive())}flushDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.flush()}cancelDebouncer(e){this._debouncers=this._debouncers||{};let t=this._debouncers[e];t&&t.cancel()}async(e,t){return t>0?x.EV.run(e.bind(this),t):~x._3.run(e.bind(this))}cancelAsync(e){e<0?x._3.cancel(~e):x.EV.cancel(e)}create(e,t){let i=document.createElement(e);if(t)if(i.setProperties)i.setProperties(t);else for(let e in t)i[e]=t[e];return i}elementMatches(e,t){return(0,v.B5)(t||this,e)}toggleAttribute(e,t){let i=this;return 3===arguments.length&&(i=arguments[2]),1==arguments.length&&(t=!i.hasAttribute(e)),t?((0,S.L)(i).setAttribute(e,""),!0):((0,S.L)(i).removeAttribute(e),!1)}toggleClass(e,t,i){i=i||this,1==arguments.length&&(t=!i.classList.contains(e)),t?i.classList.add(e):i.classList.remove(e)}transform(e,t){(t=t||this).style.webkitTransform=e,t.style.transform=e}translate3d(e,t,i,o){o=o||this,this.transform("translate3d("+e+","+t+","+i+")",o)}arrayDelete(e,t){let i;if(Array.isArray(e)){if(i=e.indexOf(t),i>=0)return e.splice(i,1)}else{if(i=(0,C.Jt)(this,e).indexOf(t),i>=0)return this.splice(e,i,1)}return null}_logger(e,t){switch(Array.isArray(t)&&1===t.length&&Array.isArray(t[0])&&(t=t[0]),e){case"log":case"warn":case"error":console[e](...t)}}_log(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._logger("log",t)}_warn(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._logger("warn",t)}_error(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];this._logger("error",t)}_logf(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return["[%s::%s]",this.is,e,...i]}}return a.prototype.is="",a}))},1863:(e,t,i)=>{"use strict";i(1518);const o=i(2619).q`
				<dom-module id="sb-dialogs-styles">
					<template>
					  <style>
							/* global */
/*
Modal dialog mask

The layer behind the dialog that masks the entire page.
*/
.sbModalMask {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--sbDialogMaskColor);
  opacity: 0.8;
  z-index: 1000;
}
/*
Modal Dialog

A dialog with modality that takes up the entire page.
 */
.dialog {
  background-color: var(--sbDialogBgColor);
  border-radius: var(--sbDialogBorderRadius);
  position: fixed;
  left: 0;
  right: 0;
  margin: 0 auto;
  z-index: 1001;
  color: var(--sbFontColor);
  box-shadow: none;
  font-family: var(--sbDialogFontFamily);
  -webkit-font-smoothing: auto;
}
.dialog > header {
  border-bottom: var(--sbDialogHeaderBorder);
  padding-top: var(--sbDialogHeaderPaddingTop);
  padding-right: var(--sbDialogHeaderPaddingRight);
  padding-bottom: var(--sbDialogHeaderPaddingBottom);
  padding-left: var(--sbDialogHeaderPaddingLeft);
  text-align: center;
  margin-top: 0px !important;
}
.dialog > header > .icon {
  font-size: var(--sbIcon20);
}
.dialog > header > * {
  vertical-align: middle;
}
.dialog > header > h2 {
  margin: 0 0 0 0px;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
.dialog > header > .sf-icon-close {
  font-size: var(--sbIcon30);
  position: absolute;
  top: -50px;
  right: 0px;
}
.dialog > header > .sf-icon-close:hover {
  cursor: pointer;
}
.dialog > header > .sf-icon-close:before {
  color: var(--sbDialogCloseColor);
}
.dialog > .content {
  overflow: auto;
  margin-top: 0px;
  padding: 24px;
}
.dialog > footer {
  border-top-width: var(--sbDialogFooterBorderWidth);
  border-top-style: var(--sbDialogFooterBorderStyle);
  border-top-color: var(--sbDialogFooterBorderColor);
  padding: 12px 16px;
  border-bottom-left-radius: var(--sbDialogBorderRadius);
  border-bottom-right-radius: var(--sbDialogBorderRadius);
  background-color: var(--sbDialogFooterColor);
  display: inline-table;
  margin-bottom: 0px !important;
  width: 100%;
  box-sizing: border-box;
  margin-top: 0px;
}
.dialog > footer > paper-button {
  float: right;
  margin: 0px 0px 0px 16px;
}
.dialog > footer .buttons {
  float: right;
}

						</style>
					</template>
				</dom-module>`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},1876:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});var o=i(5118);class r{parse(e){return JSON.parse(e,this._reviver)}_reviver(e,t){if("ui_original_record"!==e)return t;if(!t)return t;let i=this.record,r=t.cacheName,n=t.cacheId,s=t.cachedOriginalRecordPath||[],a=t.cloneRecordIfNoCache,l=s.length;if(!(r&&n&&l>0))return a?JSON.parse(JSON.stringify(i)):null;let d=o.l.get(r,n.substring(0,15));if(!d)return a?JSON.parse(JSON.stringify(i)):null;let c=d[s[0]];for(let e=1;e<l;e++){let t=s[e];try{let e=parseInt(t);t=isNaN(e)?t:e}catch(e){}c=c?c[t]:null}return c||(a?JSON.parse(JSON.stringify(i)):null)}}},1890:(e,t,i)=>{"use strict";i.d(t,{u:()=>r});var o=i(5986);class r{constructor(e,t,i,o){this._validateConstructorInputs(i,o),this.field=e,this.record=t,this.getValueCallback=i,this.setValueCallback=o}hasRelationship(){return!!this.getRelationship()}getRelationship(){let e=r.getRelationshipField(this.field);if(e)return null!=this.getValueCallback?this.getValueCallback(e):this.record[e]}getRelationshipName(e){let t=this.getRelationship();if(t)return t[e||this._getLookupName(t)]}addRelationshipName(e,t,i){let o=this.buildRelationship(e,t,i);if(o.value.Id||(o.value=null),o)return null!=this.setValueCallback?this.setValueCallback(o.field,o.value):void(this.record[o.field]=o.value)}buildRelationship(e,t,i){let n=r.getRelationshipField(this.field);if(!n)return;let s=this.getRelationship()||{},a=new o.X(i).getNameField();return s.Id=e,s[a]=t,{value:s,field:n}}_getLookupName(e){let t=e.attributes?e.attributes.type:"";return new o.X(t).getNameField()}static getRelationshipField(e,t){let i;return e.endsWith("__c")?i=e.replace(/__c$/,"__r"):e.endsWith("Id")&&(i=e.substring(0,e.length-2)),i&&t?i+"."+new o.X(t).getNameField():i}_validateConstructorInputs(e,t){if(null!=e&&"function"!=typeof e)throw new TypeError("callbacks required when record is null");if(null!=t&&"function"!=typeof t)throw new TypeError("callbacks required when record is null")}}},1921:(e,t,i)=>{"use strict";i.d(t,{K:()=>s});var o=i(3311),r=i(6902),n=i(7180);class s{constructor(e,t,i,n,s){this.editable=e,this.metadata=t,this.i18n=i,this.type=n,this.viewport=s||o.L.getViewport(),this.appContext=r.B}format(e,t){let i={};if(null!=this.metadata.scale&&this.metadata.scale>=0&&(i.minimumFractionDigits=this.metadata.scale,i.maximumFractionDigits=this.metadata.scale),t&&("currency"===this.type?this._setCurrencyFormatOptions(i):"percent"===this.type&&(this._setPercentFormatOptions(i),e=null!=e?e/100:null)),this.editable&&this.isMobile()&&!n.h.isCommaDecimal()&&(i.useGrouping=!1),this.isNil(e))return null;try{let t=this.i18n.format(e,i);if("NaN"===t)throw new Error(`${e} is not a number`);return t}catch(t){return e}}isNil(e){return null==e||""===e||isNaN(e)}isMobile(){return this.viewport&&this.viewport.isMobile()}_setCurrencyFormatOptions(e){e.style="currency",this.appContext.org.isMultiCurrencyOrg?(e.currency=this.metadata&&this.metadata.CurrencyIsoCode?this.metadata.CurrencyIsoCode:this.appContext.org.defaultCurrency,e.currencyDisplay="code"):(e.currencyDisplay="symbol",this.appContext.org.currencySymbol?e.currency="XXX":e.currency=this.appContext.org.defaultCurrency)}_setPercentFormatOptions(e){e.style="percent"}}},1924:(e,t,i)=>{"use strict";i.d(t,{F:()=>f});var o=i(1111),r=i(6206);function n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function s(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?n(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let l,d,c,u,h=new r.J0.Map,p=new r.J0.Map;class f{static init(e,t,i,o){u=e,d=t,l=i,c=o}static getLabels(){return(window&&window.sb||{}).labels||o.k}static localize(e,t){let i=f.getLabels()[e]||e;return/{[0-9]}/.test(i)&&t&&t.length>0&&(i=function(e,t){for(let i=0,o=t.length;i<o;i++)e=e.replace(new RegExp("{["+i+"]}","g"),t[i]);return e}(i,t)),i}static l(e,t){return f.localize(e,t)}static addLocaleData(e){e&&(u=e)}static getLocaleData(e){return u}static format(e,t,i){let o=t||{},n=m(i);if(e||0==e){if(e instanceof Date||o.date)return g(n,s(s({},o),{},{timeZone:"UTC"}),!0).format((0,r.tx)(e));{let t=g(n,o,!1).format(e);return"currency"===o.style&&(t=function(e,t){let i;if("XXX"===e.currency)if(t.includes("XXX")){const e=t.indexOf("XXX");i=t.substr(0,e)+l+t.substring(e+3)}else i=l+t;else{let o;"code"===e.currencyDisplay&&(o=t.indexOf("-")>-1,o&&(t=t.replace("-","")));const r=o?" -":"";i=t.replace(e.currency,e.currency+r)}return i=b(i,160," "),i=b(i,164," "),i.trim()}(o,t)),t}}return""}static formatTime(e,t){let i=m(t);if(null!=e){const t=new Date(`1970-01-01T${e}`);if(!isNaN(t))return t.toLocaleTimeString(i,{timeZone:"UTC",hour:"numeric",minute:"numeric"})}return""}static parseTime(e){const t=/\d?\d:\d\d *(am)?(pm)?/i;if(t.test(e)){e=e.match(t)[0]+" UTC";const i=new Date(`1970/01/01 ${e}`);if(!isNaN(i))return i.toISOString().split("T")[1]}return null}}function b(e,t,i){if(e.indexOf(String.fromCharCode(t))>-1){const o=new RegExp(String.fromCharCode(t),"g");return e.replace(o,i)}return e}function g(e,t,i){let o=null;if(e&&t){let n=i?h.get(e):p.get(e);if(!n){n=new r.J0.Map,(i?h:p).set(e,n)}let s=JSON.stringify(t);o=n.get(s),o||(o=i?new Intl.DateTimeFormat(e,t):new Intl.NumberFormat(e,t),n.set(s,o))}return o}function m(e){let t=(e||{}).locale||c;return"no-NO"===t?"nb-NO":t}},1925:(e,t,i)=>{"use strict";var o=i(3311),r=i(9067),n=i(1149),s=i(4886),a=i(178),l=i(9137),d=i(6206),c=i(7734);const u=i(2619).b`
:host {
  display: table-row-group;
  background-color: var(--sbTableHeaderBgColor);
  color: var(--sbTableHeaderColor);
  font-family: var(--sbTableHeaderFontFamily);
  font-size: var(--sbTableHeaderFontSize);
  font-weight: var(--sbTableHeaderFontWeight);
  font-style: var(--sbTableHeaderFontStyle);
  text-decoration: var(--sbTableHeaderTextDecoration);
}
:host .th {
  border-bottom-width: var(--sbTableHeaderBorderBottomWidth);
  border-bottom-style: var(--sbTableHeaderBorderBottomStyle);
  border-bottom-color: var(--sbTableHeaderBorderBottomColor);
}
:host #table-header {
  display: table;
}
:host .hidden {
  display: none;
}
:host p {
  text-transform: none;
}
:host #drawerPlaceHolder {
  min-width: 40px;
  max-width: 40px;
}
`;i(7543),i(1520),i(4074),i(7517),i(9704),i(8900),i(379);class h extends((0,s.$)((0,a.T)(c.Pu))){static get is(){return"sb-table-header"}static get properties(){return{cols:Array,selectable:Boolean,selectionType:{type:String,value:"checkbox"},selected:{type:Boolean,value:!1,notify:!0},selectionDisabled:{type:Boolean,value:!1},selectionTooltip:String,headerClassMap:{type:Object,value:{}},columnWidths:{type:Object,value:null},viewport:{type:Object,value:function(){return o.L.getViewport()}},headerActions:Array,hideHiddenSelectable:{type:Boolean,value:!1}}}get events(){let e={};return e[n.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}ready(){super.ready(),this.isMobile=this._isMobileViewport()}static get observers(){return["_buildLabelsObserver(cols, headerClassMap, columnWidths)","_setSelectableObserver(selectable, selectionType)","_setSelectedObserver(selected, selectable, selectionType)"]}_isMobileViewport(){return this.viewport&&this.viewport.isMobile()}viewportChanged(e){this.viewport=e.detail.viewport}setIsMobile(e){if(e)return e.isMobile()}viewportChanged(e){this.viewport=e.detail.viewport}_buildLabelsObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.buildLabels(e,t,i)}buildLabels(){var e={},t=[];let i=0;this.cols.forEach((function(o){o&&(t.push(i),e[i++]=o)})),this.$.header.data=void 0,this.$.header.itemClassMap=this.headerClassMap,this.$.header.columnWidths=this.columnWidths,this.$.header.group||(this.$.header.group=t),this.$.header.data=e}_setSelectableObserver(e,t){if(void 0!==e&&void 0!==t)return this.setSelectable(e,t)}setSelectable(){this.selectable&&(this.registeredDataChangedHandler||(this.registeredDataChangedHandler=!0,(0,l.m)(this,this.registerSelectionChangedHandler.bind(this))))}registerSelectionChangedHandler(){this.$.selection.addEventListener("data-changed",this.selectionChangedHandler.bind(this))}selectionChangedHandler(e){"template"!==e.composedPath()[0].nodeName.toLowerCase()&&(this.internal=!0,this.selected=void 0!==e.detail.value[this.selectionType]?e.detail.value[this.selectionType]:e.detail.value,this.internal=!1,this.dispatchEvent((0,n.uv)("header-selection-changed",{selected:this.selected})))}_setSelectedObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.setSelected(e,t,i)}setSelected(){if(this.internal)return;let e="radio"===this.selectionType?"radio":"checkbox";this.$.selection.group||(this.$.selection.group=[e]);let t={disabled:this.selectionDisabled},i=this.selected;t[e]=i;let o=new r.X(!this.selectable).hide;o.type="invisible",t.hidden=o,this.$.selection.data=t;let n=!!this.hideHiddenSelectable&&!this.selectable;(0,d.p1)("hidden",n,this.$.selection)}_showHeaderActions(e){if(!this.headerActions||0===this.headerActions.length)return!1;for(let t=0,i=this.headerActions.length;t<i;t++)if(this.headerActions[t].position==e&&!this.headerActions[t].hidden)return!0;return!1}static get template(){return c.qy`
		<style include="sb-common-styles sb-tables-styles"></style>
		<style>${u}</style>

		<div id="table-header" device>
		<sb-group id="selection" item="sb-table-cell-select" class="th hidden"></sb-group>
		<template is="dom-if" if="[[selectionTooltip]]">
			<paper-tooltip for="selection" animation-delay="250" offset="5" fit-to-visible-bounds="true">
				<p>[[selectionTooltip]]</p>
			</paper-tooltip>
		</template>
		<template is="dom-if" if="[[!isMobile]]">
			<template is="dom-if" if="[[_showHeaderActions('left', headerActions.*)]]">
				<div class="th">
					<sb-actions
							selected="[[selected]]"
							position="left"
							row-actions="[[headerActions]]"
					></sb-actions>
				</div>
			</template>
		</template>
		<div id="headerRow" class="th">
			<sb-group
					id="header"
					item="sb-div"
					model="[[model]]"
					group-class="tgroup"
					item-class="innerTh"
			></sb-group>
		</div>
		<template is="dom-if" if="[[!isMobile]]">
			<template is="dom-if" if="[[_showHeaderActions('right', headerActions.*)]]">
				<div class="th">
					<sb-actions
							selected="[[selected]]"
							position="right"
							row-actions="[[headerActions]]"
					></sb-actions>
				</div>
			</template>
		</template>
			<template is="dom-if" if="[[hasPlaceholder]]">
				<div id="drawerPlaceHolder" class="th"></div>
			</template>
		</div>
		`}}customElements.define(h.is,h)},2018:(e,t,i)=>{"use strict";i.d(t,{L:()=>o});i(1518);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=[{properties:{animationConfig:{type:Object},entryAnimation:{observer:"_entryAnimationChanged",type:String},exitAnimation:{observer:"_exitAnimationChanged",type:String}},_entryAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.entry=[{name:this.entryAnimation,node:this}]},_exitAnimationChanged:function(){this.animationConfig=this.animationConfig||{},this.animationConfig.exit=[{name:this.exitAnimation,node:this}]},_copyProperties:function(e,t){for(var i in t)e[i]=t[i]},_cloneConfig:function(e){var t={isClone:!0};return this._copyProperties(t,e),t},_getAnimationConfigRecursive:function(e,t,i){var o;if(this.animationConfig)if(this.animationConfig.value&&"function"==typeof this.animationConfig.value)this._warn(this._logf("playAnimation","Please put 'animationConfig' inside of your components 'properties' object instead of outside of it."));else if(o=e?this.animationConfig[e]:this.animationConfig,Array.isArray(o)||(o=[o]),o)for(var r,n=0;r=o[n];n++)if(r.animatable)r.animatable._getAnimationConfigRecursive(r.type||e,t,i);else if(r.id){var s=t[r.id];s?(s.isClone||(t[r.id]=this._cloneConfig(s),s=t[r.id]),this._copyProperties(s,r)):t[r.id]=r}else i.push(r)},getAnimationConfig:function(e){var t={},i=[];for(var o in this._getAnimationConfigRecursive(e,t,i),t)i.push(t[o]);return i}},{_configureAnimations:function(e){var t=[],i=[];if(e.length>0)for(let t,o=0;t=e[o];o++){let e=document.createElement(t.name);if(e.isNeonAnimation){let o=null;e.configure||(e.configure=function(e){return null}),o=e.configure(t),i.push({result:o,config:t,neonAnimation:e})}else console.warn(this.is+":",t.name,"not found!")}for(var o=0;o<i.length;o++){let e=i[o].result,r=i[o].config,n=i[o].neonAnimation;try{"function"!=typeof e.cancel&&(e=document.timeline.play(e))}catch(t){e=null,console.warn("Couldnt play","(",r.name,").",t)}e&&t.push({neonAnimation:n,config:r,animation:e})}return t},_shouldComplete:function(e){for(var t=!0,i=0;i<e.length;i++)if("finished"!=e[i].animation.playState){t=!1;break}return t},_complete:function(e){for(var t=0;t<e.length;t++)e[t].neonAnimation.complete(e[t].config);for(t=0;t<e.length;t++)e[t].animation.cancel()},playAnimation:function(e,t){var i=this.getAnimationConfig(e);if(i){this._active=this._active||{},this._active[e]&&(this._complete(this._active[e]),delete this._active[e]);var o=this._configureAnimations(i);if(0!=o.length){this._active[e]=o;for(var r=0;r<o.length;r++)o[r].animation.onfinish=function(){this._shouldComplete(o)&&(this._complete(o),delete this._active[e],this.fire("neon-animation-finish",t,{bubbles:!1}))}.bind(this)}else this.fire("neon-animation-finish",t,{bubbles:!1})}},cancelAnimation:function(){for(var e in this._active){var t=this._active[e];for(var i in t)t[i].animation.cancel()}this._active={}}}]},2214:(e,t,i)=>{"use strict";i.d(t,{z:()=>n});let o={0:"",1:"[[",2:"{{"},r={0:"",1:"]]",2:"}}"};class n{constructor(e){this.name=e,this.attributes=[],this.events=[]}addAttribute(e,t,i,o,r){this.attributes.push({name:e,binding:t,variable:i,value:o,equals:r||"="})}addEvent(e,t,i){this.events.push({event:e,variable:t,handler:i})}setInnerText(e,t,i){this.innerText={variable:e,binding:t,value:i}}get formattedValue(){return this._formattedValue}set formattedValue(e){this._formattedValue=null!=e&&-1!==Object.keys(e).indexOf("label")?e:{value:e,label:e}}get defaultValue(){return this._defaultValue}set defaultValue(e){this._defaultValue=e}get readOnlyKeyEvent(){return this._readOnlyKeyEvent||"keyup"}set readOnlyKeyEvent(e){this._readOnlyKeyEvent=e}get readOnlyKeyDownEvent(){return this._readOnlyKeyDownEvent||"keydown"}set readOnlyKeyDownEvent(e){this._readOnlyKeyDownEvent=e}get readOnlyBlurEvent(){return this._readOnlyBlurEvent||"blur"}set readOnlyBlurEvent(e){this._readOnlyBlurEvent=e}get changeEvent(){return this._changeEvent||"change"}set changeEvent(e){this._changeEvent=e}get numeric(){return!!this._numeric}set numeric(e){this._numeric=e}get html(){return this._html}attachTo(e,t,i,n,s,a,l){this._html=`<${this.name}`,this.attributes.forEach((t=>{this._html+=` ${t.name}${t.equals}"${o[t.binding]}${t.variable}${r[t.binding]}"`,e[t.variable]=t.value})),this.events.forEach((t=>{this._html+=` on-${t.event}="${t.variable}"`,e[t.variable]=t.handler})),t&&(this._html+=` on-${this.readOnlyKeyEvent}="${t}"`),i&&(this._html+=` on-${this.readOnlyKeyDownEvent}="${i}"`),n&&(this._html+=` on-${this.readOnlyBlurEvent}="${n}"`),s&&(this._html+=` on-${this.changeEvent}="${s}"`),a&&(this._html+=` hidden$="[[${a}]]"`),l&&(this._html+=' focus-on-attached="true"'),this._html+=' apply-focus="[[applyFocus]]"',this._html+=">",this.innerText&&(this._html+=`${o[this.innerText.binding]}${this.innerText.variable}${r[this.innerText.binding]}`,e[this.innerText.variable]=this.innerText.value),this._html+=`</${this.name}>`}}},2367:(e,t,i)=>{"use strict";i(1518);var o=i(816);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,o.b)({is:"iron-media-query",properties:{queryMatches:{type:Boolean,value:!1,readOnly:!0,notify:!0},query:{type:String,observer:"queryChanged"},full:{type:Boolean,value:!1},_boundMQHandler:{value:function(){return this.queryHandler.bind(this)}},_mq:{value:null}},attached:function(){this.style.display="none",this.queryChanged()},detached:function(){this._remove()},_add:function(){this._mq&&this._mq.addListener(this._boundMQHandler)},_remove:function(){this._mq&&this._mq.removeListener(this._boundMQHandler),this._mq=null},queryChanged:function(){this._remove();var e=this.query;e&&(this.full||"("===e[0]||(e="("+e+")"),this._mq=window.matchMedia(e),this._add(),this.queryHandler(this._mq))},queryHandler:function(e){this._setQueryMatches(e.matches)}});var r=i(6502);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,o.b)({is:"iron-selector",behaviors:[r.k]});var n=i(35),s=i(5565),a=i(2619),l=null;(0,o.b)({_template:a.q`<!--css-build:shadow--><style scope="paper-drawer-panel">:host {
  display: block;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        overflow: hidden;
}

#drawer {
  position: absolute;
        top: 0;
        left: 0;
        height: 100%;
        background-color: white;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
        ;
}

.transition-drawer {
  transition: -webkit-transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;
        transition: transform ease-in-out 0.3s, width ease-in-out 0.3s, visibility 0.3s;
}

.left-drawer > #drawer {
  ;
}

.right-drawer > #drawer {
  left: auto;
        right: 0;
        ;
}

#main {
  position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        ;
}

.transition > #main {
  transition: left ease-in-out 0.3s, padding ease-in-out 0.3s;
}

.right-drawer > #main {
  left: 0;
}

.right-drawer.transition > #main {
  transition: right ease-in-out 0.3s, padding ease-in-out 0.3s;
}

#main > ::slotted(*) {
  height: 100%;
}

#drawer > ::slotted(*) {
  height: 100%;
}

#scrim {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  visibility: hidden;
  opacity: 0;
  transition: opacity ease-in-out 0.38s, visibility ease-in-out 0.38s;
  background-color: rgba(0, 0, 0, 0.3);
	width: var(--paper-drawer-panel-scrim-width);
}

.narrow-layout > #drawer {
  will-change: transform;
}

.narrow-layout > #drawer.iron-selected {
  box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.15);
}

.right-drawer.narrow-layout > #drawer.iron-selected {
  box-shadow: -2px 2px 4px rgba(0, 0, 0, 0.15);
}

.narrow-layout > #drawer > ::slotted(*) {
  border: 0;
}

.left-drawer.narrow-layout > #drawer:not(.iron-selected) {
  visibility: hidden;
        -webkit-transform: translateX(-100%);
        transform: translateX(-100%);
}

.right-drawer.narrow-layout > #drawer:not(.iron-selected) {
  left: auto;
        visibility: hidden;
        -webkit-transform: translateX(100%);
        transform: translateX(100%);
}

.left-drawer.dragging > #drawer:not(.iron-selected), .left-drawer.peeking > #drawer:not(.iron-selected), .right-drawer.dragging > #drawer:not(.iron-selected), .right-drawer.peeking > #drawer:not(.iron-selected) {
  visibility: visible;
}

.narrow-layout > #main {
  padding: 0;
}

.right-drawer.narrow-layout > #main {
  left: 0;
        right: 0;
}

.narrow-layout > #main:not(.iron-selected) > #scrim, .dragging > #main > #scrim {
  visibility: visible;
        opacity: var(--paper-drawer-panel-scrim-opacity, 1);
}

.narrow-layout > #main > * {
  margin: 0;
        min-height: 100%;
        left: 0;
        right: 0;
        -moz-box-sizing: border-box;
        box-sizing: border-box;
}

</style>

    <iron-media-query id="mq" on-query-matches-changed="_onQueryMatchesChanged" query="[[_computeMediaQuery(forceNarrow, responsiveWidth)]]">
    </iron-media-query>

    <iron-selector attr-for-selected="id" class$="[[_computeIronSelectorClass(narrow, _transition, dragging, rightDrawer, peeking)]]" on-transitionend="_onTransitionEnd" activate-event selected="[[selected]]">

      <div id="main">
        <slot name="main"></slot>
        <div id="scrim" on-tap="closeDrawer"></div>
      </div>

      <div id="drawer">
        <slot id="drawerSlot" name="drawer"></slot>
      </div>

    </iron-selector>
`,is:"paper-drawer-panel",behaviors:[n.i],properties:{defaultSelected:{type:String,value:"main"},disableEdgeSwipe:{type:Boolean,value:!1},disableSwipe:{type:Boolean,value:!1},dragging:{type:Boolean,value:!1,readOnly:!0,notify:!0},drawerWidth:{type:String,value:"256px"},drawerToggleAttribute:{type:String,value:"paper-drawer-toggle"},edgeSwipeSensitivity:{type:Number,value:30},forceNarrow:{type:Boolean,value:!1},hasTransform:{type:Boolean,value:function(){return"transform"in this.style}},hasWillChange:{type:Boolean,value:function(){return"willChange"in this.style}},narrow:{reflectToAttribute:!0,type:Boolean,value:!1,readOnly:!0,notify:!0},peeking:{type:Boolean,value:!1,readOnly:!0,notify:!0},responsiveWidth:{type:String,value:"768px"},rightDrawer:{type:Boolean,value:!1},selected:{reflectToAttribute:!0,notify:!0,type:String,value:null},drawerFocusSelector:{type:String,value:'a[href]:not([tabindex="-1"]),area[href]:not([tabindex="-1"]),input:not([disabled]):not([tabindex="-1"]),select:not([disabled]):not([tabindex="-1"]),textarea:not([disabled]):not([tabindex="-1"]),button:not([disabled]):not([tabindex="-1"]),iframe:not([tabindex="-1"]),[tabindex]:not([tabindex="-1"]),[contentEditable=true]:not([tabindex="-1"])'},_transition:{type:Boolean,value:!1}},listeners:{tap:"_onTap",track:"_onTrack",down:"_downHandler",up:"_upHandler"},observers:["_forceNarrowChanged(forceNarrow, defaultSelected)","_toggleFocusListener(selected)","_setMainStyle(narrow, rightDrawer, drawerWidth)","_setDrawerStyle(drawerWidth)"],ready:function(){this._transition=!0,this._boundFocusListener=this._didFocus.bind(this),console.warn(this.is,"is deprecated. Please use app-layout instead!")},togglePanel:function(){this._isMainSelected()?this.openDrawer():this.closeDrawer()},openDrawer:function(){requestAnimationFrame(function(){this.toggleClass("transition-drawer",!0,this.$.drawer),this.selected="drawer"}.bind(this))},closeDrawer:function(){requestAnimationFrame(function(){this.toggleClass("transition-drawer",!0,this.$.drawer),this.selected="main"}.bind(this))},_onTransitionEnd:function(e){if((0,s.tT)(e).localTarget===this.$.drawer&&("left"!==e.propertyName&&"right"!==e.propertyName||this.notifyResize(),"transform"===e.propertyName&&(requestAnimationFrame(function(){this.toggleClass("transition-drawer",!1,this.$.drawer)}.bind(this)),"drawer"===this.selected))){var t=this._getAutoFocusedNode();t&&t.focus()}},_computeIronSelectorClass:function(e,t,i,o,r){return function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&e[i]&&t.push(i);return t.join(" ")}({dragging:i,"narrow-layout":e,"right-drawer":o,"left-drawer":!o,transition:t,peeking:r})},_setDrawerStyle:function(e){this.$.drawer.style.width=e},_setMainStyle:function(e,t,i){this.$.main.style.left=e||t?"0":i,t&&(this.$.main.style.right=e?"":i)},_computeMediaQuery:function(e,t){return e?"":"(max-width: "+t+")"},_computeSwipeOverlayHidden:function(e,t){return!e||t},_onTrack:function(e){if(!l||this===l)switch(e.detail.state){case"start":this._trackStart(e);break;case"track":this._trackX(e);break;case"end":this._trackEnd(e)}},_responsiveChange:function(e){this._setNarrow(e),this.selected=this.narrow?this.defaultSelected:null,this.setScrollDirection(this._swipeAllowed()?"y":"all"),this.fire("paper-responsive-change",{narrow:this.narrow})},_onQueryMatchesChanged:function(e){this._responsiveChange(e.detail.value)},_forceNarrowChanged:function(){this._responsiveChange(this.forceNarrow||this.$.mq.queryMatches)},_swipeAllowed:function(){return this.narrow&&!this.disableSwipe},_isMainSelected:function(){return"main"===this.selected},_startEdgePeek:function(){this.width=this.$.drawer.offsetWidth,this._moveDrawer(this._translateXForDeltaX(this.rightDrawer?-this.edgeSwipeSensitivity:this.edgeSwipeSensitivity)),this._setPeeking(!0)},_stopEdgePeek:function(){this.peeking&&(this._setPeeking(!1),this._moveDrawer(null))},_downHandler:function(e){!this.dragging&&this._isMainSelected()&&this._isEdgeTouch(e)&&!l&&(this._startEdgePeek(),e.preventDefault(),l=this)},_upHandler:function(){this._stopEdgePeek(),l=null},_onTap:function(e){var t=(0,s.tT)(e).localTarget;t&&this.drawerToggleAttribute&&t.hasAttribute(this.drawerToggleAttribute)&&this.togglePanel()},_isEdgeTouch:function(e){var t=e.detail.x;return!this.disableEdgeSwipe&&this._swipeAllowed()&&(this.rightDrawer?t>=this.offsetWidth-this.edgeSwipeSensitivity:t<=this.edgeSwipeSensitivity)},_trackStart:function(e){this._swipeAllowed()&&(l=this,this._setDragging(!0),this._isMainSelected()&&this._setDragging(this.peeking||this._isEdgeTouch(e)),this.dragging&&(this.width=this.$.drawer.offsetWidth,this._transition=!1))},_translateXForDeltaX:function(e){var t=this._isMainSelected();return this.rightDrawer?Math.max(0,t?this.width+e:e):Math.min(0,t?e-this.width:e)},_trackX:function(e){if(this.dragging){var t=e.detail.dx;if(this.peeking){if(Math.abs(t)<=this.edgeSwipeSensitivity)return;this._setPeeking(!1)}this._moveDrawer(this._translateXForDeltaX(t))}},_trackEnd:function(e){if(this.dragging){var t=e.detail.dx>0;this._setDragging(!1),this._transition=!0,l=null,this._moveDrawer(null),this.rightDrawer?this[t?"closeDrawer":"openDrawer"]():this[t?"openDrawer":"closeDrawer"]()}},_transformForTranslateX:function(e){return null===e?"":this.hasWillChange?"translateX("+e+"px)":"translate3d("+e+"px, 0, 0)"},_moveDrawer:function(e){this.transform(this._transformForTranslateX(e),this.$.drawer)},_getDrawerSlot:function(){return(0,s.tT)(this.$.drawerSlot).getDistributedNodes()[0]},_getAutoFocusedNode:function(){return this.drawerFocusSelector?(0,s.tT)(this._getDrawerSlot()).querySelector(this.drawerFocusSelector):null},_toggleFocusListener:function(e){"drawer"===e?this.addEventListener("focus",this._boundFocusListener,!0):this.removeEventListener("focus",this._boundFocusListener,!0)},_didFocus:function(e){var t=this._getAutoFocusedNode();if(t){var i=(0,s.tT)(e).path,o=(i[0],this._getDrawerSlot());-1!==i.indexOf(o)||(e.stopPropagation(),t.focus())}},_isDrawerClosed:function(e,t){return!e||"drawer"!==t}})},2430:(e,t,i)=>{"use strict";i.d(t,{z:()=>o});const o=(0,i(8246).y)((e=>class extends e{static get properties(){return{variant:{type:String,value:""},applyFocus:{type:Boolean,observer:"_applyFocus"}}}_applyFocus(){this.applyFocus&&this.focus()}}))},2459:(e,t,i)=>{"use strict";i.d(t,{W:()=>l});i(7971);function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function r(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const n=window.__vfsettings?window.__vfsettings.localOauth:{};let s="http://localhost:"+location.port+"/common/oauth",a=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){r(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({redirectUri:s+"/callback"},n);class l{constructor(e){a.clientId&&a.clientSecret||console.warn(this._getNoOAuthClientKeyMessage());var t=jsforce.browser.Client.prototype._storeTokens.bind(jsforce.browser);jsforce.browser.Client.prototype._storeTokens=function(e){t(e),localStorage.setItem(this._prefix+"_refresh_token",e.refresh_token)}.bind(jsforce.browser);var i=jsforce.browser.Client.prototype._removeTokens.bind(jsforce.browser);jsforce.browser.Client.prototype._removeTokens=function(){i(),localStorage.removeItem(this._prefix+"_refresh_token")}.bind(jsforce.browser);var o=jsforce.browser.Client.prototype._getTokens.bind(jsforce.browser);jsforce.browser.Client.prototype._getTokens=function(){var e=o();return e&&(e.refreshToken=localStorage.getItem(this._prefix+"_refresh_token")),e}.bind(jsforce.browser);var r=jsforce.browser.Client.prototype.isLoggedIn.bind(jsforce.browser);jsforce.browser.Client.prototype.isLoggedIn=function(){return!!r()&&this.connection.refreshToken}.bind(jsforce.browser),function(){localStorage.setItem(this._prefix+"_issued_at",(new Date).getTime()),document.cookie=this._prefix+"_loggedin=true;"}.bind(jsforce.browser)(),e&&jsforce.browser._storeTokens(e),jsforce.OAuth2.prototype.refreshToken=this._refresAccessToken,jsforce.browser.init(a)}login(){jsforce.browser.login()}getConnection(){return jsforce.browser.isLoggedIn()?new Promise(function(e){jsforce.browser.once("connect",function(t){t.oik=a.oik,t.once("refresh",function(e){this.accessToken=e}.bind(this)),e(t)}.bind(this)),jsforce.browser.init(a)}.bind(this)):Promise.reject("Please login before establishing a connection at http://localhost:"+location.port+"/common/oauth")}set accessToken(e){localStorage.setItem(jsforce.browser._prefix+"_access_token",e)}get tokens(){return jsforce.browser._getTokens()}set tokens(e){jsforce.browser._storeTokens(e)}_getNoOAuthClientKeyMessage(){return'Need to add a \'.env.json\' file in the CPQ dir whose contents contains the Consumer Key and Consumer Secret of the Salesforce CPQ Connected App, and then execute a gulp compile.\n{"oauth_key": "<Consumer Key>, "oauth_secret": "<Consumer Secret>"}'}_refresAccessToken(e,t){return this._transport.httpRequest({method:"POST",url:a.proxyUrl,body:"grant_type=refresh_token&refresh_token="+e+"&client_id="+this.clientId+"&client_secret="+this.clientSecret,headers:{"SalesforceProxy-Endpoint":this.tokenServiceUrl,"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){var t;try{t=JSON.parse(e.body)}catch(e){}if(e.statusCode>=400){t=t||{error:"ERROR_HTTP_"+e.statusCode,error_description:e.body};var i=new Error(t.error_description);throw i.name=t.error,i}return t})).thenCall(t)}encodeTokenUrl(){let e=jsforce.browser._getTokens(),t=e.refreshToken,i=encodeURIComponent(e.instanceUrl),o=encodeURIComponent(e.userInfo.url);return s+"?rt="+t+"&org="+i+"&id="+o}static decodeTokenUrl(e){if(e){var t=l._getParameterByName("rt",e),i=l._getParameterByName("org",e),o=l._getParameterByName("id",e);return t&&i&&o?{refresh_token:t,instance_url:i,id:o,access_token:"xyz",issued_at:(new Date).getTime()}:void 0}}static _getParameterByName(e,t){e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)").exec(t);return i?i[2]?decodeURIComponent(i[2].replace(/\+/g," ")):"":null}}},2521:(e,t,i)=>{"use strict";i.d(t,{X:()=>f,Z:()=>l});var o=i(1837),r=i(7586);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,listeners:!0,hostAttributes:!0},s={attached:!0,detached:!0,ready:!0,created:!0,beforeRegister:!0,registered:!0,attributeChanged:!0,behaviors:!0,_noAccessors:!0},a=Object.assign({listeners:!0,hostAttributes:!0,properties:!0,observers:!0},s);function l(e,t){return p({},(0,o.r)(t),e)}function d(e,t,i,o){!function(e,t,i){const o=e._noAccessors,r=Object.getOwnPropertyNames(e);for(let n=0;n<r.length;n++){let s=r[n];if(!(s in i))if(o)t[s]=e[s];else{let i=Object.getOwnPropertyDescriptor(e,s);i&&(i.configurable=!0,Object.defineProperty(t,s,i))}}}(t,e,o);for(let e in n)t[e]&&(i[e]=i[e]||[],i[e].push(t[e]))}function c(e,t,i){t=t||[];for(let o=e.length-1;o>=0;o--){let r=e[o];r?Array.isArray(r)?c(r,t):t.indexOf(r)<0&&(!i||i.indexOf(r)<0)&&t.unshift(r):console.warn("behavior is null, check for missing or 404 import")}return t}function u(e,t){for(const i in t){const o=e[i],r=t[i];e[i]=!("value"in r)&&o&&"value"in o?Object.assign({value:o.value},r):r}}const h=(0,o.r)(HTMLElement);function p(e,t,i){let o;const n={};class l extends t{static _finalizeClass(){if(this.hasOwnProperty(JSCompiler_renameProperty("generatedFrom",this))){if(o)for(let e,t=0;t<o.length;t++)e=o[t],e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties);e.properties&&this.createProperties(e.properties),e.observers&&this.createObservers(e.observers,e.properties),this._prepareTemplate()}else t._finalizeClass.call(this)}static get properties(){const t={};if(o)for(let e=0;e<o.length;e++)u(t,o[e].properties);return u(t,e.properties),t}static get observers(){let t=[];if(o)for(let e,i=0;i<o.length;i++)e=o[i],e.observers&&(t=t.concat(e.observers));return e.observers&&(t=t.concat(e.observers)),t}created(){super.created();const e=n.created;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}_registered(){const e=l.prototype;if(!e.hasOwnProperty(JSCompiler_renameProperty("__hasRegisterFinished",e))){e.__hasRegisterFinished=!0,super._registered(),r.IP&&h(e);const t=Object.getPrototypeOf(this);let i=n.beforeRegister;if(i)for(let e=0;e<i.length;e++)i[e].call(t);if(i=n.registered,i)for(let e=0;e<i.length;e++)i[e].call(t)}}_applyListeners(){super._applyListeners();const e=n.listeners;if(e)for(let t=0;t<e.length;t++){const i=e[t];if(i)for(let e in i)this._addMethodEventListenerToNode(this,e,i[e])}}_ensureAttributes(){const e=n.hostAttributes;if(e)for(let t=e.length-1;t>=0;t--){const i=e[t];for(let e in i)this._ensureAttribute(e,i[e])}super._ensureAttributes()}ready(){super.ready();let e=n.ready;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attached(){super.attached();let e=n.attached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}detached(){super.detached();let e=n.detached;if(e)for(let t=0;t<e.length;t++)e[t].call(this)}attributeChanged(e,t,i){super.attributeChanged();let o=n.attributeChanged;if(o)for(let r=0;r<o.length;r++)o[r].call(this,e,t,i)}}if(i){Array.isArray(i)||(i=[i]);let e=t.prototype.behaviors;o=c(i,null,e),l.prototype.behaviors=e?e.concat(i):o}const h=t=>{o&&function(e,t,i){for(let o=0;o<t.length;o++)d(e,t[o],i,a)}(t,o,n),d(t,e,n,s)};return r.IP||h(l.prototype),l.generatedFrom=e,l}const f=function(e,t){e||console.warn("Polymer.Class requires `info` argument");let i=t?t(h):h;return i=p(e,i,e.behaviors),i.is=i.prototype.is=e.is,i}},2573:(e,t,i)=>{"use strict";i.d(t,{z:()=>o});class o{constructor(e,t,i,o){this.omitNull=e,this.omitRelationships=t,this.pretty=i,this.formatterOptions=o||{}}format(e,t){if(void 0===e)return;if(null===e)return JSON.stringify(e);let i=this.pretty;"number"!=typeof i&&(i=i?2:null);let o=this,r=JSON.stringify(e,(function(e,t){return o._replacer(e,t,this)}),i);return!0===t?r:JSON.parse(r)}_replacer(e,t,i){if(void 0!==t&&"_transient_"!==e&&"ui_original_record"!==e){if(this.formatterOptions.cleanRootProperty===e){this.formatterOptions.cleanObj=i[this.formatterOptions.cleanPathFromRoot[0]];for(let e=1,t=this.formatterOptions.cleanPathFromRoot.length;e<t;e++)this.formatterOptions.cleanObj=this.formatterOptions.cleanObj?this.formatterOptions.cleanObj[this.formatterOptions.cleanPathFromRoot[e]]:void 0}if(!this.formatterOptions.stripValues||!this.formatterOptions.stripValues.has(e)){if(this.omitNull&&null===t){const t=i[this.formatterOptions.keepIfDirtyWhenParentContains];if(null==t)return;if(null!=this.formatterOptions.keepIfDirtyAllowList)for(let e in this.formatterOptions.keepIfDirtyAllowList)if(-1!==this.formatterOptions.keepIfDirtyAllowList[e].indexOf(t[e]))return null;return this.formatterOptions.cleanObj&&null!=this.formatterOptions.cleanObj[e]?null:void 0}if(!(this.omitRelationships&&e.endsWith&&e.endsWith("__r")))return"#Error!"===t?this.omitNull?void 0:null:t}}}}},2619:(e,t,i)=>{"use strict";i.d(t,{b:()=>l,q:()=>s});i(8443);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const o=window.trustedTypes&&trustedTypes.createPolicy("polymer-html-literal",{createHTML:e=>e});class r{constructor(e,t){a(e,t);const i=t.reduce(((t,i,o)=>t+n(i)+e[o+1]),e[0]);this.value=i.toString()}toString(){return this.value}}function n(e){if(e instanceof r)return e.value;throw new Error(`non-literal value passed to Polymer's htmlLiteral function: ${e}`)}const s=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];a(e,i);const l=document.createElement("template");let d=i.reduce(((t,i,o)=>t+function(e){if(e instanceof HTMLTemplateElement)return e.innerHTML;if(e instanceof r)return n(e);throw new Error(`non-template value passed to Polymer's html function: ${e}`)}(i)+e[o+1]),e[0]);return o&&(d=o.createHTML(d)),l.innerHTML=d,l},a=(e,t)=>{if(!Array.isArray(e)||!Array.isArray(e.raw)||t.length!==e.length-1)throw new TypeError("Invalid call to the html template tag")},l=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return new r(e,i)}},2622:(e,t,i)=>{"use strict";i.d(t,{s:()=>te});i(8443);var o=i(8591),r=i(8246),n=i(3080),s=i(5292),a=i(6986);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const l={"dom-if":!0,"dom-repeat":!0};let d=!1,c=!1;function u(e){(function(){if(!d){d=!0;const e=document.createElement("textarea");e.placeholder="a",c=e.placeholder===e.textContent}return c})()&&"textarea"===e.localName&&e.placeholder&&e.placeholder===e.textContent&&(e.textContent=null)}const h=(()=>{const e=window.trustedTypes&&window.trustedTypes.createPolicy("polymer-template-event-attribute-policy",{createScript:e=>e});return(t,i,o)=>{const r=i.getAttribute(o);e&&o.startsWith("on-")?t.setAttribute(o,e.createScript(r,o)):t.setAttribute(o,r)}})();function p(e){let t=e.getAttribute("is");if(t&&l[t]){let i=e;for(i.removeAttribute("is"),e=i.ownerDocument.createElement(t),i.parentNode.replaceChild(e,i),e.appendChild(i);i.attributes.length;){const{name:t}=i.attributes[0];h(e,i,t),i.removeAttribute(t)}}return e}function f(e,t){let i=t.parentInfo&&f(e,t.parentInfo);if(!i)return e;for(let e=i.firstChild,o=0;e;e=e.nextSibling)if(t.parentIndex===o++)return e}function b(e,t,i,o){o.id&&(t[o.id]=i)}function g(e,t,i){if(i.events&&i.events.length)for(let o,r=0,n=i.events;r<n.length&&(o=n[r]);r++)e._addMethodEventListenerToNode(t,o.name,o.value,e)}function m(e,t,i,o){i.templateInfo&&(t._templateInfo=i.templateInfo,t._parentTemplateInfo=o)}const y=(0,r.y)((e=>class extends e{static _parseTemplate(e,t){if(!e._templateInfo){let i=e._templateInfo={};i.nodeInfoList=[],i.nestedTemplate=Boolean(t),i.stripWhiteSpace=t&&t.stripWhiteSpace||e.hasAttribute&&e.hasAttribute("strip-whitespace"),this._parseTemplateContent(e,i,{parent:null})}return e._templateInfo}static _parseTemplateContent(e,t,i){return this._parseTemplateNode(e.content,t,i)}static _parseTemplateNode(e,t,i){let o=!1,r=e;return"template"!=r.localName||r.hasAttribute("preserve-content")?"slot"===r.localName&&(t.hasInsertionPoint=!0):o=this._parseTemplateNestedTemplate(r,t,i)||o,u(r),r.firstChild&&this._parseTemplateChildNodes(r,t,i),r.hasAttributes&&r.hasAttributes()&&(o=this._parseTemplateNodeAttributes(r,t,i)||o),o||i.noted}static _parseTemplateChildNodes(e,t,i){if("script"!==e.localName&&"style"!==e.localName)for(let o,r=e.firstChild,n=0;r;r=o){if("template"==r.localName&&(r=p(r)),o=r.nextSibling,r.nodeType===Node.TEXT_NODE){let i=o;for(;i&&i.nodeType===Node.TEXT_NODE;)r.textContent+=i.textContent,o=i.nextSibling,e.removeChild(i),i=o;if(t.stripWhiteSpace&&!r.textContent.trim()){e.removeChild(r);continue}}let s={parentIndex:n,parentInfo:i};this._parseTemplateNode(r,t,s)&&(s.infoIndex=t.nodeInfoList.push(s)-1),r.parentNode&&n++}}static _parseTemplateNestedTemplate(e,t,i){let o=e,r=this._parseTemplate(o,t);return(r.content=o.content.ownerDocument.createDocumentFragment()).appendChild(o.content),i.templateInfo=r,!0}static _parseTemplateNodeAttributes(e,t,i){let o=!1,r=Array.from(e.attributes);for(let n,s=r.length-1;n=r[s];s--)o=this._parseTemplateNodeAttribute(e,t,i,n.name,n.value)||o;return o}static _parseTemplateNodeAttribute(e,t,i,o,r){return"on-"===o.slice(0,3)?(e.removeAttribute(o),i.events=i.events||[],i.events.push({name:o.slice(3),value:r}),!0):"id"===o&&(i.id=r,!0)}static _contentForTemplate(e){let t=e._templateInfo;return t&&t.content||e.content}_stampTemplate(e,t){e&&!e.content&&window.HTMLTemplateElement&&HTMLTemplateElement.decorate&&HTMLTemplateElement.decorate(e);let i=(t=t||this.constructor._parseTemplate(e)).nodeInfoList,o=t.content||e.content,r=document.importNode(o,!0);r.__noInsertionPoint=!t.hasInsertionPoint;let n=r.nodeList=new Array(i.length);r.$={};for(let e,o=0,s=i.length;o<s&&(e=i[o]);o++){let i=n[o]=f(r,e);b(0,r.$,i,e),m(0,i,e,t),g(this,i,e)}return r}_addMethodEventListenerToNode(e,t,i,o){let r=function(e,t,i){return e=e._methodHost||e,function(t){e[i]?e[i](t,t.detail):console.warn("listener method `"+i+"` not defined")}}(o=o||e,0,i);return this._addEventListenerToNode(e,t,r),r}_addEventListenerToNode(e,t,i){e.addEventListener(t,i)}_removeEventListenerFromNode(e,t,i){e.removeEventListener(t,i)}}));var v=i(7586);
/**
 * @fileoverview
 * @suppress {checkPrototypalTypes}
 * @license Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at
 * http://polymer.github.io/LICENSE.txt The complete set of authors may be found
 * at http://polymer.github.io/AUTHORS.txt The complete set of contributors may
 * be found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by
 * Google as part of the polymer project is also subject to an additional IP
 * rights grant found at http://polymer.github.io/PATENTS.txt
 */
let _=0;const w=[],x={COMPUTE:"__computeEffects",REFLECT:"__reflectEffects",NOTIFY:"__notifyEffects",PROPAGATE:"__propagateEffects",OBSERVE:"__observeEffects",READ_ONLY:"__readOnly"},C="__computeInfo",S=/[A-Z]/;function O(e,t,i){let o=e[t];if(o){if(!e.hasOwnProperty(t)&&(o=e[t]=Object.create(e[t]),i))for(let e in o){let t=o[e],i=o[e]=Array(t.length);for(let e=0;e<t.length;e++)i[e]=t[e]}}else o=e[t]={};return o}function k(e,t,i,o,r,s){if(t){let a=!1;const l=_++;for(let d in i){let c=t[r?(0,n.zr)(d):d];if(c)for(let t,n=0,u=c.length;n<u&&(t=c[n]);n++)t.info&&t.info.lastRun===l||r&&!I(d,t.trigger)||(t.info&&(t.info.lastRun=l),t.fn(e,d,i,o,t.info,r,s),a=!0)}return a}return!1}function E(e,t,i,o,r,s,a,l){let d=!1,c=t[a?(0,n.zr)(o):o];if(c)for(let t,n=0,u=c.length;n<u&&(t=c[n]);n++)t.info&&t.info.lastRun===i||a&&!I(o,t.trigger)||(t.info&&(t.info.lastRun=i),t.fn(e,o,r,s,t.info,a,l),d=!0);return d}function I(e,t){if(t){let i=t.name;return i==e||!(!t.structured||!(0,n.QX)(i,e))||!(!t.wildcard||!(0,n.K9)(i,e))}return!0}function T(e,t,i,o,r){let n="string"==typeof r.method?e[r.method]:r.method,s=r.property;n?n.call(e,e.__data[s],o[s]):r.dynamicFn||console.warn("observer method `"+r.method+"` not defined")}function M(e,t,i){let o=(0,n.zr)(t);if(o!==t){return B(e,(0,s.e)(o)+"-changed",i[t],t),!0}return!1}function B(e,t,i,r){let n={value:i,queueProperty:!0};r&&(n.path=r),(0,o.L)(e).dispatchEvent(new CustomEvent(t,{detail:n}))}function D(e,t,i,o,r,s){let a=(s?(0,n.zr)(t):t)!=t?t:null,l=a?(0,n.Jt)(e,a):e.__data[t];a&&void 0===l&&(l=i[t]),B(e,r.eventName,l,a)}function P(e,t,i,o,r){let n=e.__data[t];v.dV&&(n=(0,v.dV)(n,r.attrName,"attribute",e)),e._propertyToAttribute(t,r.attrName,n)}function L(e,t,i,o){let r=e[x.COMPUTE];if(r)if(v.Xj){_++;const n=function(e){let t=e.constructor.__orderedComputedDeps;if(!t){t=new Map;const i=e[x.COMPUTE];let o,{counts:r,ready:n,total:s}=function(e){const t=e[C],i={},o=e[x.COMPUTE],r=[];let n=0;for(let e in t){const o=t[e];n+=i[e]=o.args.filter((e=>!e.literal)).length+(o.dynamicFn?1:0)}for(let e in o)t[e]||r.push(e);return{counts:i,ready:r,total:n}}(e);for(;o=n.shift();){t.set(o,t.size);const e=i[o];e&&e.forEach((e=>{const t=e.info.methodInfo;--s,0==--r[t]&&n.push(t)}))}if(0!==s){const t=e;console.warn(`Computed graph for ${t.localName} incomplete; circular?`)}e.constructor.__orderedComputedDeps=t}return t}(e),s=[];for(let e in t)F(e,r,s,n,o);let a;for(;a=s.shift();)N(e,"",t,i,a)&&F(a.methodInfo,r,s,n,o);Object.assign(i,e.__dataOld),Object.assign(t,e.__dataPending),e.__dataPending=null}else{let n=t;for(;k(e,r,n,i,o);)Object.assign(i,e.__dataOld),Object.assign(t,e.__dataPending),n=e.__dataPending,e.__dataPending=null}}const A=(e,t,i)=>{let o=0,r=t.length-1,n=-1;for(;o<=r;){const s=o+r>>1,a=i.get(t[s].methodInfo)-i.get(e.methodInfo);if(a<0)o=s+1;else{if(!(a>0)){n=s;break}r=s-1}}n<0&&(n=r+1),t.splice(n,0,e)},F=(e,t,i,o,r)=>{const s=t[r?(0,n.zr)(e):e];if(s)for(let t=0;t<s.length;t++){const n=s[t];n.info.lastRun===_||r&&!I(e,n.trigger)||(n.info.lastRun=_,A(n.info,i,o))}};function N(e,t,i,o,r){let n=z(e,t,i,o,r);if(n===w)return!1;let s=r.methodInfo;return e.__dataHasAccessor&&e.__dataHasAccessor[s]?e._setPendingProperty(s,n,!0):(e[s]=n,!1)}function R(e,t,i,o,r,n,a){i.bindings=i.bindings||[];let l={kind:o,target:r,parts:n,literal:a,isCompound:1!==n.length};if(i.bindings.push(l),function(e){return Boolean(e.target)&&"attribute"!=e.kind&&"text"!=e.kind&&!e.isCompound&&"{"===e.parts[0].mode}(l)){let{event:e,negate:t}=l.parts[0];l.listenerEvent=e||(0,s.e)(r)+"-changed",l.listenerNegate=t}let d=t.nodeInfoList.length;for(let i=0;i<l.parts.length;i++){let o=l.parts[i];o.compoundIndex=i,q(e,t,l,o,d)}}function q(e,t,i,o,r){if(!o.literal)if("attribute"===i.kind&&"-"===i.target[0])console.warn("Cannot set attribute "+i.target+' because "-" is not a valid attribute starting character');else{let n=o.dependencies,s={index:r,binding:i,part:o,evaluator:e};for(let i=0;i<n.length;i++){let o=n[i];"string"==typeof o&&(o=X(o),o.wildcard=!0),e._addTemplatePropertyEffect(t,o.rootProperty,{fn:j,info:s,trigger:o})}}}function j(e,t,i,o,r,s,a){let l=a[r.index],d=r.binding,c=r.part;if(s&&c.source&&t.length>c.source.length&&"property"==d.kind&&!d.isCompound&&l.__isPropertyEffectsClient&&l.__dataHasAccessor&&l.__dataHasAccessor[d.target]){let o=i[t];t=(0,n.Tl)(c.source,d.target,t),l._setPendingPropertyOrPath(t,o,!1,!0)&&e._enqueueClient(l)}else{let n=r.evaluator._evaluateBinding(e,c,t,i,o,s);n!==w&&function(e,t,i,o,r){r=function(e,t,i,o){if(i.isCompound){let r=e.__dataCompoundStorage[i.target];r[o.compoundIndex]=t,t=r.join("")}"attribute"!==i.kind&&("textContent"!==i.target&&("value"!==i.target||"input"!==e.localName&&"textarea"!==e.localName)||(t=null==t?"":t));return t}(t,r,i,o),v.dV&&(r=(0,v.dV)(r,i.target,i.kind,t));if("attribute"==i.kind)e._valueToNodeAttribute(t,r,i.target);else{let o=i.target;t.__isPropertyEffectsClient&&t.__dataHasAccessor&&t.__dataHasAccessor[o]?t[x.READ_ONLY]&&t[x.READ_ONLY][o]||t._setPendingProperty(o,r)&&e._enqueueClient(t):e._setUnmanagedPropertyToNode(t,o,r)}}(e,l,d,c,n)}}function H(e,t){if(t.isCompound){let i=e.__dataCompoundStorage||(e.__dataCompoundStorage={}),r=t.parts,n=new Array(r.length);for(let e=0;e<r.length;e++)n[e]=r[e].literal;let s=t.target;i[s]=n,t.literal&&"property"==t.kind&&("className"===s&&(e=(0,o.L)(e)),e[s]=t.literal)}}function V(e,t,i){if(i.listenerEvent){let o=i.parts[0];e.addEventListener(i.listenerEvent,(function(e){!function(e,t,i,o,r){let s,a=e.detail,l=a&&a.path;l?(o=(0,n.Tl)(i,o,l),s=a&&a.value):s=e.currentTarget[i],s=r?!s:s,t[x.READ_ONLY]&&t[x.READ_ONLY][o]||!t._setPendingPropertyOrPath(o,s,!0,Boolean(l))||a&&a.queueProperty||t._invalidateProperties()}(e,t,i.target,o.source,o.negate)}))}}function U(e,t,i,o,r,n){n=t.static||n&&("object"!=typeof n||n[t.methodName]);let s={methodName:t.methodName,args:t.args,methodInfo:r,dynamicFn:n};for(let r,n=0;n<t.args.length&&(r=t.args[n]);n++)r.literal||e._addPropertyEffect(r.rootProperty,i,{fn:o,info:s,trigger:r});return n&&e._addPropertyEffect(t.methodName,i,{fn:o,info:s}),s}function z(e,t,i,o,r){let n=e._methodHost||e,s=n[r.methodName];if(s){let o=e._marshalArgs(r.args,t,i);return o===w?w:s.apply(n,o)}r.dynamicFn||console.warn("method `"+r.methodName+"` not defined")}const $=[],W="(?:[a-zA-Z_$][\\w.:$\\-*]*)",Q="(?:("+W+"|(?:[-+]?[0-9]*\\.?[0-9]+(?:[eE][-+]?[0-9]+)?)|(?:(?:'(?:[^'\\\\]|\\\\.)*')|(?:\"(?:[^\"\\\\]|\\\\.)*\")))\\s*)",G=new RegExp("(\\[\\[|{{)\\s*(?:(!)\\s*)?"+("("+W+"\\s*"+("(?:\\(\\s*(?:"+("(?:"+Q+"(?:,\\s*"+Q+")*)")+"?)\\)\\s*)")+"?)")+"(?:]]|}})","g");function K(e){let t="";for(let i=0;i<e.length;i++){t+=e[i].literal||""}return t}function Y(e){let t=e.match(/([^\s]+?)\(([\s\S]*)\)/);if(t){let e={methodName:t[1],static:!0,args:$};if(t[2].trim()){return function(e,t){return t.args=e.map((function(e){let i=X(e);return i.literal||(t.static=!1),i}),this),t}(t[2].replace(/\\,/g,"&comma;").split(","),e)}return e}return null}function X(e){let t=e.trim().replace(/&comma;/g,",").replace(/\\(.)/g,"$1"),i={name:t,value:"",literal:!1},o=t[0];switch("-"===o&&(o=t[1]),o>="0"&&o<="9"&&(o="#"),o){case"'":case'"':i.value=t.slice(1,-1),i.literal=!0;break;case"#":i.value=Number(t),i.literal=!0}return i.literal||(i.rootProperty=(0,n.zr)(t),i.structured=(0,n.uf)(t),i.structured&&(i.wildcard=".*"==t.slice(-2),i.wildcard&&(i.name=t.slice(0,-2)))),i}function J(e,t,i){let o=(0,n.Jt)(e,i);return void 0===o&&(o=t[i]),o}function Z(e,t,i,o){const r={indexSplices:o};v.oO&&!e._overrideLegacyUndefined&&(t.splices=r),e.notifyPath(i+".splices",r),e.notifyPath(i+".length",t.length),v.oO&&!e._overrideLegacyUndefined&&(r.indexSplices=[])}function ee(e,t,i,o,r,n){Z(e,t,i,[{index:o,addedCount:r,removed:n,object:t,type:"splice"}])}const te=(0,r.y)((e=>{const t=y((0,a.W)(e));return class extends t{constructor(){super(),this.__isPropertyEffectsClient=!0,this.__dataClientsReady,this.__dataPendingClients,this.__dataToNotify,this.__dataLinkedPaths,this.__dataHasPaths,this.__dataCompoundStorage,this.__dataHost,this.__dataTemp,this.__dataClientsInitialized,this.__data,this.__dataPending,this.__dataOld,this.__computeEffects,this.__computeInfo,this.__reflectEffects,this.__notifyEffects,this.__propagateEffects,this.__observeEffects,this.__readOnly,this.__templateInfo,this._overrideLegacyUndefined}get PROPERTY_EFFECT_TYPES(){return x}_initializeProperties(){super._initializeProperties(),this._registerHost(),this.__dataClientsReady=!1,this.__dataPendingClients=null,this.__dataToNotify=null,this.__dataLinkedPaths=null,this.__dataHasPaths=!1,this.__dataCompoundStorage=this.__dataCompoundStorage||null,this.__dataHost=this.__dataHost||null,this.__dataTemp={},this.__dataClientsInitialized=!1}_registerHost(){if(ie.length){let e=ie[ie.length-1];e._enqueueClient(this),this.__dataHost=e}}_initializeProtoProperties(e){this.__data=Object.create(e),this.__dataPending=Object.create(e),this.__dataOld={}}_initializeInstanceProperties(e){let t=this[x.READ_ONLY];for(let i in e)t&&t[i]||(this.__dataPending=this.__dataPending||{},this.__dataOld=this.__dataOld||{},this.__data[i]=this.__dataPending[i]=e[i])}_addPropertyEffect(e,t,i){this._createPropertyAccessor(e,t==x.READ_ONLY);let o=O(this,t,!0)[e];o||(o=this[t][e]=[]),o.push(i)}_removePropertyEffect(e,t,i){let o=O(this,t,!0)[e],r=o.indexOf(i);r>=0&&o.splice(r,1)}_hasPropertyEffect(e,t){let i=this[t];return Boolean(i&&i[e])}_hasReadOnlyEffect(e){return this._hasPropertyEffect(e,x.READ_ONLY)}_hasNotifyEffect(e){return this._hasPropertyEffect(e,x.NOTIFY)}_hasReflectEffect(e){return this._hasPropertyEffect(e,x.REFLECT)}_hasComputedEffect(e){return this._hasPropertyEffect(e,x.COMPUTE)}_setPendingPropertyOrPath(e,t,i,o){if(o||(0,n.zr)(Array.isArray(e)?e[0]:e)!==e){if(!o){let i=(0,n.Jt)(this,e);if(!(e=(0,n.hZ)(this,e,t))||!super._shouldPropertyChange(e,t,i))return!1}if(this.__dataHasPaths=!0,this._setPendingProperty(e,t,i))return function(e,t,i){let o=e.__dataLinkedPaths;if(o){let r;for(let s in o){let a=o[s];(0,n.K9)(s,t)?(r=(0,n.Tl)(s,a,t),e._setPendingPropertyOrPath(r,i,!0,!0)):(0,n.K9)(a,t)&&(r=(0,n.Tl)(a,s,t),e._setPendingPropertyOrPath(r,i,!0,!0))}}}(this,e,t),!0}else{if(this.__dataHasAccessor&&this.__dataHasAccessor[e])return this._setPendingProperty(e,t,i);this[e]=t}return!1}_setUnmanagedPropertyToNode(e,t,i){i===e[t]&&"object"!=typeof i||("className"===t&&(e=(0,o.L)(e)),e[t]=i)}_setPendingProperty(e,t,i){let o=this.__dataHasPaths&&(0,n.uf)(e),r=o?this.__dataTemp:this.__data;return!!this._shouldPropertyChange(e,t,r[e])&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),e in this.__dataOld||(this.__dataOld[e]=this.__data[e]),o?this.__dataTemp[e]=t:this.__data[e]=t,this.__dataPending[e]=t,(o||this[x.NOTIFY]&&this[x.NOTIFY][e])&&(this.__dataToNotify=this.__dataToNotify||{},this.__dataToNotify[e]=i),!0)}_setProperty(e,t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}_invalidateProperties(){this.__dataReady&&this._flushProperties()}_enqueueClient(e){this.__dataPendingClients=this.__dataPendingClients||[],e!==this&&this.__dataPendingClients.push(e)}_flushClients(){this.__dataClientsReady?this.__enableOrFlushClients():(this.__dataClientsReady=!0,this._readyClients(),this.__dataReady=!0)}__enableOrFlushClients(){let e=this.__dataPendingClients;if(e){this.__dataPendingClients=null;for(let t=0;t<e.length;t++){let i=e[t];i.__dataEnabled?i.__dataPending&&i._flushProperties():i._enableProperties()}}}_readyClients(){this.__enableOrFlushClients()}setProperties(e,t){for(let i in e)!t&&this[x.READ_ONLY]&&this[x.READ_ONLY][i]||this._setPendingPropertyOrPath(i,e[i],!0);this._invalidateProperties()}ready(){this._flushProperties(),this.__dataClientsReady||this._flushClients(),this.__dataPending&&this._flushProperties()}_propertiesChanged(e,t,i){let o,r=this.__dataHasPaths;this.__dataHasPaths=!1,L(this,t,i,r),o=this.__dataToNotify,this.__dataToNotify=null,this._propagatePropertyChanges(t,i,r),this._flushClients(),k(this,this[x.REFLECT],t,i,r),k(this,this[x.OBSERVE],t,i,r),o&&function(e,t,i,o,r){let n,s,a=e[x.NOTIFY],l=_++;for(let s in t)t[s]&&(a&&E(e,a,l,s,i,o,r)||r&&M(e,s,i))&&(n=!0);n&&(s=e.__dataHost)&&s._invalidateProperties&&s._invalidateProperties()}(this,o,t,i,r),1==this.__dataCounter&&(this.__dataTemp={})}_propagatePropertyChanges(e,t,i){this[x.PROPAGATE]&&k(this,this[x.PROPAGATE],e,t,i),this.__templateInfo&&this._runEffectsForTemplate(this.__templateInfo,e,t,i)}_runEffectsForTemplate(e,t,i,o){const r=(t,o)=>{k(this,e.propertyEffects,t,i,o,e.nodeList);for(let r=e.firstChild;r;r=r.nextSibling)this._runEffectsForTemplate(r,t,i,o)};e.runEffects?e.runEffects(r,t,o):r(t,o)}linkPaths(e,t){e=(0,n.S8)(e),t=(0,n.S8)(t),this.__dataLinkedPaths=this.__dataLinkedPaths||{},this.__dataLinkedPaths[e]=t}unlinkPaths(e){e=(0,n.S8)(e),this.__dataLinkedPaths&&delete this.__dataLinkedPaths[e]}notifySplices(e,t){let i={path:""};Z(this,(0,n.Jt)(this,e,i),i.path,t)}get(e,t){return(0,n.Jt)(t||this,e)}set(e,t,i){i?(0,n.hZ)(i,e,t):this[x.READ_ONLY]&&this[x.READ_ONLY][e]||this._setPendingPropertyOrPath(e,t,!0)&&this._invalidateProperties()}push(e){let t={path:""},i=(0,n.Jt)(this,e,t),o=i.length;for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];let l=i.push(...s);return s.length&&ee(this,i,t.path,o,s.length,[]),l}pop(e){let t={path:""},i=(0,n.Jt)(this,e,t),o=Boolean(i.length),r=i.pop();return o&&ee(this,i,t.path,i.length,0,[r]),r}splice(e,t,i){for(var o=arguments.length,r=new Array(o>3?o-3:0),s=3;s<o;s++)r[s-3]=arguments[s];let a,l={path:""},d=(0,n.Jt)(this,e,l);return t<0?t=d.length-Math.floor(-t):t&&(t=Math.floor(t)),a=2===arguments.length?d.splice(t):d.splice(t,i,...r),(r.length||a.length)&&ee(this,d,l.path,t,r.length,a),a}shift(e){let t={path:""},i=(0,n.Jt)(this,e,t),o=Boolean(i.length),r=i.shift();return o&&ee(this,i,t.path,0,0,[r]),r}unshift(e){let t={path:""},i=(0,n.Jt)(this,e,t);for(var o=arguments.length,r=new Array(o>1?o-1:0),s=1;s<o;s++)r[s-1]=arguments[s];let a=i.unshift(...r);return r.length&&ee(this,i,t.path,0,r.length,[]),a}notifyPath(e,t){let i;if(1==arguments.length){let o={path:""};t=(0,n.Jt)(this,e,o),i=o.path}else i=Array.isArray(e)?(0,n.S8)(e):e;this._setPendingPropertyOrPath(i,t,!0,!0)&&this._invalidateProperties()}_createReadOnlyProperty(e,t){var i;this._addPropertyEffect(e,x.READ_ONLY),t&&(this["_set"+(i=e,i[0].toUpperCase()+i.substring(1))]=function(t){this._setProperty(e,t)})}_createPropertyObserver(e,t,i){let o={property:e,method:t,dynamicFn:Boolean(i)};this._addPropertyEffect(e,x.OBSERVE,{fn:T,info:o,trigger:{name:e}}),i&&this._addPropertyEffect(t,x.OBSERVE,{fn:T,info:o,trigger:{name:t}})}_createMethodObserver(e,t){let i=Y(e);if(!i)throw new Error("Malformed observer expression '"+e+"'");U(this,i,x.OBSERVE,z,null,t)}_createNotifyingProperty(e){this._addPropertyEffect(e,x.NOTIFY,{fn:D,info:{eventName:(0,s.e)(e)+"-changed",property:e}})}_createReflectedProperty(e){let t=this.constructor.attributeNameForProperty(e);"-"===t[0]?console.warn("Property "+e+" cannot be reflected to attribute "+t+' because "-" is not a valid starting attribute name. Use a lowercase first letter for the property instead.'):this._addPropertyEffect(e,x.REFLECT,{fn:P,info:{attrName:t}})}_createComputedProperty(e,t,i){let o=Y(t);if(!o)throw new Error("Malformed computed expression '"+t+"'");const r=U(this,o,x.COMPUTE,N,e,i);O(this,C)[e]=r}_marshalArgs(e,t,i){const o=this.__data,r=[];for(let s=0,a=e.length;s<a;s++){let{name:a,structured:l,wildcard:d,value:c,literal:u}=e[s];if(!u)if(d){const e=(0,n.K9)(a,t),r=J(o,i,e?t:a);c={path:e?t:a,value:r,base:e?(0,n.Jt)(o,a):r}}else c=l?J(o,i,a):o[a];if(v.oO&&!this._overrideLegacyUndefined&&void 0===c&&e.length>1)return w;r[s]=c}return r}static addPropertyEffect(e,t,i){this.prototype._addPropertyEffect(e,t,i)}static createPropertyObserver(e,t,i){this.prototype._createPropertyObserver(e,t,i)}static createMethodObserver(e,t){this.prototype._createMethodObserver(e,t)}static createNotifyingProperty(e){this.prototype._createNotifyingProperty(e)}static createReadOnlyProperty(e,t){this.prototype._createReadOnlyProperty(e,t)}static createReflectedProperty(e){this.prototype._createReflectedProperty(e)}static createComputedProperty(e,t,i){this.prototype._createComputedProperty(e,t,i)}static bindTemplate(e){return this.prototype._bindTemplate(e)}_bindTemplate(e,t){let i=this.constructor._parseTemplate(e),o=this.__preBoundTemplateInfo==i;if(!o)for(let e in i.propertyEffects)this._createPropertyAccessor(e);if(t)if(i=Object.create(i),i.wasPreBound=o,this.__templateInfo){const t=e._parentTemplateInfo||this.__templateInfo,o=t.lastChild;i.parent=t,t.lastChild=i,i.previousSibling=o,o?o.nextSibling=i:t.firstChild=i}else this.__templateInfo=i;else this.__preBoundTemplateInfo=i;return i}static _addTemplatePropertyEffect(e,t,i){(e.hostProps=e.hostProps||{})[t]=!0;let o=e.propertyEffects=e.propertyEffects||{};(o[t]=o[t]||[]).push(i)}_stampTemplate(e,t){t=t||this._bindTemplate(e,!0),ie.push(this);let i=super._stampTemplate(e,t);if(ie.pop(),t.nodeList=i.nodeList,!t.wasPreBound){let e=t.childNodes=[];for(let t=i.firstChild;t;t=t.nextSibling)e.push(t)}return i.templateInfo=t,function(e,t){let{nodeList:i,nodeInfoList:o}=t;if(o.length)for(let t=0;t<o.length;t++){let r=o[t],n=i[t],s=r.bindings;if(s)for(let t=0;t<s.length;t++){let i=s[t];H(n,i),V(n,e,i)}n.__dataHost=e}}(this,t),this.__dataClientsReady&&(this._runEffectsForTemplate(t,this.__data,null,!1),this._flushClients()),i}_removeBoundDom(e){const t=e.templateInfo,{previousSibling:i,nextSibling:r,parent:n}=t;i?i.nextSibling=r:n&&(n.firstChild=r),r?r.previousSibling=i:n&&(n.lastChild=i),t.nextSibling=t.previousSibling=null;let s=t.childNodes;for(let e=0;e<s.length;e++){let t=s[e];(0,o.L)((0,o.L)(t).parentNode).removeChild(t)}}static _parseTemplateNode(e,i,o){let r=t._parseTemplateNode.call(this,e,i,o);if(e.nodeType===Node.TEXT_NODE){let t=this._parseBindings(e.textContent,i);t&&(e.textContent=K(t)||" ",R(this,i,o,"text","textContent",t),r=!0)}return r}static _parseTemplateNodeAttribute(e,i,o,r,n){let a=this._parseBindings(n,i);if(a){let t=r,n="property";S.test(r)?n="attribute":"$"==r[r.length-1]&&(r=r.slice(0,-1),n="attribute");let l=K(a);return l&&"attribute"==n&&("class"==r&&e.hasAttribute("class")&&(l+=" "+e.getAttribute(r)),e.setAttribute(r,l)),"attribute"==n&&"disable-upgrade$"==t&&e.setAttribute(r,""),"input"===e.localName&&"value"===t&&e.setAttribute(t,""),e.removeAttribute(t),"property"===n&&(r=(0,s.I)(r)),R(this,i,o,n,r,a,l),!0}return t._parseTemplateNodeAttribute.call(this,e,i,o,r,n)}static _parseTemplateNestedTemplate(e,i,o){let r=t._parseTemplateNestedTemplate.call(this,e,i,o);const n=e.parentNode,s=o.templateInfo,a="dom-if"===n.localName,l="dom-repeat"===n.localName;v.fF&&(a||l)&&(n.removeChild(e),(o=o.parentInfo).templateInfo=s,o.noted=!0,r=!1);let d=s.hostProps;if(v.s&&a)d&&(i.hostProps=Object.assign(i.hostProps||{},d),v.fF||(o.parentInfo.noted=!0));else{let e="{";for(let t in d){R(this,i,o,"property","_host_"+t,[{mode:e,source:t,dependencies:[t],hostProp:!0}])}}return r}static _parseBindings(e,t){let i,o=[],r=0;for(;null!==(i=G.exec(e));){i.index>r&&o.push({literal:e.slice(r,i.index)});let n=i[1][0],s=Boolean(i[2]),a=i[3].trim(),l=!1,d="",c=-1;"{"==n&&(c=a.indexOf("::"))>0&&(d=a.substring(c+2),a=a.substring(0,c),l=!0);let u=Y(a),h=[];if(u){let{args:e,methodName:i}=u;for(let t=0;t<e.length;t++){let i=e[t];i.literal||h.push(i)}let o=t.dynamicFns;(o&&o[i]||u.static)&&(h.push(i),u.dynamicFn=!0)}else h.push(a);o.push({source:a,mode:n,negate:s,customEvent:l,signature:u,dependencies:h,event:d}),r=G.lastIndex}if(r&&r<e.length){let t=e.substring(r);t&&o.push({literal:t})}return o.length?o:null}static _evaluateBinding(e,t,i,o,r,s){let a;return a=t.signature?z(e,i,o,0,t.signature):i!=t.source?(0,n.Jt)(e,t.source):s&&(0,n.uf)(i)?(0,n.Jt)(e,i):e.__data[i],t.negate&&(a=!a),a}}})),ie=[]},2804:(e,t,i)=>{"use strict";i(8261);var o=i(1518);i(6012);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const r=i(2619).q`<dom-module id="paper-material-styles">
  <template>
    <style scope="paper-material-styles">html {
  --paper-material_-_display:  block;
--paper-material_-_position:  relative;;
        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;
        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;
        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;
        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;
        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;
}

.paper-material {
  display: var(--paper-material_-_display);
 position: var(--paper-material_-_position);
}

.paper-material[elevation="1"] {
  box-shadow: var(--paper-material-elevation-1_-_box-shadow);
}

.paper-material[elevation="2"] {
  box-shadow: var(--paper-material-elevation-2_-_box-shadow);
}

.paper-material[elevation="3"] {
  box-shadow: var(--paper-material-elevation-3_-_box-shadow);
}

.paper-material[elevation="4"] {
  box-shadow: var(--paper-material-elevation-4_-_box-shadow);
}

.paper-material[elevation="5"] {
  box-shadow: var(--paper-material-elevation-5_-_box-shadow);
}

:host {
  --paper-material_-_display:  block;
--paper-material_-_position:  relative;;
        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;
        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;
        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;
        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;
        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;
}

:host(.paper-material) {
  display: var(--paper-material_-_display);
 position: var(--paper-material_-_position);
}

:host(.paper-material[elevation="1"]) {
  box-shadow: var(--paper-material-elevation-1_-_box-shadow);
}

:host(.paper-material[elevation="2"]) {
  box-shadow: var(--paper-material-elevation-2_-_box-shadow);
}

:host(.paper-material[elevation="3"]) {
  box-shadow: var(--paper-material-elevation-3_-_box-shadow);
}

:host(.paper-material[elevation="4"]) {
  box-shadow: var(--paper-material-elevation-4_-_box-shadow);
}

:host(.paper-material[elevation="5"]) {
  box-shadow: var(--paper-material-elevation-5_-_box-shadow);
}

</style>
  </template>
</dom-module>`;r.setAttribute("style","display: none;"),document.head.appendChild(r.content);var n=i(8260),s=i(7659),a=i(5232);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const l={properties:{elevation:{type:Number,reflectToAttribute:!0,readOnly:!0}},observers:["_calculateElevation(focused, disabled, active, pressed, receivedFocusFromKeyboard)","_computeKeyboardClass(receivedFocusFromKeyboard)"],hostAttributes:{role:"button",tabindex:"0",animated:!0},_calculateElevation:function(){var e=1;this.disabled?e=0:this.active||this.pressed?e=4:this.receivedFocusFromKeyboard&&(e=3),this._setElevation(e)},_computeKeyboardClass:function(e){this.toggleClass("keyboard-focus",e)},_spaceKeyDownHandler:function(e){n.A._spaceKeyDownHandler.call(this,e),this.hasRipple()&&this.getRipple().ripples.length<1&&this._ripple.uiDownAction()},_spaceKeyUpHandler:function(e){n.A._spaceKeyUpHandler.call(this,e),this.hasRipple()&&this._ripple.uiUpAction()}},d=[n.a,s.x,a.v,l];
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,i(816).b)({_template:o.qy`<!--css-build:shadow--><style scope="paper-button">html {
  --paper-material_-_display:  block;
--paper-material_-_position:  relative;;
        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;
        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;
        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;
        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;
        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;
}

.paper-material {
  display: var(--paper-material_-_display);
 position: var(--paper-material_-_position);
}

.paper-material[elevation="1"] {
  box-shadow: var(--paper-material-elevation-1_-_box-shadow);
}

.paper-material[elevation="2"] {
  box-shadow: var(--paper-material-elevation-2_-_box-shadow);
}

.paper-material[elevation="3"] {
  box-shadow: var(--paper-material-elevation-3_-_box-shadow);
}

.paper-material[elevation="4"] {
  box-shadow: var(--paper-material-elevation-4_-_box-shadow);
}

.paper-material[elevation="5"] {
  box-shadow: var(--paper-material-elevation-5_-_box-shadow);
}

:host {
  --paper-material_-_display:  block;
--paper-material_-_position:  relative;;
        --paper-material-elevation-1_-_box-shadow:  var(--shadow-elevation-2dp_-_box-shadow);;
        --paper-material-elevation-2_-_box-shadow:  var(--shadow-elevation-4dp_-_box-shadow);;
        --paper-material-elevation-3_-_box-shadow:  var(--shadow-elevation-6dp_-_box-shadow);;
        --paper-material-elevation-4_-_box-shadow:  var(--shadow-elevation-8dp_-_box-shadow);;
        --paper-material-elevation-5_-_box-shadow:  var(--shadow-elevation-16dp_-_box-shadow);;
}

:host(.paper-material) {
  display: var(--paper-material_-_display);
 position: var(--paper-material_-_position);
}

:host(.paper-material[elevation="1"]) {
  box-shadow: var(--paper-material-elevation-1_-_box-shadow);
}

:host(.paper-material[elevation="2"]) {
  box-shadow: var(--paper-material-elevation-2_-_box-shadow);
}

:host(.paper-material[elevation="3"]) {
  box-shadow: var(--paper-material-elevation-3_-_box-shadow);
}

:host(.paper-material[elevation="4"]) {
  box-shadow: var(--paper-material-elevation-4_-_box-shadow);
}

:host(.paper-material[elevation="5"]) {
  box-shadow: var(--paper-material-elevation-5_-_box-shadow);
}

:host {
  display: var(--layout-inline_-_display);
      -ms-flex-align: var(--layout-center-center_-_-ms-flex-align);
 -webkit-align-items: var(--layout-center-center_-_-webkit-align-items);
 align-items: var(--layout-center-center_-_align-items);
 -ms-flex-pack: var(--layout-center-center_-_-ms-flex-pack);
 -webkit-justify-content: var(--layout-center-center_-_-webkit-justify-content);
 justify-content: var(--layout-center-center_-_justify-content);
      position: relative;
      box-sizing: border-box;
      min-width: 5.14em;
      margin: 0 0.29em;
      background: transparent;
      -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
      -webkit-tap-highlight-color: transparent;
      font: inherit;
      text-transform: uppercase;
      outline-width: 0;
      border-radius: 3px;
      -moz-user-select: none;
      -ms-user-select: none;
      -webkit-user-select: none;
      user-select: none;
      cursor: pointer;
      z-index: 0;
      padding: 0.7em 0.57em;

      font-family: var(--paper-font-common-base_-_font-family);
 -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);
      ;
}

:host([elevation="1"]) {
  box-shadow: var(--paper-material-elevation-1_-_box-shadow);
}

:host([elevation="2"]) {
  box-shadow: var(--paper-material-elevation-2_-_box-shadow);
}

:host([elevation="3"]) {
  box-shadow: var(--paper-material-elevation-3_-_box-shadow);
}

:host([elevation="4"]) {
  box-shadow: var(--paper-material-elevation-4_-_box-shadow);
}

:host([elevation="5"]) {
  box-shadow: var(--paper-material-elevation-5_-_box-shadow);
}

:host([hidden]) {
  display: none !important;
}

:host([raised].keyboard-focus) {
  font-weight: bold;
      ;
}

:host(:not([raised]).keyboard-focus) {
  font-weight: bold;
      ;
}

:host([disabled]) {
  background: none;
      color: #a8a8a8;
      cursor: auto;
      pointer-events: none;

      ;
}

:host([disabled][raised]) {
  background: #eaeaea;
}

:host([animated]) {
  transition: var(--shadow-transition_-_transition);
}

paper-ripple {
  color: var(--paper-button-ink-color);
}

</style>

  <slot></slot>`,is:"paper-button",behaviors:[d],properties:{raised:{type:Boolean,reflectToAttribute:!0,value:!1,observer:"_calculateElevation"}},_calculateElevation:function(){this.raised?l._calculateElevation.apply(this):this._setElevation(0)}})},2841:(e,t,i)=>{"use strict";i.d(t,{i:()=>r});var o=i(1924);class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.stripTime=e;let t=(o.F.getLocaleData()?o.F.getLocaleData().date.formats.dateFormats.yMd:"M/D/YY").replace(new RegExp("[dD]+"),"D").replace(new RegExp("[mM]+"),"M").replace(new RegExp("[yY]+"),"Y");this.separator=t.match(new RegExp("[/.-]"))[0];let i=t.split(this.separator);this.dateIdx=i.indexOf("D"),this.monthIdx=i.indexOf("M"),this.yearIdx=i.indexOf("Y")}parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._isValidYear;if("string"!=typeof e)return e;this.stripTime&&(e=e.split(" ")[0]);let i=!0,o=e.split(this.separator),r=o[this.dateIdx],n=o[this.monthIdx],s=o[this.yearIdx];if(s&&4==s.length&&n&&n.length>0&&n.length<=2&&r&&r.length>0&&r.length<=2){if(r=parseInt(r),n=parseInt(n),s=parseInt(s),o.length&&!isNaN(s)&&!isNaN(n)&&!isNaN(r)){if("function"==typeof t&&!t(s))return null;if(n>=1&&n<=12){var a=31;2==n?(a=28,s%4==0&&(s%100!=0||s%400==0)&&(a=29)):4!=n&&6!=n&&9!=n&&11!=n||(a=30),r>=1&&r<=a&&(i=!1)}}return i?null:new Date(Date.UTC(s,n-1,r))}return null}_isValidYear(e){return e>=1700&&e<=4e3}}},2868:(e,t,i)=>{"use strict";var o=i(3311),r=i(1149),n=i(4886),s=i(178),a=i(4127),l=i(3218),d=i(197),c=i(6206),u=i(7734),h=i(5292),p=(i(7543),i(5307),i(347),i(1520),i(1518)),f=(i(8261),i(1499),i(6527)),b=i(816),g=i(5565),m=i(2619);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,b.b)({_template:m.q`
    <style>
      :host {
        @apply --layout-inline;
        @apply --layout-center-center;
        position: relative;

        vertical-align: middle;

        fill: var(--iron-icon-fill-color, currentcolor);
        stroke: var(--iron-icon-stroke-color, none);

        width: var(--iron-icon-width, 24px);
        height: var(--iron-icon-height, 24px);
        @apply --iron-icon;
      }

      :host([hidden]) {
        display: none;
      }
    </style>
`,is:"iron-icon",properties:{icon:{type:String},theme:{type:String},src:{type:String},_meta:{value:p.C6.create("iron-meta",{type:"iconset"})}},observers:["_updateIcon(_meta, isAttached)","_updateIcon(theme, isAttached)","_srcChanged(src, isAttached)","_iconChanged(icon, isAttached)"],_DEFAULT_ICONSET:"icons",_iconChanged:function(e){var t=(e||"").split(":");this._iconName=t.pop(),this._iconsetName=t.pop()||this._DEFAULT_ICONSET,this._updateIcon()},_srcChanged:function(e){this._updateIcon()},_usesIconset:function(){return this.icon||!this.src},_updateIcon:function(){this._usesIconset()?(this._img&&this._img.parentNode&&(0,g.tT)(this.root).removeChild(this._img),""===this._iconName?this._iconset&&this._iconset.removeIcon(this):this._iconsetName&&this._meta&&(this._iconset=this._meta.byKey(this._iconsetName),this._iconset?(this._iconset.applyIcon(this,this._iconName,this.theme),this.unlisten(window,"iron-iconset-added","_updateIcon")):this.listen(window,"iron-iconset-added","_updateIcon"))):(this._iconset&&this._iconset.removeIcon(this),this._img||(this._img=document.createElement("img"),this._img.style.width="100%",this._img.style.height="100%",this._img.draggable=!1),this._img.src=this.src,(0,g.tT)(this.root).appendChild(this._img))}});i(6575);var y=i(215);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,b.b)({is:"paper-icon-button",_template:m.q`
    <style>
      :host {
        display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
        cursor: pointer;
        z-index: 0;
        line-height: 1;

        width: 40px;
        height: 40px;

        /*
          NOTE: Both values are needed, since some phones require the value to
          be \`transparent\`.
        */
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;

        /* Because of polymer/2558, this style has lower specificity than * */
        box-sizing: border-box !important;

        @apply --paper-icon-button;
      }

      :host #ink {
        color: var(--paper-icon-button-ink-color, var(--primary-text-color));
        opacity: 0.6;
      }

      :host([disabled]) {
        color: var(--paper-icon-button-disabled-text, var(--disabled-text-color));
        pointer-events: none;
        cursor: auto;

        @apply --paper-icon-button-disabled;
      }

      :host([hidden]) {
        display: none !important;
      }

      :host(:hover) {
        @apply --paper-icon-button-hover;
      }

      iron-icon {
        --iron-icon-width: 100%;
        --iron-icon-height: 100%;
      }
    </style>

    <iron-icon id="icon" src="[[src]]" icon="[[icon]]"
               alt$="[[alt]]"></iron-icon>
  `,hostAttributes:{role:"button",tabindex:"0"},behaviors:[y.O],registered:function(){this._template.setAttribute("strip-whitespace","")},properties:{src:{type:String},icon:{type:String},alt:{type:String,observer:"_altChanged"}},_altChanged:function(e,t){var i=this.getAttribute("aria-label");i&&t!=i||this.setAttribute("aria-label",e)}});i(3001);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,b.b)({is:"iron-iconset-svg",properties:{name:{type:String,observer:"_nameChanged"},size:{type:Number,value:24},rtlMirroring:{type:Boolean,value:!1},useGlobalRtlAttribute:{type:Boolean,value:!1}},created:function(){this._meta=new f.s({type:"iconset",key:null,value:null})},attached:function(){this.style.display="none"},getIconNames:function(){return this._icons=this._createIconMap(),Object.keys(this._icons).map((function(e){return this.name+":"+e}),this)},applyIcon:function(e,t){this.removeIcon(e);var i=this._cloneIcon(t,this.rtlMirroring&&this._targetIsRTL(e));if(i){var o=(0,g.tT)(e.root||e);return o.insertBefore(i,o.childNodes[0]),e._svgIcon=i}return null},removeIcon:function(e){e._svgIcon&&((0,g.tT)(e.root||e).removeChild(e._svgIcon),e._svgIcon=null)},_targetIsRTL:function(e){if(null==this.__targetIsRTL)if(this.useGlobalRtlAttribute){var t=document.body&&document.body.hasAttribute("dir")?document.body:document.documentElement;this.__targetIsRTL="rtl"===t.getAttribute("dir")}else e&&e.nodeType!==Node.ELEMENT_NODE&&(e=e.host),this.__targetIsRTL=e&&"rtl"===window.getComputedStyle(e).direction;return this.__targetIsRTL},_nameChanged:function(){this._meta.value=null,this._meta.key=this.name,this._meta.value=this,this.async((function(){this.fire("iron-iconset-added",this,{node:window})}))},_createIconMap:function(){var e=Object.create(null);return(0,g.tT)(this).querySelectorAll("[id]").forEach((function(t){e[t.id]=t})),e},_cloneIcon:function(e,t){return this._icons=this._icons||this._createIconMap(),this._prepareSvgClone(this._icons[e],this.size,t)},_prepareSvgClone:function(e,t,i){if(e){var o=e.cloneNode(!0),r=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=o.getAttribute("viewBox")||"0 0 "+t+" "+t,s="pointer-events: none; display: block; width: 100%; height: 100%;";return i&&o.hasAttribute("mirror-in-rtl")&&(s+="-webkit-transform:scale(-1,1);transform:scale(-1,1);transform-origin:center;"),r.setAttribute("viewBox",n),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),r.style.cssText=s,r.appendChild(o).removeAttribute("id"),r}return null}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const v=m.q`<iron-iconset-svg name="paper-tabs" size="24">
<svg><defs>
<g id="chevron-left"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"></path></g>
<g id="chevron-right"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"></path></g>
</defs></svg>
</iron-iconset-svg>`;document.head.appendChild(v.content);var _=i(8260),w=i(7659),x=i(5232);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(0,b.b)({_template:m.q`<!--css-build:shadow--><style scope="paper-tab">:host {
  display: var(--layout-inline_-_display);
        -ms-flex-align: var(--layout-center_-_-ms-flex-align);
 -webkit-align-items: var(--layout-center_-_-webkit-align-items);
 align-items: var(--layout-center_-_align-items);
        -ms-flex-pack: var(--layout-center-justified_-_-ms-flex-pack);
 -webkit-justify-content: var(--layout-center-justified_-_-webkit-justify-content);
 justify-content: var(--layout-center-justified_-_justify-content);
        -ms-flex: var(--layout-flex-auto_-_-ms-flex);
 -webkit-flex: var(--layout-flex-auto_-_-webkit-flex);
 flex: var(--layout-flex-auto_-_flex);

        position: relative;
        padding: 0 12px;
        overflow: hidden;
        cursor: pointer;
        vertical-align: middle;

        font-family: var(--paper-font-common-base_-_font-family);
 -webkit-font-smoothing: var(--paper-font-common-base_-_-webkit-font-smoothing);
        ;
}

:host(:focus) {
  outline: none;
}

:host([link]) {
  padding: 0;
}

.tab-content {
  height: var(--paper-tab-content-height, 100%);
  transform: translateZ(0);
  -webkit-transform: translateZ(0);
  transition: opacity 0.1s cubic-bezier(0.4, 0.0, 1, 1);
  display: var(--paper-tab-content-display, var(--layout-horizontal_-_display));
 	-ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);
 	-webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);
 	flex-direction: var(--layout-horizontal_-_flex-direction);
 	-ms-flex-align: var(--layout-center-center_-_-ms-flex-align);
 	-webkit-align-items: var(--layout-center-center_-_-webkit-align-items);
 	align-items: var(--layout-center-center_-_align-items);
 	-ms-flex-pack: var(--layout-center-center_-_-ms-flex-pack);
 	-webkit-justify-content: var(--layout-center-center_-_-webkit-justify-content);
 	justify-content: var(--layout-center-center_-_justify-content);
 	-ms-flex: var(--layout-flex-auto_-_-ms-flex);
 	-webkit-flex: var(--layout-flex-auto_-_-webkit-flex);
 	flex: var(--layout-flex-auto_-_flex);

	/** CPQ Styling Properties */
  overflow: var(--paper-tab-content-overflow);
	text-overflow: var(--paper-tab-content-text-overflow);
	white-space: var(--paper-tab-content-white-space);
	text-decoration: var(--paper-tab-content-text-decoration);
	cursor: var(--paper-tab-content-cursor);
	line-height: var(--paper-tab-content-line-height);
	font-family: var(--paper-tab-content-font-family);
}

:host(:not(.iron-selected)) > .tab-content {
  opacity: 0.8;

        ;
}

:host(:focus) .tab-content {
  opacity: 1;

	/** CPQ Specific Style */
  font-weight: var(--paper-tab-content-focused-font-weight, 700);
}

paper-ripple {
  color: var(--paper-tab-ink, var(--paper-yellow-a100));
}

.tab-content > ::slotted(a) {
  -ms-flex: var(--layout-flex-auto_-_-ms-flex);
 -webkit-flex: var(--layout-flex-auto_-_-webkit-flex);
 flex: var(--layout-flex-auto_-_flex);

        height: 100%;
}

</style>

    <div class="tab-content">
      <slot></slot>
    </div>
`,is:"paper-tab",behaviors:[w.x,_.a,x.v],properties:{link:{type:Boolean,value:!1,reflectToAttribute:!0}},hostAttributes:{role:"tab"},listeners:{down:"_updateNoink",tap:"_onTap"},attached:function(){this._updateNoink()},get _parentNoink(){var e=(0,g.tT)(this).parentNode;return!!e&&!!e.noink},_updateNoink:function(){this.noink=!!this.noink||!!this._parentNoink},_onTap:function(e){if(this.link){var t=this.queryEffectiveChildren("a");if(!t)return;if(e.target===t)return;t.click()}}});var C=i(3559);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const S={hostAttributes:{role:"menubar"},keyBindings:{left:"_onLeftKey",right:"_onRightKey"},_onUpKey:function(e){this.focusedItem.click(),e.detail.keyboardEvent.preventDefault()},_onDownKey:function(e){this.focusedItem.click(),e.detail.keyboardEvent.preventDefault()},get _isRTL(){return"rtl"===window.getComputedStyle(this).direction},_onLeftKey:function(e){this._isRTL?this._focusNext():this._focusPrevious(),e.detail.keyboardEvent.preventDefault()},_onRightKey:function(e){this._isRTL?this._focusPrevious():this._focusNext(),e.detail.keyboardEvent.preventDefault()},_onKeydown:function(e){this.keyboardEventMatchesKeys(e,"up down left right esc")||this._focusWithKeyboardEvent(e)}},O=[C.i,S];var k=i(35);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
(0,b.b)({_template:m.q`<!--css-build:shadow--><style scope="paper-tabs">:host {
  display: var(--layout_-_display);
        -ms-flex-align: var(--layout-center_-_-ms-flex-align);
 -webkit-align-items: var(--layout-center_-_-webkit-align-items);
 align-items: var(--layout-center_-_align-items);

        height: 48px;
        font-size: 14px;
        font-weight: 500;
        overflow: hidden;
        -moz-user-select: none;
        -ms-user-select: none;
        -webkit-user-select: none;
        user-select: none;

        
        -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        -webkit-tap-highlight-color: transparent;

        ;
}

:host(:dir(rtl)), :host([dir="rtl"]) {
  display: var(--layout-horizontal-reverse_-_display);
 -ms-flex-direction: var(--layout-horizontal-reverse_-_-ms-flex-direction);
 -webkit-flex-direction: var(--layout-horizontal-reverse_-_-webkit-flex-direction);
 flex-direction: var(--layout-horizontal-reverse_-_flex-direction);
}

#tabsContainer {
  position: relative;
        height: 100%;
        white-space: nowrap;
        overflow: hidden;
        -ms-flex: var(--layout-flex-auto_-_-ms-flex);
 -webkit-flex: var(--layout-flex-auto_-_-webkit-flex);
 flex: var(--layout-flex-auto_-_flex);
        ;
}

#tabsContent {
  height: 100%;
        -moz-flex-basis: auto;
        -ms-flex-basis: auto;
        flex-basis: auto;
        ;
}

#tabsContent.scrollable {
  position: absolute;
        white-space: nowrap;
}

#tabsContent:not(.scrollable), #tabsContent.scrollable.fit-container {
  display: var(--layout-horizontal_-_display);
 -ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);
 -webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);
 flex-direction: var(--layout-horizontal_-_flex-direction);
}

#tabsContent.scrollable.fit-container {
  min-width: 100%;
}

#tabsContent.scrollable.fit-container > ::slotted(*) {
  -ms-flex: 1 0 auto;
        -webkit-flex: 1 0 auto;
        flex: 1 0 auto;
}

.hidden {
  display: none;
}

.not-visible {
  opacity: 0;
        cursor: default;
}

paper-icon-button {
  width: 48px;
        height: 48px;
        padding: 12px;
        margin: 0 4px;
}

#selectionBar {
  position: absolute;
  height: var(--paper-tabs-selection-bar-height, 0);
  bottom: 0;
  left: 0;
  right: 0;
  border-bottom: var(--paper-tabs-selection-bar-border-bottom, 2px solid var(--paper-tabs-selection-bar-color, var(--paper-yellow-a100)));
    -webkit-transform: scale(0);
  transform: scale(0);
    -webkit-transform-origin: left center;
  transform-origin: left center;
    transition: -webkit-transform;
  transition: transform;
}

#selectionBar.align-bottom {
  top: 0;
        bottom: auto;
}

#selectionBar.expand {
  transition-duration: 0.15s;
        transition-timing-function: cubic-bezier(0.4, 0.0, 1, 1);
}

#selectionBar.contract {
  transition-duration: 0.18s;
        transition-timing-function: cubic-bezier(0.0, 0.0, 0.2, 1);
}

#tabsContent > ::slotted(:not(#selectionBar)) {
  height: 100%;
}

</style>

    <paper-icon-button icon="paper-tabs:chevron-left" class$="[[_computeScrollButtonClass(_leftHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onLeftScrollButtonDown" tabindex="-1"></paper-icon-button>

    <div id="tabsContainer" on-track="_scroll" on-down="_down">
      <div id="tabsContent" class$="[[_computeTabsContentClass(scrollable, fitContainer)]]">
        <div id="selectionBar" class$="[[_computeSelectionBarClass(noBar, alignBottom)]]" on-transitionend="_onBarTransitionEnd"></div>
        <slot></slot>
      </div>
    </div>

    <paper-icon-button icon="paper-tabs:chevron-right" class$="[[_computeScrollButtonClass(_rightHidden, scrollable, hideScrollButtons)]]" on-up="_onScrollButtonUp" on-down="_onRightScrollButtonDown" tabindex="-1"></paper-icon-button>
`,is:"paper-tabs",behaviors:[k.i,O],properties:{noink:{type:Boolean,value:!1,observer:"_noinkChanged"},noBar:{type:Boolean,value:!1},noSlide:{type:Boolean,value:!1},scrollable:{type:Boolean,value:!1},fitContainer:{type:Boolean,value:!1},disableDrag:{type:Boolean,value:!1},hideScrollButtons:{type:Boolean,value:!1},alignBottom:{type:Boolean,value:!1},selectable:{type:String,value:"paper-tab"},autoselect:{type:Boolean,value:!1},autoselectDelay:{type:Number,value:0},_step:{type:Number,value:10},_holdDelay:{type:Number,value:1},_leftHidden:{type:Boolean,value:!1},_rightHidden:{type:Boolean,value:!1},_previousTab:{type:Object}},hostAttributes:{role:"tablist"},listeners:{"iron-resize":"_onTabSizingChanged","iron-items-changed":"_onTabSizingChanged","iron-select":"_onIronSelect","iron-deselect":"_onIronDeselect"},keyBindings:{"left:keyup right:keyup":"_onArrowKeyup"},created:function(){this._holdJob=null,this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,this._bindDelayedActivationHandler=this._delayedActivationHandler.bind(this),this.addEventListener("blur",this._onBlurCapture.bind(this),!0)},ready:function(){this.setScrollDirection("y",this.$.tabsContainer)},detached:function(){this._cancelPendingActivation()},_noinkChanged:function(e){(0,g.tT)(this).querySelectorAll("paper-tab").forEach(e?this._setNoinkAttribute:this._removeNoinkAttribute)},_setNoinkAttribute:function(e){e.setAttribute("noink","")},_removeNoinkAttribute:function(e){e.removeAttribute("noink")},_computeScrollButtonClass:function(e,t,i){return!t||i?"hidden":e?"not-visible":""},_computeTabsContentClass:function(e,t){return e?"scrollable"+(t?" fit-container":""):" fit-container"},_computeSelectionBarClass:function(e,t){return e?"hidden":t?"align-bottom":""},_onTabSizingChanged:function(){this.debounce("_onTabSizingChanged",(function(){this._scroll(),this._tabChanged(this.selectedItem)}),10)},_onIronSelect:function(e){this._tabChanged(e.detail.item,this._previousTab),this._previousTab=e.detail.item,this.cancelDebouncer("tab-changed")},_onIronDeselect:function(e){this.debounce("tab-changed",(function(){this._tabChanged(null,this._previousTab),this._previousTab=null}),1)},_activateHandler:function(){this._cancelPendingActivation(),C.U._activateHandler.apply(this,arguments)},_scheduleActivation:function(e,t){this._pendingActivationItem=e,this._pendingActivationTimeout=this.async(this._bindDelayedActivationHandler,t)},_delayedActivationHandler:function(){var e=this._pendingActivationItem;this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0,e.fire(this.activateEvent,null,{bubbles:!0,cancelable:!0})},_cancelPendingActivation:function(){void 0!==this._pendingActivationTimeout&&(this.cancelAsync(this._pendingActivationTimeout),this._pendingActivationItem=void 0,this._pendingActivationTimeout=void 0)},_onArrowKeyup:function(e){this.autoselect&&this._scheduleActivation(this.focusedItem,this.autoselectDelay)},_onBlurCapture:function(e){e.target===this._pendingActivationItem&&this._cancelPendingActivation()},get _tabContainerScrollSize(){return Math.max(0,this.$.tabsContainer.scrollWidth-this.$.tabsContainer.offsetWidth)},_scroll:function(e,t){if(this.scrollable){var i=t&&-t.ddx||0;this._affectScroll(i)}},_down:function(e){this.async((function(){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null)}),1)},_affectScroll:function(e){this.$.tabsContainer.scrollLeft+=e;var t=this.$.tabsContainer.scrollLeft;this._leftHidden=0===t,this._rightHidden=t===this._tabContainerScrollSize},_onLeftScrollButtonDown:function(){this._scrollToLeft(),this._holdJob=setInterval(this._scrollToLeft.bind(this),this._holdDelay)},_onRightScrollButtonDown:function(){this._scrollToRight(),this._holdJob=setInterval(this._scrollToRight.bind(this),this._holdDelay)},_onScrollButtonUp:function(){clearInterval(this._holdJob),this._holdJob=null},_scrollToLeft:function(){this._affectScroll(-this._step)},_scrollToRight:function(){this._affectScroll(this._step)},_tabChanged:function(e,t){if(!e)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(0,0);var i=this.$.tabsContent.getBoundingClientRect(),o=i.width,r=e.getBoundingClientRect(),n=r.left-i.left;if(this._pos={width:this._calcPercent(r.width,o),left:this._calcPercent(n,o)},this.noSlide||null==t)return this.$.selectionBar.classList.remove("expand"),this.$.selectionBar.classList.remove("contract"),void this._positionBar(this._pos.width,this._pos.left);var s=t.getBoundingClientRect(),a=this.items.indexOf(t),l=this.items.indexOf(e);this.$.selectionBar.classList.add("expand");var d=a<l;this._isRTL&&(d=!d),d?this._positionBar(this._calcPercent(r.left+r.width-s.left,o)-5,this._left):this._positionBar(this._calcPercent(s.left+s.width-r.left,o)-5,this._calcPercent(n,o)+5),this.scrollable&&this._scrollToSelectedIfNeeded(r.width,n)},_scrollToSelectedIfNeeded:function(e,t){var i=t-this.$.tabsContainer.scrollLeft;(i<0||(i+=e-this.$.tabsContainer.offsetWidth)>0)&&(this.$.tabsContainer.scrollLeft+=i)},_calcPercent:function(e,t){return 100*e/t},_positionBar:function(e,t){e=e||0,t=t||0,this._width=e,this._left=t,this.transform("translateX("+t+"%) scaleX("+e/100+")",this.$.selectionBar)},_onBarTransitionEnd:function(e){var t=this.$.selectionBar.classList;t.contains("expand")?(t.remove("expand"),t.add("contract"),this._positionBar(this._pos.width,this._pos.left)):t.contains("contract")&&t.remove("contract")}});var E=i(5457);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,b.b)({_template:m.q`
    <style>
      :host {
        display: block;
      }

      :host > ::slotted(:not(slot):not(.iron-selected)) {
        display: none !important;
      }
    </style>

    <slot></slot>
`,is:"iron-pages",behaviors:[k.i,E.F],properties:{activateEvent:{type:String,value:null}},observers:["_selectedPageChanged(selected)"],_selectedPageChanged:function(e,t){this.async(this.notifyResize)}});const I=m.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host([secondary-tabs]) {
  --sb-option-cell-box-shadow: 0px -1px 0px 0px #d8dde6;
}
:host([secondary-tabs]) > #paperTabContainer {
  margin: 0;
  border-radius: 0.4rem 0.4rem 0 0;
  border: none;
  border-top: 1px solid #d8dde6;
}
:host([secondary-tabs]) > #paperTabContainer paper-tabs {
  --paper-tabs-selection-bar-border-bottom: none;
}
:host([secondary-tabs]) > #paperTabContainer paper-tab.iron-selected {
  border: none;
  box-shadow: none;
}
:host([secondary-tabs]) > #paperTabContainer paper-tab:not(.iron-selected) {
  background-color: #f4f6f9;
  border-bottom: 1px solid #d8dde6 !important;
}
:host([secondary-tabs]) > #paperTabContainer paper-tab:hover:not(.iron-selected) {
  border-color: #d8dde6;
  box-shadow: none;
}
:host([secondary-tabs]) > #paperTabContainer paper-tab {
  width: 50px !important;
}
:host([secondary-tabs]) > #paperTabContainer paper-tab:not(.iron-selected) ~ paper-tab.iron-selected {
  border-left: 1px solid #d8dde6;
}
:host([secondary-tabs]) > #paperTabContainer paper-tab.iron-selected ~ paper-tab:not(.iron-selected) {
  border-left: 1px solid #d8dde6;
}
:host([secondary-tabs]) > #paperTabContainer paper-tab:not(.iron-selected) ~ paper-tab:not(.iron-selected) {
  margin-left: 0 !important;
  border-left: 1px solid #d8dde6;
}
paper-tabs {
  height: auto !important;
}
paper-tabs span {
  position: relative;
  top: 10px;
  right: 5px;
  color: #0070d2;
}
paper-tab[disabled]:not(.iron-selected) {
  color: rgba(126, 140, 153, 0.8);
}
paper-tab[disabled]:not(.iron-selected) span {
  color: rgba(126, 140, 153, 0.8);
}
paper-tab#overflowTab[overflow-tab-label-disabled]:not(.iron-selected):not([disabled]) {
  color: rgba(126, 140, 153, 0.8);
}
paper-tab#overflowTab[overflow-tab-label-disabled]:not(.iron-selected):not([disabled]) span {
  color: var(--sbTabSelectedColor);
}
paper-tab {
  font-family: var(--sbTabFontFamily);
  padding: 0 1rem;
  text-align: center;
  font-size: 14px;
  line-height: 1.25;
  color: var(--sbTabColor);
  text-transform: uppercase;
  display: inline-block;
  border-bottom: 2px solid transparent;
}
paper-tab[class*='--mobile'] {
  font-size: 1rem;
}
[class*='--mobile'] paper-tab {
  font-size: 1rem;
}
paper-tab:hover:not(.iron-selected) {
  height: auto;
  text-decoration: none;
  color: var(--sbTabHoverColor);
}
paper-tab.iron-selected {
  color: var(--sbTabSelectedColor);
  border-color: var(--sbTabSelectedColor);
  box-shadow: var(--sbTabSelectedShadowColor);
}
paper-tab.overflow {
  display: none;
}
paper-tab.overflowTab {
  display: inline-block !important;
  overflow: visible;
}
paper-tab + paper-tab {
  margin-left: 1.5rem;
}
sb-pagination {
  --pagination-bar-text-align: center;
  --pagination-bar-padding-bottom: 5px;
  --pagination-bar-padding-top: 5px;
}
.center-justified {
  text-align: center;
}
#downArrow {
  margin-left: 5px;
  top: 0;
}
#menuMask {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  display: none;
  z-index: 99;
}
#overflowTab {
  display: none;
}
#paperTabContainer {
  display: inline-block;
  margin: 0 15px;
  position: relative;
}
#paperTabContainer[class*='--mobile'] {
  max-width: none;
  display: block;
  min-height: 42px;
}
[class*='--mobile'] #paperTabContainer {
  max-width: none;
  display: block;
  min-height: 42px;
}
@media screen and (max-width: 480px) {
  #paperTabContainer {
    max-width: 480px;
  }
}
@media screen and (max-width: 768px) and (min-width: 481px) {
  #paperTabContainer {
    max-width: 768px;
  }
}
@media screen and (max-width: 1024px) and (min-width: 769px) {
  #paperTabContainer {
    max-width: 1024px;
  }
}
@media screen and (max-width: 1200px) and (min-width: 1025px) {
  #paperTabContainer {
    max-width: 1200px;
  }
}
@media screen and (min-width: 1201px) {
  #paperTabContainer {
    max-width: 1200px;
  }
}
#paperTabContainer.hidden {
  display: none !important;
}
#overflowTabMenu {
  position: absolute;
  right: 0;
  background: #fff;
  border: 1px solid #d8dde6;
  border-radius: 0.25rem;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  max-width: 20rem;
  max-height: 15rem;
  overflow-y: auto;
  overflow-x: hidden;
  z-index: 100;
  display: none;
}
#overflowTabMenu .noOverflow {
  display: none;
}
#overflowTabMenu ul {
  list-style-type: none;
  text-transform: uppercase;
  color: #16325c;
  text-decoration: none;
  white-space: nowrap;
  padding: 0 0;
  margin: 0 0;
}
#overflowTabMenu ul li {
  font-family: var(--sbTabFontFamily);
  color: #54698d;
  padding: 0 1rem;
  line-height: 3rem;
  font-size: 0.75rem;
  letter-spacing: 0.0625em;
  border-bottom: 1px solid #d8dde6;
}
#overflowTabMenu ul li :last-child {
  border-bottom: none;
}
#overflowTabMenu ul li[disabled]:not(.selected) {
  color: rgba(126, 140, 153, 0.8);
}
#overflowTabMenu ul li:not([disabled]):hover {
  cursor: pointer;
  background-color: #f4f6f9;
}
#overflowTabMenu ul li:not([disabled]):active {
  background-color: #EEF1F6;
}
#overflowTabMenu ul .selected {
  background-color: #f4f6f9;
}
.showOverflowTabMenu {
  display: inline-block !important;
}
.showOverflowTabMenu .overflow {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.showMenuMask {
  display: block !important;
}
.hideIconClass {
  display: none;
}
.overflowIconClass {
  position: relative;
  top: 0px;
  right: -2px;
  color: #0070d2;
}
[hidden] {
  display: none !important;
}
.widthWithOverflow {
  width: 100%;
}
:host > * {
  --paper-tabs-selection-bar-color: #0070d2;
  --paper-tabs-selection-bar-height: 0;
  --paper-tab-content-overflow: hidden;
  --paper-tab-content-text-overflow: ellipsis;
  --paper-tab-content-white-space: nowrap;
  --paper-tab-content-display: block;
  --paper-tab-content-text-decoration: none;
  --paper-tab-content-cursor: pointer;
  --paper-tab-content-height: 2.5rem;
  --paper-tab-content-line-height: 2.5rem;
  --paper-tab-content-font-family: var(--sbTabFontFamily);
  /** Focused tabs */
  --paper-tab-content-focused-font-weight: 500;
}
#paperTabContainer.largeQuote[class*='--desktop'] {
  display: flex;
  flex-direction: row;
  border-bottom: none;
  border-top: none;
  max-width: 120em;
}
#paperTabContainer.largeQuote.sbGroupTabs[class*='--desktop'] {
  max-width: 60em;
}
#paperContentContainer.largeQuote[class*='--desktop'] {
  flex: 1;
  display: flex;
  flex-direction: column;
}
#paperContentContainer.largeQuote[class*='--desktop'] > iron-pages {
  flex: 1;
  display: flex;
  flex-direction: column;
}
#paperContentContainer.largeQuote[class*='--desktop'] > iron-pages > .iron-selected {
  flex: 1;
  display: flex;
  flex-direction: column;
}
[class*='--desktop'] #paperTabContainer.largeQuote {
  display: flex;
  flex-direction: row;
  border-bottom: none;
  border-top: none;
  max-width: 120em;
}
[class*='--desktop'] #paperTabContainer.largeQuote.sbGroupTabs {
  max-width: 60em;
}
[class*='--desktop'] #paperContentContainer.largeQuote {
  flex: 1;
  display: flex;
  flex-direction: column;
}
[class*='--desktop'] #paperContentContainer.largeQuote > iron-pages {
  flex: 1;
  display: flex;
  flex-direction: column;
}
[class*='--desktop'] #paperContentContainer.largeQuote > iron-pages > .iron-selected {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host([secondary-tabs]) #paperTabContainer.largeQuote[class*='--desktop'] paper-tabs {
  width: 100% !important;
}
:host([class*='--desktop'][secondary-tabs]) #paperTabContainer.largeQuote paper-tabs {
  width: 100% !important;
}
:host([secondary-tabs]) > #paperTabContainer[class*='--mobile'] {
  border-bottom: none;
}
:host([secondary-tabs]) > #paperTabContainer[class*='--mobile'] paper-tabs {
  padding: 0;
}
:host([class*='--mobile'][secondary-tabs]) > #paperTabContainer {
  border-bottom: none;
}
:host([class*='--mobile'][secondary-tabs]) > #paperTabContainer paper-tabs {
  padding: 0;
}
:host .iconClass {
  cursor: pointer;
  color: #9faab5 !important;
}
:host .iconClass:hover {
  color: #0070d2 !important;
}
:host > #paperTabContainer {
  margin: 0;
  border-bottom: 1px solid #d8dde6;
}
:host .iconClass[class*='--mobile'] {
  margin-left: -14px;
}
:host [class*='--mobile'] .iconClass {
  margin-left: -14px;
}
:host .iconClass[class*='--desktop'] {
  margin-left: -7px;
}
:host [class*='--desktop'] .iconClass {
  margin-left: -7px;
}
`;i(4167),i(4),i(8797);function T(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function M(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?T(Object(i),!0).forEach((function(t){B(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):T(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function B(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class D extends((0,l.N)((0,a.g)((0,n.$)((0,s.T)(u.Pu))))){static get is(){return"sb-tabs"}static get properties(){return{tabs:Array,pageComponent:{type:String,value:null},selectedTabIndex:{type:Number,value:0},selectedPageIndex:{type:Number,value:0},tabsClass:{type:String,value:"horizontal layout center-justified"},usePagination:{type:Boolean,value:!1},paginationClass:{type:String,value:"horizontal layout center-justified"},viewport:{type:Object,observer:"_viewportChanged",value:function(){return o.L.getViewport()}},tabLimit:{type:Number,value:0},rendered:{type:Boolean,value:!1},overflowTab:Object,overflowTabClass:String,overflowTabMenuClass:String,menuMaskClass:String,bind:{type:Array,value:[]},hideTabs:{type:Boolean,value:!1},contentContainerClass:String,tabContainerClass:String,pageElements:{type:Array,value:[]},overflowTabMenuDisabled:{type:Boolean,value:!1},overflowTabMenuLabelDisabled:{type:Boolean,value:!1}}}get events(){let e={};return e[r.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get observers(){return["_renderObserver(tabs, pageComponent, bind)","setPaginationListener(usePagination)","_handleSelectedChangedObserver(selectedPageIndex, pageElements)"]}_renderObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.render(e,t,i)}render(){this._enforceValidTabSelected(),this._buildTabs(),this.observeNode(this.$.paperTabs,function(){this.rendered=!0,!this.tabs||this.tabs.length<=0||this._viewportChanged()}.bind(this))}destroyTabs(){if(this.template)try{let e=this.$.pages;for(;e.firstChild;)e.removeChild(e.firstChild);(0,d.b)(),this.template=null,this.selectedTabIndex=0}catch(e){return void console.error(e)}}_enforceValidTabSelected(){(isNaN(this.selectedPageIndex)||this.tabs&&this.tabs.length<=this.selectedPageIndex||this.selectedPageIndex<0||this.selectedPageIndex%1!=0)&&(this.selectedPageIndex=0)}_buildTabs(){if(this.template)return void this.templateBindData(this.template,this.template.parentElement);let e=document.createElement("dom-bind");this.template=document.createElement("template"),e.appendChild(this.template),this._buildPages(this.template),this.templateBindData(this.template,e),this.$.pages.appendChild(e),(0,d.b)(),this.observeNode(this.$.pages,function(e){for(let t=0,i=e.addedNodes.length;t<i;t++)"div"===e.addedNodes[t].tagName.toLowerCase()&&(this.pageElements=this.pageElements.concat(e.addedNodes[t].firstElementChild));this.bindElementEvents(this.pageElements)}.bind(this))}setPageElements(e){for(let t of e||[])this.pageElements.push(t)}_buildPages(e){let t=e.content.ownerDocument;this._bind=this.bind||[],this.tabs.forEach(function(i,o){let r=i.pageComponent||this.pageComponent;if(!r)return;let n=t.createElement("div"),s=t.createElement(r);s.setAttribute("name",i.name),s.setAttribute("label",i.label),s.setAttribute("tab-index",o),s.setAttribute("key",i.key);let a=i.attributes||[];for(let e of a)s.setAttribute(e.name,e.value);this.usePagination&&this.set("tabs."+o+".disabled",!0),i.bind&&(this._bind=[...new Set([...this._bind,...i.bind])]),this.addTwoWayBindingAttributes(s,this._bind),n.appendChild(s),e.content.appendChild(n)}.bind(this));for(let e of this._bind)this._createMethodObserver(`_propertyChanged(${e}.*)`)}addTwoWayBindingAttributes(e,t){for(let i of t)e.setAttribute((0,h.e)(i),"{{"+i+"}}")}templateBindData(e,t){this.requiresTemplateBindData=this._bind&&this._bind.length>0;for(let i of this._bind)(this.__data[i]&&this.__data[i]!==this[i]||void 0===this[i])&&(this[i]=this.__data[i]),void 0!==this[i]&&(this.requiresTemplateBindData=!1,e[i]=this[i],t[i]=this[i])}displayPage(e){let t=this.$.paperTabs.querySelectorAll("paper-tab")[e];return null!=t&&"overflowTab"===t.id&&0!=e?this.selectedPageIndex:(this.selectedPageIndex=+e,e)}setPaginationListener(){this.usePagination&&this.addEventListener("pagination-changed",this.changeTab.bind(this))}changeTab(e){this._changeTab(e.detail.index)}_changeTab(e){let t=this.$.paperTabs,i=t.querySelector("#overflowTab"),o=this.tabLimit,r=this.tabs.length;this.selectedTabIndex=e,this._ensureOverflowTabMenuDisabled(i),this.tabs=this._ensureOverflowSelection(this.tabs,this.selectedPageIndex),this.selectedTabIndex>=o&&r-1>o?(this._displayOverflowTabName(i,this.tabs[this.selectedTabIndex].label),t.selected=t.getElementsByTagName("paper-tab").length-1,this.usePagination&&(this.shadowRoot.querySelector("#pagination").pageIndex=e,this.overflowTabMenuDisabled=!1,this.overflowTabMenuLabelDisabled=!1)):r-2>o&&this._displayOverflowTabName(i,this.tabs[o].label)}_ensureOverflowTabMenuDisabled(e){let t=!0;for(let e=this.tabLimit,i=this.tabs.length;e<i;e++)if(!this.tabs[e].disabled){t=!1;break}if(this.overflowTabMenuDisabled=t,this.overflowTabMenuDisabled)return void(this.overflowTabMenuLabelDisabled=!0);let i=e.firstChild.textContent,o=this._getTabIndexByLabel(i);o>=0&&(this.overflowTabMenuLabelDisabled=this.tabs[o].disabled)}_ensureOverflowSelection(e,t){return e.map(((e,i)=>{let o=t===i&&e.className.includes("overflow"),r=e.className.replace(" selected","")+(o?" selected":"");return M(M({},e),{},{className:r})}))}closeMenu(e){let t=this.selectedPageIndex;this.overflowTabMenuClass="",this.menuMaskClass="",!0!==e&&t<this.tabLimit&&(this.selectedTabIndex=t)}selectTab(e){let t=parseInt(e.currentTarget.id);if(Number.isInteger(t)&&this.tabs[t].disabled)return;let i=this.$.paperTabs.querySelector("#overflowTab"),o=this.tabLimit;if(Number.isInteger(t)){if(this.selectedPageIndex=t,this._deselectPreviouslySelectedTab(),this.$.pages.selected=t,this.set("tabs."+t+".className","overflow selected"),this.overflowTab=this.tabs[t],this.tabs[t].iconId){let e=this.shadowRoot.querySelector("#"+this.tabs[t].iconId+"-overflow");(0,c.p1)("hideIconClass",!1,e)}this._displayOverflowTabName(i,e.currentTarget.textContent),this.overflowTabClass="overflowTab",this.closeMenu(!0)}else this.tabs.length-1>o&&(this._deselectPreviouslySelectedTab(),this._displayOverflowTabName(i,this.tabs[o].label),this._ensureOverflowTabMenuDisabled(i))}_handleEvent(e){let t=e.currentTarget.getAttribute("data-tap-event"),i=e.currentTarget.getAttribute("id"),o=null!=t?t:"tab-"+(0,h.e)(i);this.dispatchEvent((0,r.uv)(o+"-tapped",{event:t,Id:i}))}showMenu(){this.overflowTabMenuClass="showOverflowTabMenu",this.menuMaskClass="showMenuMask"}viewportChanged(e){this.viewport=e.detail.viewport}_displayOverflowTabName(e,t){e.firstChild.textContent=t,this.overflowTabClass="overflowTab"}_handleOverFlow(){let e,t,i=this.$.paperTabs,o=this.selectedPageIndex,r=i.querySelector("#overflowTab"),n=this.shadowRoot.querySelector("#pagination"),s=this.tabLimit,a=this.tabs.length;this.overflowTabClass="";for(let i=0;i<a;i++){if(e="noOverflow",t=s,i>=s&&a-1>s&&(i===a-1&&(o>=s&&(t=o),this.overflowTab=this.tabs[t],this._displayOverflowTabName(r,this.tabs[t].label)),e="overflow"),a>=s&&(e+=" widthWithOverflow"),this.tabs[i].iconId){let t=this.shadowRoot.querySelector("#"+this.tabs[i].iconId),r=!("noOverflow"==e||"overflow"==e&&i>=s&&i!=a-1);if((0,c.p1)("hideIconClass",r,t),"overflow"==e&&i===o){let e=this.shadowRoot.querySelector("#"+this.tabs[i].iconId+"-overflow");(0,c.p1)("hideIconClass",!1,e)}}this.tabs[i].disabled&&(e+=" disabled"),this.set("tabs."+i+".className",i===o?e+" iron-selected":e)}o<s||a-1===s&&o===s?(this.selectedTabIndex=o,this.set("tabs."+o+".className",this.tabs[o].className.replace(" selected",""))):o>=s&&(i.selected=a,this.overflowTabClass="overflowTab iron-selected",this.set("tabs."+o+".className","overflow selected")),this.usePagination&&null!=n&&(n.pageIndex=o),this._ensureOverflowTabMenuDisabled(r)}_handleSelectedChangedObserver(e,t){if(void 0!==e&&void 0!==t)return this._handleSelectedChanged(e,t)}_handleSelectedChanged(){this._enforceValidTabSelected(),this.dispatchEvent((0,r.uv)("selected-page-changed",this.selectedPageIndex)),this.fireTabSelected()}fireTabSelected(){this.pageElements.length>0&&this.pageElements.length>this.selectedPageIndex&&this.pageElements[this.selectedPageIndex].dispatchEvent((0,r.uv)("sb-tab-selected"))}_deselectPreviouslySelectedTab(){let e=this.$.overflowTabMenu.querySelector(".selected");if(!e)return;let t=parseInt(e.id);Number.isInteger(t)&&this.set("tabs."+t+".className",this.tabs[t].className.replace(" selected",""))}_viewportChanged(){this.rendered&&(this.viewport&&this.viewport.XL.up?this.tabLimit=7:this.viewport&&this.viewport.L.up?this.tabLimit=5:this.viewport&&this.viewport.M.up?this.tabLimit=4:this.viewport&&this.viewport.S.up?this.tabLimit=3:this.viewport&&this.viewport.XS.up&&(this.tabLimit=2),this._handleOverFlow())}bindElementEvents(e){var t=e?e.length:0;if(0!=t){this.fireTabSelected();for(let i=0;i<t;i++)for(let t of this._bind){let o=(0,h.e)(t);e[i].addEventListener(o+"-changed",function(e){e.detail.path&&(0,c.bv)(this).set(e.detail.path,e.detail.value)}.bind(this))}this.requiresTemplateBindData&&this.templateBindData(this.template,this.template.parentElement)}}_propertyChanged(e){this.template&&this.template.parentElement&&this.template.parentElement.notifyPath(e.path,e.value)}contentFilteredHandler(e,t){if(null==e)return;let i=this._getTabIndexByLabel(e);i<0||(this.set("tabs."+i+".disabled",!t||this.usePagination),this.tabs[i]._disabled=!t,this._changeToNextEnabledTabQueued&&clearTimeout(this._changeToNextEnabledTabQueued),this._changeToNextEnabledTabQueued=setTimeout(this._changeToNextEnabledTab.bind(this),1))}_getTabIndexByLabel(e){for(let t=0,i=this.tabs.length;t<i;t++)if(this.tabs[t].label===e)return t;return-1}_changeToNextEnabledTab(){let e=this._getNextEnabledPageIndex();this._changeTab(e)}_getNextEnabledPageIndex(){for(let e=this.selectedPageIndex,t=this.tabs.length;e<t;e++)if(!this.tabs[e]._disabled)return e;for(let e=0,t=this.selectedPageIndex;e<t;e++)if(!this.tabs[e]._disabled)return e;return this.selectedPageIndex}static get template(){return u.qy`
		<style include="sb-common-styles"></style>
		<style>${I}</style>
		<style include="sb-icons-styles"></style>
		
		<div device id="paperTabContainer" class$="[[contentContainerClass]]" hidden$="[[hideTabs]]">
			<paper-tabs
					noink id="paperTabs"
					selected="{{selectedTabIndex}}"
					class="tabs"
					no-slide class$="[[tabsClass]]"
			>
				<template is="dom-repeat" items="[[tabs]]" as="tab">
					<paper-tab
							hidden="[[tab.hidden]]"
							disabled="[[tab.disabled]]"
							on-click="selectTab"
							label$="[[tab.label]]"
							name$="[[tab.key]]"
							class$="[[tab.className]]">[[tab.label]]</paper-tab>

					<template is="dom-if" if="[[tab.iconId]]">
						<span
								id$="[[tab.iconId]]"
								class$="iconClass hideIconClass [[tab.iconClass]]"
								on-click="_handleEvent"
								data-tap-event$="[[tab.iconEvent]]">
						</span>
						<paper-tooltip for="[[tab.iconId]]" position="top" offset="10" animation-delay="0">[[tab.label]]</paper-tooltip>
					</template>

				</template>
				<paper-tab
						id="overflowTab"
						disabled="[[overflowTabMenuDisabled]]"
						on-click="showMenu"
						class$="[[overflowTabClass]]"
						overflow-tab-label-disabled$="[[overflowTabMenuLabelDisabled]]"
				>
						<span
								id$="[[overflowTab.iconId]]-overflow"
								class$="iconClass overflowIconClass hideIconClass [[overflowTab.iconClass]]"
								on-click="_handleEvent"
								data-tap-event$="[[overflowTab.iconEvent]]">
						</span>
						<paper-tooltip for="[[overflowTab.iconId]]" position="top" offset="10" animation-delay="0">[[overflowTab.label]]</paper-tooltip>
					<span id="downArrow">&#9660;</span>
				</paper-tab>

			</paper-tabs>
			<div id="overflowTabMenu" class$="[[overflowTabMenuClass]]">
				<ul>
					<template is="dom-repeat" items="[[tabs]]" as="tab">
						<li id="{{index}}" class$="[[tab.className]]" name$="[[tab.key]]"
								disabled$="[[tab.disabled]]" on-click="selectTab">
							<span id="tabLabel">[[tab.label]]</span>
							<paper-tooltip for="tabLabel" position="bottom" animation-delay="0"
									offset="10" fit-to-visible-bounds="true">
							</paper-tooltip>
						</li>
					</template>
				</ul>
			</div>
			<div id="menuMask" on-click="closeMenu" class$="[[menuMaskClass]]"></div>
		</div>
		<div device id="paperContentContainer" class$="[[contentContainerClass]]">
		<iron-pages id="pages" selected="[[displayPage(selectedTabIndex)]]"></iron-pages>
		<template is="dom-if" if="[[usePagination]]">
			<div class$="[[paginationClass]]">
				<sb-pagination
						id="pagination"
						page-size='1'
						num-items="[[tabs.length]]"
						page-index="[[selectedTabIndex]]"
				></sb-pagination>
			</div>
		</template>
		</div>
		`}}customElements.define(D.is,D)},3001:(e,t,i)=>{"use strict";i(1518);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=i(2619).q`
  <style css-build="shadow">html {
  --google-red-100: #f4c7c3;
      --google-red-300: #e67c73;
      --google-red-500: #db4437;
      --google-red-700: #c53929;

      --google-blue-100: #c6dafc;
      --google-blue-300: #7baaf7;
      --google-blue-500: #4285f4;
      --google-blue-700: #3367d6;

      --google-green-100: #b7e1cd;
      --google-green-300: #57bb8a;
      --google-green-500: #0f9d58;
      --google-green-700: #0b8043;

      --google-yellow-100: #fce8b2;
      --google-yellow-300: #f7cb4d;
      --google-yellow-500: #f4b400;
      --google-yellow-700: #f09300;

      --google-grey-100: #f5f5f5;
      --google-grey-300: #e0e0e0;
      --google-grey-500: #9e9e9e;
      --google-grey-700: #616161;

      

      --paper-red-50: #ffebee;
      --paper-red-100: #ffcdd2;
      --paper-red-200: #ef9a9a;
      --paper-red-300: #e57373;
      --paper-red-400: #ef5350;
      --paper-red-500: #f44336;
      --paper-red-600: #e53935;
      --paper-red-700: #d32f2f;
      --paper-red-800: #c62828;
      --paper-red-900: #b71c1c;
      --paper-red-a100: #ff8a80;
      --paper-red-a200: #ff5252;
      --paper-red-a400: #ff1744;
      --paper-red-a700: #d50000;

      --paper-pink-50: #fce4ec;
      --paper-pink-100: #f8bbd0;
      --paper-pink-200: #f48fb1;
      --paper-pink-300: #f06292;
      --paper-pink-400: #ec407a;
      --paper-pink-500: #e91e63;
      --paper-pink-600: #d81b60;
      --paper-pink-700: #c2185b;
      --paper-pink-800: #ad1457;
      --paper-pink-900: #880e4f;
      --paper-pink-a100: #ff80ab;
      --paper-pink-a200: #ff4081;
      --paper-pink-a400: #f50057;
      --paper-pink-a700: #c51162;

      --paper-purple-50: #f3e5f5;
      --paper-purple-100: #e1bee7;
      --paper-purple-200: #ce93d8;
      --paper-purple-300: #ba68c8;
      --paper-purple-400: #ab47bc;
      --paper-purple-500: #9c27b0;
      --paper-purple-600: #8e24aa;
      --paper-purple-700: #7b1fa2;
      --paper-purple-800: #6a1b9a;
      --paper-purple-900: #4a148c;
      --paper-purple-a100: #ea80fc;
      --paper-purple-a200: #e040fb;
      --paper-purple-a400: #d500f9;
      --paper-purple-a700: #aa00ff;

      --paper-deep-purple-50: #ede7f6;
      --paper-deep-purple-100: #d1c4e9;
      --paper-deep-purple-200: #b39ddb;
      --paper-deep-purple-300: #9575cd;
      --paper-deep-purple-400: #7e57c2;
      --paper-deep-purple-500: #673ab7;
      --paper-deep-purple-600: #5e35b1;
      --paper-deep-purple-700: #512da8;
      --paper-deep-purple-800: #4527a0;
      --paper-deep-purple-900: #311b92;
      --paper-deep-purple-a100: #b388ff;
      --paper-deep-purple-a200: #7c4dff;
      --paper-deep-purple-a400: #651fff;
      --paper-deep-purple-a700: #6200ea;

      --paper-indigo-50: #e8eaf6;
      --paper-indigo-100: #c5cae9;
      --paper-indigo-200: #9fa8da;
      --paper-indigo-300: #7986cb;
      --paper-indigo-400: #5c6bc0;
      --paper-indigo-500: #3f51b5;
      --paper-indigo-600: #3949ab;
      --paper-indigo-700: #303f9f;
      --paper-indigo-800: #283593;
      --paper-indigo-900: #1a237e;
      --paper-indigo-a100: #8c9eff;
      --paper-indigo-a200: #536dfe;
      --paper-indigo-a400: #3d5afe;
      --paper-indigo-a700: #304ffe;

      --paper-blue-50: #e3f2fd;
      --paper-blue-100: #bbdefb;
      --paper-blue-200: #90caf9;
      --paper-blue-300: #64b5f6;
      --paper-blue-400: #42a5f5;
      --paper-blue-500: #2196f3;
      --paper-blue-600: #1e88e5;
      --paper-blue-700: #1976d2;
      --paper-blue-800: #1565c0;
      --paper-blue-900: #0d47a1;
      --paper-blue-a100: #82b1ff;
      --paper-blue-a200: #448aff;
      --paper-blue-a400: #2979ff;
      --paper-blue-a700: #2962ff;

      --paper-light-blue-50: #e1f5fe;
      --paper-light-blue-100: #b3e5fc;
      --paper-light-blue-200: #81d4fa;
      --paper-light-blue-300: #4fc3f7;
      --paper-light-blue-400: #29b6f6;
      --paper-light-blue-500: #03a9f4;
      --paper-light-blue-600: #039be5;
      --paper-light-blue-700: #0288d1;
      --paper-light-blue-800: #0277bd;
      --paper-light-blue-900: #01579b;
      --paper-light-blue-a100: #80d8ff;
      --paper-light-blue-a200: #40c4ff;
      --paper-light-blue-a400: #00b0ff;
      --paper-light-blue-a700: #0091ea;

      --paper-cyan-50: #e0f7fa;
      --paper-cyan-100: #b2ebf2;
      --paper-cyan-200: #80deea;
      --paper-cyan-300: #4dd0e1;
      --paper-cyan-400: #26c6da;
      --paper-cyan-500: #00bcd4;
      --paper-cyan-600: #00acc1;
      --paper-cyan-700: #0097a7;
      --paper-cyan-800: #00838f;
      --paper-cyan-900: #006064;
      --paper-cyan-a100: #84ffff;
      --paper-cyan-a200: #18ffff;
      --paper-cyan-a400: #00e5ff;
      --paper-cyan-a700: #00b8d4;

      --paper-teal-50: #e0f2f1;
      --paper-teal-100: #b2dfdb;
      --paper-teal-200: #80cbc4;
      --paper-teal-300: #4db6ac;
      --paper-teal-400: #26a69a;
      --paper-teal-500: #009688;
      --paper-teal-600: #00897b;
      --paper-teal-700: #00796b;
      --paper-teal-800: #00695c;
      --paper-teal-900: #004d40;
      --paper-teal-a100: #a7ffeb;
      --paper-teal-a200: #64ffda;
      --paper-teal-a400: #1de9b6;
      --paper-teal-a700: #00bfa5;

      --paper-green-50: #e8f5e9;
      --paper-green-100: #c8e6c9;
      --paper-green-200: #a5d6a7;
      --paper-green-300: #81c784;
      --paper-green-400: #66bb6a;
      --paper-green-500: #4caf50;
      --paper-green-600: #43a047;
      --paper-green-700: #388e3c;
      --paper-green-800: #2e7d32;
      --paper-green-900: #1b5e20;
      --paper-green-a100: #b9f6ca;
      --paper-green-a200: #69f0ae;
      --paper-green-a400: #00e676;
      --paper-green-a700: #00c853;

      --paper-light-green-50: #f1f8e9;
      --paper-light-green-100: #dcedc8;
      --paper-light-green-200: #c5e1a5;
      --paper-light-green-300: #aed581;
      --paper-light-green-400: #9ccc65;
      --paper-light-green-500: #8bc34a;
      --paper-light-green-600: #7cb342;
      --paper-light-green-700: #689f38;
      --paper-light-green-800: #558b2f;
      --paper-light-green-900: #33691e;
      --paper-light-green-a100: #ccff90;
      --paper-light-green-a200: #b2ff59;
      --paper-light-green-a400: #76ff03;
      --paper-light-green-a700: #64dd17;

      --paper-lime-50: #f9fbe7;
      --paper-lime-100: #f0f4c3;
      --paper-lime-200: #e6ee9c;
      --paper-lime-300: #dce775;
      --paper-lime-400: #d4e157;
      --paper-lime-500: #cddc39;
      --paper-lime-600: #c0ca33;
      --paper-lime-700: #afb42b;
      --paper-lime-800: #9e9d24;
      --paper-lime-900: #827717;
      --paper-lime-a100: #f4ff81;
      --paper-lime-a200: #eeff41;
      --paper-lime-a400: #c6ff00;
      --paper-lime-a700: #aeea00;

      --paper-yellow-50: #fffde7;
      --paper-yellow-100: #fff9c4;
      --paper-yellow-200: #fff59d;
      --paper-yellow-300: #fff176;
      --paper-yellow-400: #ffee58;
      --paper-yellow-500: #ffeb3b;
      --paper-yellow-600: #fdd835;
      --paper-yellow-700: #fbc02d;
      --paper-yellow-800: #f9a825;
      --paper-yellow-900: #f57f17;
      --paper-yellow-a100: #ffff8d;
      --paper-yellow-a200: #ffff00;
      --paper-yellow-a400: #ffea00;
      --paper-yellow-a700: #ffd600;

      --paper-amber-50: #fff8e1;
      --paper-amber-100: #ffecb3;
      --paper-amber-200: #ffe082;
      --paper-amber-300: #ffd54f;
      --paper-amber-400: #ffca28;
      --paper-amber-500: #ffc107;
      --paper-amber-600: #ffb300;
      --paper-amber-700: #ffa000;
      --paper-amber-800: #ff8f00;
      --paper-amber-900: #ff6f00;
      --paper-amber-a100: #ffe57f;
      --paper-amber-a200: #ffd740;
      --paper-amber-a400: #ffc400;
      --paper-amber-a700: #ffab00;

      --paper-orange-50: #fff3e0;
      --paper-orange-100: #ffe0b2;
      --paper-orange-200: #ffcc80;
      --paper-orange-300: #ffb74d;
      --paper-orange-400: #ffa726;
      --paper-orange-500: #ff9800;
      --paper-orange-600: #fb8c00;
      --paper-orange-700: #f57c00;
      --paper-orange-800: #ef6c00;
      --paper-orange-900: #e65100;
      --paper-orange-a100: #ffd180;
      --paper-orange-a200: #ffab40;
      --paper-orange-a400: #ff9100;
      --paper-orange-a700: #ff6500;

      --paper-deep-orange-50: #fbe9e7;
      --paper-deep-orange-100: #ffccbc;
      --paper-deep-orange-200: #ffab91;
      --paper-deep-orange-300: #ff8a65;
      --paper-deep-orange-400: #ff7043;
      --paper-deep-orange-500: #ff5722;
      --paper-deep-orange-600: #f4511e;
      --paper-deep-orange-700: #e64a19;
      --paper-deep-orange-800: #d84315;
      --paper-deep-orange-900: #bf360c;
      --paper-deep-orange-a100: #ff9e80;
      --paper-deep-orange-a200: #ff6e40;
      --paper-deep-orange-a400: #ff3d00;
      --paper-deep-orange-a700: #dd2c00;

      --paper-brown-50: #efebe9;
      --paper-brown-100: #d7ccc8;
      --paper-brown-200: #bcaaa4;
      --paper-brown-300: #a1887f;
      --paper-brown-400: #8d6e63;
      --paper-brown-500: #795548;
      --paper-brown-600: #6d4c41;
      --paper-brown-700: #5d4037;
      --paper-brown-800: #4e342e;
      --paper-brown-900: #3e2723;

      --paper-grey-50: #fafafa;
      --paper-grey-100: #f5f5f5;
      --paper-grey-200: #eeeeee;
      --paper-grey-300: #e0e0e0;
      --paper-grey-400: #bdbdbd;
      --paper-grey-500: #9e9e9e;
      --paper-grey-600: #757575;
      --paper-grey-700: #616161;
      --paper-grey-800: #424242;
      --paper-grey-900: #212121;

      --paper-blue-grey-50: #eceff1;
      --paper-blue-grey-100: #cfd8dc;
      --paper-blue-grey-200: #b0bec5;
      --paper-blue-grey-300: #90a4ae;
      --paper-blue-grey-400: #78909c;
      --paper-blue-grey-500: #607d8b;
      --paper-blue-grey-600: #546e7a;
      --paper-blue-grey-700: #455a64;
      --paper-blue-grey-800: #37474f;
      --paper-blue-grey-900: #263238;

      
      --dark-divider-opacity: 0.12;
      --dark-disabled-opacity: 0.38; 
      --dark-secondary-opacity: 0.54;
      --dark-primary-opacity: 0.87;

      
      --light-divider-opacity: 0.12;
      --light-disabled-opacity: 0.3; 
      --light-secondary-opacity: 0.7;
      --light-primary-opacity: 1.0;
}

</style>

`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},3061:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AssetUpgrade:()=>c});var o=i(5770),r=i(7571),n=i(6206),s=i(3613),a=i(4886),l=i(7734);const d=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host {
  color: #3c3d3e;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
  --sbFieldWordWrap: break-word;
}
:host > #pageBody {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host .primary {
  background-color: #0070d2;
  color: #FFFFFF;
  font-weight: 400;
  width: initial;
}
:host .primary:hover {
  background-color: #005fb2;
  color: #FFFFFF;
}
:host .title {
  margin-left: 20px;
}
:host .title[class*='--mobile'] {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
:host [class*='--mobile'] .title {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
.datatable {
  position: relative;
}
.scrollContent {
  overflow: auto;
}
.upgradeSourceName {
  padding-top: 30px;
  padding-left: 20px;
}
.tbody[class*='--mobile'] {
  position: absolute;
}
[class*='--mobile'] .tbody {
  position: absolute;
}
`;i(4167),i(4),i(9235),i(347),i(2804),i(622),i(1925),i(7893),i(8421),i(5001),i(9653),i(3712),i(7533),i(8729),i(8500);class c extends((0,a.$)(r.YW)){static get is(){return"sb-asset-upgrade"}static get properties(){return(0,n.X$)({upgrades:Array,upgradeSourceMap:Object,upgradeTargetMap:Object,errors:{type:Array,value:[],notify:!0},validationMessages:{type:Array,value:[]},assetHeaderSelectable:{type:Boolean,value:!1}},r.YW.properties)}static get observers(){return["_renderUpgradesObserver(upgrades, recordKeys)","getUpgrades(ctx.params.pIds)"]}connectedCallback(){super.connectedCallback(),this.handleAddProductResponse(),this.handleLineEditorModelResponse(),this.handleSelectionResponse(),this.handleMetaDataResponse()}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.initializeServiceSpinners(),this.initializeProperties(),this.preLoadObjects(),this.handleUpgradeSelected()}initializeProperties(){this.upgradeSourceMap={},this.upgradeTargetMap={}}initializeServiceSpinners(){this.$.addProducts.background=!1,this.$.smSelectService.background=!1}onSelect(){let e=this.getSelectedUpgrades();!1!==e&&(this.$.addProducts.products=e)}navigateToLineEditor(){let e=this.lineEditorModel?this.lineEditorModel.quote.record.Id:this.ctx.params.qId;this.nav("#",{qId:e},["quote","le"],!1)}_renderUpgradesObserver(e,t){if(void 0!==e&&void 0!==t)return this.renderUpgrades(e,t)}renderUpgrades(){for(let e of this.upgrades){this.upgradeSourceMap[e.record.Product2Id]=this.upgradeSourceMap[e.record.Product2Id]||[],this.upgradeSourceMap[e.record.Product2Id].push({upgradeSelected:!1,Id:e.record.Id,name:e.record.Name}),e._transient_=e._transient_||{},e._transient_.index=this.upgradeSourceMap[e.record.Product2Id].length-1;for(let t of e.availableUpgrades)this.setUpgradeTargetMap(e,t)}this.upgradeResults=this.upgrades}setUpgradeTargetMap(e,t){const i=e.record.Product2Id;this.upgradeTargetMap[t.record.Id]=this.upgradeTargetMap[t.record.Id]||{},this.upgradeTargetMap[t.record.Id][i]=this.upgradeTargetMap[t.record.Id][i]||[],this.upgradeTargetMap[t.record.Id][i].push({upgradeSelected:!1})}getUpgrades(){void 0===this.ctx.params.pIds&&this.navigateToLineEditor(),this.$.smSelectService.selectedProducts=this.ctx.params.pIds.split(",")}getSelectedProducts(){let e=this.getSelectedUpgrades(),t={};for(let i of e||[])t[i.record.Id]={record:i.record,upgradedAssetId:i.upgradedAssetId};return t}applyUpgrades(){let e=this.$.upgrades.getUpgrades();!1!==e&&(this.$.addProducts.products=e)}getSelectedUpgrades(){let e=[],t=[];for(let e of this.upgrades){let t=e._transient_.index;for(let i of e.availableUpgrades){let o=i.record.Id,r=e.record.Product2Id,n=this.upgradeTargetMap[o][r][t],s=this.upgradeSourceMap[r][t];!0!==s.upgradeSelected&&(s.upgradeSelected=n.upgradeSelected,s.upgrade=n.rowData,s.index=t)}}for(let i in this.upgradeSourceMap)for(let o of this.upgradeSourceMap[i])!1!==o.upgradeSelected?e.push({record:o.upgrade,upgradedAssetId:o.Id,index:o.index}):t.push("You must select an upgrade for "+o.name);if(this.validationMessages=t,!(t.length>0))return e}handleUpgradeSelected(){this.addEventListener("selection-changed",function(e){this.ifRadioSelectedClearOtherRadioSelections(e);const t=e.detail.selected,i=e.detail.rowData._transient_.sourceProduct,o=this.upgradeTargetMap[e.detail.rowData.Id][i][e.detail.index];o.upgradeSelected=t,o.rowData=!0===t?e.detail.rowData:void 0}.bind(this))}handleMetaDataResponse(){this.$.md.addEventListener("md-changed",function(e){let t=[],i=[],r={},n={},s={},a={};e.detail.value.fields.forEach(function(e){let o=e.name;t.push(o),i.push(e.label),r[o]=e.label,n[o]=e,s[e.label.replace(/\W/g,"")]=e.type,a[o]=e.type}.bind(this)),this.headerClassMap=new o.u(Object.keys(s),"Th",s,null,!0).build(),this.rowClassMap=new o.u(t,"Td",a).build(),this.mdMap=n,this.recordKeys=t,this.fieldLabels=i,this.fieldLabelMap=r}.bind(this))}handleAddProductResponse(){this.$.addProducts.addEventListener("psm-response-changed",function(e){void 0!==e.detail.value.quote&&(this.lineEditorModel.quote=e.detail.value.quote,void 0!==e.detail.value.configuredProducts&&e.detail.value.configuredProducts.length>0?this.handleConfigurableProducts(e):this.navigateToLineEditor())}.bind(this))}handleConfigurableProducts(e){let t=e.detail.value,i={},o=this.getConfigProductIds(t);i.qId=e.detail.value.quote.record.Id,void 0!==this.ctx.params.groupKey&&(i.groupKey=this.ctx.params.groupKey),i.pId=o,t.selectedProducts=this.getSelectedProducts(),this.nav("#",i,["product","pc"],!1)}getConfigProductIds(e){let t=[];for(let i of e.configuredProducts)t.push(i.record.Id);return t.join(",")}handleLineEditorModelResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(e){this.lineEditorModel=e.detail.value,this.$.addProducts.stripLinesThreshold=this.lineEditorModel.settings.largeQuoteThreshold,this.$.addProducts.stripLinesMessage=this.lineEditorModel.customLabels.msg_large_quote_sent_without_lines,this.$.addProducts.quote=this.$.smSelectService.quote=this.quote=e.detail.value.quote}.bind(this))}handleSelectionResponse(){this.$.smSelectService.useCache=!1,this.$.smSelectService.addEventListener("result-changed",function(e){if(void 0===e.detail.value[0]||!1===Array.isArray(e.detail.value[0].availableUpgrades))return this.navigateToLineEditor();this.upgrades=e.detail.value}.bind(this))}preLoadObjects(){this.assetUpgradeObjects=["Product2"]}get fieldPrefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}ifRadioSelectedClearOtherRadioSelections(e){if(!1===e.detail.selected||void 0===e.detail.selected)return;let t=e.composedPath()[0],i=t.parentElement.querySelectorAll("sb-table-row");for(let e of i)"radio"===e.selectionType&&e!==t&&(e.selected=!1)}clearStackTrace(){this.errors[0]&&(this.validationMessages=(0,s.W)(this.errors))}buildRowDataArray(e){let t=[];for(let i of e.availableUpgrades||[])i.record._transient_=i.record._transient_||{},Object.assign(i.record._transient_,{sourceProduct:e.record.Product2Id,sourceProductIndex:e._transient_.index}),t.push(i);return t}static get template(){return l.qy`
		<style include="sb-tables-styles"></style>
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style>${d}</style>
		<div device id="messages">
			<sb-toast type="error" messages="[[validationMessages]]"/>
		</div>
		<sb-describe objects="[[assetUpgradeObjects]]" error="{{errors}}"></sb-describe>
		<!--field set is static.  doesn't have to be, but it was previously built that way-->
		<sb-field-md id="md" fields='["Product2.Name", "Product2.ProductCode", "Product2.Description"]' error="{{errors}}"></sb-field-md>
		<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>
		<sb-search-model-select id="smSelectService" send-quote-record="true" target-group-key="[[ctx.params.groupKey]]" saver="AssetLookupServiceProvider.SearchModelSelector" error="{{errors}}"></sb-search-model-select>
		<!--TODO: make this common?-->
		<sb-pc-option-save id="addProducts" cache="searchModel" group-key="[[ctx.params.groupKey]]"></sb-pc-option-save>

		<sb-page-header device>
			<i class="icon sf-icon-product" slot="icon"></i>
			<h1 slot="h1">
				<sb-i18n>Asset Selection</sb-i18n>
			</h1>
			<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>
			<div class="actions" slot="actions">
				<paper-button noink on-click="onSelect" id="plSelect">
					<sb-i18n>Select</sb-i18n>
				</paper-button>
				<paper-button noink on-click="navigateToLineEditor" id="plCancel">
					<sb-i18n>Cancel</sb-i18n>
				</paper-button>
			</div>
		</sb-page-header>
		<div class="scrollContent" device>
			<!--first we repeat over each upgrade that was picked from the selection page-->
			<template is="dom-repeat" items="{{upgradeResults}}" as="upgrade">
				<!--the name of the record selected to be upgraded-->
				<h3 class="upgradeSourceName">[[upgrade.record.Name]]</h3>
				<div class="datatable">
					<div class="thead">
						<sb-table-header id="header" cols="[[fieldLabels]]"
										 header-class-map="[[headerClassMap]]" selection-type="radio" selectable="[[assetHeaderSelectable]]"></sb-table-header>
					</div>
					<div class="tbody" id="tbody">
						<!--we repeat over the available upgrades for the asset that was selected to upgrade-->
						<template is="dom-repeat" items="[[buildRowDataArray(upgrade)]]" as="row">

							<sb-table-row
									id="tableRow"
									cell="sb-table-cell"
									cols="[[recordKeys]]"
									row-data="[[row.record]]"
									model="[[mdMap]]"
									cols-display="[[fieldLabelMap]]"
									primary-mobile-cols='["Product2.Name", "Product2.Description"]'
									row-actions='[]'
									row-class-map="[[rowClassMap]]"
									selection-type="radio"
									row-actions='[]'
									route-source="AssetUpgrade"
									selectable="true"
									index="[[row.record._transient_.sourceProductIndex]]"
							/>
						</template>
					</div>
				</div>
			</template>
		</div>
		`}}customElements.define(c.is,c)},3080:(e,t,i)=>{"use strict";i.d(t,{Jt:()=>u,K9:()=>s,QX:()=>n,S8:()=>d,Tl:()=>a,cK:()=>l,hZ:()=>h,uf:()=>o,zr:()=>r});i(8443);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function o(e){return e.indexOf(".")>=0}function r(e){let t=e.indexOf(".");return-1===t?e:e.slice(0,t)}function n(e,t){return 0===e.indexOf(t+".")}function s(e,t){return 0===t.indexOf(e+".")}function a(e,t,i){return t+i.slice(e.length)}function l(e,t){return e===t||n(e,t)||s(e,t)}function d(e){if(Array.isArray(e)){let t=[];for(let i=0;i<e.length;i++){let o=e[i].toString().split(".");for(let e=0;e<o.length;e++)t.push(o[e])}return t.join(".")}return e}function c(e){return Array.isArray(e)?d(e).split("."):e.toString().split(".")}function u(e,t,i){let o=e,r=c(t);for(let e=0;e<r.length;e++){if(!o)return;o=o[r[e]]}return i&&(i.path=r.join(".")),o}function h(e,t,i){let o=e,r=c(t),n=r[r.length-1];if(r.length>1){for(let e=0;e<r.length-1;e++){if(o=o[r[e]],!o)return}o[n]=i}else o[t]=i;return r.join(".")}},3146:(e,t,i)=>{"use strict";i.d(t,{r:()=>n,t:()=>s});var o=i(8326),r=i(6902);function n(e,t){const i=s(e,t),r=(0,o.B)(i);return r.formattedValue=i,r}function s(e,t){if(r.B.viewEncryptedDataEnabled)return e;if(null==e)return e;if(!t)return"*********";const{mask:i,maskType:o}=t;if(!i||!o)return e;let n="",s="";switch(e=e.toString(),o){case"sin":n="XXX-XXX-XXX".replace(/X/g,i),s=e.length>3?e.substring(e.length-3):e;break;case"ssn":n="XXX-XX-XXXX".replace(/X/g,i),s=e.length>4?e.substring(e.length-4):e;break;case"lastFour":if(e.length>4){let t=e.substring(e.length-4);return e.replace(e,i.repeat(e.length-4)).concat(t)}return e;case"nino":return"XX XX XX XX X";case"creditCard":n="XXXX-XXXX-XXXX-XXXX".replace(/X/g,i),s=e.length>4?e.substring(e.length-4):e;break;case"all":return e.replace(e,i.repeat(e.length))}return n.substring(0,n.length-s.length).concat(s)}},3175:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=3175,e.exports=t},3188:(e,t,i)=>{"use strict";i.d(t,{d:()=>r});var o=i(7180);class r{constructor(e){this.locale=e||o.h.get(),this.isCommaDecimalLocale=o.h.isCommaDecimal(this.locale)}parse(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;if("string"!=typeof e)return this.applyScale(e,i);e=this.replaceMinusCharacterToHyphenMinus(e),e=this.removeUnusualSeparators(e),e=this.removeNonDecimalCommas(e),e=this.removeDecimalSepartors(e),e=this.replaceCommaDecimalWithPeriod(e);let o=parseFloat(e);return t?o==e?this.applyScale(o,i):NaN:this.applyScale(o,i)}replaceMinusCharacterToHyphenMinus(e){return e.replace(new RegExp(/\u2212/,"u"),"-")}removeUnusualSeparators(e){return e.replace(new RegExp("[\\s]+","g"),"").replace(new RegExp("'","g"),"").replace(new RegExp("’","g"),"")}removeNonDecimalCommas(e){return this.isCommaDecimalLocale?e:e.replace(new RegExp(",","g"),"")}removeDecimalSepartors(e){return this.isCommaDecimalLocale?e.replace(new RegExp("[.]","g"),""):e}replaceCommaDecimalWithPeriod(e){return this.isCommaDecimalLocale?e.replace(new RegExp(",","g"),"."):e}applyScale(e,t){return null==t||"number"!=typeof e?e:parseFloat(e.toFixed(t))}}},3218:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});var o=i(8246),r=i(9023);const n=(0,o.y)((e=>class extends e{observeNode(e,t){this._nodeObservers=this._nodeObservers||[],this._nodeObservers.push(new r.b(e,t))}disconnectedCallback(){if(super.disconnectedCallback&&super.disconnectedCallback(),this._nodeObservers){for(const e of this._nodeObservers)e.disconnect();this._nodeObservers=[]}}}))},3311:(e,t,i)=>{"use strict";i.d(t,{L:()=>x});var o=i(7734),r=i(197),n=i(6902),s=i(1149);i(3435),i(8212);let a,l,d=/:[a-z0-9_$]*/g;class c extends o.Pu{static get is(){return"sb-router"}static get properties(){return{autoHash:{type:Boolean,value:function(){return!1}},route:{type:String,observer:"routeChanged"},router:{type:Object,readOnly:!0,value:function(){return a||(a=new window.Router),a}}}}init(e){this.router.init();let t=Object.keys(e);if(!l&&t.length){l=e;let i=this.router,o=t?t.length:0;for(let e=0;e<o;e++){let o=t[e],r=Object.keys(l[o]),n=r?r.length:0;for(let e=0;e<n;e++){let t=r[e],n=t?t.match(d):null,s=[],a={};n&&(s=n.map((function(e,t){let i=e.substring(1);return a[i]=null,i}))),i.on(o+t,function(e,t,i,o){let r=JSON.parse(JSON.stringify(o)),n=Array.prototype.slice.call(arguments,4),s=n?n.length:0;for(let e=0;e<s;e++)r[i[e]]=n[e];this.routeHandler(e,t,r)}.bind(this,o,t,s,a))}}i.on("/*",(function(){console.log("got an unknown route. need to show 404 here")})),i.on("",(function(){console.log("Got the <empty> route")}))}}routeHandler(e,t,i){let o=window.location.hash.slice(1),r=o.indexOf("?"),n={};r>=0&&o.length>r&&(n=queryString.parse(o.substring(r+1))),this.dispatchEvent((0,s.uv)("sb-route-complete",{mod:e,path:t,route:l[e][t],pathParams:i,params:n}))}routeChanged(e,t){if(this.autoHash&&e){let t=window.location.hash.slice(1)==this.route;window.location.hash=this.route,t&&this.router.dispatch("on",e)}}}customElements.define(c.is,c);i(8500),i(4943);const u=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  background-color: var(--sbPageBgColor);
  font-family: var(--sbPageFontFamily);
  position: absolute;
  top: 0;
  bottom: 0;
  right: 0;
  left: 0;
  overflow: auto;
  font-size: var(--sbFontSizeDefault);
  color: var(--sbFontColor, #3C3D3E);
  border-color: var(--sbPageBorderColor);
}
:host #content {
  height: 100%;
  -webkit-text-size-adjust: 100%;
}
`;i(4167);let h=480,p=800,f=1024,b=1200,g=window.matchMedia("screen and (max-width: 480px)"),m=window.matchMedia("screen and (min-width: 481px) and (max-width: 800px)"),y=window.matchMedia("screen and (min-width: 801px) and (max-width: 1024px)"),v=window.matchMedia("screen and (min-width: 1025px) and (max-width: 1200px)"),_=window.matchMedia("screen and (min-width: 1201px)"),w=0;class x extends o.Pu{static get properties(){return{route:String,allRoutes:{type:Object,observer:"_allRoutesChanged"},viewport:{type:Object,observer:"_viewportChanged",value:function(){return this._buildViewport(g.matches,m.matches,y.matches,v.matches,_.matches)}}}}static get is(){return"sb-page-container"}_buildViewport(e,t,i,o,r){let s={XS:{},S:{},M:{},L:{},XL:{},current:function(){return this.XS.only?{size:"XS",window:[0,h]}:this.S.only?{size:"S",window:[481,p]}:this.M.only?{size:"M",window:[801,f]}:this.L.only?{size:"L",window:[1025,b]}:this.XL.only?{size:"XL",window:[b,1e4]}:void 0},isMobile:function(){return this.isPhone()||this.isTablet()},isPhone:function(){return n.B.isPhone},isTablet:function(){return n.B.isTablet},isDesktop:function(){return n.B.isDesktop}};return s.XS.only=e&&!t&&!i&&!o&&!r,s.XS.down=s.XS.only,s.XS.up=e||t||i||o||r,s.S.only=!e&&t&&!i&&!o&&!r,s.S.down=(e||t)&&!i&&!o&&!r,s.S.up=!e&&(t||i||o||r),s.M.only=!e&&!t&&i&&!o&&!r,s.M.down=(e||t||i)&&!o&&!r,s.M.up=!e&&!t&&(i||o||r),s.L.only=!e&&!t&&!i&&o&&!r,s.L.down=(e||t||i||o)&&!r,s.L.up=!e&&!t&&!i&&(o||r),s.XL.only=!e&&!t&&!i&&!o&&r,s.XL.down=!0,s.XL.up=s.XL.only,s}ready(){super.ready(),this._setupViewportListeners()}renderPage(e,t,o){if(t.route.comp&&""!=t.route.comp){let e={};e.params=t.params,e.pathParams=t.pathParams;const o=function(e,t){return"<"+e.route.comp+" ctx='"+JSON.stringify(t)+"'></"+e.route.comp+">"}(t,e);t.route.mod?i(8565)("./"+t.route.mod).then((e=>{this._updateContent(o)})).catch((function(e){console.log(e),console.log(e.originalErr)})):this._updateContent(o)}else this.$.ajax.url=t.route.view,this.$.ajax.url&&this.$.ajax.go()}_updateContent(e){this.$.content.innerHTML=e,this._viewportChanged(),(0,r.b)(),this._updateThemeVariables()}_updateThemeVariables(e){const{userTheme:t}=window.__vfsettings||{};if(t){const e=this.$.content.firstChild.shadowRoot.querySelector("style");e&&(e.innerText+=window.atob(t))}}_allRoutesChanged(e){this.$.router.init(e)}_viewportChanged(){let e=this.$.content.querySelector("*:first-child");e&&(e.viewport=this.viewport),setTimeout(function(){(0,s.rC)(s.sV.VIEWPORT_CHANGED,{viewport:this.viewport})}.bind(this),10)}_setupViewportListeners(){var e=this;function t(t){t.matches&&(e.viewport=e._buildViewport(g.matches,m.matches,y.matches,v.matches,_.matches))}g.addListener(t),m.addListener(t),y.addListener(t),v.addListener(t),_.addListener(t)}static getContainer(){return document.querySelector("#"+x.domId)}static getViewport(){let e=x.getContainer();return e?e.viewport:null}static isMobile(){const e=x.getViewport();return e&&e.isMobile()}static toggleSpinner(e){w+=!0===e?1:-1;const t=x.getContainer();null!==t&&(t.$.spinner.show=w>0)}static get template(){return o.qy`
			<style include="sb-common-styles"></style>
			<style>${u}</style>
			<style id="topLevelStyle"></style><!-- used for themes -->

			<!-- Route controller -->
			<sb-router id="router" route="[[route]]" on-sb-route-complete="renderPage" auto-hash></sb-router>
			<sb-toast id="errorToast" type="error"></sb-toast>
			<sf-loading-spinner id="spinner" class="loadingSpinner" show="true"></sf-loading-spinner>

			<div style="max-width:100%;" id="content"></div>
		`}}x.domId="sbPageContainer",customElements.define(x.is,x)},3435:(e,t)=>{!function(e){function t(e,t,i,o){var r,n=0,s=0,a=0;i=(i||"(").toString(),o=(o||")").toString();for(r=0;r<e.length;r++){var l=e[r];if(l.indexOf(i,n)>l.indexOf(o,n)||~l.indexOf(i,n)&&!~l.indexOf(o,n)||!~l.indexOf(i,n)&&~l.indexOf(o,n)){if(s=l.indexOf(i,n),a=l.indexOf(o,n),~s&&!~a||!~s&&~a){var d=e.slice(0,(r||1)+1).join(t);e=[d].concat(e.slice((r||1)+1))}n=(a>s?a:s)+1,r=0}else n=0}return e}function i(e,t){for(var i,r=0,n="";i=e.substr(r).match(/[^\w\d\- %@&]*\*[^\w\d\- %@&]*/);)r=i.index+i[0].length,i[0]=i[0].replace(/^\*/,"([_.()!\\ %@&a-zA-Z0-9-]+)"),n+=e.substr(0,i.index)+i[0];var s,a,l=(e=n+=e.substr(r)).match(/:([^\/]+)/gi);if(l){a=l.length;for(var d=0;d<a;d++)e="::"===(s=l[d]).slice(0,2)?s.slice(1):e.replace(s,o(s,t))}return e}function o(e,t,i){for(var o in i=e,t)if(t.hasOwnProperty(o)&&(i=t[o](e))!==e)break;return i===e?"([._a-zA-Z0-9-%()]+)":i}function r(e,t,i){if(!e.length)return i();var o=0;!function r(){t(e[o],(function(t){t||!1===t?(i(t),i=function(){}):(o+=1)===e.length?i():r()}))}()}function n(e){for(var t=[],i=0,o=e.length;i<o;i++)t=t.concat(e[i]);return t}function a(e,t){for(var i=0;i<e.length;i+=1)if(!1===t(e[i],i,e))return}function l(){return""===d.hash||"#"===d.hash}var d=document.location,c={mode:"modern",hash:d.hash,history:!1,check:function(){var e=d.hash;e!=this.hash&&(this.hash=e,this.onHashChanged())},fire:function(){"modern"===this.mode?!0===this.history?window.onpopstate():window.onhashchange():this.onHashChanged()},init:function(e,t){function i(e){for(var t=0,i=u.listeners.length;t<i;t++)u.listeners[t](e)}var o=this;if(this.history=t,u.listeners||(u.listeners=[]),"onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7))!0===this.history?setTimeout((function(){window.onpopstate=i}),500):window.onhashchange=i,this.mode="modern";else{var r=document.createElement("iframe");r.id="state-frame",r.style.display="none",document.body.appendChild(r),this.writeFrame(""),"onpropertychange"in document&&"attachEvent"in document&&document.attachEvent("onpropertychange",(function(){"location"===event.propertyName&&o.check()})),window.setInterval((function(){o.check()}),50),this.onHashChanged=i,this.mode="legacy"}return u.listeners.push(e),this.mode},destroy:function(e){if(u&&u.listeners)for(var t=u.listeners,i=t.length-1;i>=0;i--)t[i]===e&&t.splice(i,1)},setHash:function(e){return"legacy"===this.mode&&this.writeFrame(e),!0===this.history?(window.history.pushState({},document.title,e),this.fire()):d.hash="/"===e[0]?e:"/"+e,this},writeFrame:function(e){var t=document.getElementById("state-frame"),i=t.contentDocument||t.contentWindow.document;i.open(),i.write("<script>_hash = '"+e+"'; onload = parent.listener.syncHash;<script>"),i.close()},syncHash:function(){var e=this._hash;return e!=d.hash&&(d.hash=e),this},onHashChanged:function(){}},u=e.Router=function(e){if(!(this instanceof u))return new u(e);this.params={},this.routes={},this.methods=["on","once","after","before"],this.scope=[],this._methods={},this._insert=this.insert,this.insert=this.insertEx,this.historySupport=null!=(null!=window.history?window.history.pushState:null),this.configure(),this.mount(e||{})};u.prototype.init=function(e){var t,i=this;return this.handler=function(e){var t=e&&e.newURL||window.location.hash,o=!0===i.history?i.getPath():t.replace(/.*#/,"");i.dispatch("on","/"===o.charAt(0)?o:"/"+o)},c.init(this.handler,this.history),!1===this.history?l()&&e?d.hash=e:l()||i.dispatch("on","/"+d.hash.replace(/^(#\/|#|\/)/,"")):(this.convert_hash_in_init?(t=l()&&e?e:l()?null:d.hash.replace(/^#/,""))&&window.history.replaceState({},document.title,t):t=this.getPath(),(t||!0===this.run_in_init)&&this.handler()),this},u.prototype.explode=function(){var e=!0===this.history?this.getPath():d.hash;return"/"===e.charAt(1)&&(e=e.slice(1)),e.slice(1,e.length).split("/")},u.prototype.setRoute=function(e,t,i){var o=this.explode();return"number"==typeof e&&"string"==typeof t?o[e]=t:"string"==typeof i?o.splice(e,t,s):o=[e],c.setHash(o.join("/")),o},u.prototype.insertEx=function(e,t,i,o){return"once"===e&&(e="on",i=function(e){var t=!1;return function(){if(!t)return t=!0,e.apply(this,arguments)}}(i)),this._insert(e,t,i,o)},u.prototype.getRoute=function(e){var t=e;if("number"==typeof e)t=this.explode()[e];else if("string"==typeof e){t=this.explode().indexOf(e)}else t=this.explode();return t},u.prototype.destroy=function(){return c.destroy(this.handler),this},u.prototype.getPath=function(){var e=window.location.pathname;return"/"!==e.substr(0,1)&&(e="/"+e),e};var h=/\?.*/;u.prototype.configure=function(e){e=e||{};for(var t=0;t<this.methods.length;t++)this._methods[this.methods[t]]=!0;return this.recurse=e.recurse||this.recurse||!1,this.async=e.async||!1,this.delimiter=e.delimiter||"/",this.strict=void 0===e.strict||e.strict,this.notfound=e.notfound,this.resource=e.resource,this.history=e.html5history&&this.historySupport||!1,this.run_in_init=!0===this.history&&!1!==e.run_handler_in_init,this.convert_hash_in_init=!0===this.history&&!1!==e.convert_hash_in_init,this.every={after:e.after||null,before:e.before||null,on:e.on||null},this},u.prototype.param=function(e,t){":"!==e[0]&&(e=":"+e);var i=new RegExp(e,"g");return this.params[e]=function(e){return e.replace(i,t.source||t)},this},u.prototype.on=u.prototype.route=function(e,i,o){var r=this;return!o&&"function"==typeof i&&(o=i,i=e,e="on"),Array.isArray(i)?i.forEach((function(t){r.on(e,t,o)})):(i.source&&(i=i.source.replace(/\\\//gi,"/")),Array.isArray(e)?e.forEach((function(e){r.on(e.toLowerCase(),i,o)})):(i=t(i=i.split(new RegExp(this.delimiter)),this.delimiter),void this.insert(e,this.scope.concat(i),o)))},u.prototype.path=function(e,i){var o=this.scope.length;e.source&&(e=e.source.replace(/\\\//gi,"/")),e=t(e=e.split(new RegExp(this.delimiter)),this.delimiter),this.scope=this.scope.concat(e),i.call(this,this),this.scope.splice(o,e.length)},u.prototype.dispatch=function(e,t,i){function o(){n.last=s.after,n.invoke(n.runlist(s),n,i)}var r,n=this,s=this.traverse(e,t.replace(h,""),this.routes,""),a=this._invoked;return this._invoked=!0,s&&0!==s.length?("forward"===this.recurse&&(s=s.reverse()),(r=this.every&&this.every.after?[this.every.after].concat(this.last):[this.last])&&r.length>0&&a?(this.async?this.invoke(r,this,o):(this.invoke(r,this),o()),!0):(o(),!0)):(this.last=[],"function"==typeof this.notfound&&this.invoke([this.notfound],{method:e,path:t},i),!1)},u.prototype.invoke=function(e,t,i){var o,n=this;this.async?(o=function(i,n){if(Array.isArray(i))return r(i,o,n);"function"==typeof i&&i.apply(t,(e.captures||[]).concat(n))},r(e,o,(function(){i&&i.apply(t,arguments)}))):(o=function(i){return Array.isArray(i)?a(i,o):"function"==typeof i?i.apply(t,e.captures||[]):void("string"==typeof i&&n.resource&&n.resource[i].apply(t,e.captures||[]))},a(e,o))},u.prototype.traverse=function(e,t,i,o,r){function n(e){if(!r)return e;var t=function e(t){for(var i=[],o=0;o<t.length;o++)i[o]=Array.isArray(t[o])?e(t[o]):t[o];return i}(e);return t.matched=e.matched,t.captures=e.captures,t.after=e.after.filter(r),function e(t){for(var i=t.length-1;i>=0;i--)Array.isArray(t[i])?(e(t[i]),0===t[i].length&&t.splice(i,1)):r(t[i])||t.splice(i,1)}(t),t}var s,a,l,d,c=[];if(t===this.delimiter&&i[e])return(d=[[i.before,i[e]].filter(Boolean)]).after=[i.after].filter(Boolean),d.matched=!0,d.captures=[],n(d);for(var u in i)if(i.hasOwnProperty(u)&&(!this._methods[u]||this._methods[u]&&"object"==typeof i[u]&&!Array.isArray(i[u]))){if(s=a=o+this.delimiter+u,this.strict||(a+="["+this.delimiter+"]?"),!(l=t.match(new RegExp("^"+a))))continue;if(l[0]&&l[0]==t&&i[u][e])return(d=[[i[u].before,i[u][e]].filter(Boolean)]).after=[i[u].after].filter(Boolean),d.matched=!0,d.captures=l.slice(1),this.recurse&&i===this.routes&&(d.push([i.before,i.on].filter(Boolean)),d.after=d.after.concat([i.after].filter(Boolean))),n(d);if((d=this.traverse(e,t,i[u],s)).matched)return d.length>0&&(c=c.concat(d)),this.recurse&&(c.push([i[u].before,i[u].on].filter(Boolean)),d.after=d.after.concat([i[u].after].filter(Boolean)),i===this.routes&&(c.push([i.before,i.on].filter(Boolean)),d.after=d.after.concat([i.after].filter(Boolean)))),c.matched=!0,c.captures=d.captures,c.after=d.after,n(c)}return!1},u.prototype.insert=function(e,t,o,r){var n,s,a,l;if(t=t.filter((function(e){return e&&e.length>0})),r=r||this.routes,l=t.shift(),/\:|\*/.test(l)&&!/\\d|\\w/.test(l)&&(l=i(l,this.params)),t.length>0)return r[l]=r[l]||{},this.insert(e,t,o,r[l]);if(l||t.length||r!==this.routes){if(n=typeof r[l],s=Array.isArray(r[l]),r[l]&&!s&&"object"==n)switch(typeof r[l][e]){case"function":return void(r[l][e]=[r[l][e],o]);case"object":return void r[l][e].push(o);case"undefined":return void(r[l][e]=o)}else if("undefined"==n)return(a={})[e]=o,void(r[l]=a);throw new Error("Invalid route context: "+n)}switch(typeof r[e]){case"function":return void(r[e]=[r[e],o]);case"object":return void r[e].push(o);case"undefined":return void(r[e]=o)}},u.prototype.extend=function(e){function t(e){o._methods[e]=!0,o[e]=function(){var t=1===arguments.length?[e,""]:[e];o.on.apply(o,t.concat(Array.prototype.slice.call(arguments)))}}var i,o=this,r=e.length;for(i=0;i<r;i++)t(e[i])},u.prototype.runlist=function(e){var t=this.every&&this.every.before?[this.every.before].concat(n(e)):n(e);return this.every&&this.every.on&&t.push(this.every.on),t.captures=e.captures,t.source=e.source,t},u.prototype.mount=function(e,i){function o(i,o){var n=i,s=i.split(r.delimiter),a=typeof e[i],l=""===s[0]||!r._methods[s[0]],d=l?"on":n;l&&(n=n.slice((n.match(new RegExp("^"+r.delimiter))||[""])[0].length),s.shift()),l&&"object"===a&&!Array.isArray(e[i])?(o=o.concat(s),r.mount(e[i],o)):(l&&(o=t(o=o.concat(n.split(r.delimiter)),r.delimiter)),r.insert(d,o,e[i]))}if(e&&"object"==typeof e&&!Array.isArray(e)){var r=this;for(var n in i=i||[],Array.isArray(i)||(i=i.split(r.delimiter)),e)e.hasOwnProperty(n)&&o(n,i.slice(0))}}}(t)},3555:(e,t,i)=>{"use strict";var o=i(1890),r=i(9067),n=i(7734);i(7022);const s=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host .container {
  display: flex;
  flex-direction: row;
}
:host :after {
  content: attr(data-suffix);
}
:host(.primary) sb-field[class*='--mobile'] {
  width: calc(100vw - 65px);
}
:host([class*='--mobile'] .primary) sb-field {
  width: calc(100vw - 65px);
}
`;class a extends n.Pu{static get is(){return"sb-table-cell"}static get properties(){return{item:String,disabled:Boolean,hide:Object,value:{notify:!0},data:{type:Object,value:null},model:{type:Object,value:null}}}static get observers(){return["_buildCellObserver(item, value, model, data)","setDisabled(data.disabled)","setRecordId(data.Id)","overrideWidth(data.fullWidthItem)","_dataChangedObserver(data, item)"]}_buildCellObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this.buildCell(e,t,i,o)}buildCell(){if(this.setDisabled(),this.setHidden(),this.setRecordId(),this.setSuffix(),this.model&&this.model[this.item]&&this.model[this.item].type)return void this.setFieldMetadataFromModel();this.md=this.md||{type:"string"}}setDisabled(){this.disabled=!(!this.data||!this.data.disabled)}setHidden(){let e=!!this.data&&this.data.hidden;this.hide=new r.X(e).hide}setRecordId(){this.recordId=this.data?this.data.Id:null}setSuffix(){this.data&&this.data._transient_&&null!=this.get(["data","_transient_",this.item,"suffix"])?this.suffix=this.get(["data","_transient_",this.item,"suffix"]):this.suffix=void 0}overrideWidth(){this.data&&this.data.fullWidthItem&&this.classList.contains(this.data.fullWidthItem)?this.style.width="100%":"100%"==this.style.width&&(this.style.width=null)}setFieldMetadataFromModel(){let e=this.model[this.item];this.data&&this.data._transient_&&null!=this.get(["data","_transient_",this.item,"md"])&&(e=this.get(["data","_transient_",this.item,"md"])),this.$.field.link=!!e.link,this.$.field.readOnly=!0,this.md=e}_dataChangedObserver(e,t){if(void 0!==e&&void 0!==t)return this.dataChanged(e,t)}dataChanged(){let e=new o.u(this.item,this.data);e.hasRelationship()&&(this.display=e.getRelationshipName(),this.$.field.value="",this.$.field.value=this.value)}static get template(){return n.qy`
		<style>${s}</style>
		<div class="container">
			<sb-field
					id="field"
					value="{{value}}"
					disabled="[[data.disabled]]"
					property="[[item]]"
					md="[[md]]"
					record-id="[[recordId]]"
					ref-display="[[display]]"
					hidden="[[hide]]"
					record="[[data]]"
					data-suffix$="[[suffix]]"
					tab-index="[[tabIndex]]"
			></sb-field>
		</div>
	`}}customElements.define(a.is,a)},3559:(e,t,i)=>{"use strict";i.d(t,{U:()=>a,i:()=>l});i(1518);var o=i(503),r=i(6502),n=i(5457),s=i(5565);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const a={properties:{focusedItem:{observer:"_focusedItemChanged",readOnly:!0,type:Object},attrForItemTitle:{type:String},disabled:{type:Boolean,value:!1,observer:"_disabledChanged"}},_MODIFIER_KEYS:["Alt","AltGraph","CapsLock","Control","Fn","FnLock","Hyper","Meta","NumLock","OS","ScrollLock","Shift","Super","Symbol","SymbolLock"],_SEARCH_RESET_TIMEOUT_MS:1e3,_previousTabIndex:0,hostAttributes:{role:"menu"},observers:["_updateMultiselectable(multi)"],listeners:{focus:"_onFocus",keydown:"_onKeydown","iron-items-changed":"_onIronItemsChanged"},keyBindings:{up:"_onUpKey",down:"_onDownKey",esc:"_onEscKey","shift+tab:keydown":"_onShiftTabDown"},attached:function(){this._resetTabindices()},select:function(e){this._defaultFocusAsync&&(this.cancelAsync(this._defaultFocusAsync),this._defaultFocusAsync=null);var t=this._valueToItem(e);t&&t.hasAttribute("disabled")||(this._setFocusedItem(t),r._.select.apply(this,arguments))},_resetTabindices:function(){var e=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this.items.forEach((function(t){t.setAttribute("tabindex",t===e?"0":"-1"),t.setAttribute("aria-selected",this._selection.isSelected(t))}),this)},_updateMultiselectable:function(e){e?this.setAttribute("aria-multiselectable","true"):this.removeAttribute("aria-multiselectable")},_focusWithKeyboardEvent:function(e){if(-1===this._MODIFIER_KEYS.indexOf(e.key)){this.cancelDebouncer("_clearSearchText");for(var t,i=this._searchText||"",o=(i+=(e.key&&1==e.key.length?e.key:String.fromCharCode(e.keyCode)).toLocaleLowerCase()).length,r=0;t=this.items[r];r++)if(!t.hasAttribute("disabled")){var n=this.attrForItemTitle||"textContent",s=(t[n]||t.getAttribute(n)||"").trim();if(!(s.length<o)&&s.slice(0,o).toLocaleLowerCase()==i){this._setFocusedItem(t);break}}this._searchText=i,this.debounce("_clearSearchText",this._clearSearchText,this._SEARCH_RESET_TIMEOUT_MS)}},_clearSearchText:function(){this._searchText=""},_focusPrevious:function(){for(var e=this.items.length,t=Number(this.indexOf(this.focusedItem)),i=1;i<e+1;i++){var o=this.items[(t-i+e)%e];if(!o.hasAttribute("disabled")){var r=(0,s.tT)(o).getOwnerRoot()||document;if(this._setFocusedItem(o),(0,s.tT)(r).activeElement==o)return}}},_focusNext:function(){for(var e=this.items.length,t=Number(this.indexOf(this.focusedItem)),i=1;i<e+1;i++){var o=this.items[(t+i)%e];if(!o.hasAttribute("disabled")){var r=(0,s.tT)(o).getOwnerRoot()||document;if(this._setFocusedItem(o),(0,s.tT)(r).activeElement==o)return}}},_applySelection:function(e,t){t?e.setAttribute("aria-selected","true"):e.setAttribute("aria-selected","false"),n.F._applySelection.apply(this,arguments)},_focusedItemChanged:function(e,t){t&&t.setAttribute("tabindex","-1"),!e||e.hasAttribute("disabled")||this.disabled||(e.setAttribute("tabindex","0"),e.focus())},_onIronItemsChanged:function(e){e.detail.addedNodes.length&&this._resetTabindices()},_onShiftTabDown:function(e){var t=this.getAttribute("tabindex");a._shiftTabPressed=!0,this._setFocusedItem(null),this.setAttribute("tabindex","-1"),this.async((function(){this.setAttribute("tabindex",t),a._shiftTabPressed=!1}),1)},_onFocus:function(e){if(!a._shiftTabPressed){var t=(0,s.tT)(e).rootTarget;(t===this||void 0===t.tabIndex||this.isLightDescendant(t))&&(this._defaultFocusAsync=this.async((function(){var e=this.multi?this.selectedItems&&this.selectedItems[0]:this.selectedItem;this._setFocusedItem(null),e?this._setFocusedItem(e):this.items[0]&&this._focusNext()})))}},_onUpKey:function(e){this._focusPrevious(),e.detail.keyboardEvent.preventDefault()},_onDownKey:function(e){this._focusNext(),e.detail.keyboardEvent.preventDefault()},_onEscKey:function(e){var t=this.focusedItem;t&&t.blur()},_onKeydown:function(e){this.keyboardEventMatchesKeys(e,"up down esc")||this._focusWithKeyboardEvent(e),e.stopPropagation()},_activateHandler:function(e){n.F._activateHandler.call(this,e),e.stopPropagation()},_disabledChanged:function(e){e?(this._previousTabIndex=this.hasAttribute("tabindex")?this.tabIndex:0,this.removeAttribute("tabindex")):this.hasAttribute("tabindex")||this.setAttribute("tabindex",this._previousTabIndex)},_shiftTabPressed:!1},l=[r.k,o.D,a]},3613:(e,t,i)=>{"use strict";function o(e){let t=("string"==typeof e?e:e[0]).split("\n")[0].split(":");return t.length>1?t[0].startsWith("System")?[t.splice(1,t.length-1).join(":")]:[t.join(":")]:t}i.d(t,{W:()=>o})},3712:(e,t,i)=>{"use strict";var o=i(9406),r=i(8449),n=i(1386);class s{constructor(e,t,i){this.clientQuote=e,this.serverQuote=t,this.requiredKeys=i}reconcileServerQuoteWithUIQuote(){let e,t=new Map,i=[],o=this.serverQuote.lineItems.length;for(let r=0;r<o;r++){let o=this.serverQuote.lineItems[r];this.requiredKeys&&this.requiredKeys.has(o.key)?(t.set(o.key,[o]),e=o.key):e&&o.parentItemKey?t.get(e).push(o):(e=null,i.push(o))}let r=[];return this.clientQuote.lineItems.forEach((e=>{this.requiredKeys&&!this.requiredKeys.has(e.key)?r.push(e):t.has(e.key)&&(r=r.concat(t.get(e.key)))})),r=r.concat(i),this.serverQuote.lineItems=r,this.serverQuote}}var a=i(571),l=i(7734);i(3941);class d extends l.Pu{static get is(){return"sb-pc-option-save"}static get properties(){return{quote:Object,products:Array,configuration:Object,upgradeAssetId:String,groupKey:{type:Number,value:-1},error:{type:Array,notify:!0},psmResponse:{type:String,notify:!0},background:{type:Boolean,value:!0},stripLinesThreshold:Number,stripLinesMessage:String,cache:String}}static get observers(){return["_topLevelSaveObserver(quote, products)","_nestedConfigurationSaveObserver(quote, configuration)"]}ready(){super.ready(),this.setSpinnerMessage(),this.$.service.addEventListener("response-changed",function(e){let t=e.detail.value.quote;if(t&&t.partialVO){let i=new s(this.quote,t,this.requiredKeys);e.detail.value.quote=i.reconcileServerQuoteWithUIQuote()}this.psmResponse=e.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(e){e.detail.value&&(e.detail.value.validations?this.error=e.detail.value.validations:this.error=[e.detail.value.message])}.bind(this))}setSpinnerMessage(){(0,a.yJ)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}_topLevelSaveObserver(e,t){if(void 0!==e&&void 0!==t)return this.topLevelSave(e,t)}topLevelSave(){void 0!==this.cache&&(this.$.service.uid=this.quote.record.Id.substring(0,15)),this.$.service.warningCallback=function(e){let t=e.detail.value.validationMessages;console.log(t)};let e=new o.k;if(e.addObject("products",this.products),null!=this.groupKey&&this.groupKey>=0&&e.add("groupKey",this.groupKey),null==this.stripLinesThreshold||this.quote.lineItems.length<=this.stripLinesThreshold)e.addQuote("quote",this.quote),this.$.service.model=e.build();else{let t=new n.H(this.quote,this.products,this.groupkey,this.stripLinesThreshold,this.stripLinesMessage);this.quote=t.reduceQuote(),this.requiredKeys=t.getRequiredKeys(),e.addQuote("quote",this.quote),this.$.service.model=e.build(),this.quote=t.revertQuote()}}_nestedConfigurationSaveObserver(e,t){if(void 0!==e&&void 0!==t)return this.nestedConfigurationSave(e,t)}nestedConfigurationSave(){void 0!==this.cache&&(this.$.service.uid=this.quote.record.Id.substring(0,15)),this.$.service.warningCallback=function(e){let t=e.detail.value.validationMessages;console.log(t)},this.quote.priorBundledQuantityByLineKey=new r.M(this.quote).mapPriorBundledQuantityByLineKey();let e=this.quote.lineItems;this.quote.lineItems=null;let t=(new o.k).addQuote("quote",this.quote).addObject("configuration",this.configuration);this.quote.lineItems=e,delete this.quote.priorBundledQuantityByLineKey,this.$.service.model=t.build()}static get template(){return l.qy`
	        <sb-async-service cache="[[cache]]" id="service" saver="ProductConfigurationServiceProvider.OptionSaver" background="[[background]]"></sb-async-service>
	    `}}customElements.define(d.is,d)},3823:(e,t,i)=>{"use strict";i(1518),i(3001);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=i(2619).q`
  <style css-build="shadow">html {
  --primary-text-color: var(--light-theme-text-color);
      --primary-background-color: var(--light-theme-background-color);
      --secondary-text-color: var(--light-theme-secondary-color);
      --disabled-text-color: var(--light-theme-disabled-color);
      --divider-color: var(--light-theme-divider-color);
      --error-color: var(--paper-deep-orange-a700);

      
      --primary-color: var(--paper-indigo-500);
      --light-primary-color: var(--paper-indigo-100);
      --dark-primary-color: var(--paper-indigo-700);

      --accent-color: var(--paper-pink-a200);
      --light-accent-color: var(--paper-pink-a100);
      --dark-accent-color: var(--paper-pink-a400);


      
      --light-theme-background-color: #ffffff;
      --light-theme-base-color: #000000;
      --light-theme-text-color: var(--paper-grey-900);
      --light-theme-secondary-color: #737373;  
      --light-theme-disabled-color: #9b9b9b;  
      --light-theme-divider-color: #dbdbdb;

      
      --dark-theme-background-color: var(--paper-grey-900);
      --dark-theme-base-color: #ffffff;
      --dark-theme-text-color: #ffffff;
      --dark-theme-secondary-color: #bcbcbc;  
      --dark-theme-disabled-color: #646464;  
      --dark-theme-divider-color: #3c3c3c;

      
      --text-primary-color: var(--dark-theme-text-color);
      --default-primary-color: var(--primary-color);
}

</style>
`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},3888:(e,t,i)=>{"use strict";i.d(t,{cn:()=>o,kz:()=>n});function o(){0}const r=[];function n(e){r.push(e)}},3900:(e,t,i)=>{"use strict";i.d(t,{$k:()=>h,lH:()=>w,sm:()=>_});i(8443);var o=i(2622),r=i(5367),n=i(7586),s=i(8591);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let a=null;function l(){return a}l.prototype=Object.create(HTMLTemplateElement.prototype,{constructor:{value:l,writable:!0}});const d=(0,o.s)(l),c=(0,r.H)(d);const u=(0,o.s)(class{});function h(e,t){for(let i=0;i<t.length;i++){let o=t[i];if(Boolean(e)!=Boolean(o.__hideTemplateChildren__))if(o.nodeType===Node.TEXT_NODE)e?(o.__polymerTextContent__=o.textContent,o.textContent=""):o.textContent=o.__polymerTextContent__;else if("slot"===o.localName)if(e)o.__polymerReplaced__=document.createComment("hidden-slot"),(0,s.L)((0,s.L)(o).parentNode).replaceChild(o.__polymerReplaced__,o);else{const e=o.__polymerReplaced__;e&&(0,s.L)((0,s.L)(e).parentNode).replaceChild(o,e)}else o.style&&(e?(o.__polymerDisplay__=o.style.display,o.style.display="none"):o.style.display=o.__polymerDisplay__);o.__hideTemplateChildren__=e,o._showHideChildren&&o._showHideChildren(e)}}class p extends u{constructor(e){super(),this._configureProperties(e),this.root=this._stampTemplate(this.__dataHost);let t=[];this.children=t;for(let e=this.root.firstChild;e;e=e.nextSibling)t.push(e),e.__templatizeInstance=this;this.__templatizeOwner&&this.__templatizeOwner.__hideTemplateChildren__&&this._showHideChildren(!0);let i=this.__templatizeOptions;(e&&i.instanceProps||!i.instanceProps)&&this._enableProperties()}_configureProperties(e){if(this.__templatizeOptions.forwardHostProp)for(let e in this.__hostProps)this._setPendingProperty(e,this.__dataHost["_host_"+e]);for(let t in e)this._setPendingProperty(t,e[t])}forwardHostProp(e,t){this._setPendingPropertyOrPath(e,t,!1,!0)&&this.__dataHost._enqueueClient(this)}_addEventListenerToNode(e,t,i){if(this._methodHost&&this.__templatizeOptions.parentModel)this._methodHost._addEventListenerToNode(e,t,(e=>{e.model=this,i(e)}));else{let o=this.__dataHost.__dataHost;o&&o._addEventListenerToNode(e,t,i)}}_showHideChildren(e){h(e,this.children)}_setUnmanagedPropertyToNode(e,t,i){e.__hideTemplateChildren__&&e.nodeType==Node.TEXT_NODE&&"textContent"==t?e.__polymerTextContent__=i:super._setUnmanagedPropertyToNode(e,t,i)}get parentModel(){let e=this.__parentModel;if(!e){let t;e=this;do{e=e.__dataHost.__dataHost}while((t=e.__templatizeOptions)&&!t.parentModel);this.__parentModel=e}return e}dispatchEvent(e){return!0}}p.prototype.__dataHost,p.prototype.__templatizeOptions,p.prototype._methodHost,p.prototype.__templatizeOwner,p.prototype.__hostProps;const f=(0,r.H)(p);function b(e){let t=e.__dataHost;return t&&t._methodHost||t}function g(e,t,i){let o=i.mutableData?f:p;_.mixin&&(o=_.mixin(o));let r=class extends o{};return r.prototype.__templatizeOptions=i,r.prototype._bindTemplate(e),function(e,t,i,o){let r=i.hostProps||{};for(let t in o.instanceProps){delete r[t];let i=o.notifyInstanceProp;i&&e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:v(t,i)})}if(o.forwardHostProp&&t.__dataHost)for(let t in r)i.hasHostProps||(i.hasHostProps=!0),e.prototype._addPropertyEffect(t,e.prototype.PROPERTY_EFFECT_TYPES.NOTIFY,{fn:function(e,t,i){e.__dataHost._setPendingPropertyOrPath("_host_"+t,i[t],!0,!0)}})}(r,e,t,i),r}function m(e,t,i,o){let r=i.forwardHostProp;if(r&&t.hasHostProps){const u="template"==e.localName;let h=t.templatizeTemplateClass;if(!h){if(u){let e=i.mutableData?c:d;class o extends e{}h=t.templatizeTemplateClass=o}else{const i=e.constructor;class o extends i{}h=t.templatizeTemplateClass=o}let s=t.hostProps;for(let e in s)h.prototype._addPropertyEffect("_host_"+e,h.prototype.PROPERTY_EFFECT_TYPES.PROPAGATE,{fn:y(e,r)}),h.prototype._createNotifyingProperty("_host_"+e);n.F3&&o&&function(e,t,i){const o=i.constructor._properties,{propertyEffects:r}=e,{instanceProps:n}=t;for(let e in r)if(!(o[e]||n&&n[e])){const t=r[e];for(let i=0;i<t.length;i++){const{part:o}=t[i].info;if(!o.signature||!o.signature.static){console.warn(`Property '${e}' used in template but not declared in 'properties'; attribute will not be observed.`);break}}}}(t,i,o)}if(e.__dataProto&&Object.assign(e.__data,e.__dataProto),u)l=h,a=s=e,Object.setPrototypeOf(s,l.prototype),new l,a=null,e.__dataTemp={},e.__dataPending=null,e.__dataOld=null,e._enableProperties();else{Object.setPrototypeOf(e,h.prototype);const i=t.hostProps;for(let t in i)if(t="_host_"+t,t in e){const i=e[t];delete e[t],e.__data[t]=i}}}var s,l}function y(e,t){return function(e,i,o){t.call(e.__templatizeOwner,i.substring(6),o[i])}}function v(e,t){return function(e,i,o){t.call(e.__templatizeOwner,e,i,o[i])}}function _(e,t,i){if(n.yu&&!b(e))throw new Error("strictTemplatePolicy: template owner not trusted");if(i=i||{},e.__templatizeOwner)throw new Error("A <template> can only be templatized once");e.__templatizeOwner=t;let o=(t?t.constructor:p)._parseTemplate(e),r=o.templatizeInstanceClass;r||(r=g(e,o,i),o.templatizeInstanceClass=r);const s=b(e);m(e,o,i,s);let a=class extends r{};return a.prototype._methodHost=s,a.prototype.__dataHost=e,a.prototype.__templatizeOwner=t,a.prototype.__hostProps=o.hostProps,a}function w(e,t){let i;for(;t;)if(i=t.__dataHost?t:t.__templatizeInstance){if(i.__dataHost==e)return i;t=i.__dataHost}else t=(0,s.L)(t).parentNode;return null}},3941:(e,t,i)=>{"use strict";var o=i(5118),r=i(7734),n=(i(1306),i(9185),i(1876));class s extends r.Pu{static get is(){return"sb-async-service"}static get properties(){return{reader:String,loader:String,saver:String,background:Boolean,response:{notify:!0},cache:String,uid:String,ignoreCache:{type:Boolean,value:!1},error:{type:Array,notify:!0}}}ready(){super.ready(),this.$.service.addEventListener("response-changed",this.handleServiceResponse.bind(this)),this.$.jobchecker.addEventListener("result-changed",this.handleAsyncResponse.bind(this))}setResponse(e){this.response=e}handleServiceResponse(e){let t=e.detail.value;!0===s.isAsyncResponse(t)?this.pollAsyncJob(t):this.setResponse(t)}handleAsyncResponse(e){let t=s.parseAsyncResponse(e.detail.value);this.swapCache(t),this.setResponse(t)}swapCache(e){if(!this.cache||!this.uid)return;let t=o.l.get(this.cache,this.uid);delete t.recordId,delete t.jobId,delete t.jobType,o.l.add(this.cache,this.uid,Object.assign(e,t))}pollAsyncJob(e){this.$.jobchecker.data={jobId:e.jobId,recordId:e.recordId,jobType:e.jobType}}static isAsyncResponse(e){return!!(e&&e.recordId&&e.jobId&&e.jobType)}static parseAsyncResponse(e){return(new n.S).parse(e.payload)}static get template(){return r.qy`
		<sb-service
			id="service"
			saver="[[saver]]"
			reader="[[reader]]"
			loader="[[loader]]"
			cache="[[cache]]"
			uid="[[uid]]"
			model="[[model]]"
			context="[[context]]"
			ignore-cache="[[ignoreCache]]"
			background="[[background]]"
			error="{{error}}"
		></sb-service>
		<sb-job-checker id="jobchecker" error="{{error}}"></sb-job-checker>
		`}}customElements.define(s.is,s)},4070:(e,t,i)=>{"use strict";i.d(t,{y:()=>a});var o=i(6902),r=i(8873),n=i(1890),s=i(1149);class a{constructor(e,t,i,o,r){this.init(t,e,i,o,r)}init(e,t,i,o,r){this.product=e||this.product,this.qId=t||this.qId,this.prefix=i?i+"__":this.prefix||"",this.currencyIsoCode=o||this.currencyIsoCode,this.featureLookupId=r||this.featureLookupId,this.optionsById={},this.optionIndexById={},this.optionsByFeatureId={},this.featuresWithOptionsOrConfigAttr=[],this.featureIdsWithOptionsOrConfigAttr={},this.featureIdsWithSelectionMethodAdd={},this.featureIdsWithSelectionMethodClick={},this.featureIdsWIthSelectionMethodDynamic={},this.configAttributesByFeatureId={},this.configurationAttributeValueMap={},this.configurationAttributeModelMap={},this.configurationAttributeTargetFieldMap={},this.configurationAttributeApplyToOptionMap={},this.attributeValueMap={},this.productRulesActions={},this.optionDataByOptionIds={},this.featureIdByOptionId={},this.productOptionConfigurationsMap={},this.initializeProduct(),this.product.initialized=!0}getFeature(e){return void 0!==e&&"null"!==e||(e=null),this.product.features.find((t=>t.record.Id===e))}getOption(e){return this.optionsById[e]}getOptionsByFeatureId(e){if(null!==e&&"null"!==e||(e="Other"),this.isOptionLookupViewModel()){var t=[];return this.optionsByFeatureId[e].forEach((e=>{let i=JSON.parse(JSON.stringify(e));i.selected=!1,t.push(i)})),t}let i=this.getFeature(e);for(let e of i._transient_.optionConfigurations)this.isClickFeature(i)||(e.selected=!0);return i._transient_.optionConfigurations}getFeatureByOptionId(e){const t=this.featureIdByOptionId[e];return this.getFeature(t)}maxOptionsMet(e){let t=this.prefix+"MaxOptionCount__c";return e._transient_.optionConfigurations.length>=e.record[t]}setOptionSelected(e,t){let i=this.optionsById[e];this.featureIdsWithSelectionMethodClick[this.featureIdByOptionId[e]]&&!i.record[this.prefix+"Required__c"]&&(i.selected=t)}setConfigurationAttributesToOptions(e){for(let t in this.configurationAttributeApplyToOptionMap)e.record[t]=this.product.configuration.configurationData[t]}getOptionLayout(){let e=this.prefix+"OptionLayout__c";return this.product.record[e]||"Sections"}getTabFeaturesMap(){let e=this.product.featureCategoryLabels,t=this.featuresWithOptionsOrConfigAttr.filter((e=>void 0===e.record[this.prefix+"Category__c"])),i={};return this.featuresWithOptionsOrConfigAttr.length===t.length?this.featuresWithOptionsOrConfigAttr.forEach((e=>{i[e.record.Name]=[e]})):(this.product.featureCategories.forEach((t=>{this.featuresWithOptionsOrConfigAttr.forEach((o=>{let r=o.record[this.prefix+"Category__c"];void 0!==r&&r===e[t]&&(void 0!==i[t]?i[t].push(o):i[t]=[o])}))})),0!==t.length&&(i.Other=i.Other||[],i.Other=i.Other.concat(t))),i}checkAtLeastOneFeatureHasCategory(){return!!this.featuresWithOptionsOrConfigAttr.find((e=>null!=e.record[this.prefix+"Category__c"]&&"Other"!==e.record[this.prefix+"Category__c"]))}isAppliedImmediately(e){let t=this.prefix+"AppliedImmediately__c";return this.getOption(e).record[t]}initializeProduct(){this.localizer=new r.N(this.prefix),this.product=this.localizer.localizeProduct(this.product),this.product._transient_=this.product._transient_||{},this.product.configuration.configurationEntered=!0;let e=this.prefix+"Feature__c",t=[];this.featureLookupId||(this.initConfigAttributesById(),this.initConfigurationAttributeMap());for(let e of this.product.options)this.initOptionInfo(e,t);this.buildOptionConfigurationMap();for(let e of this.product.features)e.optionSelectionMethod=this.getOptionSelectionMethod(e),e._transient_||(e._transient_={}),this.initFeatureOptionConfigurations(e),this.addFeaturesWithOptionsOrConfigAttr(e);for(let i of t){let t,o=this.getFeature(i.record[e]||"Other");"radio"===i.selectionType&&i.hidden&&o.visibleSelected&&(i.selected=!1),this.isAddFeature(o)&&(t=o._transient_.optionConfigurations.find((function(e){return e.record.Id===i.record.Id})),t?(t.added=!0,void 0!==i.configured&&(t.configured=i.configured),this.setOptionDisabledData(t)):o._transient_.optionConfigurations.push(i),i.added=!0),this.setOptionDisabledData(i)}}initOptionInfo(e,t){let i=this.prefix+"Feature__c",o=this.prefix+"Quantity__c",r=this.prefix+"MinQuantity__c",n=this.prefix+"Selected__c",s=this.prefix+"Required__c",a=this.prefix+"UnitPrice__c",l=this.prefix+"ProductName__c",d=e.record[i]||"Other";this.setConfigurationAttributesToOptions(e),e.valueChanged=!1,e.record[a]=null==e.record[a]?void 0:e.record[a],e.hidden=e.hiddenByRule&&e.hidden||void 0===e.record[a],e.removed=e.removed||!1===e.selected&&e.record[n],e.selected=void 0===e.selected?e.record[n]&&!e.removed||e.record[s]:e.selected,e.name=e.record[l],e._transient_||(e._transient_={}),e.selected?null!=t&&t.push(e):this.setOptionDisabledData(e),!0===e.isUpgrade&&(e.hidden=!0),e.record[i]||this.product.mappedFeaturelessOptions||(this.product.features.push(this.createOtherOptionsFeature(this.product.virtualFeatureTitle)),this.product.mappedFeaturelessOptions=!0),void 0===e.record[o]&&(e.recordHasQuantity=!1,e.record[o]=void 0===e.record[r]?1:e.record[r]),e.record[s]&&(e.required=!0),this.product._transient_&&this.product._transient_.attributeSet&&this.product._transient_.attributeSet.attributeItemIdsByOptionId[e.record.Id]&&(this.product._transient_.hasAttributeItems=!0,this.addAttributeItems(e,this.product._transient_.attributeSet)),this.optionsById[e.record.Id]=e,this.featureIdByOptionId[e.record.Id]=d,this.addToOptionByFeatureId(d,e)}createOtherOptionsFeature(e){return{addOptionButtonLabel:"Add Option",addOptionDialogTitle:"Add Option",instructionsText:null,record:{Id:"Other",Name:e},searchFilters:null}}addAttributeItems(e,t){e._transient_.attributeItems={};for(let i of t.attributeItemIdsByOptionId[e.record.Id]){let o=t.attributeItemById[i].targetFieldName;e._transient_.attributeItems[o]=e.record[o]}e._transient_.optionDrawerExpanded=!1,e._transient_.drawerIconClass="sf-icon-chevronright"}getOptionSelectionMethod(e){return null!=e.record[this.prefix+"OptionSelectionMethod__c"]?e.record[this.prefix+"OptionSelectionMethod__c"]:null!=this.product.record[this.prefix+"OptionSelectionMethod__c"]?this.product.record[this.prefix+"OptionSelectionMethod__c"]:"Click"}setOptionDisabledData(e,t){if(e.disabledData=e.disabledData||{disabled:!!e.record[this.prefix+"Required__c"]&&!e.added||!!e.record[this.prefix+"System__c"],constrained:!1},t){this.optionsById[e.record.Id].disabledData={disabled:!1,constrained:!1},e.disabledData.disabled=!1}}initFeatureOptionConfigurations(e){if(null==e._transient_.optionConfigurations&&(e._transient_.optionConfigurations=[]),null==this.optionsByFeatureId[e.record.Id])return;let t=1===e.record[this.prefix+"MaxOptionCount__c"],i=0===e._transient_.optionConfigurations.length,o=e.record.Id||"Other",r=[];for(let n of this.optionsByFeatureId[o]){n.index=n.index||0,e.visibleSelected=e.visibleSelected||!n.hidden&&n.selected,n.selectionType=t?"radio":"checkbox",n.record[this.prefix+"ConfiguredSKU__c"]=this.product.record.Id;const o=n.record[this.prefix+"UnitPrice__c"];void 0===n.listPrice&&""!==o&&null!=o&&(n.listPrice=o),this.isDynamicFeature(e)&&!e._transient_.changedExternally&&(n.selected=!0,n.added=!0),this.featureLookupId?n._transient_.rowActions=[]:((null==n._transient_.rowActions||0===n._transient_.rowActions.length||e._transient_.changedExternally)&&this.initOptionActions(n,!this.isClickFeature(e)),this.initReconfiguredOption(n,e,i,r))}r.length>0&&this.sortAndAddOptionConfigs(e,r)}buildOptionConfigurationMap(){if(this.product.features[0])if(null==this.product.features[0]._transient_||null==this.product.features[0]._transient_.optionConfigurations)for(let e of this.product.configuration.optionConfigurations){let t=e.optionId;this.productOptionConfigurationsMap[t]=this.productOptionConfigurationsMap[t]||[],this.productOptionConfigurationsMap[t].push(e)}else this._syncOptionConfigurations()}initOptionActions(e,t){let i=[];t&&i.push(this.createOptionAction("sf-icon-delete","Delete","left",!0,!1,!1,"delete-tapped")),this.addOptionConfigurationAction(e,i),e._transient_.rowActions=i}addOptionConfigurationAction(e,t){let i=e.configurable?e.configurationRequired:void 0;t.push(this.createOptionAction("sf-icon-custom_apps","Configure","left",!1,!1,!1,"configure-tapped",i))}createOptionAction(e,t,i,o,r,n,a,l){return{icon:e,title:t,position:i,mobileDisabled:o,hidden:r,invisible:n,configurationRequired:l,onTapFunction:function(){this.dispatchEvent((0,s.uv)(a,{Id:this.data.record.Id,index:this.index}))}}}addToOptionByFeatureId(e,t){this.optionsByFeatureId[e]=this.optionsByFeatureId[e]||[],this.optionsByFeatureId[e].push(t)}initConfigAttributesById(){let e=this.product.configurationAttributes,t=e.length;for(let i=0;i<t;i++)null===e[i].featureId?this.configAttributesByFeatureId.featureless?this.configAttributesByFeatureId.featureless.push(e[i]):this.configAttributesByFeatureId.featureless=[e[i]]:this.configAttributesByFeatureId[e[i].featureId]?this.configAttributesByFeatureId[e[i].featureId].push(e[i]):this.configAttributesByFeatureId[e[i].featureId]=[e[i]]}initConfigurationAttributeMap(){let e=this.product.configurationAttributes,t=e.length,i=this.product.configuration.configurationData;for(let o=0;o<t;o++){let t=e[o].targetFieldName;this.attributeValueMap[e[o].targetFieldName]="";let r=new n.u(t,i).getRelationshipName(),s=i[t];this.configurationAttributeValueMap[e[o].myId]=void 0!==s?s:null;let a=this.product.productKey||this.product.record.Id;this.configurationAttributeModelMap[e[o].myId]={targetFieldName:e[o].targetFieldName,value:s,required:e[o].required,hidden:e[o].hidden,myId:e[o].myId,bundleId:a,autoSelect:e[o].autoSelect,shownValues:e[o].shownValues,hiddenValues:e[o].hiddenValues,referencedFieldValue:r};let l=this.configurationAttributeTargetFieldMap[e[o].targetFieldName]||[];l.push(e[o].myId),this.configurationAttributeTargetFieldMap[e[o].targetFieldName]=l,!0===e[o].applyToProductOptions&&void 0===this.configurationAttributeApplyToOptionMap[e[o].targetFieldName]&&(this.configurationAttributeApplyToOptionMap[e[o].targetFieldName]=!0)}}initReconfiguredOption(e,t,i,r){const n=this.product.record[this.prefix+"ExternallyConfigurable__c"];o.B.isExternalConfiguratorNestedBundlesEnabled&&n&&(e.configured=!0);const s=this.productOptionConfigurationsMap[e.record.Id];if(!s||e.removed)return i&&this.isClickFeature(t)?t._transient_.optionConfigurations.push(e):void 0;if(this.isAddFeature(t))return void this.cloneOptionAndSyncConfiguration(e,r);let a=s[0];this.syncOptionToConfigData(e),this.setPropertiesWithConfig(e,a),i&&(this.isClickFeature(t)?t._transient_.optionConfigurations.push(e):r.push(e))}cloneOptionAndSyncConfiguration(e,t){let i=this.productOptionConfigurationsMap[e.record.Id],o={};for(let r=0;r<i.length;r++){let n=i[r],s=JSON.parse(JSON.stringify(e));s._transient_.rowActions=e._transient_.rowActions,!0===o[s.record.Id]?s.required=!1:o[s.record.Id]=!0,s.index=r,this.syncOptionToConfigData(s),this.setPropertiesWithConfig(s,n),t.push(s)}}syncOptionToConfigData(e){let t=this.getProductOptionConfigurationData(e.record.Id,e.index);if(void 0!==t)for(let i in t)e.hasOwnProperty(i)||(e[i]=t[i])}getProductOptionConfigurationData(e,t){return void 0===this.productOptionConfigurationsMap[e][t]&&this.buildOptionConfigurationMap(),this.productOptionConfigurationsMap[e][t]}setPropertiesWithConfig(e,t){const i=e.untranslatedRecord&&Object.keys(e.untranslatedRecord).length>0;for(const o in t.optionData)if("attributes"!==o){if(i&&void 0!==e.untranslatedRecord[o]){if(e.untranslatedRecord[o]===t.optionData[o])continue}e.record[o]=t.optionData[o]}e.dynamicOptionKey=t.dynamicOptionKey,e.selected=!1!==e.selected}getHasUpgradeOptions(e){if("Other"===e.record.Id){for(let t=0;t<e._transient_.optionConfigurations.length;t++)if(!0===e._transient_.optionConfigurations[t].isUpgrade)return!0;return!1}return e.containsUpgrades}sortAndAddOptionConfigs(e,t){let i;for(let o of t)o&&(this.isAddFeature(e)&&(o.added=!0,i=!!e._transient_.optionConfigurations.filter((e=>e.record.Id===o.record.Id))),this.setOptionDisabledData(o,i),e._transient_.optionConfigurations.push(o))}createConstraintsHoverMessages(e){this.optionConstraintsByConstrained=e;for(let e of this.product.options)this.createConstraintHoverMessage(e)}createConstraintHoverMessage(e){if(!this.optionConstraintsByConstrained[e.record.Id])return;let t=this.optionConstraintsByConstrained[e.record.Id],i={Requires:[],Excludes:[]},o=[];if(t.ungroupedConstraints.forEach(function(e){let t="Dependency"===e.type?"Requires":"Excludes",o="Dependency"===e.type?"or ":"and ",r=i[t].length?o:t+": ",n=this.optionsById[e.option].record[this.prefix+"ProductName__c"];i[t].push(r+n)}.bind(this)),Object.keys(t.groups).forEach(function(e,o){let r=t.groups[e],n="Dependency"===r.type?"Requires":"Excludes",s=i[n].length?0==o&&t.ungroupedConstraints[0]?"and ":"or ":n+": ",a="";r.options.forEach(function(e,t){let i=this.optionsById[e].record[this.prefix+"ProductName__c"];s=0===t?s:" and ",a+=s+i}.bind(this)),i[n].push(a)}.bind(this)),i.Requires.length)for(let e of i.Requires)o.push(e);if(i.Excludes.length)for(let e of i.Excludes)o.push(e);e.constraintMessage=o}optionSystemOrRequired(e){let t=this.optionsById[e];return t.record[this.prefix+"System__c"]||t.record[this.prefix+"Required__c"]}isOptionLookupViewModel(){return!!this.featureLookupId}isClickFeature(e){return"Click"===e.optionSelectionMethod}isAddFeature(e){return"Add"===e.optionSelectionMethod}isDynamicFeature(e){return"Dynamic"===e.optionSelectionMethod}addFeaturesWithOptionsOrConfigAttr(e){(this.optionsByFeatureId[e.record.Id]||this.configAttributesByFeatureId[e.record.Id]||this.isDynamicFeature(e))&&(this.featuresWithOptionsOrConfigAttr.push(e),this.featureIdsWithOptionsOrConfigAttr[e.record.Id]=e,this.isClickFeature(e)?this.featureIdsWithSelectionMethodClick[e.record.Id]=!0:this.isAddFeature(e)?this.featureIdsWithSelectionMethodAdd[e.record.Id]=!0:this.isDynamicFeature(e)&&(this.featureIdsWIthSelectionMethodDynamic[e.record.Id]=!0))}_syncOptionConfigurations(){const e=this._getPreviouslyConfiguredBundle();if(null===e)return;const t=e.optionData.Id||e.optionId,i=this.getFeatureByOptionId(t);for(let o of i._transient_.optionConfigurations)if(o.record.Id===t&&o.index===e.index)return o.optionConfigurations=e.optionConfigurations,o.configurationData=e.configurationData,void delete e.tag}_getPreviouslyConfiguredBundle(){for(const e of this.product.configuration.optionConfigurations)if("saved"===e.tag)return e;return null}}},4074:(e,t,i)=>{"use strict";i(1518),i(6575);var o=i(1500),r=i(215),n=i(816),s=i(2619),a=i(9137);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const l=s.q`<style>
  :host {
    display: inline-block;
    white-space: nowrap;
    cursor: pointer;
    --calculated-paper-checkbox-size: var(--paper-checkbox-size, 18px);
    /* -1px is a sentinel for the default and is replaced in \`attached\`. */
    --calculated-paper-checkbox-ink-size: var(--paper-checkbox-ink-size, -1px);
    line-height: 0;
    -webkit-tap-highlight-color: transparent;
  }

  :host([hidden]) {
    display: none !important;
  }

  :host(:focus) {
    outline: none;
  }

  .hidden {
    display: none;
  }

  #checkboxContainer {
    display: inline-block;
    position: relative;
    width: var(--calculated-paper-checkbox-size);
    height: var(--calculated-paper-checkbox-size);
    min-width: var(--calculated-paper-checkbox-size);
    margin: var(--paper-checkbox-margin, initial);
    vertical-align: var(--paper-checkbox-vertical-align, middle);
    background-color: var(--paper-checkbox-unchecked-background-color, transparent);
  }

  #ink {
    position: absolute;

    /* Center the ripple in the checkbox by negative offsetting it by
     * (inkWidth - rippleWidth) / 2 */
    top: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
    left: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
    width: var(--calculated-paper-checkbox-ink-size);
    height: calc(var(--calculated-paper-checkbox-ink-size) / 2);
    color: var(--paper-checkbox-unchecked-ink-color, var(--primary-text-color));
    opacity: 0.6;
    pointer-events: none;
  }

  #ink:dir(rtl) {
    right: calc(0px - (var(--calculated-paper-checkbox-ink-size) - var(--calculated-paper-checkbox-size)) / 2);
    left: auto;
  }

  #ink[checked] {
    color: var(--paper-checkbox-checked-ink-color, var(--primary-color));
  }

  #checkbox {
    position: relative;
    box-sizing: border-box;
    height: 100%;
    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
    border-radius: var(--paper-checkbox-border-radius, 2px);
    border-width: var(--paper-checkbox-border-width, 2px);
    border-style: var(--paper-checkbox-border-style, solid);
    pointer-events: none;
    -webkit-transition: background-color 140ms, border-color 140ms;
    transition: background-color 140ms, border-color 140ms;

    -webkit-transition-duration: var(--paper-checkbox-animation-duration, 140ms);
    transition-duration: var(--paper-checkbox-animation-duration, 140ms);
  }

  /* checkbox checked animations */
  #checkbox.checked #checkmark {
    -webkit-animation: checkmark-expand 140ms ease-out forwards;
    animation: checkmark-expand 140ms ease-out forwards;

    -webkit-animation-duration: var(--paper-checkbox-animation-duration, 140ms);
    animation-duration: var(--paper-checkbox-animation-duration, 140ms);
  }

  @-webkit-keyframes checkmark-expand {
    0% {
      -webkit-transform: scale(0, 0) rotate(45deg);
    }
    100% {
      -webkit-transform: scale(1, 1) rotate(45deg);
    }
  }

  @keyframes checkmark-expand {
    0% {
      transform: scale(0, 0) rotate(45deg);
    }
    100% {
      transform: scale(1, 1) rotate(45deg);
    }
  }

  #checkbox.checked {
    background-color: var(--paper-checkbox-checked-color, var(--primary-color));
    border-color: var(--paper-checkbox-checked-color, var(--primary-color));
  }

  #checkmark {
    position: absolute;
    width: 36%;
    height: 70%;
    border-style: solid;
    border-top: none;
    border-left: none;
    border-right-width: calc(2/15 * var(--calculated-paper-checkbox-size));
    border-bottom-width: calc(2/15 * var(--calculated-paper-checkbox-size));
    border-color: var(--paper-checkbox-checkmark-color, white);
    -webkit-transform-origin: 97% 86%;
    transform-origin: 97% 86%;
    box-sizing: content-box; /* protect against page-level box-sizing */
  }

  #checkmark:dir(rtl) {
    -webkit-transform-origin: 50% 14%;
    transform-origin: 50% 14%;
  }

  /* label */
  #checkboxLabel {
    position: relative;
    display: inline-block;
    vertical-align: middle;
    padding-left: var(--paper-checkbox-label-spacing, 8px);
    white-space: normal;
    line-height: normal;
    color: var(--paper-checkbox-label-color, var(--primary-text-color));
  }

  :host([checked]) #checkboxLabel {
    color: var(--paper-checkbox-label-checked-color, var(--paper-checkbox-label-color, var(--primary-text-color)));
  }

  #checkboxLabel:dir(rtl) {
    padding-right: var(--paper-checkbox-label-spacing, 8px);
    padding-left: 0;
  }

  #checkboxLabel[hidden] {
    display: none;
  }

  /* disabled state */

  :host([disabled]) #checkbox {
    opacity: var(--paper-checkbox-disabled-opacity, 0.5);
    border-color: var(--paper-checkbox-unchecked-color, var(--primary-text-color));
    background-color: var(--paper-checkbox-disabled-background-color);
  }

  :host([disabled][checked]) #checkbox {
    background-color: var(--primary-text-color);
    opacity: 0.5;
  }

  :host([disabled][checked]) #checkmark {
    border-color: var(--paper-checkbox-checkmark-disabled-border-color);
  }

  :host([disabled]) #checkboxLabel  {
    opacity: 0.65;
  }

  /* invalid state */
  #checkbox.invalid:not(.checked) {
    border-color: var(--paper-checkbox-error-color, var(--error-color));
  }
</style>

<div id="checkboxContainer">
  <div id="checkbox" class$="[[_computeCheckboxClass(checked, invalid)]]">
    <div id="checkmark" class$="[[_computeCheckmarkClass(checked)]]"></div>
  </div>
</div>

<div id="checkboxLabel"><slot></slot></div>`;l.setAttribute("strip-whitespace",""),(0,n.b)({_template:l,is:"paper-checkbox",behaviors:[o.O],hostAttributes:{role:"checkbox","aria-checked":!1,tabindex:0},properties:{ariaActiveAttribute:{type:String,value:"aria-checked"}},attached:function(){(0,a.m)(this,(function(){if("-1px"===this.getComputedStyleValue("--calculated-paper-checkbox-ink-size").trim()){var e=this.getComputedStyleValue("--calculated-paper-checkbox-size").trim(),t="px",i=e.match(/[A-Za-z]+$/);null!==i&&(t=i[0]);var o=parseFloat(e),r=8/3*o;"px"===t&&(r=Math.floor(r))%2!=o%2&&r++,this.updateStyles({"--paper-checkbox-ink-size":r+t})}}))},_computeCheckboxClass:function(e,t){var i="";return e&&(i+="checked "),t&&(i+="invalid"),i},_computeCheckmarkClass:function(e){return e?"":"hidden"},_createRipple:function(){return this._rippleContainer=this.$.checkboxContainer,r.o._createRipple.call(this)}})},4127:(e,t,i)=>{"use strict";i.d(t,{g:()=>o});const o=(0,i(8246).y)((e=>class extends e{connectedCallback(){super.connectedCallback(),this._polymerSet=this._polymerSet||this.set,this.set=this._set}_set(e,t){this.get(e)===t?this.notifyPath(e):this._polymerSet(e,t)}}))},4162:(e,t,i)=>{"use strict";var o=i(1890),r=i(6902),n=i(7734),s=i(1149);i(7022);const a=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
:host .fields {
  margin: 10px 0 10px 20px;
}
:host #header {
  margin-bottom: 20px;
}
`;var l=i(4127);class d extends((0,l.g)(n.Pu)){static get is(){return"sb-filter-item"}static get properties(){return{value:{notify:!0},item:String,model:Object,data:Object,md:Object,hidden:{type:Boolean,value:!1},label:{type:String,reflectToAttribute:!0},display:{type:String,computed:"_computeDisplay(data, item)"},record:{type:Object,computed:"_computeRecord(data, item)"},factoryData:Object}}ready(){super.ready(),this.handleKeyPress(),this.addEventListener("lookup-value-changed",this.handleLabelChange)}handleLabelChange(e){let t={item:this.item.split(".")[0],value:e.detail.refDisplay};this.dispatchEvent((0,s.uv)("filter-item-value-changed",t))}handleKeyPress(){this.addEventListener("keypress",function(e){let t=this.item.split(".")[0];this.dispatchEvent((0,s.uv)("filter-item-field-keypress",{keyCode:e.keyCode,item:t,itemType:this.model[t].model.type}))}.bind(this))}static get observers(){return["_setMdObserver(item, model)","setHidden(data.*)","_displayChangedObserver(value, display, item, data, md)"]}clear(){this.value=null}_setMdObserver(e,t){if(void 0!==e&&void 0!==t)return this.setMd(e,t)}setMd(){let e=r.B.org.prefix?r.B.org.prefix+"__":"",t=this.item.split(".")[0];this.md=this.model[t].model,this.factoryData={range:"between"===this.model[t].record[e+"Operator__c"]},this.label=this.model[t].label?this.model[t].label:this.model[t].record.Name,this.md.type&&"boolean"===this.md.type&&"string"==typeof this.value&&this.setValue(this.item,"true"===this.value),this.$.field.editing=!0,this.$.field.property=this.item,this.$.field.md=this.md}setHidden(){let e=this.item;this.data[e]||(e=this.item.split(".")[0]),this.data[e]&&(this.hidden=this.data[e].hidden)}_computeDisplay(e,t){if(void 0===e||void 0===t)return;return e[t.split(".")[0]].label}_computeRecord(e,t){if(void 0!==e&&void 0!==t)return this}_displayChangedObserver(e,t,i,o,r){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r)return this._displayChanged(e,t,i,o,r)}_displayChanged(){let e=this.item.split(".")[0],t=new o.u(e,this.data).buildRelationship(this.value,this.display,this.md.referenceTo[0]);t&&(this.data[e].label=t.value.Name)}getValue(e){if(this.data[e])return this.data[e].value;for(let t in this.data)if(this.data[t].field===e)return this.data[t].value;return null}setValue(e,t){this.set("data."+e,t)}equals(e){return this.data===e.data}static get template(){return n.qy`
		<style>${a}</style>
		<div class="fields" hidden$="[[hidden]]">
			<div>[[label]]</div>
			<div>
				<sb-field id="field" value="{{value}}" focus="[[focus]]" ref-display="{{display}}" record="[[record]]" factory-data="[[factoryData]]"></sb-field>
			</div>
		</div>
		`}}customElements.define(d.is,d)},4167:(e,t,i)=>{"use strict";i(1518);const o=i(2619).q`
				<dom-module id="sb-common-styles">
					<template>
					  <style>
							/* global */
:host {
  /* Page (top-level stuff) */
  --sbPageBgColor: #FFF;
  --sbPageColor: #3C3D3E;
  --sbPageBorderColor: #d8dde6;
  --sbPageFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  /* Tabs */
  --sbTabSelectedColor: #166bbf;
  --sbTabColor: #54698d;
  --sbTabHoverColor: #0070d2;
  --sbTabFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  /* Navigation Drawer */
  --sbNavigationDrawerBgColor: #FFF;
  --sbNavigationDrawerHeaderColor: #8199AF;
  --sbNavigationDrawerHeaderFontColor: #FFF;
  --sbNavigationDrawerFontColor: #16325C;
  --sbNavigationDrawerRowColor: #FFF;
  --sbNavigationDrawerRowSelectedColor: #d8dde6;
  --sbNavigationDrawerRowHoverColor: #CFD7E6;
  /* Filter Drawer */
  --sbFilterDrawerBgColor: #f4f6f9;
  --sbFilterDrawerFontColor: #16325C;
  /* Page Header */
  --sbPageHeaderBgColor: #fafafa;
  --sbPageHeaderColor: #333230;
  --sbPageHeaderFontSize: 18px;
  --sbPageHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbPageHeaderTitleFontStyle: normal;
  --sbPageHeaderTitleFontWeight: 700;
  --sbPageHeaderTitleTextDecoration: none;
  --sbPageHeaderSecondaryColor: #6b6d70;
  --sbPageHeaderSecondaryFontSize: 12px;
  --sbPageHeaderSecondaryFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbPageHeaderSecondaryFontStyle: normal;
  --sbPageHeaderSecondaryFontWeight: 400;
  --sbPageHeaderSecondaryTextDecoration: none;
  --sbPageHeaderBorderBottomWidth: 1px;
  --sbPageHeaderBorderBottomStyle: solid;
  --sbPageHeaderBorderBottomColor: #dedbd7;
  --sbPageHeaderMinHeight: 80px;
  --sbPageHeaderIconDisplay: inline-block;
  --sbPageHeaderIconColor: #FFF;
  --sbPageHeaderIconSize: 32px;
  --sbPageHeaderPaddingTop: 18px;
  --sbPageHeaderPaddingRight: 18px;
  --sbPageHeaderPaddingBottom: 18px;
  --sbPageHeaderPaddingLeft: 18px;
  /* Buttons */
  --sbBtnBgColor: #fff;
  --sbBtnColor: #0070d2;
  --sbBtnBorder: 1px solid #dedbd7;
  --sbBtnBorderColor: #dedbd7;
  --sbBtnBorderRadius: 4px;
  --sbBtnHoverBgColor: #f4f6f9;
  --sbBtnHoverColor: #0070d2;
  --sbBtnDisabledBgColor: #fff;
  --sbBtnDisabledColor: #d8dde6;
  --sbBtnPaddingTop: 6px;
  --sbBtnPaddingRight: 16px;
  --sbBtnPaddingBottom: 6px;
  --sbBtnPaddingLeft: 16px;
  --sbBtnFontSize: 13px;
  --sbBtnFontWeight: 400;
  --sbBtnFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbMoreIconSize: 12px;
  /* Brand Buttons */
  --sbBrandedButtonBackgroundColor: #0070d2;
  --sbBrandedButtonFontColor: #FFFFFF;
  --sbBrandedButtonHoverBackgroundColor: #005fb2;
  --sbBrandedButtonHoverFontColor: #FFFFFF;
  --sbBrandedButtonBorderColor: #d8dde6;
  --sbBrandedButtonDisabledFontColor: #d8dde6;
  --sbBrandedButtonFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  /* Custom Actions */
  --sbConfiguratorCustomActionBgColor: #fff;
  --sbConfiguratorCustomActionFontColor: #0070d2;
  --sbConfiguratorCustomActionHoverBgColor: #f4f6f9;
  --sbConfiguratorCustomActionHoverFontColor: #0070d2;
  --sbConfiguratorCustomActionBorderColor: #d8dde6;
  /* Groups */
  --sbGroupBorderColor: rgba(171, 173, 176, 0.8);
  --sbGroupBorderWidth: 1px;
  --sbGroupHeaderBgColor: #fafaf9;
  --sbGroupHeaderBorderBottomColor: #dedbd7;
  --sbGroupHeaderBorderBottomWidth: 1px;
  --sbGroupHeaderFontColor: #6b6d70;
  --sbGroupHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbGroupHeaderFontSize: 18px;
  --sbGroupHeaderFontWeight: 400;
  --sbGroupHeaderFontStyle: normal;
  --sbGroupHeaderTextDecoration: none;
  /* Feature Header Instructions */
  --sbProductFeatureHeaderInstructionsColor: #16325C;
  --sbProductFeatureHeaderInstructionsFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbProductFeatureHeaderInstructionsFontSize: 13px;
  --sbProductFeatureHeaderInstructionsFontWeight: 300;
  --sbProductFeatureHeaderInstructionsFontStyle: normal;
  --sbProductFeatureHeaderInstructionsTextDecoration: none;
  --sbProductFeatureHeaderInstructionsPaddingTop: 0;
  --sbProductFeatureHeaderInstructionsPaddingRight: 0;
  --sbProductFeatureHeaderInstructionsPaddingBottom: 0;
  --sbProductFeatureHeaderInstructionsPaddingLeft: 0;
  --sbConfigAttrLabelColor: #6b6d70;
  /* Bundle Header */
  --sbProductBundlesLayoutProductHeaderBgColor: transparent;
  --sbProductBundlesLayoutProductHeaderColor: inherit;
  --sbProductBundlesLayoutProductHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbProductBundlesLayoutProductHeaderFontSize: 1.5rem;
  --sbProductBundlesLayoutProductHeaderFontWeight: 300;
  --sbProductBundlesLayoutProductHeaderFontStyle: normal;
  --sbProductBundlesLayoutProductHeaderTextDecoration: none;
  /* Table */
  --sbTableCellPaddingTop: 2px;
  --sbTableCellPaddingRight: 6px;
  --sbTableCellPaddingBottom: 0px;
  --sbTableCellPaddingLeft: 6px;
  /* Table Header */
  --sbTableHeaderBgColor: #fafafa;
  --sbTableHeaderColor: #524f4e;
  --sbTableHeaderBorderBottomColor: #d8dde6;
  --sbTableHeaderBorderBottomWidth: 1px;
  --sbTableHeaderBorderBottomStyle: solid;
  --sbTableHeaderFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbTableHeaderFontSize: 13px;
  --sbTableHeaderFontWeight: 400;
  --sbTableHeaderFontStyle: normal;
  --sbTableHeaderTextDecoration: none;
  --sbTableCellHeight: 32px;
  /* Table Row Grouped Row */
  --sbTableRowGroupedRowBgColor: #EEF1F6;
  --sbTableRowGroupedRowLineHeight: normal;
  --sbTableRowGroupedRowPaddingTop: 2px;
  --sbTableRowGroupedRowPaddingBottom: 2px;
  --sbTableRowGroupedRowBorderBottomStyle: solid;
  --sbTableRowGroupedRowBorderBottomColor: #D8DDE6;
  --sbTableRowGroupedRowBorderBottomWidth: 1px;
  /* Tables Row */
  --sbTableRowBgColor: #FFF;
  --sbTableRowColor: #3C3D3E;
  --sbTableRowHoverColor: #f9f9fa;
  --sbTableRowFontFamilly: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbTableRowFontSize: 13px;
  --sbTableRowFontWeight: 400;
  --sbTableRowFontStyle: normal;
  --sbTableRowTextDecoration: none;
  --sbTableRowBorderBottomStyle: solid;
  --sbTableRowBorderBottomColor: #D8DDE6;
  --sbTableRowBorderBottomWidth: 1px;
  --sbTableRowLineHeight: normal;
  --sbTableRowPaddingTop: 2px;
  --sbTableRowPaddingBottom: 2px;
  --sbDrawerBgColor: #FFFFFF;
  /* QLE Rows */
  --parentLineRowFontColor: #3c3d3e;
  --parentLineRowFontStyle: normal;
  --parentLineRowFontWeight: 400;
  --parentLineRowTextDecoration: none;
  --componentRowFontColor: #3c3d3e;
  --componentRowFontStyle: normal;
  --componentRowFontWedight: 400;
  --componentRowTextDecoration: none;
  --standaloneProductRowFontColor: #3c3d3e;
  --standaloneProductRowFontStyle: normal;
  --standaloneProductRowFontWeight: 400;
  --standaloneProductRowTextDecoration: none;
  /* Dialogs */
  --sbDialogBgColor: #fff;
  --sbDialogMaskColor: #A8B7C7;
  --sbDialogCloseColor: #fff;
  --sbDialogFooterColor: #fafafa;
  --sbDialogFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbDialogFooterBorderColor: #d8dde6;
  --sbDialogFooterBorderStyle: solid;
  --sbDialogFooterBorderWidth: 1px;
  --sbDialogHeaderBorderColor: #d8dde6;
  --sbDialogHeaderBorderStyle: solid;
  --sbDialogHeaderBorderWidth: 2px;
  --sbDialogBorderRadius: 4px;
  --sbDialogHeaderPaddingTop: 18px;
  --sbDialogHeaderPaddingRight: 18px;
  --sbDialogHeaderPaddingBottom: 18px;
  --sbDialogHeaderPaddingLeft: 18px;
  /* Badge */
  --sbBadgeBgColor: #E0E5EE;
  --sbBadgeColor: #16325C;
  --sbBadgeFontFamily: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbBadgeFontSize: 0.8rem;
  --sbBadgeBorderColor: transparent;
  --sbBadgeBorderWidth: 1px;
  --sbBadgeBorderStyle: solid;
  /* Forms */
  --sbTextboxBgColor: var(--sbPageBgColor);
  --sbTextboxBorderWidth: 1px;
  --sbTextboxBorderColor: #d8dde6;
  --sbTextboxBorderStyle: solid;
  --sbTextboxHeight: 25px;
  --sbTextboxPaddingTop: 0;
  --sbTextboxPaddingRight: 5px;
  --sbTextboxPaddingBottom: 0;
  --sbTextboxPaddingLeft: 5px;
  --sbTextboxRadius: 3px;
  --sbSelectBorderWidth: 1px;
  --sbSelectBorderColor: #d8dde6;
  --sbSelectBorderStyle: solid;
  --sbSelectHeight: 25px;
  --sbSelectPaddingTop: 0;
  --sbSelectPaddingRight: 0.5rem;
  --sbSelectPaddingBottom: 0;
  --sbSelectPaddingLeft: 0.4375rem;
  --sbSelectRadius: 0.25rem;
  --sbSelectBgColor: var(--sbPageBgColor);
  --sbCheckboxSize: 16px;
  --sbCheckboxBorderWidth: 1px;
  --sbCheckboxBorderColor: #d8dde6;
  --sbCheckboxBorderStyle: solid;
  --sbCheckboxBorderRadius: 2px;
  --sbCheckboxBgColorUnchecked: transparent;
  --sbCheckboxBgColorChecked: #1589ee;
  --sbCheckboxColor: #fff;
  --sbRadioButtonCheckedColor: #1589ee;
  --sbRadioButtonUncheckedColor: #d8dde6;
  --sbInputOutlineColor: #BFBFC2;
  --sbInputOutlineWidth: 2px;
  /* Fields */
  --sbFieldEditableIconColor: #9faab5;
  --sbFieldEditedColor: #F88962;
  /* Fonts */
  --sbFont: 'Salesforce Sans', 'Open Sans', Arial, sans-serif;
  --sbFontColor: #16325C;
  --sbFontSize: 10px;
  /* Base font size to be used for all other font size calculations */
  --sbFontSizeDefault: 14px;
  /* Font size for regular/default content */
  --sbFontSizeSmall: 12px;
  /* Font size for "small" content */
  --sbH1FontSize: 24px;
  --sbH2FontSize: 14px;
  --sbH3FontSize: 16px;
  --sbH4FontSize: 12px;
  --sbH5FontSize: 10px;
  --sbH6FontSize: 9px;
  /* Hyperlinks */
  --sbLinkColor: #0070D2;
  --sbLinkColorActive: #00396b;
  --sbLinkColorDisabled: #16325c;
  --sbLinkColorHover: #005fb2;
  /* Icons */
  --sbIconColor: #0070d2;
  --sbIconHoverColor: #16325c;
  --sbIconDisabledColor: #888888;
  --sbIconPageLoadingColor: #A71B21;
  --sbIcon16: 16px;
  --sbIcon20: 20px;
  --sbIcon24: 24px;
  --sbIcon30: 30px;
  --sbIconMobileLineActionColor: #fff;
  --sbIconMobileDeleteBgColor: #7f8de1;
  --sbIconMobileCopyBgColor: #ef7ead;
  --sbIconMobileWandBgColor: #4bc076;
  --sbIconMobileStarBgColor: #0C8EFF;
  --sbIconMobileStarFillColor: #f2cf5b;
  /* Text */
  --sbBundleOptionColor: rgba(0, 0, 0, 0.65);
  /* Loading Mask */
  --sbLoadingMaskColor: #fff;
  /* Contract Selector Page */
  --sbSelectContractHideSkipActionOnAddOnDisplay: inline-flex;
  --sbSelectContractHideSkipActionOnAmendDisplay: inline-flex;
}
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
h1,
h2,
h3,
h4,
h5,
h6 {
  color: inherit;
  font-weight: 300;
  font-family: inherit;
  display: inline-block;
}
h1 {
  font-size: var(--sbH1FontSize);
}
h2 {
  font-size: var(--sbH2FontSize);
}
h3 {
  font-size: var(--sbH3FontSize);
}
h4 {
  font-size: var(--sbH4FontSize);
}
h5 {
  font-size: var(--sbH5FontSize);
}
h6 {
  font-size: var(--sbH6FontSize);
}
/*
Button

A standard, standalone button
*/
paper-button {
  padding-top: var(--sbBtnPaddingTop);
  padding-right: var(--sbBtnPaddingRight);
  padding-bottom: var(--sbBtnPaddingBottom);
  padding-left: var(--sbBtnPaddingLeft);
  cursor: pointer;
  border: var(--sbBtnBorder);
  border-radius: var(--sbBtnBorderRadius);
  font-weight: var(--sbBtnFontWeight);
  font-family: var(--sbBtnFontFamily);
  font-size: var(--sbBtnFontSize);
  min-width: inherit;
  vertical-align: middle;
  text-align: center;
  text-transform: none;
  height: 36px;
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
paper-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
paper-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
paper-button.primary,
paper-button.sbPrimaryAction,
paper-button.primaryButton {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
paper-button.primary:hover,
paper-button.sbPrimaryAction:hover,
paper-button.primaryButton:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
paper-button.primary:disabled,
paper-button.sbPrimaryAction:disabled,
paper-button.primaryButton:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
paper-button.keyboard-focus {
  font-weight: 700;
}
paper-button --paper-button-flat-keyboard-focus {
  outline-offset: -2px;
  outline-width: 2px;
}
paper-button > .sf-icon-down {
  margin-left: 8px;
  font-size: var(--sbBtnMoreIconSize);
}
.buttons {
  text-align: center;
  display: inline-block;
  padding: 0px !important;
}
.buttons > paper-button {
  border-left: 0;
  border-radius: 0;
  margin: 0px;
  float: left;
}
.buttons > paper-button:first-of-type {
  border-left: var(--sbBtnBorder);
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
.buttons > paper-button:last-of-type {
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
paper-button > menu {
  position: absolute;
  right: -1px;
  top: 16px;
  font-weight: normal;
  padding: 8px 14px;
  white-space: nowrap;
  border-radius: var(--sbBtnBorderRadius);
  border-top-right-radius: 0;
  border: var(--sbBtnBorder);
  display: none;
  z-index: 4;
  text-align: left;
}
paper-button > menu .icon {
  margin-right: 6px;
  vertical-align: middle;
}
paper-button > menu.open {
  display: block;
}
paper-button > .badge {
  background-color: var(--sbBadgeBgColor);
  color: var(--sbBadgeColor);
  font-size: var(--sbBadgeFontSize);
  border-width: var(--sbBadgeBorderWidth);
  border-style: var(--sbBadgeBorderStyle);
  border-color: var(--sbBadgeBorderColor);
  border-radius: 15rem;
  padding: 0.25rem 0.5rem;
  line-height: 1.25;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.0625em;
  vertical-align: middle;
  white-space: nowrap;
}
paper-button > .icon-badge-upper-left {
  position: absolute;
  top: -14px;
  left: -16px;
}
paper-tooltip {
  --paper-tooltip-padding: 5px;
  --paper-tooltip-color: var(--sbFontColor);
  --paper-tooltip-font-family: var(--sbFont);
  --paper-tooltip-font-size: 14px;
  --paper-tooltip-border-radius: 4px;
  --paper-tooltip-z-index: 999;
  --paper-tooltip-background-color: #fff;
  --paper-tooltip-box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  --paper-tooltip-border: var(--sbBtnBorder);
  --paper-tooltip-opacity: 1;
}
* {
  padding: 0;
  margin: 0;
  box-sizing: border-box;
}
ul,
ol {
  list-style: none;
}
h1,
h2,
h3,
h4,
h5,
h6 {
  font-weight: normal;
}
[hidden] {
  display: none;
}
.hidden {
  display: none;
}
[invisible] {
  visibility: hidden;
}
.invisible {
  visibility: hidden;
}
.clear {
  content: "";
  display: table;
  clear: both;
}
table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  font-size: inherit;
}
a,
a:visited,
a:hover,
a:active,
a[disabled] {
  text-decoration: none;
  cursor: pointer;
  color: var(--sbLinkColor);
}
a:hover {
  color: var(--sbLinkColorHover);
}
a:active {
  color: var(--sbLinkColorActive);
}
a[disabled] {
  color: var(--sbLinkColorDisabled);
  cursor: default;
  pointer-events: none;
}
/* Bugs in Chrome and Firefox require media query with at least 1 rule or else js listeners don't always fire */

						</style>
					</template>
				</dom-module>`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},4196:(e,t,i)=>{"use strict";var o=i(4886),r=i(7734),n=i(1149);const s=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  background-color: var(--sbNavigationDrawerBgColor);
  color: var(--sbNavigationDrawerFontColor);
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: auto;
  flex: auto;
  border-top: var(--sb-side-panel-border-top, none);
}
:host header {
  margin: 20px 20px 0 20px;
}
:host .sf-icon-close {
  float: right;
  cursor: pointer;
}
:host .offset {
  left: 256px;
  position: fixed;
  visibility: visible;
}
:host .container {
  width: 16px;
  position: absolute;
  height: 100%;
  left: 256px;
  cursor: pointer;
  background-color: var(--sbNavigationDrawerHeaderColor);
  color: var(--sbNavigationDrawerHeaderFontColor);
  padding: 0 22px 0 2px;
  font-size: 20px;
}
:host .container[class*='--mobile'] {
  display: none !important;
}
:host [class*='--mobile'] .container {
  display: none !important;
}
:host .closedArrows {
  visibility: visible;
}
:host .panel-text {
  transform: rotate(90deg);
  text-align: center;
  width: 20px;
}
:host .center {
  position: relative;
  top: 35%;
}
:host .top-caret {
  position: relative;
  top: 0px;
}
:host .bottom-caret {
  position: relative;
  top: 60px;
}
:host(#searchPanel) {
  /** Commented out to maintain style parity with P1 */
  color: var(--sbFilterDrawerFontColor);
}
`;i(4),i(4167),i(7543);class a extends((0,o.$)(r.Pu)){static get is(){return"sb-side-panel"}static get properties(){return{renderHeader:{type:Boolean,value:!0},icon:String,arrows:String,sideText:String,rightSideButton:Boolean}}static get observers(){return["setIcon(isOpen)"]}closeDrawer(){this.dispatchEvent((0,n.uv)("x-clicked"))}keyCheck(e){13==e.keyCode&&this.dispatchEvent((0,n.uv)("enter-keypress"))}toggleDrawer(){this.dispatchEvent((0,n.uv)("side-toggle-clicked"))}setIcon(){"open"===this.isOpen?this.icon="sf-icon-left":(this.icon="sf-icon-right",this.arrows="closedArrows")}static get template(){return r.qy`
		<style include="sb-icons-styles sb-common-styles"></style>
		<style>${s}</style>

		<span device>
		<template is="dom-if" if="[[rightSideButton]]">
			<div class$="[[arrows]] container" on-click="toggleDrawer">
				<div class="center">
					<i class$="[[icon]] top-caret"></i>
					<div class="panel-text">[[sideText]]</div>
					<i class$="[[icon]] bottom-caret"></i>
				</div>
			</div>
		</template>
		<div id="panel" on-keypress="keyCheck">
			<template is="dom-if" if="[[renderHeader]]">
				<header>
					<i class="sf-icon-close" on-click="closeDrawer"></i>
					<slot id="paneltitle" name="title"></slot>
				</header>
			</template>

			<div id="actions">
				<slot name="panel-actions"></slot>
			</div>
		</div>
		</span>
	`}}customElements.define(a.is,a)},4293:(e,t,i)=>{"use strict";i.d(t,{A:()=>a});var o=i(1890),r=i(6902),n=i(3188),s=i(2841);class a{constructor(e,t,i,o,r,a,l,d,c){this.tableName=e,this.searchField=t,this.hasFilter=i,this.lookupFieldFullName=o,this.resultsLimit=r,this.currentRecordFields=a,this.currentRecord=l,this.applyMruOptimization=d,this.fields=c,this.fieldTypeByName=c&&c.fieldTypeObjByName?c.fieldTypeObjByName:null,this.numberParser=new n.d,this.dateParser=new s.i(!0)}build(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o="%",r="";null!=e&&""!==e&&(o=e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/'/g,"\\'").replace(/%/g,"\\%").replace(/[*]+/g,"%"),r=e.replace(/\*/g,""),o.endsWith("%")||(o+="%"));let n=this.getScope(r),s="";this.hasFilter?s=` USING SCOPE ${n}, LOOKUP ${this.lookupFieldFullName}`:"mru"===n&&(s=" USING SCOPE mru");let a=this.getSelectClause(t),l=this.getWhereClause(o,e,i),d="mru"===n?"ORDER BY LastViewedDate DESC":`ORDER BY ${this.searchField}`,c=`${a} FROM ${this.tableName}${s} WHERE ${l} ${d} LIMIT ${this.resultsLimit}`;if(this.hasFilter&&this.currentRecordFields&&Object.keys(this.currentRecordFields).length>0&&this.currentRecord){let e=0;for(let t in this.currentRecordFields){let i="function"==typeof this.currentRecord.getValue?this.currentRecord.getValue(t):this.currentRecord[t],o=this.currentRecordFields[t];this.omitField(i,o)||(0===e&&(c+=" BIND "),e++>0&&(c+=", "),c+=`${t} = ${this.getBindValue(i,o)}`)}}return c}getScope(e){if(!this.applyMruOptimization)return"everything";let t=null==e?0:e.length;if(t>2)return"everything";let i=r.B.user.lang;return t>0&&("zh_CN"===i||"zh_TW"===i||"ja"===i||"ko"===i||"th"===i)?"everything":"mru"}omitField(e,t){return null==e&&(this.isNumericType(t)||this.isLookupType(t)||this.isDateType(t))}getBindValue(e,t){return null==e?"''":!0===e||!1===e||this.isNumericType(t)||this.isDateType(t)?e:`'${e}'`}isNumericType(e){switch(e){case"double":case"number":case"currency":case"percent":case"int":return!0}return!1}isLookupType(e){switch(e){case"id":case"reference":return!0}return!1}isDateType(e){switch(e){case"date":case"datetime":return!0}return!1}getSelectClause(e){let t=e&&this.fields&&this.fields.fieldNames?a._buildFields(this.fields):[this.searchField];return t=t.filter((e=>"Id"!==e&&""!==e)),`SELECT Id, ${t.join(",")}`}getWhereClause(e,t,i){let o,r,n=[`${this.searchField} LIKE '${e}'`];if(!(i&&this.fields&&this.fields.additionalSearchFields&&this.fieldTypeByName))return n[0];let s=a._buildFields(this.fields,"additionalSearchFields");for(let i of s){let s=this.fieldTypeByName[i];if(null!=s&&null!=s.type&&(s=s.type),!this.isLookupType(s))if(this.isDateType(s)){if(null==t||""===t)continue;if(void 0===o&&(o=this.dateParser.parse(t)),null==o)continue;let e=o.toISOString().split("T")[0];"datetime"===s&&(e+="T00:00:00.000+0000"),n.push(`${i} >= ${e}`)}else if(this.isNumericType(s)){if(null==t||""===t)continue;if(void 0===r&&(r=this.numberParser.parse(t,!0)),isNaN(r))continue;let e=r;"int"===s&&(e=parseInt(e)),n.push(`${i} >= ${e}`)}else n.push(`${i} LIKE '${e}'`)}return n.join(" OR ")}static _buildFields(e){let t=[].concat(e[arguments.length>1&&void 0!==arguments[1]?arguments[1]:"fieldNames"]),i=[];for(let r of e.fieldsOfTypeLookup)-1!==t.indexOf(r.name)&&i.push(o.u.getRelationshipField(r.name,r.table));return i.length>0&&(t=t.concat(i)),t}}},4299:(e,t,i)=>{"use strict";i.r(t),i.d(t,{AssetLookup:()=>u});var o=i(7734),r=(i(2804),i(2367),i(1520),i(6206)),n=i(4886),s=i(9134),a=i(7571),l=(i(7533),i(4482),i(8729),i(8500),i(3613)),d=(i(622),i(8008));i(4547),i(5523),i(9104),i(5001),i(4459),i(4167),i(4),i(9235);const c=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host {
  color: #3c3d3e;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
}
:host > #pageBody {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host .primaryButton {
  background-color: #0070d2;
  color: #FFFFFF;
  font-weight: 400;
  width: initial;
}
:host .primaryButton:hover {
  background-color: #005fb2;
  color: #FFFFFF;
}
:host #drawer {
  position: relative;
}
:host .panel {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: auto;
  flex: auto;
  background-color: var(--sbFilterDrawerBgColor);
  color: var(--sbFilterDrawerFontColor);
}
:host sb-dialog .sb-icon-compass[class*='--mobile'] {
  display: none;
}
:host sb-dialog .mobile[class*='--mobile'] {
  padding: 6px 3px;
}
:host [class*='--mobile'] sb-dialog .sb-icon-compass {
  display: none;
}
:host [class*='--mobile'] sb-dialog .mobile {
  padding: 6px 3px;
}
:host .panelbutton {
  margin: 10px 0 10px 20px;
}
:host .click {
  padding-top: 10px;
  color: var(--sbLinkColor);
  margin-left: 18px;
  cursor: pointer;
}
:host .click:hover {
  color: var(--sbLinkColorHover);
}
:host .filter-buttons {
  margin: 10px 0 0 20px;
  display: flex;
  align-items: center;
}
:host .sf-icon-close {
  float: right;
  cursor: pointer;
  font-size: 14px;
}
:host .title {
  margin: 20px 20px 0 20px;
  font-size: 16px;
  margin-left: 20px;
}
:host .title[class*='--mobile'] {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
:host [class*='--mobile'] .title {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
:host .dialog {
  margin-left: 0px;
}
.datatable {
  position: relative;
}
.drawer {
  position: relative;
  top: inherit;
}
.drawer sb-lookup-layout {
  overflow: auto;
}
.tbody[class*='--mobile'] {
  position: absolute;
}
[class*='--mobile'] .tbody {
  position: absolute;
}
.modaloverflow {
  -webkit-overflow-scrolling: auto !important;
}
`;class u extends((0,n.$)((0,s.D)(a.YW))){static get is(){return"sb-asset-lookup"}static get properties(){return(0,r.X$)({selectedProducts:{type:Object,value:{}},lineEditorModel:Object,totalCount:String,hasTotalCount:Boolean,quote:Object,errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},groupKey:{type:String,computed:"getGroupKey(ctx.params)"}},a.YW.properties)}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.preLoadObjects()}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(e){this.lineEditorModel=e.detail.value,this.$.smLoadService.quote=this.quote=e.detail.value.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(e){this.searchModel=e.detail.value,this.primaryMobileColumn=this.searchModel.resultFieldNames[0],this.searcher=new d.W(this.searchModel),this.hasTotalCount=this.searchModel.totalCount>0,this.totalCount=this.searchModel.totalCount}.bind(this))}toggleFilter(){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.$.drawer.togglePanel()}closeDrawer(){this.refocus(),this.$.drawer.closeDrawer()}refocus(){this.$.af.focusFirstField()}removeFilter(){this.shadowRoot.querySelector(".actions").removeChild(this.shadowRoot.querySelector("#fb"))}deSelectAll(){this.$.lookupLayout.deSelectAll()}onSelect(){if(this.selectedProducts&&Object.keys(this.selectedProducts).length>0)return this.navigateToAssetUpgradeRoute();this.onCancel()}navigateToAssetUpgradeRoute(){let e={qId:this.lineEditorModel.quote.record.Id,pIds:Object.keys(this.selectedProducts)};return Object.keys(this.selectedProducts).length>0&&(e.jspr=!0),void 0!==this.groupKey&&(e.groupKey=this.groupKey),this.nav("#",e,["asset","upgrade"],!1)}onCancel(){this.spinner=!0;let e={qId:this.lineEditorModel.quote.record.Id};null!=this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),this.nav("#",e,["quote","le"],!1)}runSearcher(){this.shadowRoot.querySelector("#submit").focus(),this.$.af.runService(),this.closeDrawer()}bindFilterEnterCallBacks(){this.$.af.enterCallback=this.runSearcher.bind(this)}clearFilterFields(){this.filterData=this.searcher.clearFields()}preLoadObjects(){this.assetLookupObjects=["Asset"]}getGroupKey(){if(void 0!==this.ctx.params)return this.ctx.params.groupKey}clearStackTrace(){this.errors[0]&&(this.error=(0,l.W)(this.errors))}static get template(){return o.qy`
		<style include="sb-tables-styles"></style>
		<style include="sb-common-styles"></style>
		<style>${c}</style>
		 <style include="sb-icons-styles"></style>
		<sb-describe objects="[[assetLookupObjects]]" error="{{errors}}"></sb-describe>
		<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>
		<sb-search-model-load id="smLoadService" loader="AssetLookupServiceProvider.SearchModelLoader" action-id="[[ctx.params.aId]]" error="{{errors}}" send-quote-record="true" line-aggregation-method="getUpgradedAssetIdsAsArray"></sb-search-model-load>
		<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>

		<sb-page-header device>
			<div id="messages" slot="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>
			<i class="icon sf-icon-product" slot="icon"></i>
			<h1 slot="h1">
				<sb-i18n>Asset Selection</sb-i18n>
			</h1>
			<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>
			<div class="fixedActions" slot="fixedActions">
				<paper-button noink on-click="toggleFilter" id="fb" class="sf-icon-filterlist">
					<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">[[totalCount]]</span>
				</paper-button>
				<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
					<sb-i18n>Filter</sb-i18n>
				</paper-tooltip>
			</div>
			<div class="actions" slot="actions">
				<paper-button noink on-click="onSelect" id="plSelect">
					<sb-i18n>Select</sb-i18n>
				</paper-button>
				<paper-button noink on-click="onCancel" id="plCancel">
					<sb-i18n>Cancel</sb-i18n>
				</paper-button>
			</div>
		</sb-page-header>
		<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">
			<div main slot="main">
				<!--This is the list of records to be upgraded-->
				<sb-lookup-layout
					class="main"
					id="lookupLayout"
					search-model="{{searchModel}}"
					primary-mobile-cols="[[primaryMobileColumn]]"
					selection-id-data-path="Id"
					parent-attributes-path="attributes"
					selected-rows="{{selectedProducts}}"
					total-count="{{totalCount}}"
					has-total-count="{{hasTotalCount}}"
					no-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"
				></sb-lookup-layout>
			</div>
			<div drawer slot="drawer" class="panel">
				<header class="title"><sb-i18n>Filter</sb-i18n>
					<i class="sf-icon-close" on-click="closeDrawer"></i>
				</header>

                <!--this is the filter panel-->
                <sb-filter-layout id="af"
                                  send-quote-record="true"
                                  search-model="{{searchModel}}"
                                  filter-path="searchFilters"
                                  filter-delegator="{{searcher}}"
                                  service-loader="AssetLookupServiceProvider.SearchModelSearcher"
                                  quote="[[quote]]"
                                  search-filter-data="{{filterData}}"
                                  spinner="{{spinner}}"
                                  action-id="[[ctx.params.aId]]"
								  error="{{errors}}"
                ></sb-filter-layout>
                <paper-button id="submit" noink on-click="runSearcher" class="primaryButton panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>
                <text id="clear" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>
            </div>
		</paper-drawer-panel>
		`}}customElements.define(u.is,u)},4353:(e,t,i)=>{"use strict";i.d(t,{I:()=>n});var o=i(7586);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let r=!1;function n(){if(o.IP&&!o.sv){if(!r){r=!0;const e=document.createElement("style");e.textContent="dom-bind,dom-if,dom-repeat{display:none;}",document.head.appendChild(e)}return!0}return!1}},4358:(e,t,i)=>{"use strict";i.d(t,{MW:()=>o,QE:()=>r});class o{constructor(e,t,i){this.quoteLineOrProdId=e,this.lineKey=t,this.queryLimit=i,this.categoryIndex=0,this.errorMsg=null,this.searchKeyword=null,this.requestCount=0}}const r={RootState:{fields:{spinnerMessage:{type:"string",localizable:!0,required:!0},spinnerStatus:{type:"string"},showSpinnerMessage:{type:"boolean",required:!0}}}}},4409:()=>{"use strict";
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/if(!window.polymerSkipLoadingFontRoboto){const e=document.createElement("link");e.rel="stylesheet",e.type="text/css",e.crossOrigin="anonymous",e.href="https://fonts.googleapis.com/css?family=Roboto+Mono:400,700|Roboto:400,300,300italic,400italic,500,500italic,700,700italic",document.head.appendChild(e)}},4459:(e,t,i)=>{"use strict";var o=i(9406),r=i(8449),n=i(7734);i(1306);class s extends n.Pu{static get is(){return"sb-search-model-load"}static get properties(){return{quote:Object,sendQuoteRecord:{type:Boolean,value:!1},lineAggregationMethod:{type:String,value:null},processId:{type:String,value:null},actionId:{type:String,value:null},searchModel:{type:Object,notify:!0},filters:{type:Array},fieldSet:{type:String},error:{type:Array,notify:!0},loader:{type:String,value:null}}}static get observers(){return["_loadObserver(quote, processId, actionId)"]}_loadObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.load(e,t,i)}load(){this.uid=null;var e=(new o.k).add("processId",this.processId).add("actionId",this.actionId).add("filters",this.filters).add("fieldSet",this.fieldSet);if(this.sendQuoteRecord?e.addObject("quote",this.quote.record):e.addQuote("quote",this.quote),this.lineAggregationMethod){let t=new r.M(this.quote);if(t[this.lineAggregationMethod]){let i=t[this.lineAggregationMethod]();i&&e.addObject("aggregateLineData",i,void 0,void 0,!0)}}this.context=e.build()}static get template(){return n.qy`
			<sb-service id="service" loader="[[loader]]" cache="searchModel" uid="[[uid]]" context="[[context]]" on-response-changed="handleResponseChanged" on-error-changed="handleErrorChanged"></sb-service>
		`}handleResponseChanged(e){this.searchModel=e.detail.value}handleErrorChanged(e){e.detail.value&&(e.detail.value.validations?this.error=e.detail.value.validations:this.error=[e.detail.value.message])}}customElements.define(s.is,s)},4482:(e,t,i)=>{"use strict";var o=i(7734),r=i(3311);class n extends o.Pu{static get is(){return"sb-loading-spinner"}static get properties(){return{show:{type:Boolean,value:!1,observer:"toggle"},isReady:{type:Boolean,value:!1},previousState:{type:Boolean,value:!1}}}ready(){super.ready(),this.isReady=!0}disconnectedCallback(){super.disconnectedCallback(),!1!==this.previousState&&r.L.toggleSpinner(!1)}toggle(e){!0!==this.isReady&&!1===e||e!==this.previousState&&(r.L.toggleSpinner(e),this.previousState=e)}}customElements.define(n.is,n)},4516:(e,t,i)=>{"use strict";i.d(t,{$:()=>d});i(8443);var o=i(7263),r=i(7586);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
let n={},s={};function a(e,t){n[e]=s[e.toLowerCase()]=t}function l(e){return n[e]||s[e.toLowerCase()]}class d extends HTMLElement{static get observedAttributes(){return["id"]}static import(e,t){if(e){let i=l(e);return i&&t?i.querySelector(t):i}return null}attributeChangedCallback(e,t,i,o){t!==i&&this.register()}get assetpath(){if(!this.__assetpath){const e=window.HTMLImports&&HTMLImports.importForElement?HTMLImports.importForElement(this)||document:this.ownerDocument,t=(0,o.O2)(this.getAttribute("assetpath")||"",e.baseURI);this.__assetpath=(0,o.rG)(t)}return this.__assetpath}register(e){if(e=e||this.id){if(r.yu&&void 0!==l(e))throw a(e,null),new Error(`strictTemplatePolicy: dom-module ${e} re-registered`);this.id=e,a(e,this),(t=this).querySelector("style")&&console.warn("dom-module %s has style outside template",t.id)}var t}}d.prototype.modules=n,customElements.define("dom-module",d)},4547:(e,t,i)=>{"use strict";i.d(t,{l:()=>p});var o=i(7734),r=(i(7543),i(1771),i(1520),i(9866)),n=i(4886);i(4167),i(57),i(4);const s=i(2619).b`
.link {
  color: #1589EE;
}
.link:hover {
  cursor: pointer;
  text-decoration: underline;
}
#container {
  outline-color: var(--sbInputOutlineColor);
  outline-width: var(--sbInputOutlineWidth);
  border-width: var(--sbTextboxBorderWidth);
  border-style: var(--sbTextboxBorderStyle);
  border-color: var(--sbTextboxBorderColor);
  border-radius: var(--sbTextboxRadius);
  padding: 3px;
  background-color: var(--sbTextboxBgColor);
  width: var(--sidePanelInputWidth, 125px);
  min-height: var(--sb-lookup-pill-container-min-height);
  min-width: var(--sb-lookup-pill-container-min-width);
}
#container.inlineEdit {
  width: 100%;
  height: 100%;
  border-color: #0070d2;
}
#container.inlineEdit:focus {
  outline: none;
}
#container.inlineEdit span.pill {
  padding-top: 5px;
  vertical-align: middle;
  text-align: left;
}
#container.inlineEdit span.pill span#label {
  width: calc(100% - 6px);
}
.pill {
  border: 1px solid #cccccc;
  border-radius: 5px;
  padding: 1px 4px;
  display: block;
  white-space: nowrap;
  height: 100%;
}
.pill.dialog {
  padding: 3px 4px;
}
.pill:hover {
  background-color: #eeeeee;
  cursor: default;
}
.pill .text {
  width: var(--pillTextWidth, 92px);
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  display: inline-block;
  vertical-align: middle;
  min-width: var(--sb-lookup-pill-text-min-width);
}
.pill .delete:after {
  content: '\\e802';
  font-family: 'sf-icons';
  color: #888888;
  cursor: pointer;
}
`;var a=i(6206),l=i(6902),d=i(3311),c=i(1149),u=(i(8500),i(1306),i(622),i(8421),i(9334),i(5986)),h=i(4293);class p extends((0,r.b)((0,n.$)(o.Pu))){static get is(){return"sb-lookup"}static get properties(){return{tableName:{type:String,observer:"initTableLabel"},limit:{type:Number,value:5},value:{type:String,value:null},label:{type:String,value:null},disabled:{type:Boolean,value:!1},labelName:{type:String,value:"label"},selectedLabel:{type:String,computed:"getSelectedLabel(tableName)"},menuItemLabels:{type:Array,value:null},lookupCallback:{type:Function,value:function(){return this.lookupResultsCallback.bind(this)}},hideInputAndShowPill:{type:Boolean,value:!1},hideCancelIcon:{type:Boolean,value:!0},i18n:{type:Object,value:function(){return l.B.properties.i18n.value()}},inDialog:{type:Boolean,value:!1},blurDisabled:{type:Boolean,value:!1},focusDisabled:{type:Boolean,value:!1},tableLabel:{type:String,value:""},placeholder:{type:String,value:null},labelValue:{type:String},labels:{type:Array,computed:"getLabels(selectedLabel, menuItemLabels)"},searchText:{type:String,computed:"getSearchText(placeholder, tableLabel, i18n)"},viewport:{type:Object,value:function(){return d.L.getViewport()}},showSearchIcon:{type:Boolean,computed:"showSearch(viewport, inDialog)"},mobile:{type:Boolean,computed:"isMobile(viewport)"},fieldFullName:String,hasFilter:{type:Boolean,value:!1},controllingFields:{type:Array,value:[]},clearAfterSelection:{type:Boolean,value:!1},errors:Array,currentRecordFilters:Object,record:{type:Object,value:null},dialogMetadata:Object,variant:{type:String,value:""},pillClass:{type:String,value:""}}}static get observers(){return["_setSelectedItemObserver(value, selectedLabel)","_setLabelObserver(label, value, record)","setCallback(customCallback)","_handleMobileEventsObserver(viewport, inDialog)","setForceSuggest(record.*)","_initCurrentRecordFiltersObserver(hasFilter, controllingFields, fieldFullName)"]}ready(){super.ready(),this.$.object.addEventListener("describe-changed",this.setTableLabel.bind(this)),this.$.typeahead.addEventListener("enter-without-selection",this.handleEnterPressed.bind(this)),this.$.fields.addEventListener("md-changed",this.setCurrentRecordFilters.bind(this))}initTableLabel(){this.tableName&&(this.$.object.objects=[this.tableName])}setTableLabel(e){this.tableLabel=e.detail.value.md[this.tableName].labelPlural}setCallback(){this.lookupCallback=this.customCallback.bind(this)}lookupResultsCallback(e){return new Promise(function(t,i){this.tableName?this.queryLookupResults(e,t,i):t([])}.bind(this))}queryLookupResults(e,t,i){this.errors=null;let o=new h.A(this.tableName,this.selectedLabel,this.hasFilter,this.fieldFullName,this.limit,this.currentRecordFilters,this.record,!0,this.dialogMetadata).build(e,!1,this.inDialog);this.$.q.query({soql:o,version:l.B.apiVersionString}).then(function(i){let o=i.records,r=null==e?"":e,n={Id:"",__md__:{class:"search",searchValue:r,clearAfterSelection:!this.inDialog,noFocusAfterSelection:this.inDialog}},s=this.tableLabel;if(!s){let e=this.tableName.split("__");s=e[e.length>1?e.length-2:0]}if(this.isMobile())n[this.selectedLabel]=r?this.i18n.l('"{0}"',[r]):"",o.push(n);else{let e=r?'"{0}" in {1}':" in {1}";n[this.selectedLabel]=this.i18n.l(e,[r,s]),o=[n].concat(o)}this.inDialog&&this.isMobile()?(0,a.bv)(this).handleSearchResults(this.limit,{records:o,totalSize:i.totalSize}):t(o)}.bind(this),function(e){let t;t="INVALID_FIELD"===e.errorCode?this.i18n.l("lookupQueryError"):"SOQL Execution Error: "+o+" ("+(e&&e.message?e.message:e)+")",this.errors=[{type:"error",msg:t}],i(t)}.bind(this))}_setLabelObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.setLabel(e,t,i)}setLabel(e,t,i){this._setLabel(e,t,i),null!=this.value&&null!=this.selectedLabel&&this.setSelectedItem()}_setSelectedItemObserver(e,t){if(void 0!==e&&void 0!==t)return this.setSelectedItem(e,t)}setSelectedItem(){if(this.internal)return;if(null==this.label)return;let e=this.getLabel(),t={Id:this.value};t[this.selectedLabel]=e,this.$.typeahead.items=this.$.typeahead.items||[t],this.$.typeahead.setSelectedItem(t),this.setHideInputAndShowPill(this.value),this.focus(),this._handleSelectedItemChanged||(this._handleSelectedItemChanged=this.handleSelectedItemChanged.bind(this),this.$.typeahead.addEventListener("selected-item-changed",this._handleSelectedItemChanged))}handleSelectedItemChanged(e){if(e.detail.path||""==e.detail.value)return;let t=e.detail.value.__md__,i=t&&void 0!==t.searchValue?t.searchValue:void 0;void 0===i?(this.setHideInputAndShowPill(e.detail.value.Id),this.focus(),this.internal=!0,this.value=e.detail.value.Id||null,this.label=e.detail.value[this.selectedLabel]||"",this.internal=!1,this._setLabel(),this.fireLookupValueChanged(this.value,this.label,e.detail.value)):this.applySearchValue(i)}applySearchValue(e){if(e&&e.detail&&(e=e.detail.value),this.inDialog){let t=(0,a.bv)(this);t.searchValue=e,t.querySearchResults()}else(0,c.rC)(c.sV.OPEN_LOOKUP_DIALOG,{lookup:this,searchValue:e})}handleEnterPressed(e){this.currentRecordFilters&&this.applySearchValue(e.detail.value)}fireLookupValueChanged(e,t,i){let o={value:e,obj:i,item:this.record?this.record.item:null};o[this.labelName]=t,this.dispatchEvent((0,c.uv)("lookup-value-changed",o))}focus(e){this.isMobile()||(this.hideInputAndShowPill?this.focusDisabled||this.$.container.focus():(this.$.typeahead.focus(e||this.forceSuggest),this.forceSuggest=!1))}getLabel(){this.labelsByValue=this.labelsByValue||{};let e=this._getLabelValueKey(),t=this.labelsByValue[e];return this.value&&!t&&(this.labelsByValue[e]=this.label,t=this.label),t}_setLabel(e,t,i){let o=this._getLabelValueKey();this.labelsByValue=this.labelsByValue||{},this.labelsByValue[o]=this.getDefaultLabelFromRecord(e,t,i)}_getLabelValueKey(){return this.value&&"string"==typeof this.value?this.value.substring(0,15):this.value}setHideInputAndShowPill(e){this.hideInputAndShowPill=!this.isMobile()&&!this.isNil(e)&&!this.clearAfterSelection}blurContainer(){this.hideInputAndShowPill&&!this.blurDisabled&&this.blur()}blur(){this.$.typeahead.setOriginalSelected(),this.dispatchEvent((0,c.uv)("sb-type-blur"))}propagateEscOrHandleDelete(e){27===e.keyCode?this.$.typeahead.suggest(e):8===e.keyCode&&(this.deletePill(),this.blurDisabled=!!this.previousBlurDisabled)}preventBlurOnDelete(e){this.previousBlurDisabled=this.blurDisabled,8===e.keyCode&&(this.blurDisabled=!0)}preventBlur(){this.previousBlurDisabled=this.blurDisabled,this.blurDisabled=!0}deletePill(){this.disabled||this.$.typeahead.clear(),this.blurDisabled=this.previousBlurDisabled}isNil(e){return null==e||""===e}dialogOpened(){this.blurDisabled=!0,this.focusDisabled=!0}dialogClosed(){this.blurDisabled=!1,this.focusDisabled=!1,this.focus(!0),(0,c.rC)(c.sV.CLOSE_LOOKUP_DIALOG,{lookup:this})}getDefaultLabelFromRecord(e,t,i){if(!(i&&i.model&&i.model.attributeMD&&i.model.attributeMD[i.item]))return e;let o=i.model.attributeMD[i.item];return o.value===t&&null!=o.referencedFieldValue?o.referencedFieldValue:e}getSelectedLabel(){return new u.X(this.tableName).getNameField()}getLabels(){return this.menuItemLabels||[this.selectedLabel]}getSearchText(){return this.placeholder||this.buildSearchText()}buildSearchText(){return this.i18n&&"function"==typeof this.i18n.l?this.i18n.l("Search {0}",[this.tableLabel]):`Search ${this.tableLabel}`}_handleMobileEventsObserver(e,t){if(void 0!==e&&void 0!==t)return this.handleMobileEvents(e,t)}handleMobileEvents(){if(this.isMobile())if(this.inDialog){let e=(0,a.bv)(this);this._clearAndSave=this._clearAndSave||(e.clearAndSave?e.clearAndSave.bind(e):null),this._clearAndSave&&(this.$.typeahead.removeEventListener("sb-type-clear",this._clearAndSave),this.$.typeahead.addEventListener("sb-type-clear",this._clearAndSave))}else this._applySearchValue=this._applySearchValue||this.applySearchValue.bind(this),this.$.typeahead.removeEventListener("sb-type-focus",this._applySearchValue),this.$.typeahead.addEventListener("sb-type-focus",this._applySearchValue)}showSearch(){return this.isMobile()&&!this.inDialog}isMobile(){return this.viewport&&this.viewport.isMobile()}_initCurrentRecordFiltersObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.initCurrentRecordFilters(e,t,i)}initCurrentRecordFilters(){if(0===this.controllingFields.length)return void(this.currentRecordFilters={});let e=this.fieldFullName.split(".")[0],t=[];for(let i of this.controllingFields)t.push(e+"."+i);this.$.fields.fields=t}setCurrentRecordFilters(e){let t={};for(let i of e.detail.value.fields)t[i.name]=i.type;this.currentRecordFilters=t}setForceSuggest(e){if(this.forceSuggest)return;if(!e||!e.path||"record"===e.path)return;if(!this.hasFilter)return;let t=this.currentRecordFilters?Object.keys(this.currentRecordFilters):[];if(0===t.length)return;let i=e.path.split("."),o=i[i.length-1];-1!==t.indexOf(o)&&(this.forceSuggest=!0)}static get template(){return o.qy`
		<style include="sb-common-styles sb-forms-styles sb-icons-styles"></style>
		<style>${s}</style>

		<sb-toast type="error" messages="[[errors]]"></sb-toast>
		<sb-service id="q" error="{{err}}" response="{{res}}" background="true"></sb-service>
		<sb-describe id="object" background="true"></sb-describe>
		<sb-field-md id="fields" background="true" do-not-fix-object-name="true"></sb-field-md>
		<sb-typeahead id="typeahead"
					  focus-on-attached="[[focusOnAttached]]"
					  disabled="[[disabled]]"
					  apply-focus="[[applyFocus]]"
					  hide-cancel-icon="[[hideCancelIcon]]"
					  show-search-icon="[[showSearchIcon]]"
					  clear-after-selection="[[clearAfterSelection]]"
					  value="[[selectedLabel]]"
					  labels="[[labels]]"
					  items-callback="[[lookupCallback]]"
					  placeholder="[[searchText]]"
					  label-value="{{labelValue}}"
					  hide-input="[[hideInputAndShowPill]]"
					  focus-disabled="[[focusDisabled]]"
					  blur-disabled="[[blurDisabled]]"
					  revert-on-escape="[[revertOnEscape]]"
					  calculate-list-position="[[calculateListPosition]]"
					  show-list-no-suggestion="true"
					  show-list-on-focus="[[!mobile]]"
					  has-filter="[[hasFilter]]"
					  variant="[[variant]]"
					  device
		></sb-typeahead>
		<div device id="container" hidden$="[[!hideInputAndShowPill]]" tabindex="0" on-keydown="preventBlurOnDelete" on-keyup="propagateEscOrHandleDelete" on-blur="blurContainer" class$="[[variant]]">
			<span class$="pill [[pillClass]]">
				<span id="label" class="text">{{labelValue}}</span>
				<paper-tooltip for="label" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
					[[labelValue]]
				</paper-tooltip>
				<template is="dom-if" if="[[!disabled]]">
					<span class="delete" on-down="preventBlur" on-click="deletePill"></span>
				</template>
			</span>
		</div>
		`}}customElements.define(p.is,p)},4707:(e,t,i)=>{"use strict";i.d(t,{r:()=>M,N:()=>I});i(1518);var o=i(5565);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
let r;const n={properties:{sizingTarget:{type:Object,value:function(){return this}},fitInto:{type:Object,value:window},noOverlap:{type:Boolean},positionTarget:{type:Element},horizontalAlign:{type:String},verticalAlign:{type:String},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},autoFitOnAttach:{type:Boolean,value:!1},expandSizingTargetForScrollbars:{type:Boolean,value:!1},_fitInfo:{type:Object}},get _fitWidth(){return this.fitInto===window?this.fitInto.innerWidth:this.fitInto.getBoundingClientRect().width},get _fitHeight(){return this.fitInto===window?this.fitInto.innerHeight:this.fitInto.getBoundingClientRect().height},get _fitLeft(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().left},get _fitTop(){return this.fitInto===window?0:this.fitInto.getBoundingClientRect().top},get _defaultPositionTarget(){var e=(0,o.tT)(this).parentNode;return e&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&(e=e.host),e},get _localeHorizontalAlign(){if(this._isRTL){if("right"===this.horizontalAlign)return"left";if("left"===this.horizontalAlign)return"right"}return this.horizontalAlign},get __shouldPosition(){return(this.horizontalAlign||this.verticalAlign)&&this.positionTarget},get _isRTL(){return void 0===this._memoizedIsRTL&&(this._memoizedIsRTL="rtl"==window.getComputedStyle(this).direction),this._memoizedIsRTL},attached:function(){this.positionTarget=this.positionTarget||this._defaultPositionTarget,this.autoFitOnAttach&&("none"===window.getComputedStyle(this).display?setTimeout(function(){this.fit()}.bind(this)):(window.ShadyDOM&&ShadyDOM.flush(),this.fit()))},detached:function(){this.__deferredFit&&(clearTimeout(this.__deferredFit),this.__deferredFit=null)},fit:function(){this.position(),this.constrain(),this.center()},_discoverInfo:function(){if(!this._fitInfo){var e=window.getComputedStyle(this),t=window.getComputedStyle(this.sizingTarget);this._fitInfo={inlineStyle:{top:this.style.top||"",left:this.style.left||"",position:this.style.position||""},sizerInlineStyle:{maxWidth:this.sizingTarget.style.maxWidth||"",maxHeight:this.sizingTarget.style.maxHeight||"",boxSizing:this.sizingTarget.style.boxSizing||""},positionedBy:{vertically:"auto"!==e.top?"top":"auto"!==e.bottom?"bottom":null,horizontally:"auto"!==e.left?"left":"auto"!==e.right?"right":null},sizedBy:{height:"none"!==t.maxHeight,width:"none"!==t.maxWidth,minWidth:parseInt(t.minWidth,10)||0,minHeight:parseInt(t.minHeight,10)||0},margin:{top:parseInt(e.marginTop,10)||0,right:parseInt(e.marginRight,10)||0,bottom:parseInt(e.marginBottom,10)||0,left:parseInt(e.marginLeft,10)||0}}}},resetFit:function(){var e=this._fitInfo||{};for(var t in e.sizerInlineStyle)this.sizingTarget.style[t]=e.sizerInlineStyle[t];for(var t in e.inlineStyle)this.style[t]=e.inlineStyle[t];this._fitInfo=null},refit:function(){var e=this.sizingTarget.scrollLeft,t=this.sizingTarget.scrollTop;this.resetFit(),this.fit(),this.sizingTarget.scrollLeft=e,this.sizingTarget.scrollTop=t},position:function(){if(!this.__shouldPosition)return;this._discoverInfo(),window.ShadyDOM&&window.ShadyDOM.flush(),this.style.position="fixed",this.sizingTarget.style.boxSizing="border-box",this.style.left="0px",this.style.top="0px";var e=this.getBoundingClientRect(),t=this.__getNormalizedRect(this.positionTarget),i=this.__getNormalizedRect(this.fitInto);let o,n,s,a;this.expandSizingTargetForScrollbars&&(o=this.sizingTarget.offsetWidth,n=this.sizingTarget.offsetHeight,s=this.sizingTarget.clientWidth,a=this.sizingTarget.clientHeight);var l=this._fitInfo.margin,d={width:e.width+l.left+l.right,height:e.height+l.top+l.bottom},c=this.__getPosition(this._localeHorizontalAlign,this.verticalAlign,d,e,t,i),u=c.left+l.left,h=c.top+l.top,p=Math.min(i.right-l.right,u+e.width),f=Math.min(i.bottom-l.bottom,h+e.height);u=Math.max(i.left+l.left,Math.min(u,p-this._fitInfo.sizedBy.minWidth)),h=Math.max(i.top+l.top,Math.min(h,f-this._fitInfo.sizedBy.minHeight));const b=Math.max(p-u,this._fitInfo.sizedBy.minWidth),g=Math.max(f-h,this._fitInfo.sizedBy.minHeight);this.sizingTarget.style.maxWidth=b+"px",this.sizingTarget.style.maxHeight=g+"px";const m=u-e.left,y=h-e.top;if(this.style.left=`${m}px`,this.style.top=`${y}px`,this.expandSizingTargetForScrollbars){const e=this.sizingTarget.offsetHeight,t=e-this.sizingTarget.clientHeight-(n-a);if(t>0){const o=i.height-l.top-l.bottom,r=Math.min(o,g+t);this.sizingTarget.style.maxHeight=`${r}px`;const n=this.sizingTarget.offsetHeight,s=n-e;let a;"top"===c.verticalAlign?a=y:"middle"===c.verticalAlign?a=y-s/2:"bottom"===c.verticalAlign&&(a=y-s),a=Math.max(i.top+l.top,Math.min(a,i.bottom-l.bottom-n)),this.style.top=`${a}px`}const d=this.sizingTarget.offsetWidth,u=d-this.sizingTarget.clientWidth-(o-s);if(u>0){const e=(()=>{if(void 0!==r)return r;const e=document.createElement("div");Object.assign(e.style,{overflow:"auto",position:"fixed",left:"0px",top:"0px",maxWidth:"100px",maxHeight:"100px"});const t=document.createElement("div");return t.style.width="200px",t.style.height="200px",e.appendChild(t),document.body.appendChild(e),r=Math.abs(e.offsetWidth-100)>1?e.offsetWidth-e.clientWidth:0,document.body.removeChild(e),r})(),t=i.width-l.left-l.right,o=Math.min(t,b+u-e);this.sizingTarget.style.maxWidth=`${o}px`;const n=this.sizingTarget.offsetWidth+e,s=n-d;let a;"left"===c.horizontalAlign?a=m:"center"===c.horizontalAlign?a=m-s/2:"right"===c.horizontalAlign&&(a=m-s),a=Math.max(i.left+l.left,Math.min(a,i.right-l.right-n)),this.style.left=`${a}px`}}},constrain:function(){if(!this.__shouldPosition){this._discoverInfo();var e=this._fitInfo;e.positionedBy.vertically||(this.style.position="fixed",this.style.top="0px"),e.positionedBy.horizontally||(this.style.position="fixed",this.style.left="0px"),this.sizingTarget.style.boxSizing="border-box";var t=this.getBoundingClientRect();e.sizedBy.height||this.__sizeDimension(t,e.positionedBy.vertically,"top","bottom","Height"),e.sizedBy.width||this.__sizeDimension(t,e.positionedBy.horizontally,"left","right","Width")}},_sizeDimension:function(e,t,i,o,r){this.__sizeDimension(e,t,i,o,r)},__sizeDimension:function(e,t,i,o,r){var n=this._fitInfo,s=this.__getNormalizedRect(this.fitInto),a="Width"===r?s.width:s.height,l=t===o,d=l?a-e[o]:e[i],c=n.margin[l?i:o],u="offset"+r,h=this[u]-this.sizingTarget[u];this.sizingTarget.style["max"+r]=a-c-d-h+"px"},center:function(){if(!this.__shouldPosition){this._discoverInfo();var e=this._fitInfo.positionedBy;if(!e.vertically||!e.horizontally){this.style.position="fixed",e.vertically||(this.style.top="0px"),e.horizontally||(this.style.left="0px");var t=this.getBoundingClientRect(),i=this.__getNormalizedRect(this.fitInto);if(!e.vertically){var o=i.top-t.top+(i.height-t.height)/2;this.style.top=o+"px"}if(!e.horizontally){var r=i.left-t.left+(i.width-t.width)/2;this.style.left=r+"px"}}}},__getNormalizedRect:function(e){return e===document.documentElement||e===window?{top:0,left:0,width:window.innerWidth,height:window.innerHeight,right:window.innerWidth,bottom:window.innerHeight}:e.getBoundingClientRect()},__getOffscreenArea:function(e,t,i){var o=Math.min(0,e.top)+Math.min(0,i.bottom-(e.top+t.height)),r=Math.min(0,e.left)+Math.min(0,i.right-(e.left+t.width));return Math.abs(o)*t.width+Math.abs(r)*t.height},__getPosition:function(e,t,i,o,r,n){var s,a=[{verticalAlign:"top",horizontalAlign:"left",top:r.top+this.verticalOffset,left:r.left+this.horizontalOffset},{verticalAlign:"top",horizontalAlign:"right",top:r.top+this.verticalOffset,left:r.right-i.width-this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"left",top:r.bottom-i.height-this.verticalOffset,left:r.left+this.horizontalOffset},{verticalAlign:"bottom",horizontalAlign:"right",top:r.bottom-i.height-this.verticalOffset,left:r.right-i.width-this.horizontalOffset}];if(this.noOverlap){for(var l=0,d=a.length;l<d;l++){var c={};for(var u in a[l])c[u]=a[l][u];a.push(c)}a[0].top=a[1].top+=r.height,a[2].top=a[3].top-=r.height,a[4].left=a[6].left+=r.width,a[5].left=a[7].left-=r.width}t="auto"===t?null:t,(e="auto"===e?null:e)&&"center"!==e||(a.push({verticalAlign:"top",horizontalAlign:"center",top:r.top+this.verticalOffset+(this.noOverlap?r.height:0),left:r.left-o.width/2+r.width/2+this.horizontalOffset}),a.push({verticalAlign:"bottom",horizontalAlign:"center",top:r.bottom-i.height-this.verticalOffset-(this.noOverlap?r.height:0),left:r.left-o.width/2+r.width/2+this.horizontalOffset})),t&&"middle"!==t||(a.push({verticalAlign:"middle",horizontalAlign:"left",top:r.top-o.height/2+r.height/2+this.verticalOffset,left:r.left+this.horizontalOffset+(this.noOverlap?r.width:0)}),a.push({verticalAlign:"middle",horizontalAlign:"right",top:r.top-o.height/2+r.height/2+this.verticalOffset,left:r.right-i.width-this.horizontalOffset-(this.noOverlap?r.width:0)})),"middle"===t&&"center"===e&&a.push({verticalAlign:"middle",horizontalAlign:"center",top:r.top-o.height/2+r.height/2+this.verticalOffset,left:r.left-o.width/2+r.width/2+this.horizontalOffset});for(l=0;l<a.length;l++){var h=a[l],p=h.verticalAlign===t,f=h.horizontalAlign===e;if(!this.dynamicAlign&&!this.noOverlap&&p&&f){s=h;break}var b=(!t||p)&&(!e||f);if(this.dynamicAlign||b){if(h.offscreenArea=this.__getOffscreenArea(h,i,n),0===h.offscreenArea&&b){s=h;break}s=s||h;var g=h.offscreenArea-s.offscreenArea;(g<0||0===g&&(p||f))&&(s=h)}}return s}};var s=i(35),a=i(7586),l=Element.prototype,d=l.matches||l.matchesSelector||l.mozMatchesSelector||l.msMatchesSelector||l.oMatchesSelector||l.webkitMatchesSelector;const c=new class{getTabbableNodes(e){var t=[];return this._collectTabbableNodes(e,t)?this._sortByTabIndex(t):t}isFocusable(e){return d.call(e,"input, select, textarea, button, object")?d.call(e,":not([disabled])"):d.call(e,"a[href], area[href], iframe, [tabindex], [contentEditable]")}isTabbable(e){return this.isFocusable(e)&&d.call(e,':not([tabindex="-1"])')&&this._isVisible(e)}_normalizedTabIndex(e){if(this.isFocusable(e)){var t=e.getAttribute("tabindex")||0;return Number(t)}return-1}_collectTabbableNodes(e,t){if(e.nodeType!==Node.ELEMENT_NODE)return!1;var i=e;if(!this._isVisible(i))return!1;var r,n=this._normalizedTabIndex(i),s=n>0;n>=0&&t.push(i),r="content"===i.localName||"slot"===i.localName?(0,o.tT)(i).getDistributedNodes():(0,o.tT)(i.root||i).children;for(var a=0;a<r.length;a++)s=this._collectTabbableNodes(r[a],t)||s;return s}_isVisible(e){var t=e.style;return"hidden"!==t.visibility&&"none"!==t.display&&("hidden"!==(t=window.getComputedStyle(e)).visibility&&"none"!==t.display)}_sortByTabIndex(e){var t=e.length;if(t<2)return e;var i=Math.ceil(t/2),o=this._sortByTabIndex(e.slice(0,i)),r=this._sortByTabIndex(e.slice(i));return this._mergeSortByTabIndex(o,r)}_mergeSortByTabIndex(e,t){for(var i=[];e.length>0&&t.length>0;)this._hasLowerTabOrder(e[0],t[0])?i.push(t.shift()):i.push(e.shift());return i.concat(e,t)}_hasLowerTabOrder(e,t){var i=Math.max(e.tabIndex,0),o=Math.max(t.tabIndex,0);return 0===i||0===o?o>i:i>o}};var u=i(816),h=i(2619);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,u.b)({_template:h.q`
    <style>
      :host {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--iron-overlay-backdrop-background-color, #000);
        opacity: 0;
        transition: opacity 0.2s;
        pointer-events: none;
        @apply --iron-overlay-backdrop;
      }

      :host(.opened) {
        opacity: var(--iron-overlay-backdrop-opacity, 0.6);
        pointer-events: auto;
        @apply --iron-overlay-backdrop-opened;
      }
    </style>

    <slot></slot>
`,is:"iron-overlay-backdrop",properties:{opened:{reflectToAttribute:!0,type:Boolean,value:!1,observer:"_openedChanged"}},listeners:{transitionend:"_onTransitionend"},created:function(){this.__openedRaf=null},attached:function(){this.opened&&this._openedChanged(this.opened)},prepare:function(){this.opened&&!this.parentNode&&(0,o.tT)(document.body).appendChild(this)},open:function(){this.opened=!0},close:function(){this.opened=!1},complete:function(){this.opened||this.parentNode!==document.body||(0,o.tT)(this.parentNode).removeChild(this)},_onTransitionend:function(e){e&&e.target===this&&this.complete()},_openedChanged:function(e){if(e)this.prepare();else{var t=window.getComputedStyle(this);"0s"!==t.transitionDuration&&0!=t.opacity||this.complete()}this.isAttached&&(this.__openedRaf&&(window.cancelAnimationFrame(this.__openedRaf),this.__openedRaf=null),this.scrollTop=this.scrollTop,this.__openedRaf=window.requestAnimationFrame(function(){this.__openedRaf=null,this.toggleClass("opened",this.opened)}.bind(this)))}});var p=i(503),f=i(891);const b=new
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
class{constructor(){this._overlays=[],this._minimumZ=101,this._backdropElement=null,f.ch(document.documentElement,"tap",(function(){})),document.addEventListener("tap",this._onCaptureClick.bind(this),!0),document.addEventListener("focus",this._onCaptureFocus.bind(this),!0),document.addEventListener("keydown",this._onCaptureKeyDown.bind(this),!0)}get backdropElement(){return this._backdropElement||(this._backdropElement=document.createElement("iron-overlay-backdrop")),this._backdropElement}get deepActiveElement(){var e=document.activeElement;for(e&&e instanceof Element!=!1||(e=document.body);e.root&&(0,o.tT)(e.root).activeElement;)e=(0,o.tT)(e.root).activeElement;return e}_bringOverlayAtIndexToFront(e){var t=this._overlays[e];if(t){var i=this._overlays.length-1,o=this._overlays[i];if(o&&this._shouldBeBehindOverlay(t,o)&&i--,!(e>=i)){var r=Math.max(this.currentOverlayZ(),this._minimumZ);for(this._getZ(t)<=r&&this._applyOverlayZ(t,r);e<i;)this._overlays[e]=this._overlays[e+1],e++;this._overlays[i]=t}}}addOrRemoveOverlay(e){e.opened?this.addOverlay(e):this.removeOverlay(e)}addOverlay(e){var t=this._overlays.indexOf(e);if(t>=0)return this._bringOverlayAtIndexToFront(t),void this.trackBackdrop();var i=this._overlays.length,o=this._overlays[i-1],r=Math.max(this._getZ(o),this._minimumZ),n=this._getZ(e);if(o&&this._shouldBeBehindOverlay(e,o)){this._applyOverlayZ(o,r),i--;var s=this._overlays[i-1];r=Math.max(this._getZ(s),this._minimumZ)}n<=r&&this._applyOverlayZ(e,r),this._overlays.splice(i,0,e),this.trackBackdrop()}removeOverlay(e){var t=this._overlays.indexOf(e);-1!==t&&(this._overlays.splice(t,1),this.trackBackdrop())}currentOverlay(){var e=this._overlays.length-1;return this._overlays[e]}currentOverlayZ(){return this._getZ(this.currentOverlay())}ensureMinimumZ(e){this._minimumZ=Math.max(this._minimumZ,e)}focusOverlay(){var e=this.currentOverlay();e&&e._applyFocus()}trackBackdrop(){var e=this._overlayWithBackdrop();(e||this._backdropElement)&&(this.backdropElement.style.zIndex=this._getZ(e)-1,this.backdropElement.opened=!!e,this.backdropElement.prepare())}getBackdrops(){for(var e=[],t=0;t<this._overlays.length;t++)this._overlays[t].withBackdrop&&e.push(this._overlays[t]);return e}backdropZ(){return this._getZ(this._overlayWithBackdrop())-1}_overlayWithBackdrop(){for(var e=this._overlays.length-1;e>=0;e--)if(this._overlays[e].withBackdrop)return this._overlays[e]}_getZ(e){var t=this._minimumZ;if(e){var i=Number(e.style.zIndex||window.getComputedStyle(e).zIndex);i==i&&(t=i)}return t}_setZ(e,t){e.style.zIndex=t}_applyOverlayZ(e,t){this._setZ(e,t+2)}_overlayInPath(e){e=e||[];for(var t=0;t<e.length;t++)if(e[t]._manager===this)return e[t]}_onCaptureClick(e){var t=this._overlays.length-1;if(-1!==t)for(var i,r=(0,o.tT)(e).path;(i=this._overlays[t])&&this._overlayInPath(r)!==i&&(i._onCaptureClick(e),i.allowClickThrough);)t--}_onCaptureFocus(e){var t=this.currentOverlay();t&&t._onCaptureFocus(e)}_onCaptureKeyDown(e){var t=this.currentOverlay();t&&(p.D.keyboardEventMatchesKeys(e,"esc")?t._onCaptureEsc(e):p.D.keyboardEventMatchesKeys(e,"tab")&&t._onCaptureTab(e))}_shouldBeBehindOverlay(e,t){return!e.alwaysOnTop&&t.alwaysOnTop}};
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var g,m,y={pageX:0,pageY:0},v=null,_=[],w=["wheel","mousewheel","DOMMouseScroll","touchstart","touchmove"];function x(e){S.indexOf(e)>=0||(0===S.length&&function(){g=g||E.bind(void 0);for(var e=0,t=w.length;e<t;e++)document.addEventListener(w[e],g,{capture:!0,passive:!1})}(),S.push(e),m=S[S.length-1],O=[],k=[])}function C(e){var t=S.indexOf(e);-1!==t&&(S.splice(t,1),m=S[S.length-1],O=[],k=[],0===S.length&&function(){for(var e=0,t=w.length;e<t;e++)document.removeEventListener(w[e],g,{capture:!0,passive:!1})}())}const S=[];let O=null,k=null;function E(e){if(e.cancelable&&function(e){var t=(0,o.tT)(e).rootTarget;"touchmove"!==e.type&&v!==t&&(v=t,_=function(e){for(var t=[],i=e.indexOf(m),o=0;o<=i;o++)if(e[o].nodeType===Node.ELEMENT_NODE){var r=e[o],n=r.style;"scroll"!==n.overflow&&"auto"!==n.overflow&&(n=window.getComputedStyle(r)),"scroll"!==n.overflow&&"auto"!==n.overflow||t.push(r)}return t}((0,o.tT)(e).path));if(!_.length)return!0;if("touchstart"===e.type)return!1;var i=function(e){var t={deltaX:e.deltaX,deltaY:e.deltaY};if("deltaX"in e);else if("wheelDeltaX"in e&&"wheelDeltaY"in e)t.deltaX=-e.wheelDeltaX,t.deltaY=-e.wheelDeltaY;else if("wheelDelta"in e)t.deltaX=0,t.deltaY=-e.wheelDelta;else if("axis"in e)t.deltaX=1===e.axis?e.detail:0,t.deltaY=2===e.axis?e.detail:0;else if(e.targetTouches){var i=e.targetTouches[0];t.deltaX=y.pageX-i.pageX,t.deltaY=y.pageY-i.pageY}return t}(e);return!function(e,t,i){if(!t&&!i)return;for(var o=Math.abs(i)>=Math.abs(t),r=0;r<e.length;r++){var n=e[r];if(o?i<0?n.scrollTop>0:n.scrollTop<n.scrollHeight-n.clientHeight:t<0?n.scrollLeft>0:n.scrollLeft<n.scrollWidth-n.clientWidth)return n}}(_,i.deltaX,i.deltaY)}(e)&&e.preventDefault(),e.targetTouches){var t=e.targetTouches[0];y.pageX=t.pageX,y.pageY=t.pageY}}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const I={properties:{opened:{observer:"_openedChanged",type:Boolean,value:!1,notify:!0},canceled:{observer:"_canceledChanged",readOnly:!0,type:Boolean,value:!1},withBackdrop:{observer:"_withBackdropChanged",type:Boolean},noAutoFocus:{type:Boolean,value:!1},noCancelOnEscKey:{type:Boolean,value:!1},noCancelOnOutsideClick:{type:Boolean,value:!1},closingReason:{type:Object},restoreFocusOnClose:{type:Boolean,value:!1},allowClickThrough:{type:Boolean},alwaysOnTop:{type:Boolean},scrollAction:{type:String},_manager:{type:Object,value:b},_focusedChild:{type:Object}},listeners:{"iron-resize":"_onIronResize"},observers:["__updateScrollObservers(isAttached, opened, scrollAction)"],get backdropElement(){return this._manager.backdropElement},get _focusNode(){return this._focusedChild||(0,o.tT)(this).querySelector("[autofocus]")||this},get _focusableNodes(){return c.getTabbableNodes(this)},ready:function(){this.__isAnimating=!1,this.__shouldRemoveTabIndex=!1,this.__firstFocusableNode=this.__lastFocusableNode=null,this.__rafs={},this.__restoreFocusNode=null,this.__scrollTop=this.__scrollLeft=null,this.__onCaptureScroll=this.__onCaptureScroll.bind(this),this.__rootNodes=null,this._ensureSetup()},attached:function(){this.opened&&this._openedChanged(this.opened),this._observer=(0,o.tT)(this).observeNodes(this._onNodesChange)},detached:function(){for(var e in this._observer&&(0,o.tT)(this).unobserveNodes(this._observer),this._observer=null,this.__rafs)null!==this.__rafs[e]&&cancelAnimationFrame(this.__rafs[e]);this.__rafs={},this._manager.removeOverlay(this),this.__isAnimating&&(this.opened?this._finishRenderOpened():(this._applyFocus(),this._finishRenderClosed()))},toggle:function(){this._setCanceled(!1),this.opened=!this.opened},open:function(){this._setCanceled(!1),this.opened=!0},close:function(){this._setCanceled(!1),this.opened=!1},cancel:function(e){this.fire("iron-overlay-canceled",e,{cancelable:!0}).defaultPrevented||(this._setCanceled(!0),this.opened=!1)},invalidateTabbables:function(){this.__firstFocusableNode=this.__lastFocusableNode=null},_ensureSetup:function(){this._overlaySetup||(this._overlaySetup=!0,this.style.outline="none",this.style.display="none")},_openedChanged:function(e){e?this.removeAttribute("aria-hidden"):this.setAttribute("aria-hidden","true"),this.isAttached&&(this.__isAnimating=!0,this.__deraf("__openedChanged",this.__openedChanged))},_canceledChanged:function(){this.closingReason=this.closingReason||{},this.closingReason.canceled=this.canceled},_withBackdropChanged:function(){this.withBackdrop&&!this.hasAttribute("tabindex")?(this.setAttribute("tabindex","-1"),this.__shouldRemoveTabIndex=!0):this.__shouldRemoveTabIndex&&(this.removeAttribute("tabindex"),this.__shouldRemoveTabIndex=!1),this.opened&&this.isAttached&&this._manager.trackBackdrop()},_prepareRenderOpened:function(){this.__restoreFocusNode=this._manager.deepActiveElement,this._preparePositioning(),this.refit(),this._finishPositioning(),this.noAutoFocus&&document.activeElement===this._focusNode&&(this._focusNode.blur(),this.__restoreFocusNode.focus())},_renderOpened:function(){this._finishRenderOpened()},_renderClosed:function(){this._finishRenderClosed()},_finishRenderOpened:function(){this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-opened")},_finishRenderClosed:function(){this.style.display="none",this.style.zIndex="",this.notifyResize(),this.__isAnimating=!1,this.fire("iron-overlay-closed",this.closingReason)},_preparePositioning:function(){this.style.transition=this.style.webkitTransition="none",this.style.transform=this.style.webkitTransform="none",this.style.display=""},_finishPositioning:function(){this.style.display="none",this.scrollTop=this.scrollTop,this.style.transition=this.style.webkitTransition="",this.style.transform=this.style.webkitTransform="",this.style.display="",this.scrollTop=this.scrollTop},_applyFocus:function(){if(this.opened)this.noAutoFocus||this._focusNode.focus();else{if(this.restoreFocusOnClose&&this.__restoreFocusNode){var e=this._manager.deepActiveElement;(e===document.body||T(this,e))&&this.__restoreFocusNode.focus()}this.__restoreFocusNode=null,this._focusNode.blur(),this._focusedChild=null}},_onCaptureClick:function(e){this.noCancelOnOutsideClick||this.cancel(e)},_onCaptureFocus:function(e){if(this.withBackdrop){var t=(0,o.tT)(e).path;-1===t.indexOf(this)?(e.stopPropagation(),this._applyFocus()):this._focusedChild=t[0]}},_onCaptureEsc:function(e){this.noCancelOnEscKey||this.cancel(e)},_onCaptureTab:function(e){if(this.withBackdrop){this.__ensureFirstLastFocusables();var t=e.shiftKey,i=t?this.__firstFocusableNode:this.__lastFocusableNode,o=t?this.__lastFocusableNode:this.__firstFocusableNode,r=!1;if(i===o)r=!0;else{var n=this._manager.deepActiveElement;r=n===i||n===this}r&&(e.preventDefault(),this._focusedChild=o,this._applyFocus())}},_onIronResize:function(){this.opened&&!this.__isAnimating&&this.__deraf("refit",this.refit)},_onNodesChange:function(){this.opened&&!this.__isAnimating&&(this.invalidateTabbables(),this.notifyResize())},__ensureFirstLastFocusables:function(){var e=this._focusableNodes;this.__firstFocusableNode=e[0],this.__lastFocusableNode=e[e.length-1]},__openedChanged:function(){this.opened?(this._prepareRenderOpened(),this._manager.addOverlay(this),this._applyFocus(),this._renderOpened()):(this._manager.removeOverlay(this),this._applyFocus(),this._renderClosed())},__deraf:function(e,t){var i=this.__rafs;null!==i[e]&&cancelAnimationFrame(i[e]),i[e]=requestAnimationFrame(function(){i[e]=null,t.call(this)}.bind(this))},__updateScrollObservers:function(e,t,i){e&&t&&this.__isValidScrollAction(i)?("lock"===i&&(this.__saveScrollPosition(),x(this)),this.__addScrollListeners()):(C(this),this.__removeScrollListeners())},__addScrollListeners:function(){if(!this.__rootNodes){if(this.__rootNodes=[],a.sv)for(var e=this;e;)e.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&e.host&&this.__rootNodes.push(e),e=e.host||e.assignedSlot||e.parentNode;this.__rootNodes.push(document)}this.__rootNodes.forEach((function(e){e.addEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})}),this)},__removeScrollListeners:function(){this.__rootNodes&&this.__rootNodes.forEach((function(e){e.removeEventListener("scroll",this.__onCaptureScroll,{capture:!0,passive:!0})}),this),this.isAttached||(this.__rootNodes=null)},__isValidScrollAction:function(e){return"lock"===e||"refit"===e||"cancel"===e},__onCaptureScroll:function(e){if(!(this.__isAnimating||(0,o.tT)(e).path.indexOf(this)>=0))switch(this.scrollAction){case"lock":this.__restoreScrollPosition();break;case"refit":this.__deraf("refit",this.refit);break;case"cancel":this.cancel(e)}},__saveScrollPosition:function(){document.scrollingElement?(this.__scrollTop=document.scrollingElement.scrollTop,this.__scrollLeft=document.scrollingElement.scrollLeft):(this.__scrollTop=Math.max(document.documentElement.scrollTop,document.body.scrollTop),this.__scrollLeft=Math.max(document.documentElement.scrollLeft,document.body.scrollLeft))},__restoreScrollPosition:function(){document.scrollingElement?(document.scrollingElement.scrollTop=this.__scrollTop,document.scrollingElement.scrollLeft=this.__scrollLeft):(document.documentElement.scrollTop=document.body.scrollTop=this.__scrollTop,document.documentElement.scrollLeft=document.body.scrollLeft=this.__scrollLeft)}},T=(e,t)=>{for(let o=t;o;o=(i=o).assignedSlot||i.parentNode||i.host)if(o===e)return!0;var i;return!1},M=[n,s.i,I]},4886:(e,t,i)=>{"use strict";i.d(t,{$:()=>u,j:()=>c});var o=i(8246),r=i(6902),n=i(6206);let s,a,l=0,d=0;function c(){return a||(r.B.hasInitialized()||r.B.init(window.sb.userSettings),a=r.B.isPhone?["--phone","--mobile"]:r.B.isTablet?["--tablet","--mobile"]:["--desktop"],a)}const u=(0,o.y)((e=>class extends e{ready(){super.ready&&super.ready();let e=this.shadowRoot.querySelectorAll("*[device]")||[],t=c();for(let i of t){(0,n.p1)(i,!0,this);for(let t of e)(0,n.p1)(i,!0,t)}this.deviceClasses=t.join(" ")}startPerformanceCheck(){s=performance.now()}stopPerformanceCheck(){var e=performance.now()-s;l+=e,d++,e>1?console.warn(`total (${l.toFixed(2)}ms) | current (${e.toFixed(2)}ms) | totalComponents (${d}) | component (${this.tagName.toLowerCase()})`):console.log(`total (${l.toFixed(2)}ms) | current (${e.toFixed(2)}ms) | totalComponents (${d}) | component (${this.tagName.toLowerCase()})`)}}))},4930:(e,t,i)=>{"use strict";i(1518);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=i(2619).q`
/* Most common used flex styles*/
<dom-module id="iron-flex">
  <template>
    <style>
      .layout.horizontal,
      .layout.vertical {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      }

      .layout.inline {
        display: -ms-inline-flexbox;
        display: -webkit-inline-flex;
        display: inline-flex;
      }

      .layout.horizontal {
        -ms-flex-direction: row;
        -webkit-flex-direction: row;
        flex-direction: row;
      }

      .layout.vertical {
        -ms-flex-direction: column;
        -webkit-flex-direction: column;
        flex-direction: column;
      }

      .layout.wrap {
        -ms-flex-wrap: wrap;
        -webkit-flex-wrap: wrap;
        flex-wrap: wrap;
      }

      .layout.no-wrap {
        -ms-flex-wrap: nowrap;
        -webkit-flex-wrap: nowrap;
        flex-wrap: nowrap;
      }

      .layout.center,
      .layout.center-center {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      }

      .layout.center-justified,
      .layout.center-center {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      }

      .flex {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      }

      .flex-auto {
        -ms-flex: 1 1 auto;
        -webkit-flex: 1 1 auto;
        flex: 1 1 auto;
      }

      .flex-none {
        -ms-flex: none;
        -webkit-flex: none;
        flex: none;
      }
    </style>
  </template>
</dom-module>
/* Basic flexbox reverse styles */
<dom-module id="iron-flex-reverse">
  <template>
    <style>
      .layout.horizontal-reverse,
      .layout.vertical-reverse {
        display: -ms-flexbox;
        display: -webkit-flex;
        display: flex;
      }

      .layout.horizontal-reverse {
        -ms-flex-direction: row-reverse;
        -webkit-flex-direction: row-reverse;
        flex-direction: row-reverse;
      }

      .layout.vertical-reverse {
        -ms-flex-direction: column-reverse;
        -webkit-flex-direction: column-reverse;
        flex-direction: column-reverse;
      }

      .layout.wrap-reverse {
        -ms-flex-wrap: wrap-reverse;
        -webkit-flex-wrap: wrap-reverse;
        flex-wrap: wrap-reverse;
      }
    </style>
  </template>
</dom-module>
/* Flexbox alignment */
<dom-module id="iron-flex-alignment">
  <template>
    <style>
      /**
       * Alignment in cross axis.
       */
      .layout.start {
        -ms-flex-align: start;
        -webkit-align-items: flex-start;
        align-items: flex-start;
      }

      .layout.center,
      .layout.center-center {
        -ms-flex-align: center;
        -webkit-align-items: center;
        align-items: center;
      }

      .layout.end {
        -ms-flex-align: end;
        -webkit-align-items: flex-end;
        align-items: flex-end;
      }

      .layout.baseline {
        -ms-flex-align: baseline;
        -webkit-align-items: baseline;
        align-items: baseline;
      }

      /**
       * Alignment in main axis.
       */
      .layout.start-justified {
        -ms-flex-pack: start;
        -webkit-justify-content: flex-start;
        justify-content: flex-start;
      }

      .layout.center-justified,
      .layout.center-center {
        -ms-flex-pack: center;
        -webkit-justify-content: center;
        justify-content: center;
      }

      .layout.end-justified {
        -ms-flex-pack: end;
        -webkit-justify-content: flex-end;
        justify-content: flex-end;
      }

      .layout.around-justified {
        -ms-flex-pack: distribute;
        -webkit-justify-content: space-around;
        justify-content: space-around;
      }

      .layout.justified {
        -ms-flex-pack: justify;
        -webkit-justify-content: space-between;
        justify-content: space-between;
      }

      /**
       * Self alignment.
       */
      .self-start {
        -ms-align-self: flex-start;
        -webkit-align-self: flex-start;
        align-self: flex-start;
      }

      .self-center {
        -ms-align-self: center;
        -webkit-align-self: center;
        align-self: center;
      }

      .self-end {
        -ms-align-self: flex-end;
        -webkit-align-self: flex-end;
        align-self: flex-end;
      }

      .self-stretch {
        -ms-align-self: stretch;
        -webkit-align-self: stretch;
        align-self: stretch;
      }

      .self-baseline {
        -ms-align-self: baseline;
        -webkit-align-self: baseline;
        align-self: baseline;
      }

      /**
       * multi-line alignment in main axis.
       */
      .layout.start-aligned {
        -ms-flex-line-pack: start;  /* IE10 */
        -ms-align-content: flex-start;
        -webkit-align-content: flex-start;
        align-content: flex-start;
      }

      .layout.end-aligned {
        -ms-flex-line-pack: end;  /* IE10 */
        -ms-align-content: flex-end;
        -webkit-align-content: flex-end;
        align-content: flex-end;
      }

      .layout.center-aligned {
        -ms-flex-line-pack: center;  /* IE10 */
        -ms-align-content: center;
        -webkit-align-content: center;
        align-content: center;
      }

      .layout.between-aligned {
        -ms-flex-line-pack: justify;  /* IE10 */
        -ms-align-content: space-between;
        -webkit-align-content: space-between;
        align-content: space-between;
      }

      .layout.around-aligned {
        -ms-flex-line-pack: distribute;  /* IE10 */
        -ms-align-content: space-around;
        -webkit-align-content: space-around;
        align-content: space-around;
      }
    </style>
  </template>
</dom-module>
/* Non-flexbox positioning helper styles */
<dom-module id="iron-flex-factors">
  <template>
    <style>
      .flex,
      .flex-1 {
        -ms-flex: 1 1 0.000000001px;
        -webkit-flex: 1;
        flex: 1;
        -webkit-flex-basis: 0.000000001px;
        flex-basis: 0.000000001px;
      }

      .flex-2 {
        -ms-flex: 2;
        -webkit-flex: 2;
        flex: 2;
      }

      .flex-3 {
        -ms-flex: 3;
        -webkit-flex: 3;
        flex: 3;
      }

      .flex-4 {
        -ms-flex: 4;
        -webkit-flex: 4;
        flex: 4;
      }

      .flex-5 {
        -ms-flex: 5;
        -webkit-flex: 5;
        flex: 5;
      }

      .flex-6 {
        -ms-flex: 6;
        -webkit-flex: 6;
        flex: 6;
      }

      .flex-7 {
        -ms-flex: 7;
        -webkit-flex: 7;
        flex: 7;
      }

      .flex-8 {
        -ms-flex: 8;
        -webkit-flex: 8;
        flex: 8;
      }

      .flex-9 {
        -ms-flex: 9;
        -webkit-flex: 9;
        flex: 9;
      }

      .flex-10 {
        -ms-flex: 10;
        -webkit-flex: 10;
        flex: 10;
      }

      .flex-11 {
        -ms-flex: 11;
        -webkit-flex: 11;
        flex: 11;
      }

      .flex-12 {
        -ms-flex: 12;
        -webkit-flex: 12;
        flex: 12;
      }
    </style>
  </template>
</dom-module>
<dom-module id="iron-positioning">
  <template>
    <style>
      .block {
        display: block;
      }

      [hidden] {
        display: none !important;
      }

      .invisible {
        visibility: hidden !important;
      }

      .relative {
        position: relative;
      }

      .fit {
        position: absolute;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
      }

      body.fullbleed {
        margin: 0;
        height: 100vh;
      }

      .scroll {
        -webkit-overflow-scrolling: touch;
        overflow: auto;
      }

      /* fixed position */
      .fixed-bottom,
      .fixed-left,
      .fixed-right,
      .fixed-top {
        position: fixed;
      }

      .fixed-top {
        top: 0;
        left: 0;
        right: 0;
      }

      .fixed-right {
        top: 0;
        right: 0;
        bottom: 0;
      }

      .fixed-bottom {
        right: 0;
        bottom: 0;
        left: 0;
      }

      .fixed-left {
        top: 0;
        bottom: 0;
        left: 0;
      }
    </style>
  </template>
</dom-module>
`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},4943:(e,t,i)=>{"use strict";var o=i(7734),r=i(801);const n=i(2619).b`
.sbLoadingMask {
  background-color: var(--sbLoadingMaskColor);
  opacity: 0.8;
  z-index: 10001;
  /* Firefox < 16 */
  /* Safari, Chrome and Opera > 12.1 */
  /* Internet Explorer */
  /* Opera < 12.1 */
}
.sbLoadingMask .sfSpinnerMessage {
  position: absolute;
  top: 50%;
  left: 50%;
  margin-top: 140px;
  -webkit-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
  color: #1589ee;
  text-align: center;
  font-family: var(--sbPageFontFamily);
  font-size: 1.1rem;
  -webkit-animation: fadein 1s;
  /* Safari, Chrome and Opera > 12.1 */
  -moz-animation: fadein 1s;
  /* Firefox < 16 */
  -ms-animation: fadein 1s;
  /* Internet Explorer */
  -o-animation: fadein 1s;
  /* Opera < 12.1 */
  animation: fadein 1s;
}
.sbLoadingMask .sfSpinnerMessage .sfSpinnerStatus {
  margin-top: 20px;
}
@keyframes fadein {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@-moz-keyframes fadein {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@-webkit-keyframes fadein {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@-ms-keyframes fadein {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
@-o-keyframes fadein {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}
.fixed {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
}
.absolute {
  position: absolute;
  width: 100%;
  height: 100%;
}
.relative {
  position: relative;
  opacity: initial;
}
.slds-spinner {
  position: absolute;
  top: 50%;
  left: 50%;
  -webkit-transform: translate(-50%, -50%) rotate(90deg);
  transform: translate(-50%, -50%) rotate(90deg);
}
*,
:after,
:before {
  box-sizing: border-box;
}
.slds-spinner--brand .slds-spinner__dot-a:after,
.slds-spinner--brand .slds-spinner__dot-a:before,
.slds-spinner--brand .slds-spinner__dot-b:after,
.slds-spinner--brand .slds-spinner__dot-b:before,
.slds-spinner--brand.slds-spinner:after,
.slds-spinner--brand.slds-spinner:before {
  background-color: #1589ee;
}
.small {
  width: 1.25rem;
}
.small .slds-spinner__dot-a:after,
.small .slds-spinner__dot-a:before,
.small .slds-spinner__dot-b:after,
.small .slds-spinner__dot-b:before,
.small.slds-spinner:after,
.small.slds-spinner:before {
  width: 0.25rem;
  height: 0.25rem;
}
.small .slds-spinner__dot-a:before,
.small .slds-spinner__dot-b:before,
.small.slds-spinner:before {
  -webkit-animation-name: dotsBounceBefore-medium;
  animation-name: dotsBounceBefore-medium;
  top: -0.125rem;
  left: -0.125rem;
}
.small .slds-spinner__dot-a:after,
.small .slds-spinner__dot-b:after,
.small.slds-spinner:after {
  -webkit-animation-name: dotsBounceAfter-medium;
  animation-name: dotsBounceAfter-medium;
  top: -0.125rem;
  right: -0.125rem;
}
.large {
  width: 2.75rem;
}
.large .slds-spinner__dot-a:after,
.large .slds-spinner__dot-a:before,
.large .slds-spinner__dot-b:after,
.large .slds-spinner__dot-b:before,
.large.slds-spinner:after,
.large.slds-spinner:before {
  width: 0.625rem;
  height: 0.625rem;
}
.large .slds-spinner__dot-a:before,
.large .slds-spinner__dot-b:before,
.large.slds-spinner:before {
  -webkit-animation-name: dotsBounceBefore-medium;
  animation-name: dotsBounceBefore-medium;
  top: -0.3125rem;
  left: -0.3125rem;
}
.large .slds-spinner__dot-a:after,
.large .slds-spinner__dot-b:after,
.large.slds-spinner:after {
  -webkit-animation-name: dotsBounceAfter-medium;
  animation-name: dotsBounceAfter-medium;
  top: -0.3125rem;
  right: -0.3125rem;
}
.slds-spinner:after,
.slds-spinner:before,
.slds-spinner__dot-a:after,
.slds-spinner__dot-a:before,
.slds-spinner__dot-b:after,
.slds-spinner__dot-b:before {
  position: absolute;
  content: '';
  background: #9faab5;
  border-radius: 50%;
  -webkit-animation-duration: 1s;
  animation-duration: 1s;
  -webkit-animation-iteration-count: infinite;
  animation-iteration-count: infinite;
}
.slds-spinner:before {
  -webkit-animation-delay: -0.083s;
  animation-delay: -0.083s;
}
.slds-spinner:after {
  -webkit-animation-delay: 0.416s;
  animation-delay: 0.416s;
}
.slds-spinner__dot-a,
.slds-spinner__dot-b {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
}
.slds-spinner,
.slds-spinner__dot-a,
.slds-spinner__dot-b {
  -webkit-transform-origin: 50% 50%;
  transform-origin: 50% 50%;
}
.slds-spinner__dot-a {
  -webkit-transform: rotate(60deg) translateY(0);
  transform: rotate(60deg) translateY(0);
}
.slds-spinner__dot-b {
  -webkit-transform: rotate(120deg) translateY(0);
  transform: rotate(120deg) translateY(0);
}
.slds-spinner__dot-a:before {
  -webkit-animation-delay: 0.083s;
  animation-delay: 0.083s;
}
.slds-spinner__dot-b:before {
  -webkit-animation-delay: 250ms;
  animation-delay: 250ms;
}
.slds-spinner__dot-a:after {
  -webkit-animation-delay: 0.583s;
  animation-delay: 0.583s;
}
.slds-spinner__dot-b:after {
  -webkit-animation-delay: 750ms;
  animation-delay: 750ms;
}
@keyframes dotsBounceBefore-medium {
  60% {
    transform: translateX(0);
    animation-timing-function: cubic-bezier(0.55, 0.085, 0.68, 0.53);
  }
  80% {
    animation-timing-function: cubic-bezier(0, 1.11, 0.7, 1.43);
    transform: translateX(-0.5rem);
  }
  100% {
    transform: translateX(0);
  }
}
@keyframes dotsBounceAfter-medium {
  60% {
    animation-timing-function: cubic-bezier(0.55, 0.085, 0.68, 0.53);
    transform: translateX(0);
  }
  80% {
    animation-timing-function: cubic-bezier(0, 1.11, 0.7, 1.43);
    transform: translateX(0.5rem);
  }
  100% {
    transform: translateX(0);
  }
}
`;i(4);class s extends((0,r.J)(o.Pu)){static get is(){return"sf-loading-spinner"}static get properties(){return{show:{type:Boolean,value:!1},position:{type:String,value:"fixed"},size:{type:String,value:"large"},message:{type:String,observing:{id:"RootState",path:["spinnerMessage"]},value:null},status:{type:String,observing:{id:"RootState",path:["spinnerStatus"]},value:null},showMessage:{type:Boolean,observing:{id:"RootState",path:["showSpinnerMessage"]},value:!1}}}messageIsHidden(e,t){return!e||!t}static get template(){return o.qy`
		<style>${n}</style>
		<style include="sb-icons-styles"></style>

		<div id="mask" class$="sbLoadingMask [[position]]" hidden$="[[!show]]">
			<div class$="slds-spinner--brand slds-spinner [[size]]">
				<div class="slds-spinner__dot-a"></div>
				<div class="slds-spinner__dot-b"></div>
			</div>

			<div class="sfSpinnerMessage" hidden$="[[messageIsHidden(showMessage, message)]]">
				[[message]]

				<div class="sfSpinnerStatus" hidden$="[[!status]]">
					<sb-i18n>Status</sb-i18n>: [[status]]
				</div>
			</div>
		</div>
		`}}customElements.define(s.is,s)},4961:(e,t,i)=>{"use strict";i.d(t,{p:()=>p});var o=i(7734),r=(i(7543),i(1771),i(9137)),n=i(4886),s=i(2430);i(4167),i(57),i(4);const a=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  position: relative;
}
:host iron-input {
  width: 100%;
}
:host iron-input.inlineEdit {
  width: 100%;
  height: 100%;
}
:host iron-input.inlineEdit.discount {
  width: 60%;
  margin-right: 0.25rem;
}
:host iron-input.inlineEdit input {
  height: 100%;
  width: 100%;
  border-radius: 0.25rem;
  border: 1px solid #0070d2 !important;
}
:host iron-input.inlineEdit input:focus {
  outline: none;
}
:host([class*='--mobile']) {
  white-space: nowrap;
}
:host iron-input[class*='--mobile'] {
  width: 95%;
}
:host iron-input.inlineEdit[class*='--mobile'] .discount {
  width: 100%;
}
:host iron-input.inlineEdit[class*='--mobile'] input {
  border: 1px solid #d8dde6 !important;
  min-height: 41px;
}
:host .sb-icon-clear[class*='--mobile'] {
  position: relative;
  left: -30px;
  top: 1px;
  cursor: pointer;
  color: #9faab5;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
:host .sb-icon-clear.hide[class*='--mobile'] {
  visibility: hidden;
}
:host([class*='--mobile']) {
  white-space: nowrap;
}
:host [class*='--mobile'] iron-input {
  width: 95%;
}
:host [class*='--mobile'] iron-input.inlineEdit .discount {
  width: 100%;
}
:host [class*='--mobile'] iron-input.inlineEdit input {
  border: 1px solid #d8dde6 !important;
  min-height: 41px;
}
:host [class*='--mobile'] .sb-icon-clear {
  position: relative;
  left: -30px;
  top: 1px;
  cursor: pointer;
  color: #9faab5;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
:host [class*='--mobile'] .sb-icon-clear.hide {
  visibility: hidden;
}
:host input[class*='--desktop'] {
  width: var(--sidePanelInputWidth, var(--sbInputwidth, 85px));
  max-width: var(--sbInputMaxWidth);
  min-width: var(--sbInputMinWidth);
  border: var(--sbInputborder, 1px solid #d8dde6);
  border-radius: var(--sbTextboxRadius, 3px);
}
:host [class*='--desktop'] input {
  width: var(--sidePanelInputWidth, var(--sbInputwidth, 85px));
  max-width: var(--sbInputMaxWidth);
  min-width: var(--sbInputMinWidth);
  border: var(--sbInputborder, 1px solid #d8dde6);
  border-radius: var(--sbTextboxRadius, 3px);
}
:host .numberInput[class*='--desktop'] {
  text-align: right;
}
:host .numberInput.first[class*='--desktop'] {
  text-align: left !important;
}
:host [class*='--desktop'] .numberInput {
  text-align: right;
}
:host [class*='--desktop'] .numberInput.first {
  text-align: left !important;
}
:host input::-ms-clear {
  display: none;
}
`;var l=i(6206),d=i(3311),c=i(1149);function u(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function h(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class p extends((0,s.z)((0,n.$)(o.Pu))){static get is(){return"sb-input"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?u(Object(i),!0).forEach((function(t){h(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({value:{type:String,observer:"changed",notify:!0},focusOnAttached:Boolean,inputType:{type:String,value:"text"},renderReadOnly:Boolean,viewport:{type:Object,value:function(){return d.L.getViewport()}},showClear:{type:Boolean,computed:"_showClear(viewport, inputType, disabled)"},disabled:{type:Boolean,value:!1},focused:{type:Boolean,value:!1},inputClass:{type:String,value:""}},s.z.properties)}static get observers(){return["_hideClearIfEmptyObserver(value, showClear, focused)"]}_hideClearIfEmptyObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.hideClearIfEmpty(e,t,i)}hideClearIfEmpty(){this.showClear&&(this.shadowRoot.querySelector("#clear")?this._hideClearIfEmpty():(0,r.m)(this,(()=>{this._hideClearIfEmpty()})))}_hideClearIfEmpty(){(0,l.p1)("hide",this.focused||null==this.value||""===this.value,this.shadowRoot.querySelector("#clear"))}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.$.myinput.focus()}blur(){this.fireChangeOnBlur(),this.dispatchEvent((0,c.uv)("blur")),this.focused=!1}clear(){this.value=null,this.$.myinput.blur()}highlight(){if(this.focused=!0,this.viewport&&this.viewport.isMobile())return;let e=this.value?this.value.length:0;this.$.myinput.setSelectionRange(0,e)}changed(e,t){void 0!==t?(this.changeOnNextBlur=!1,t!=e&&this.fireChangeEvent(e)):this.changeOnNextBlur=!0}fireChangeEvent(e){this.dispatchEvent((0,c.uv)("change",{value:e}))}fireChangeOnBlur(){this.changeOnNextBlur&&(this.fireChangeEvent(this.value),this.changeOnNextBlur=!1)}propagateEsc(e){27===e.keyCode&&(this.renderReadOnly&&(this.$.myinput.value=this.value),this.dispatchEvent((0,c.uv)("sb-input-key",{keyCode:27})))}_showClear(){return this.viewport&&this.viewport.isMobile()&&!this.disabled&&"date"!==this.inputType&&"datetime"!==this.inputType}static get template(){return o.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-forms-styles"></style>
		<style include="sb-icons-styles"></style>
		<style>${a}</style>

		<iron-input device bind-value="{{value::change}}" class$="[[variant]]">
			<input id="myinput" device type$="[[inputType]]" pattern$="[[pattern]]" value="{{value::change}}" class$="myinput [[inputClass]]" on-focus="highlight" on-blur="blur" disabled$="[[disabled]]" on-keyup="propagateEsc">
		</iron-input>
		<span device>
			<template is="dom-if" if="[[showClear]]">
				<span id="clear" class="sb-icon-clear sf-icon-clear" on-click="clear"></span>
			</template>
		</span>
		`}}customElements.define(p.is,p)},5001:(e,t,i)=>{"use strict";var o=i(5118),r=i(1776),n=i(6902),s=i(7734),a=i(1149),l=i(7695);i(4482);function d(e,t){let i=o.l.get("LineEditor",e,"promise");return i||function(e,t){let i=new r.m(t).getConnection().then((e=>new window.SB.QuoteDAO(t,e))).then((t=>t.loadEditorModel(e)));return o.l.add("LineEditor",e,i,"promise"),i}(e,t)}function c(e){return e.substring(0,15)}class u extends s.Pu{constructor(){super(),this.showSpinner=!1}static get is(){return"sb-line-editor-read"}static get properties(){return{quoteId:String,background:{type:Boolean,value:!1},lineEditorModel:{type:Object,notify:!0},error:{type:Array,notify:!0}}}static get observers(){return["_updateObserver(quoteId, background)"]}get prefix(){return n.B.org.prefix?n.B.org.prefix:""}_updateObserver(e,t){if(void 0!==e&&void 0!==t)return this._update(e,t)}update(e){e&&this.clearCache(),this._update(this.quoteId)}_update(e){this.showSpinner=!0;let t=c(e),i=o.l.get("LineEditor",t);i?l._3.run((()=>{this.lineEditorModel=i,this.showSpinner=!1})):d(t,this.prefix).then((e=>{"Incomplete"===e?this._retryUpdateLater(t):(this.cache(t,e),this.lineEditorModel=e,this._setIsLastReadQuoteUnopened(),this.showSpinner=!1,this.startingPolling=null)})).catch(function(e){this.showSpinner=!1,this.dispatchEvent((0,a.uv)("toggle-page-loaded",{pageLoaded:!0})),this.error=[e.message||e]}.bind(this))}clearCache(){let e=c(this.quoteId);this._clearedLineEditor=o.l.get("LineEditor",e),o.l.remove("LineEditor",e,"promise"),o.l.remove("LineEditor",e,"value")}restoreCache(){if(!this._clearedLineEditor)return;let e=c(this.quoteId);this.cache(e,this._clearedLineEditor),this._clearedLineEditor=null}cache(e,t){o.l.add("LineEditor",c(e),t,"value",this)}_setIsLastReadQuoteUnopened(){this.isLastReadQuoteUnopened=this.lineEditorModel.quote.record[this.lineEditorModel.settings.developerPrefix+"Unopened__c"],this.lineEditorModel.quote.record[this.lineEditorModel.settings.developerPrefix+"Unopened__c"]=!1}_retryUpdateLater(e){this.startedPolling=this.startedPolling||Date.now();Date.now(),this.startedPolling;setTimeout((()=>{this.update(!0)}),1e3)}static get template(){return s.qy`
			<sb-loading-spinner id="loadingSpinner" show="[[showSpinner]]"/>
		`}}customElements.define(u.is,u)},5118:(e,t,i)=>{"use strict";i.d(t,{l:()=>r});let o={};class r{static add(e,t,i,r,n){if(e&&t&&i){if(r||(r="value"),o[r]||(o[r]={}),!o[r][e]&&(o[r][e]={},n&&"value"==r&&"LineEditor"==e)){var s=document.createEvent("Event");s.initEvent(e+"-cached",!0,!0),document.dispatchEvent(s)}o[r][e][t]=i}}static get(e,t,i){return e&&t?(i||(i="value"),o[i]&&o[i][e]?o[i][e][t]:null):null}static remove(e,t,i){if(!e||!t||!i)return null;i||(i="value"),o[i]&&o[i][e]&&delete o[i][e][t]}}},5152:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DocgenPreview:()=>d});var o=i(7734),r=(i(347),i(2804),i(7571));i(8729);const n=i(2619).b`
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host #sbDocGenOptions,
:host .sbPageBlockSection {
  margin-left: 20px;
  margin-top: 20px;
}
:host #sbDocGenOptions {
  width: auto;
}
:host #sbDocGenOptions td:first-of-type {
  width: 120px;
}
`;function s(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function a(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l=[{name:"t1",title:"My Favorite Template"},{name:"t2",title:"Okay Template"},{name:"t3",title:"Super Template"},{name:"t4",title:"Nasty Template"},{name:"t5",title:"Don't Go Here"}];class d extends r.YW{static get is(){return"sb-docgen-preview"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?s(Object(i),!0).forEach((function(t){a(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):s(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({obj:{type:Object,value:function(){return{}}},templates:{type:Array,value:function(){return l}}},r.YW.properties)}cancel(){this.nav("/entities/quote/detail?id="+this.ctx.params.id)}preview(){this.nav("/docgen/preview?id="+this.ctx.params.id)}static get template(){return o.qy`
		<style include="sb-common-styles sb-icons-styles"></style>
		<style>${n}</style>

		<sb-page-header>
			<i slot="icon" class="icon sf-icon-custom93"></i>
			<h1 slot="h1">Preview Document</h1>
			<h2 slot="h2">[[obj.Name]]</h2>

			<div class="actions" slot="actions">
				<paper-button id="preview" on-click="save">Preview</paper-button>
				<paper-button id="cancel" on-click="cancel">Cancel</paper-button>
			</div>
		</sb-page-header>

		<div>
			<header>
				<h3>Document Options</h3>
			</header>

			<table id="sbDocGenOptions">
				<tbody>
					<tr>
						<td>
							<label>Template</label>
							<i class="sb-icon-help-circled" title="The Quote Template used to generate your quote"></i>
						</td>
						<td>
							<select size="1">
								<template is="dom-repeat" items="{{templates}}">
									<option value="[[index]]">[[item.title]]</option>
								</template>
							</select>
						</td>
						<td><input id="foo"></td>
					</tr>
				</tbody>
			</table>
		</div>
		`}}customElements.define(d.is,d)},5182:(e,t,i)=>{"use strict";i.d(t,{e:()=>a});i(8443);var o=i(8246),r=i(7695),n=i(8591);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const s=r._3,a=(0,o.y)((e=>class extends e{static createProperties(e){const t=this.prototype;for(let i in e)i in t||t._createPropertyAccessor(i)}static attributeNameForProperty(e){return e.toLowerCase()}static typeForProperty(e){}_createPropertyAccessor(e,t){this._addPropertyToAttributeMap(e),this.hasOwnProperty(JSCompiler_renameProperty("__dataHasAccessor",this))||(this.__dataHasAccessor=Object.assign({},this.__dataHasAccessor)),this.__dataHasAccessor[e]||(this.__dataHasAccessor[e]=!0,this._definePropertyAccessor(e,t))}_addPropertyToAttributeMap(e){this.hasOwnProperty(JSCompiler_renameProperty("__dataAttributes",this))||(this.__dataAttributes=Object.assign({},this.__dataAttributes));let t=this.__dataAttributes[e];return t||(t=this.constructor.attributeNameForProperty(e),this.__dataAttributes[t]=e),t}_definePropertyAccessor(e,t){Object.defineProperty(this,e,{get(){return this.__data[e]},set:t?function(){}:function(t){this._setPendingProperty(e,t,!0)&&this._invalidateProperties()}})}constructor(){super(),this.__dataEnabled=!1,this.__dataReady=!1,this.__dataInvalid=!1,this.__data={},this.__dataPending=null,this.__dataOld=null,this.__dataInstanceProps=null,this.__dataCounter=0,this.__serializing=!1,this._initializeProperties()}ready(){this.__dataReady=!0,this._flushProperties()}_initializeProperties(){for(let e in this.__dataHasAccessor)this.hasOwnProperty(e)&&(this.__dataInstanceProps=this.__dataInstanceProps||{},this.__dataInstanceProps[e]=this[e],delete this[e])}_initializeInstanceProperties(e){Object.assign(this,e)}_setProperty(e,t){this._setPendingProperty(e,t)&&this._invalidateProperties()}_getProperty(e){return this.__data[e]}_setPendingProperty(e,t,i){let o=this.__data[e],r=this._shouldPropertyChange(e,t,o);return r&&(this.__dataPending||(this.__dataPending={},this.__dataOld={}),this.__dataOld&&!(e in this.__dataOld)&&(this.__dataOld[e]=o),this.__data[e]=t,this.__dataPending[e]=t),r}_isPropertyPending(e){return!(!this.__dataPending||!this.__dataPending.hasOwnProperty(e))}_invalidateProperties(){!this.__dataInvalid&&this.__dataReady&&(this.__dataInvalid=!0,s.run((()=>{this.__dataInvalid&&(this.__dataInvalid=!1,this._flushProperties())})))}_enableProperties(){this.__dataEnabled||(this.__dataEnabled=!0,this.__dataInstanceProps&&(this._initializeInstanceProperties(this.__dataInstanceProps),this.__dataInstanceProps=null),this.ready())}_flushProperties(){this.__dataCounter++;const e=this.__data,t=this.__dataPending,i=this.__dataOld;this._shouldPropertiesChange(e,t,i)&&(this.__dataPending=null,this.__dataOld=null,this._propertiesChanged(e,t,i)),this.__dataCounter--}_shouldPropertiesChange(e,t,i){return Boolean(t)}_propertiesChanged(e,t,i){}_shouldPropertyChange(e,t,i){return i!==t&&(i==i||t==t)}attributeChangedCallback(e,t,i,o){t!==i&&this._attributeToProperty(e,i),super.attributeChangedCallback&&super.attributeChangedCallback(e,t,i,o)}_attributeToProperty(e,t,i){if(!this.__serializing){const o=this.__dataAttributes,r=o&&o[e]||e;this[r]=this._deserializeValue(t,i||this.constructor.typeForProperty(r))}}_propertyToAttribute(e,t,i){this.__serializing=!0,i=arguments.length<3?this[e]:i,this._valueToNodeAttribute(this,i,t||this.constructor.attributeNameForProperty(e)),this.__serializing=!1}_valueToNodeAttribute(e,t,i){const o=this._serializeValue(t);"class"!==i&&"name"!==i&&"slot"!==i||(e=(0,n.L)(e)),void 0===o?e.removeAttribute(i):e.setAttribute(i,""===o&&window.trustedTypes?window.trustedTypes.emptyScript:o)}_serializeValue(e){return"boolean"==typeof e?e?"":void 0:null!=e?e.toString():void 0}_deserializeValue(e,t){switch(t){case Boolean:return null!==e;case Number:return Number(e);default:return e}}}))},5232:(e,t,i)=>{"use strict";i.d(t,{v:()=>u});i(1518);var o=i(503),r=i(816),n=i(5565),s=i(2619),a={distance:function(e,t,i,o){var r=e-i,n=t-o;return Math.sqrt(r*r+n*n)},now:window.performance&&window.performance.now?window.performance.now.bind(window.performance):Date.now};function l(e){this.element=e,this.width=this.boundingRect.width,this.height=this.boundingRect.height,this.size=Math.max(this.width,this.height)}function d(e){this.element=e,this.color=window.getComputedStyle(e).color,this.wave=document.createElement("div"),this.waveContainer=document.createElement("div"),this.wave.style.backgroundColor=this.color,this.wave.classList.add("wave"),this.waveContainer.classList.add("wave-container"),(0,n.tT)(this.waveContainer).appendChild(this.wave),this.resetInteractionState()}l.prototype={get boundingRect(){return this.element.getBoundingClientRect()},furthestCornerDistanceFrom:function(e,t){var i=a.distance(e,t,0,0),o=a.distance(e,t,this.width,0),r=a.distance(e,t,0,this.height),n=a.distance(e,t,this.width,this.height);return Math.max(i,o,r,n)}},d.MAX_RADIUS=300,d.prototype={get recenters(){return this.element.recenters},get center(){return this.element.center},get mouseDownElapsed(){var e;return this.mouseDownStart?(e=a.now()-this.mouseDownStart,this.mouseUpStart&&(e-=this.mouseUpElapsed),e):0},get mouseUpElapsed(){return this.mouseUpStart?a.now()-this.mouseUpStart:0},get mouseDownElapsedSeconds(){return this.mouseDownElapsed/1e3},get mouseUpElapsedSeconds(){return this.mouseUpElapsed/1e3},get mouseInteractionSeconds(){return this.mouseDownElapsedSeconds+this.mouseUpElapsedSeconds},get initialOpacity(){return this.element.initialOpacity},get opacityDecayVelocity(){return this.element.opacityDecayVelocity},get radius(){var e=this.containerMetrics.width*this.containerMetrics.width,t=this.containerMetrics.height*this.containerMetrics.height,i=1.1*Math.min(Math.sqrt(e+t),d.MAX_RADIUS)+5,o=1.1-i/d.MAX_RADIUS*.2,r=this.mouseInteractionSeconds/o,n=i*(1-Math.pow(80,-r));return Math.abs(n)},get opacity(){return this.mouseUpStart?Math.max(0,this.initialOpacity-this.mouseUpElapsedSeconds*this.opacityDecayVelocity):this.initialOpacity},get outerOpacity(){var e=.3*this.mouseUpElapsedSeconds,t=this.opacity;return Math.max(0,Math.min(e,t))},get isOpacityFullyDecayed(){return this.opacity<.01&&this.radius>=Math.min(this.maxRadius,d.MAX_RADIUS)},get isRestingAtMaxRadius(){return this.opacity>=this.initialOpacity&&this.radius>=Math.min(this.maxRadius,d.MAX_RADIUS)},get isAnimationComplete(){return this.mouseUpStart?this.isOpacityFullyDecayed:this.isRestingAtMaxRadius},get translationFraction(){return Math.min(1,this.radius/this.containerMetrics.size*2/Math.sqrt(2))},get xNow(){return this.xEnd?this.xStart+this.translationFraction*(this.xEnd-this.xStart):this.xStart},get yNow(){return this.yEnd?this.yStart+this.translationFraction*(this.yEnd-this.yStart):this.yStart},get isMouseDown(){return this.mouseDownStart&&!this.mouseUpStart},resetInteractionState:function(){this.maxRadius=0,this.mouseDownStart=0,this.mouseUpStart=0,this.xStart=0,this.yStart=0,this.xEnd=0,this.yEnd=0,this.slideDistance=0,this.containerMetrics=new l(this.element)},draw:function(){var e,t,i;this.wave.style.opacity=this.opacity,e=this.radius/(this.containerMetrics.size/2),t=this.xNow-this.containerMetrics.width/2,i=this.yNow-this.containerMetrics.height/2,this.waveContainer.style.webkitTransform="translate("+t+"px, "+i+"px)",this.waveContainer.style.transform="translate3d("+t+"px, "+i+"px, 0)",this.wave.style.webkitTransform="scale("+e+","+e+")",this.wave.style.transform="scale3d("+e+","+e+",1)"},downAction:function(e){var t=this.containerMetrics.width/2,i=this.containerMetrics.height/2;this.resetInteractionState(),this.mouseDownStart=a.now(),this.center?(this.xStart=t,this.yStart=i,this.slideDistance=a.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)):(this.xStart=e?e.detail.x-this.containerMetrics.boundingRect.left:this.containerMetrics.width/2,this.yStart=e?e.detail.y-this.containerMetrics.boundingRect.top:this.containerMetrics.height/2),this.recenters&&(this.xEnd=t,this.yEnd=i,this.slideDistance=a.distance(this.xStart,this.yStart,this.xEnd,this.yEnd)),this.maxRadius=this.containerMetrics.furthestCornerDistanceFrom(this.xStart,this.yStart),this.waveContainer.style.top=(this.containerMetrics.height-this.containerMetrics.size)/2+"px",this.waveContainer.style.left=(this.containerMetrics.width-this.containerMetrics.size)/2+"px",this.waveContainer.style.width=this.containerMetrics.size+"px",this.waveContainer.style.height=this.containerMetrics.size+"px"},upAction:function(e){this.isMouseDown&&(this.mouseUpStart=a.now())},remove:function(){(0,n.tT)((0,n.tT)(this.waveContainer).parentNode).removeChild(this.waveContainer)}},(0,r.b)({_template:s.q`
    <style>
      :host {
        display: block;
        position: absolute;
        border-radius: inherit;
        overflow: hidden;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;

        /* See PolymerElements/paper-behaviors/issues/34. On non-Chrome browsers,
         * creating a node (with a position:absolute) in the middle of an event
         * handler "interrupts" that event handler (which happens when the
         * ripple is created on demand) */
        pointer-events: none;
      }

      :host([animating]) {
        /* This resolves a rendering issue in Chrome (as of 40) where the
           ripple is not properly clipped by its parent (which may have
           rounded corners). See: http://jsbin.com/temexa/4

           Note: We only apply this style conditionally. Otherwise, the browser
           will create a new compositing layer for every ripple element on the
           page, and that would be bad. */
        -webkit-transform: translate(0, 0);
        transform: translate3d(0, 0, 0);
      }

      #background,
      #waves,
      .wave-container,
      .wave {
        pointer-events: none;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
      }

      #background,
      .wave {
        opacity: 0;
      }

      #waves,
      .wave {
        overflow: hidden;
      }

      .wave-container,
      .wave {
        border-radius: 50%;
      }

      :host(.circle) #background,
      :host(.circle) #waves {
        border-radius: 50%;
      }

      :host(.circle) .wave-container {
        overflow: hidden;
      }
    </style>

    <div id="background"></div>
    <div id="waves"></div>
`,is:"paper-ripple",behaviors:[o.D],properties:{initialOpacity:{type:Number,value:.25},opacityDecayVelocity:{type:Number,value:.8},recenters:{type:Boolean,value:!1},center:{type:Boolean,value:!1},ripples:{type:Array,value:function(){return[]}},animating:{type:Boolean,readOnly:!0,reflectToAttribute:!0,value:!1},holdDown:{type:Boolean,value:!1,observer:"_holdDownChanged"},noink:{type:Boolean,value:!1},_animating:{type:Boolean},_boundAnimate:{type:Function,value:function(){return this.animate.bind(this)}}},get target(){return this.keyEventTarget},keyBindings:{"enter:keydown":"_onEnterKeydown","space:keydown":"_onSpaceKeydown","space:keyup":"_onSpaceKeyup"},attached:function(){11==(0,n.tT)(this).parentNode.nodeType?this.keyEventTarget=(0,n.tT)(this).getOwnerRoot().host:this.keyEventTarget=(0,n.tT)(this).parentNode;var e=this.keyEventTarget;this.listen(e,"up","uiUpAction"),this.listen(e,"down","uiDownAction")},detached:function(){this.unlisten(this.keyEventTarget,"up","uiUpAction"),this.unlisten(this.keyEventTarget,"down","uiDownAction"),this.keyEventTarget=null},get shouldKeepAnimating(){for(var e=0;e<this.ripples.length;++e)if(!this.ripples[e].isAnimationComplete)return!0;return!1},simulatedRipple:function(){this.downAction(null),this.async((function(){this.upAction()}),1)},uiDownAction:function(e){this.noink||this.downAction(e)},downAction:function(e){this.holdDown&&this.ripples.length>0||(this.addRipple().downAction(e),this._animating||(this._animating=!0,this.animate()))},uiUpAction:function(e){this.noink||this.upAction(e)},upAction:function(e){this.holdDown||(this.ripples.forEach((function(t){t.upAction(e)})),this._animating=!0,this.animate())},onAnimationComplete:function(){this._animating=!1,this.$.background.style.backgroundColor="",this.fire("transitionend")},addRipple:function(){var e=new d(this);return(0,n.tT)(this.$.waves).appendChild(e.waveContainer),this.$.background.style.backgroundColor=e.color,this.ripples.push(e),this._setAnimating(!0),e},removeRipple:function(e){var t=this.ripples.indexOf(e);t<0||(this.ripples.splice(t,1),e.remove(),this.ripples.length||this._setAnimating(!1))},animate:function(){if(this._animating){var e,t;for(e=0;e<this.ripples.length;++e)(t=this.ripples[e]).draw(),this.$.background.style.opacity=t.outerOpacity,t.isOpacityFullyDecayed&&!t.isRestingAtMaxRadius&&this.removeRipple(t);this.shouldKeepAnimating||0!==this.ripples.length?window.requestAnimationFrame(this._boundAnimate):this.onAnimationComplete()}},animateRipple:function(){return this.animate()},_onEnterKeydown:function(){this.uiDownAction(),this.async(this.uiUpAction,1)},_onSpaceKeydown:function(){this.uiDownAction()},_onSpaceKeyup:function(){this.uiUpAction()},_holdDownChanged:function(e,t){void 0!==t&&(e?this.downAction():this.upAction())}});var c=i(8260);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const u={properties:{noink:{type:Boolean,observer:"_noinkChanged"},_rippleContainer:{type:Object}},_buttonStateChanged:function(){this.focused&&this.ensureRipple()},_downHandler:function(e){c.A._downHandler.call(this,e),this.pressed&&this.ensureRipple(e)},ensureRipple:function(e){if(!this.hasRipple()){this._ripple=this._createRipple(),this._ripple.noink=this.noink;var t=this._rippleContainer||this.root;if(t&&(0,n.tT)(t).appendChild(this._ripple),e){var i=(0,n.tT)(this._rippleContainer||this),o=(0,n.tT)(e).rootTarget;i.deepContains(o)&&this._ripple.uiDownAction(e)}}},getRipple:function(){return this.ensureRipple(),this._ripple},hasRipple:function(){return Boolean(this._ripple)},_createRipple:function(){return document.createElement("paper-ripple")},_noinkChanged:function(e){this.hasRipple()&&(this._ripple.noink=e)}}},5239:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});const o="cpqEPT";class r{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.salesforceBaseUrl=e}startTransaction(e){this.canGatherMetrics()&&this._isNotStarted()&&(this._init(),this._queueIdleCallback(),console.log(e||"CPQ Performance Metrics Service: started ept"))}startServiceRequest(e,t){if(this._isNotStarted())return null;window.sb.MetricsService.internal.sptNum+=1;let i=this._getUniqueId();return void 0===e&&(e=""),void 0!==t&&(e=e+"/"+t),window.sb.MetricsService.internal.actions.set(i,this._buildTransportAction(e)),console.log("CPQ Performance Metrics Service: started service call"),i}addExternalLogMetrics(e){e||(e={}),this._externalLogMetrics||(this._externalLogMetrics={}),Object.assign(this._externalLogMetrics,e)}_buildTransportAction(e){return{context:{actionDefs:[e]},pageStartTime:Date.now(),ts:this._getTime(),name:"request",ns:"transport"}}stopServiceRequest(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._isNotStarted()||(window.sb.MetricsService.internal.sptNum-=1,window.sb.MetricsService.internal.idleRetries=2,window.sb.MetricsService.internal.idleStart>0&&(window.sb.MetricsService.internal.idleTime+=this._getTime()-window.sb.MetricsService.internal.idleStart,window.sb.MetricsService.internal.idleStart=0),this._populateTransportAction(e),window.sb.MetricsService.internal.sptTime+=t,console.log("CPQ Performance Metrics Service: ended service call",t))}_init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=Date.now(),i=this._getTime();var o=this._getPageStartTime();if(window.sb.visibilityStateEnd=document.visibilityState,window.sb=window.sb||{},null!=window.sb&&null==window.sb.MetricsService){window.sb.MetricsService={},window.sb.MetricsService.bootstrap={id:"qtc:bootstrap"},window.sb.MetricsService.bootstrap.bootstrapEPT=i,window.sb.MetricsService.bootstrap.pageStartTime=o,window.sb.MetricsService.bootstrap.visibilityStateStart=window.sb.visibilityStateStart,window.sb.MetricsService.bootstrap.visibilityStateEnd=window.sb.visibilityStateEnd;if(window.performance&&performance.timing){var r=window.performance,n=r.timing,s={readyStart:n.fetchStart-n.navigationStart,lookupDomainTime:n.domainLookupEnd-n.domainLookupStart,connectTime:n.connectEnd-n.connectStart,requestTime:n.responseEnd-n.requestStart,initDomTreeTime:n.domInteractive-n.responseEnd,domReadyTime:n.domComplete-n.domInteractive,loadEventTime:n.loadEventEnd-n.loadEventStart,loadTime:n.loadEventEnd-n.fetchStart,unloadEventTime:n.unloadEventEnd-n.unloadEventStart,appCacheTime:n.domainLookupStart-n.fetchStart,redirectTime:n.redirectEnd-n.redirectStart};window.sb.MetricsService.bootstrap.timing=Object.assign(n.toJSON(),s),window.sb.MetricsService.bootstrap.allRequests=[],r.getEntries().forEach((function(e){var t=this._summarizeResourcePerfInfo(e);window.sb.MetricsService.bootstrap.allRequests.push(t)}),this)}}else window.sb.MetricsService.bootstrap={};window.sb.MetricsService.internal={lastIdleEndTime:i,sptNum:0,idleStart:0,idleTime:0,sptTime:0,idleRetries:2,actions:new Map},window.sb.MetricsService.currentPage={ept:void 0,bpt:void 0,spt:void 0,pageStartTime:t,ts:i,page:{attributes:{app:{appName:"SteelBrick",appType:"Standard"},url:window.location.href},entity:e}}}_idle(){if(!this._isNotStarted()){if(0===window.sb.MetricsService.internal.sptNum){if(0===window.sb.MetricsService.internal.idleRetries)return this._calcAndDisplayMetrics(),void this._logMetrics();2==window.sb.MetricsService.internal.idleRetries&&(window.sb.MetricsService.internal.lastIdleEndTime=this._getTime()),window.sb.MetricsService.internal.idleRetries--}0===window.sb.MetricsService.internal.idleStart&&(window.sb.MetricsService.internal.idleStart=this._getTime()),this._queueIdleCallback()}}_summarizeResourcePerfInfo(e){return{name:e.name,initiatorType:e.initiatorType,duration:parseInt(e.responseEnd-e.startTime,10),startTime:parseInt(e.startTime,10),fetchStart:parseInt(e.fetchStart,10),requestStart:parseInt(e.requestStart,10),dns:parseInt(e.domainLookupEnd-e.domainLookupStart,10),tcp:parseInt(e.connectEnd-e.connectStart,10),ttfb:parseInt(e.responseStart-e.startTime,10),transfer:parseInt(e.responseEnd-e.responseStart,10),transferSize:parseInt(e.transferSize,10),encodedBodySize:parseInt(e.encodedBodySize,10),decodedBodySize:parseInt(e.decodedBodySize,10)}}_populateTransportAction(e){if(!e)return;let t=window.sb.MetricsService.internal.actions.get(e);t&&(t.duration=parseInt(this._getTime()-t.ts))}_queueIdleCallback(){this.canGatherMetrics()&&window.requestIdleCallback(this._idle.bind(this))}_calcAndDisplayMetrics(){let e=window.sb.MetricsService.internal.lastIdleEndTime-window.sb.MetricsService.currentPage.ts,t=e-window.sb.MetricsService.internal.idleTime,i=window.sb.MetricsService.internal.sptTime;var o=[],r=null;for(var[n,s]of(window.performance&&window.performance.getEntriesByType&&(r=window.performance.getEntriesByType("resource")),window.sb.MetricsService.internal.actions)){if(null!=r){var a=r.filter((function(e){return e.startTime>=s.ts&&e.startTime<=s.ts+s.duration}))[0];null!=a&&(s.resource=a)}o.push(s)}if(window.sb.MetricsService.internal=null,window.sb.MetricsService.currentPage.ept=e,window.sb.MetricsService.currentPage.bpt=t,window.sb.MetricsService.currentPage.spt=i,window.sb.MetricsService.currentPage.marks={transport:o},console.log("CPQ Performance Metrics Service: ",window.sb.MetricsService.bootstrap,window.sb.MetricsService.currentPage),this._canDisplayMetrics()){let e=new CustomEvent("metrics-changed",{detail:window.sb.MetricsService.currentPage,bootstrap:window.sb.MetricsService.bootstrap});document.dispatchEvent(e)}}_normalizeApiHost(e){var t=/([a-zA-Z0-9_-]+)\.(vpod\.visual\.t\.force|visual\.force|salesforce)\.com$/.exec(e);return t&&(e="vpod.visual.t.force"==t[2]?t[1]+".vpod.t.force.com":t[1]+".salesforce.com"),e}_logMetrics(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!(window.sb.MetricsService.currentPage.ept<150)&&this.salesforceBaseUrl){var t=this.salesforceBaseUrl+"/_ui/common/request/servlet/CPQLoggingServlet",i=new XMLHttpRequest;i.withCredentials=!0,i.open("POST",t,!0);var r=this;i.onreadystatechange=function(){if(i.readyState==XMLHttpRequest.DONE)if(200==i.status)console.log("CPQ Performance Metrics service Successfully logged");else{if(e)return console.log("Error while logging CPQ Performance Metrics Service:"),void console.log(i.getAllResponseHeaders());console.log("Logging failed, trying on different endpoint..");var t=r._normalizeApiHost(location.host),o=location.protocol+"//"+t;r.salesforceBaseUrl=o,r._logMetrics(!0)}};var n={pkgVersion:window.sb.userSettings.pkgVersion,apiVersion:57,url:window.sb.MetricsService.currentPage.page.attributes.url,pageStartTime:window.sb.MetricsService.currentPage.pageStartTime,version:"1.0",polymerVersion:"P3"};this._externalLogMetrics&&Object.assign(n,this._externalLogMetrics);var s=[{logName:o,logLevel:"INFO",logAttrs:{attrsId:"cpq:page",ept:window.sb.MetricsService.currentPage.ept,bpt:window.sb.MetricsService.currentPage.bpt,spt:window.sb.MetricsService.currentPage.spt,resources:window.sb.MetricsService.currentPage.marks}}];Object.assign(s[0].logAttrs,n),0!==Object.keys(window.sb.MetricsService.bootstrap).length&&(s.push({logName:o,logLevel:"INFO",logAttrs:{attrsId:window.sb.MetricsService.bootstrap.id,bootstrapEPT:window.sb.MetricsService.bootstrap.bootstrapEPT,visibilityStateStart:window.sb.MetricsService.bootstrap.visibilityStateStart,visibilityStateEnd:window.sb.MetricsService.bootstrap.visibilityStateEnd,resources:window.sb.MetricsService.bootstrap.allRequests,timing:window.sb.MetricsService.bootstrap.timing}}),Object.assign(s[1].logAttrs,n));var a=new FormData;a.append("logLines",JSON.stringify(s)),i.send(a)}}_canDisplayMetrics(){if(!this.canGatherMetrics())return!1;var e=new URL(window.location.href);return 1==new URLSearchParams(e.search).get("eptVisible")}canGatherMetrics(){return"function"==typeof window.requestIdleCallback}_isNotStarted(){return null==window.sb||null==window.sb.MetricsService||null==window.sb.MetricsService.internal||null==window.sb.MetricsService.internal.sptNum}_getTime(){return window.performance?window.performance.now():Date.now()}_getPageStartTime(){var e=window.performance;return e&&e.timing&&e.timing.navigationStart?e.timing.navigationStart:window.pageStartTime}_getUniqueId(){return this._getRandomInt(1,1e4)}_getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}}},5292:(e,t,i)=>{"use strict";i.d(t,{I:()=>s,e:()=>a});i(8443);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const o={},r=/-[a-z]/g,n=/([A-Z])/g;function s(e){return o[e]||(o[e]=e.indexOf("-")<0?e:e.replace(r,(e=>e[1].toUpperCase())))}function a(e){return o[e]||(o[e]=e.replace(n,"-$1").toLowerCase())}},5305:(e,t,i)=>{"use strict";var o=i(9406),r=i(7734);i(1306);class n extends r.Pu{static get is(){return"sb-pc-option-configure"}static get properties(){return{quote:Object,product:Object,optionId:String,featureOptionalSKUs:{type:Array,value:[]},ignoreCache:{type:Boolean,value:!1},configuration:Object,error:{type:Array,notify:!0},optionConfiguratorResponse:{type:String,notify:!0}}}static get observers(){return["_loadObserver(quote, product, optionId, ignoreCache)"]}ready(){super.ready();let e=this.$.service;e.addEventListener("response-changed",function(e){this.optionConfiguratorResponse=e.detail.value}.bind(this)),e.addEventListener("error-changed",function(e){e.detail.value&&(e.detail.value.validations?this.error=e.detail.value.validations:this.error=[e.detail.value.message]),console.log(e.detail)}.bind(this))}_loadObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this.load(e,t,i,o)}load(){this.$.service.uid=this.optionId,this.$.service.ignoreCache=this.ignoreCache;let e=this.quote.lineItems;this.quote.lineItems=[];let t=(new o.k).addQuote("quote",this.quote).add("optionId",this.optionId).add("featureOptionalSKUs",this.featureOptionalSKUs).addObject("configuration",this.configuration).addObject("parentProduct",this.serverProduct).addObject("stagedOption",this.stagedOption);this.quote.lineItems=e,this.$.service.context=t.build()}get serverProduct(){let e={};return e.configurationAttributes=this.product.configurationAttributes,e.inheritedConfigurationAttributes=this.product.inheritedConfigurationAttributes,void 0===this.product.configuration||(e.configuration={configurationData:this.product.configuration.configurationData,inheritedConfigurationData:this.product.configuration.inheritedConfigurationData}),e}get stagedOption(){return null==this.product.nestedOptionModel||null==this.product.nestedOptionModel.stagedOption||this.product.nestedOptionModel.stagedOption.isDynamicOption?null:this.product.nestedOptionModel.stagedOption.optionData}static get template(){return r.qy`
		<sb-service id="service" loader="ProductConfigurationServiceProvider.OptionConfigurator" cache="nestedConfig"></sb-service>
		`}}customElements.define(n.is,n)},5307:(e,t,i)=>{"use strict";i(8443);var o=i(2622),r=i(5367),n=i(9866),s=i(7586),a=i(8591),l=i(4353);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const d=(0,n.b)((0,r.j)((0,o.s)(HTMLElement)));customElements.define("dom-bind",class extends d{static get observedAttributes(){return["mutable-data"]}constructor(){if(super(),s.yu)throw new Error("strictTemplatePolicy: dom-bind not allowed");this.root=null,this.$=null,this.__children=null}attributeChangedCallback(e,t,i,o){this.mutableData=!0}connectedCallback(){(0,l.I)()||(this.style.display="none"),this.render()}disconnectedCallback(){this.__removeChildren()}__insertChildren(){(0,a.L)((0,a.L)(this).parentNode).insertBefore(this.root,this)}__removeChildren(){if(this.__children)for(let e=0;e<this.__children.length;e++)this.root.appendChild(this.__children[e])}render(){let e;if(!this.__children){if(e=e||this.querySelector("template"),!e){let t=new MutationObserver((()=>{if(e=this.querySelector("template"),!e)throw new Error("dom-bind requires a <template> child");t.disconnect(),this.render()}));return void t.observe(this,{childList:!0})}this.root=this._stampTemplate(e),this.$=this.root.$,this.__children=[];for(let e=this.root.firstChild;e;e=e.nextSibling)this.__children[this.__children.length]=e;this._enableProperties()}this.__insertChildren(),this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0}))}})},5367:(e,t,i)=>{"use strict";i.d(t,{H:()=>n,j:()=>s});var o=i(8246);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function r(e,t,i,o,r){let n;r&&(n="object"==typeof i&&null!==i,n&&(o=e.__dataTemp[t]));let s=o!==i&&(o==o||i==i);return n&&s&&(e.__dataTemp[t]=i),s}const n=(0,o.y)((e=>class extends e{_shouldPropertyChange(e,t,i){return r(this,e,t,i,!0)}})),s=(0,o.y)((e=>class extends e{static get properties(){return{mutableData:Boolean}}_shouldPropertyChange(e,t,i){return r(this,e,t,i,this.mutableData)}}));n._mutablePropertyChange=r},5457:(e,t,i)=>{"use strict";i.d(t,{F:()=>s});i(1518);var o=i(5565),r=i(5292);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
class n{constructor(e){this.selection=[],this.selectCallback=e}get(){return this.multi?this.selection.slice():this.selection[0]}clear(e){this.selection.slice().forEach((function(t){(!e||e.indexOf(t)<0)&&this.setItemSelected(t,!1)}),this)}isSelected(e){return this.selection.indexOf(e)>=0}setItemSelected(e,t){if(null!=e&&t!==this.isSelected(e)){if(t)this.selection.push(e);else{var i=this.selection.indexOf(e);i>=0&&this.selection.splice(i,1)}this.selectCallback&&this.selectCallback(e,t)}}select(e){this.multi?this.toggle(e):this.get()!==e&&(this.setItemSelected(this.get(),!1),this.setItemSelected(e,!0))}toggle(e){this.setItemSelected(e,!this.isSelected(e))}}
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const s={properties:{attrForSelected:{type:String,value:null},selected:{type:String,notify:!0},selectedItem:{type:Object,readOnly:!0,notify:!0},activateEvent:{type:String,value:"tap",observer:"_activateEventChanged"},selectable:String,selectedClass:{type:String,value:"iron-selected"},selectedAttribute:{type:String,value:null},fallbackSelection:{type:String,value:null},items:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}},_excludedLocalNames:{type:Object,value:function(){return{template:1,"dom-bind":1,"dom-if":1,"dom-repeat":1}}}},observers:["_updateAttrForSelected(attrForSelected)","_updateSelected(selected)","_checkFallback(fallbackSelection)"],created:function(){this._bindFilterItem=this._filterItem.bind(this),this._selection=new n(this._applySelection.bind(this))},attached:function(){this._observer=this._observeItems(this),this._addListener(this.activateEvent)},detached:function(){this._observer&&(0,o.tT)(this).unobserveNodes(this._observer),this._removeListener(this.activateEvent)},indexOf:function(e){return this.items?this.items.indexOf(e):-1},select:function(e){this.selected=e},selectPrevious:function(){var e=this.items.length,t=e-1;void 0!==this.selected&&(t=(Number(this._valueToIndex(this.selected))-1+e)%e),this.selected=this._indexToValue(t)},selectNext:function(){var e=0;void 0!==this.selected&&(e=(Number(this._valueToIndex(this.selected))+1)%this.items.length),this.selected=this._indexToValue(e)},selectIndex:function(e){this.select(this._indexToValue(e))},forceSynchronousItemUpdate:function(){this._observer&&"function"==typeof this._observer.flush?this._observer.flush():this._updateItems()},get _shouldUpdateSelection(){return null!=this.selected},_checkFallback:function(){this._updateSelected()},_addListener:function(e){this.listen(this,e,"_activateHandler")},_removeListener:function(e){this.unlisten(this,e,"_activateHandler")},_activateEventChanged:function(e,t){this._removeListener(t),this._addListener(e)},_updateItems:function(){var e=(0,o.tT)(this).queryDistributedElements(this.selectable||"*");e=Array.prototype.filter.call(e,this._bindFilterItem),this._setItems(e)},_updateAttrForSelected:function(){this.selectedItem&&(this.selected=this._valueForItem(this.selectedItem))},_updateSelected:function(){this._selectSelected(this.selected)},_selectSelected:function(e){if(this.items){var t=this._valueToItem(this.selected);t?this._selection.select(t):this._selection.clear(),this.fallbackSelection&&this.items.length&&void 0===this._selection.get()&&(this.selected=this.fallbackSelection)}},_filterItem:function(e){return!this._excludedLocalNames[e.localName]},_valueToItem:function(e){return null==e?null:this.items[this._valueToIndex(e)]},_valueToIndex:function(e){if(!this.attrForSelected)return Number(e);for(var t,i=0;t=this.items[i];i++)if(this._valueForItem(t)==e)return i},_indexToValue:function(e){if(!this.attrForSelected)return e;var t=this.items[e];return t?this._valueForItem(t):void 0},_valueForItem:function(e){if(!e)return null;if(!this.attrForSelected){var t=this.indexOf(e);return-1===t?null:t}var i=e[(0,r.I)(this.attrForSelected)];return null!=i?i:e.getAttribute(this.attrForSelected)},_applySelection:function(e,t){this.selectedClass&&this.toggleClass(this.selectedClass,t,e),this.selectedAttribute&&this.toggleAttribute(this.selectedAttribute,t,e),this._selectionChange(),this.fire("iron-"+(t?"select":"deselect"),{item:e})},_selectionChange:function(){this._setSelectedItem(this._selection.get())},_observeItems:function(e){return(0,o.tT)(e).observeNodes((function(e){this._updateItems(),this._updateSelected(),this.fire("iron-items-changed",e,{bubbles:!1,cancelable:!1})}))},_activateHandler:function(e){for(var t=e.target,i=this.items;t&&t!=this;){var o=i.indexOf(t);if(o>=0){var r=this._indexToValue(o);return void this._itemActivate(r,t)}t=t.parentNode}},_itemActivate:function(e,t){this.fire("iron-activate",{selected:e,item:t},{cancelable:!0}).defaultPrevented||this.select(e)}}},5469:(e,t,i)=>{"use strict";i.r(t),i.d(t,{OptionLookup:()=>p});var o=i(7571),r=i(1669),n=i(4070),s=i(7402),a=i(3613),l=i(4886),d=i(4127),c=i(7734),u=i(6206);i(2804),i(622),i(5001),i(656),i(5305),i(7943),i(7533),i(8729),i(8500),i(4167),i(4);const h=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
#feature-name {
  font-weight: 300;
  padding: 15px;
  margin: 0;
}
:host {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
  --sbFieldWordWrap: break-word;
}
:host > #pageBody {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host([class*='--mobile']) {
  --option-table-border-bottom: 1px solid #d8dde6;
}
:host([class*='--mobile']) {
  --option-table-border-bottom: 1px solid #d8dde6;
}
`;class p extends((0,d.g)((0,l.$)(o.YW))){static get is(){return"sb-option-lookup"}static get properties(){return(0,u.X$)({topLevelBundle:Object,currentProductModel:Object,feature:Object,disabledStateMap:{type:Object,value:{}},optionConstraintsHandler:Object,headerSubtitle:String,selectedOptions:Object,productIds:{type:String,computed:"getProductIds(ctx)"},lineKey:{type:Number,computed:"getLineKey(ctx)"},ignoreCache:{type:Boolean,computed:"getIgnoreCache(ctx)"},hasUpgradeOptions:{type:Boolean,computed:"setHasUpgradeOptions(feature)"},optionId:{type:String,computed:"getOptionId(ctx)"},validationMessages:Array,errors:{type:Array,value:[],notify:!0}},o.YW.properties)}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.preLoadObjects(),this._handleLineEditorModelResponse(),this._handleProductLoadResponse(),this.handleOptionConfiguratorResponse(),this.addEventListener("selection-changed",this._handleOptionSelection)}_selectAndAdd(){this.validationMessages=[];const e=this._validateMaximumOptionsNotExceeded();e>0?this.validationMessages=[this.i18n.l("Please deselect at least {0} option(s). The max number of options allowed for this feature is {1}.",[e,this.feature.record[this.prefix+"MaxOptionCount__c"]])]:this._addSelected()}add(){this._selectAndAdd(!1),this._routeToConfig()}addMore(){this._selectAndAdd(),this._resetPage()}cancel(){for(let e in this.selectedOptions)this.currentProductModel.optionsById[e].added=!1,this.currentProductModel.optionsById[e].selected=!1;this._routeToConfig()}_handleLineEditorModelResponse(){this.$.lineEditorRead.addEventListener("line-editor-model-changed",function(e){this.$.productLoad.quote=this.$.optionConfigure.quote=e.detail.value.quote,this.headerSubtitle=e.detail.value.headerSubtitle}.bind(this))}_handleProductLoadResponse(){this.$.productLoad.addEventListener("product-load-model-changed",function(e){let t=e.detail&&e.detail.value?e.detail.value.configuredProducts:null,i=this.ctx.params&&this.ctx.params.productIdx?this.ctx.params.productIdx:0,o=t?t[i]:e.detail.value;if(!o.rulesProcessed){new r.R(o.configuration,o).initProductRulesActions(""===this.optionId?"load":"reconfigure")}if(this.topLevelBundle=o,""!==this.optionId)return this.$.optionConfigure.product=o;this.setCurrentProductModel(o)}.bind(this))}handleOptionConfiguratorResponse(){this.$.optionConfigure.addEventListener("option-configurator-response-changed",function(e){this.setCurrentProductModel(e.detail.value.configuredProducts[0])}.bind(this))}setCurrentProductModel(e){const t=e.currencyCode||null;this.currentProductModel=new n.y(this.$.productLoad.quote.record.Id,e,this.app.org.prefix,t,this.ctx.params.fId),this.feature=this.currentProductModel.getFeature(this.ctx.params.fId),void 0!==this.feature?(this.selectedOptions={},this.optionConstraintsHandler=new s.W(this.currentProductModel.product,this.currentProductModel.prefix),this.$.optionTable.fieldSetName="OptionLookup",this.$.optionTable.fieldSet=this.currentProductModel.product.optionFieldSets[this.$.optionTable.fieldSetName],this.$.optionTable.displayDelete=!1,this._createConstraintsHoverMessages(),this._fireSelectionStatesForOtherFeatures()):this.validationMessages=[this.i18n.l("Attempted to access a feature not associated with this bundle.")]}_handleOptionSelection(e){e&&e.detail&&(this._toggleOptionSelection(e.detail.Id,e.detail.selected),this._handleOptionConstraints(e.detail.Id,e.detail.selected))}_fireSelectionStatesForOtherFeatures(){for(let e of Object.keys(this.currentProductModel.featureIdsWithSelectionMethodClick))for(let t of this.currentProductModel.optionsByFeatureId[e])this._handleOptionConstraints(t.record.Id,t.selected)}_resetPage(){this.selectedOptions={},this.$.optionTable.deselectOptionsOnOptionLookup(),this._fireSelectionStatesForOtherFeatures()}_toggleOptionSelection(e,t){!t&&this.selectedOptions[e]?delete this.selectedOptions[e]:t&&!this.selectedOptions[e]&&(this.selectedOptions[e]=this.currentProductModel.getOption(e))}_handleOptionConstraints(e,t){let i=this.feature._transient_.optionConfigurations.find((function(t){return t.record.Id===e})),o=i&&i.selected,r=this.optionConstraintsHandler.handleOptionConstraints(e,t||o);r&&r.forEach((e=>{this.set(`disabledStateMap.${e.optionId}`,e.disabledState)}))}_addSelected(){for(let e in this.selectedOptions){let t=JSON.parse(JSON.stringify(this.currentProductModel.optionsById[e]));this.currentProductModel.initOptionActions(t,!0),t.addedManually=!0,t.index=this.feature._transient_.optionConfigurations.filter((t=>t.record.Id===e)).length,t.configured=!1,this.currentProductModel.setOptionDisabledData(t),this.push("feature._transient_.optionConfigurations",t),this.currentProductModel.optionsById[e].added=!0,this.currentProductModel.optionsById[e].selected=!0}}_validateMaximumOptionsNotExceeded(){return this.feature._transient_.optionConfigurations.length+Object.keys(this.selectedOptions).length-this.feature.record[this.prefix+"MaxOptionCount__c"]}_routeToConfig(){this.selectedOptions={};let e=this._createQueryParams();this.nav("#",e,["product","pc"],!1)}_createQueryParams(){let e={qId:this.currentProductModel?this.currentProductModel.qId:this.ctx.params.qId},t=this.ctx.params;return t?(t.pId&&(e.pId=t.pId),t.oId&&(e.oId=t.oId,e.origin="ol"),t.lineKey&&(e.lineKey=t.lineKey),t.redirectUrl&&(e.redirectUrl=t.redirectUrl),t.productIdx&&(e.productIdx=t.productIdx),t.tab&&(e.tab=t.tab),t.groupKey&&(e.groupKey=t.groupKey),t.aId&&(e.aId=t.aId),e):e}preLoadObjects(){this.optionLookupObjects=[this.prefix+"ProductOption__c",this.prefix+"QuoteLine__c"]}get prefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}getProductIds(){return this.ctx.params&&this.ctx.params.pId||""}getLineKey(){return this.ctx.params?parseInt(this.ctx.params.lineKey||-1):-1}getIgnoreCache(){return!!this.ctx.params&&"true"===this.ctx.params.ignoreCache}setHasUpgradeOptions(){return this.currentProductModel.getHasUpgradeOptions(this.feature)}_createConstraintsHoverMessages(){this.currentProductModel.createConstraintsHoverMessages(this.optionConstraintsHandler.optionConstraints.byConstrained)}getOptionId(){return this.ctx.params&&this.ctx.params.oId||""}clearStackTrace(){this.errors[0]&&(this.validationMessages=(0,a.W)(this.errors),this.spinner=!1)}static get template(){return c.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style>${h}</style>
		
		<sb-describe objects="[[optionLookupObjects]]" error="{{errors}}"></sb-describe>
		<sb-line-editor-read id="lineEditorRead" quote-id="[[ctx.params.qId]]" error="{{errors}}"></sb-line-editor-read>
		<sb-pc-product-load id="productLoad" product-ids="[[productIds]]" line-key="[[lineKey]]"
							ignore-cache="[[ignoreCache]]" error="{{errors}}"></sb-pc-product-load>
		<sb-pc-option-configure id="optionConfigure" option-id="[[optionId]]" error="{{errors}}"></sb-pc-option-configure>

		<div device id="messages">
			<sb-toast type="error" messages="[[validationMessages]]"/>
		</div>

		<sb-page-header device>
			<i class="icon sf-icon-custom_apps resize" slot="icon"></i>
			<h1 slot="h1">Configure Products</h1>
			<h2 slot="h2">[[headerSubtitle]]</h2>
			<div class="actions" slot="actions">
				<paper-button on-click="addMore" noink id="addMoreBtn">
					<sb-i18n>Select & Add More</sb-i18n>
				</paper-button>
				<paper-button on-click="add" noink>
					<sb-i18n>Add</sb-i18n>
				</paper-button>
				<paper-button on-click="cancel" noink>
					<sb-i18n>Cancel</sb-i18n>
				</paper-button>
			</div>
		</sb-page-header>

		<div device id="pageBody">
			<h1 id="feature-name">[[feature.record.Name]]</h1>
			<sb-product-option-table
					id="optionTable"
					model="{{currentProductModel}}"
					feature-id="[[ctx.params.fId]]"
					is-click-selection="false"
					disabled-state-map="[[disabledStateMap]]"
					disable-all-fields="true"
					route-source="OptionLookup"
					has-upgrade-options="[[hasUpgradeOptions]]"
			></sb-product-option-table>
		</div>
	    `}}customElements.define(p.is,p)},5509:(e,t,i)=>{"use strict";i.d(t,{d:()=>s});var o=i(1149),r=i(7734);const n=i(2619).b`
#clickable {
  min-width: 25px;
  height: 25px;
  cursor: pointer;
  display: inline-block;
}
`;class s extends r.Pu{static get is(){return"sb-rte"}static get properties(){return{value:{type:String,notify:!0}}}connectedCallback(){super.connectedCallback(),this.renderReadOnly&&this.focus()}focus(){(0,o.rC)(o.sV.OPEN_RTE_DIALOG,{rte:this,value:this.value})}static get template(){return r.qy`
			<style>${n}</style>
	        <div id="clickable" on-click="focus">{{value}}</div>
	    `}}customElements.define(s.is,s)},5523:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";var _core_Page_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7571),_data_format_DataBuilder_js__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(9406),_core_sb_page_container_PageContainer_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3311),_data_format_ErrorFormatter_js__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(3613),_sb_filter_item_FilterItem_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(4162),_Util_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6206),_polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7734),_data_sb_service_Service_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1306),_forms_sb_field_Field_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(7022),_sb_group_Group_js__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9704),_services_sb_field_md_FieldMetadata_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8421);class FilterLayout extends _core_Page_js__WEBPACK_IMPORTED_MODULE_0__.YW{static get is(){return"sb-filter-layout"}static get properties(){return(0,_Util_js__WEBPACK_IMPORTED_MODULE_3__.X$)({searchModel:{type:Object,notify:!0},error:{type:Array,notify:!0},filterPath:{type:String,value:"searchFilters"},filterKey:String,filterDelegator:Object,searchFilterData:{type:Object,notify:!0},searchFilterModel:{type:Object,notify:!0},groupItems:{type:Array,notify:!0},serviceLoader:String,quote:Object,enterCallback:Object,translationCallback:Object,serviceCallback:Object,spinner:{type:Boolean,notify:!0},sendQuoteRecord:{type:Boolean,value:!1},resultLimit:{type:Number,value:2e3},viewport:{type:Object,value:function(){return _core_sb_page_container_PageContainer_js__WEBPACK_IMPORTED_MODULE_1__.L.getViewport()}},searchContext:String},_core_Page_js__WEBPACK_IMPORTED_MODULE_0__.YW.properties)}static get observers(){return["_searchModelReadyObserver(searchModel, filterDelegator)"]}ready(){super.ready(),this.mdResponse(),this.handleEnterKeyPressed()}handleEnterKeyPressed(){this.addEventListener("filter-item-field-keypress",function(e){13===e.detail.keyCode&&"function"==typeof this.enterCallback&&"reference"!==e.detail.itemType&&setTimeout(function(){this.enterCallback()}.bind(this),0)}.bind(this))}_searchModelReadyObserver(e,t){if(void 0!==e&&void 0!==t)return this.searchModelReady(e,t)}searchModelReady(){if(!0===this.searchModelInitialized)return;this.searchModelInitialized=!0,void 0===this.filterKey&&(this.filterKey=this.searchModel.hasCustomSearchFilters?"Id":"Name");let properties=this.filterPath.split(".");this.path="this.searchModel";for(let e of properties)this.path+="."+e;let searchFilters=eval(this.path);if(!1===Array.isArray(searchFilters))return;this.searchFilterModel=FilterLayout.setVisibleDynamicSearchFilters(searchFilters,this.filterDelegator);let allFields=FilterLayout.setSearchFilterFields(this.searchFilterModel,this.getSearchTable());this.fields=this.filterDelegator.buildFields(allFields)}static setVisibleDynamicSearchFilters(e,t){let i={};for(let o of e){let e=t.getGroupKey(o),r=i[e];i[e]=o,r&&!1===r.hidden&&(i[e].hidden=!1)}return i}static setSearchFilterFields(e,t){let i=[];for(let o in e)i.push(t+"."+e[o].targetFieldName);return i}mdResponse(){this.$.md.addEventListener("md-changed",function(e){let t=e.detail.value;void 0!==t&&this.setFilterValueMap(t)}.bind(this))}setFilterValueMap(e){if(void 0===this.searchFilterModel)return;let t=[],i=[];for(let o in this.searchFilterModel){let r=this.searchFilterModel[o].targetFieldName;t.push(o+".value"),i.push(o),this.searchFilterModel[o].model=e.fieldsByObject[this.getSearchTable()][r]}JSON.stringify(this.groupItems)!==JSON.stringify(t)&&(this.groupItems=t),this.filterDelegator.skipDefaults&&this.searchFilterData||this.filterDelegator.setDefaultFilterValues(i,this.searchFilterModel).then(function(e){this.searchFilterData||(this.searchFilterData=e),this.filterDelegator.searchFilterModel=this.searchFilterModel,this.filterDelegator.groupItems=this.groupItems}.bind(this))}getSearchTable(){if(void 0!==this.searchModel)return this.filterDelegator.getSearchTable()}focusFirstField(){this.isMobile()||this.$.panel.applyFocusToItem(0)}runService(){if(void 0===this.serviceLoader||void 0===this.quote)return;this.noSpinner||(this.spinner=!0);let e=FilterLayout.buildSearchModel(this.filterDelegator,this.getSearchContext(),this.actionId,this.resultLimit);this.sendQuoteRecord?e.addObject("quote",this.quote.record):e.addQuote("quote",this.quote);let t=e.build();return this.$.service.client.load(this.prefix,this.serviceLoader,null,t).then(function(e){"function"==typeof this.serviceCallback?this.serviceCallback(e):this.searchModel=this.localizer?this.localizer.localizeSearchModel(e):e,this.spinner=!1}.bind(this)).catch(function(e){this.error=(0,_data_format_ErrorFormatter_js__WEBPACK_IMPORTED_MODULE_9__.W)(e),this.spinner=!1}.bind(this))}static buildSearchModel(e,t,i,o){let r=(new _data_format_DataBuilder_js__WEBPACK_IMPORTED_MODULE_10__.k).addObject("filterContext",e.getFilterContext(),void 0,void 0,!0).add("searchContext",t).add("additional",e.getAdditionalProperties()).add("actionId",i).add("resultLimit",o);if("function"!=typeof e.getFieldSet)return r;let n=e.getFieldSet();return n?(r.addObject("fieldSet",n),r):r}get prefix(){return this.app.org.prefix}isMobile(){return this.viewport&&this.viewport.isMobile()}getSearchContext(){return void 0===this.searchContext?null:this.searchContext.length>1?this.searchContext:null}static get template(){return _polymer_polymer_polymer_element_js__WEBPACK_IMPORTED_MODULE_4__.qy`
		<sb-field-md id="md" fields="[[fields]]" background="true"></sb-field-md>
		<sb-service id="service"></sb-service>
		<sb-group id="panel"
				  item="sb-filter-item"
				  data="{{searchFilterData}}"
				  model="[[searchFilterModel]]"
				  group="[[groupItems]]"
		></sb-group>
		`}}customElements.define(FilterLayout.is,FilterLayout)},5539:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var o=i(1921),r=i(6902),n=i(6597),s=i(6640),a=i(9092),l=i(3146);class d{static formatFieldData(e,t,i,a){if(!i)return t;let c=i.type,u=new o.K(!1,i,r.B.i18n,c);switch(n.q.isDiscountField(i.name)&&(c="discount"),n.q.isMarkupField(i.name)&&(c="markup"),i&&"richtextarea"===i.extraTypeInfo&&(c="richtextarea"),c){case"double":return u.format(t,!1);case"currency":case"percent":return u.format(t,!0);case"discount":case"markup":return this.formatDiscountField(e,u);case"date":case"datetime":return r.B.i18n.format(t,{date:!0},r.B.user);case"time":return r.B.i18n.formatTime(t,r.B.user);case"reference":return d.formatReferenceField(i,a)||t;case"richtextarea":case"url":let o=s.E.sanitizeHtmlText(t);return null===o?"":o;case"string":if(i.calculatedFormula&&s.E.containsMarkup(t))return s.E.sanitizeHtmlText(t);break;case"picklist":case"multipicklist":return this.formatPicklistData(i,t);case"encryptedstring":if(!e.editorModel.data.settings.viewEncryptedDataEnabled)return(0,l.t)(t,i)}return t}static formatPicklistData(e,t){if(e.picklistValues&&t){let i=[];return t.toString().split(";").forEach((t=>{let o=this.findPickListValue(e,t);o?i.push(o.label):i.push(t)})),i.join(";")}return t}static findPickListValue(e,t){const i=e.name;return this._pickListValuesMap||(this._pickListValuesMap={}),this._pickListValuesMap[i]||(this._pickListValuesMap[i]={},e.picklistValues.forEach((e=>{this._pickListValuesMap[i][e.value]=e}))),this._pickListValuesMap[i][t]}static formatDiscountField(e,t){(0,a.Un)(e,t.metadata.name);const{displayValue:i,units:o,unit:r}=(0,a.$t)(e,t.metadata.name);if(null!==i&&!isNaN(i)){let e=o.find((e=>e.value===r)),n=e?e.label:"";return`${t.format(i)} ${n}`}return""}static formatReferenceField(e,t){let i="";return t&&e.relationshipName&&t[e.relationshipName]&&(i=t[e.relationshipName].Name),i}static toApexDate(e){return e&&e instanceof Date?e.toISOString().replace(new RegExp("[Tt].*"),""):""}static toApexDateTime(e){if(e&&e instanceof Date){var t=e.toISOString();return t.slice(0,t.length-1)+"+0000"}return""}}},5565:(e,t,i)=>{"use strict";i.d(t,{B5:()=>a,tT:()=>h});i(8443);var o=i(8591),r=(i(7586),i(9023));i(197),i(7212);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n=Element.prototype,s=n.matches||n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector,a=function(e,t){return s.call(e,t)};class l{constructor(e){window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.patch(e),this.node=e}observeNodes(e){return new r.b(this.node,e)}unobserveNodes(e){e.disconnect()}notifyObserver(){}deepContains(e){if((0,o.L)(this.node).contains(e))return!0;let t=e,i=e.ownerDocument;for(;t&&t!==i&&t!==this.node;)t=(0,o.L)(t).parentNode||(0,o.L)(t).host;return t===this.node}getOwnerRoot(){return(0,o.L)(this.node).getRootNode()}getDistributedNodes(){return"slot"===this.node.localName?(0,o.L)(this.node).assignedNodes({flatten:!0}):[]}getDestinationInsertionPoints(){let e=[],t=(0,o.L)(this.node).assignedSlot;for(;t;)e.push(t),t=(0,o.L)(t).assignedSlot;return e}importNode(e,t){let i=this.node instanceof Document?this.node:this.node.ownerDocument;return(0,o.L)(i).importNode(e,t)}getEffectiveChildNodes(){return r.b.getFlattenedNodes(this.node)}queryDistributedElements(e){let t=this.getEffectiveChildNodes(),i=[];for(let o,r=0,n=t.length;r<n&&(o=t[r]);r++)o.nodeType===Node.ELEMENT_NODE&&a(o,e)&&i.push(o);return i}get activeElement(){let e=this.node;return void 0!==e._activeElement?e._activeElement:e.activeElement}}function d(e,t){for(let i=0;i<t.length;i++){let o=t[i];Object.defineProperty(e,o,{get:function(){return this.node[o]},configurable:!0})}}class c{constructor(e){this.event=e}get rootTarget(){return this.path[0]}get localTarget(){return this.event.target}get path(){return this.event.composedPath()}}l.prototype.cloneNode,l.prototype.appendChild,l.prototype.insertBefore,l.prototype.removeChild,l.prototype.replaceChild,l.prototype.setAttribute,l.prototype.removeAttribute,l.prototype.querySelector,l.prototype.querySelectorAll,l.prototype.parentNode,l.prototype.firstChild,l.prototype.lastChild,l.prototype.nextSibling,l.prototype.previousSibling,l.prototype.firstElementChild,l.prototype.lastElementChild,l.prototype.nextElementSibling,l.prototype.previousElementSibling,l.prototype.childNodes,l.prototype.children,l.prototype.classList,l.prototype.textContent,l.prototype.innerHTML;let u=l;if(window.ShadyDOM&&window.ShadyDOM.inUse&&window.ShadyDOM.noPatch&&window.ShadyDOM.Wrapper){class e extends window.ShadyDOM.Wrapper{}Object.getOwnPropertyNames(l.prototype).forEach((t=>{"activeElement"!=t&&(e.prototype[t]=l.prototype[t])})),d(e.prototype,["classList"]),u=e,Object.defineProperties(c.prototype,{localTarget:{get(){const e=this.event.currentTarget,t=e&&h(e).getOwnerRoot(),i=this.path;for(let e=0;e<i.length;e++){const o=i[e];if(h(o).getOwnerRoot()===t)return o}},configurable:!0},path:{get(){return window.ShadyDOM.composedPath(this.event)},configurable:!0}})}else!function(e,t){for(let i=0;i<t.length;i++){let o=t[i];e[o]=function(){return this.node[o].apply(this.node,arguments)}}}(l.prototype,["cloneNode","appendChild","insertBefore","removeChild","replaceChild","setAttribute","removeAttribute","querySelector","querySelectorAll","attachShadow"]),d(l.prototype,["parentNode","firstChild","lastChild","nextSibling","previousSibling","firstElementChild","lastElementChild","nextElementSibling","previousElementSibling","childNodes","children","classList","shadowRoot"]),function(e,t){for(let i=0;i<t.length;i++){let o=t[i];Object.defineProperty(e,o,{get:function(){return this.node[o]},set:function(e){this.node[o]=e},configurable:!0})}}(l.prototype,["textContent","innerHTML","className"]);const h=function(e){if((e=e||document)instanceof u)return e;if(e instanceof c)return e;let t=e.__domApi;return t||(t=e instanceof Event?new c(e):new u(e),e.__domApi=t),t}},5770:(e,t,i)=>{"use strict";i.d(t,{u:()=>o});class o{constructor(e,t,i,o,r){this.columns=e,this.firstLastClassSuffix=t,this.typeByColumnMap=i,this.allColumnClasses=o||[],this.useColumnsIndexAsKey=r||!1}build(){let e={};return this._appendTypeClass(e),this._appendFirstAndLastColumnClasses(e),this._appendAllColumnClasses(e),this._addWidthStyles(e),e}_appendTypeClass(e){if(!this.typeByColumnMap)return;let t=!1,i=0;for(let o of this.columns){let r=this.typeByColumnMap[o],n=this._isNumericType(r),s=this._isBooleanType(r),a=this.useColumnsIndexAsKey?i++:o;n?this._appendClass(e,a,"numericCell"):s?this._appendClass(e,a,"checkboxCell"):t&&this._appendClass(e,a,"afterNumericCell"),t=n}}_appendFirstAndLastColumnClasses(e){let t="firstInner"+this.firstLastClassSuffix,i="lastInner"+this.firstLastClassSuffix,o="secondInner"+this.firstLastClassSuffix;this._appendClass(e,this.useColumnsIndexAsKey?0:this.columns[0],t),this._appendClass(e,this.useColumnsIndexAsKey?this.columns.length-1:this.columns[this.columns.length-1],i),this.columns.length>1&&this._appendClass(e,this.useColumnsIndexAsKey?1:this.columns[1],o)}_appendAllColumnClasses(e){for(let t of this.columns)for(let i of this.allColumnClasses)this._appendClass(e,t,i)}_addWidthStyles(e){let t=0;for(let i of this.columns){let o=this.typeByColumnMap[i].split(":");2===o.length&&this._setWidthStyle(e,this.useColumnsIndexAsKey?t:i,o[1]),t++}}_isNumericType(e){return"double"===(e=e.split(":")[0])||"number"===e||"currency"===e||"percent"===e}_isBooleanType(e){return"boolean"===(e=e.split(":")[0])||"checkbox"===e}_appendClass(e,t,i){e[t]||(e[t]={});let o=e[t].class;e[t].class=o?o+" "+i:i}_setWidthStyle(e,t,i){e[t]||(e[t]={}),e[t].style=`width:${i}px`}}},5849:(e,t,i)=>{"use strict";i.d(t,{v:()=>ie});var o=i(2214),r=i(1445);var n=i(8326),s=i(3311),a=i(4961);function l(e,t,i,r,s,l,d){return t?function(e,t,i,r,n,s){let l=new o.z(a.p.is);return l.addAttribute("value",2,"value",e),l.addAttribute("disabled",1,"disabled",t),l.addAttribute("input-class",1,"inputClass",i),l.addAttribute("input-type",1,"inputType",r),l.addAttribute("render-read-only",1,"renderReadOnly",n),l.addAttribute("pattern",1,"pattern",s),l.readOnlyKeyEvent="sb-input-key",l}(e,i,r,s||"text",l,d):(0,n.B)(e)}var d=i(7734),c=(i(347),i(9866)),u=i(9137),h=i(4886),p=i(178),f=i(2430),b=i(6902),g=i(1924),m=i(2841),y=i(1149),v=i(6206),_=i(2619);const w=_.b`
:host {
  font-family: var(--sbPageFontFamily);
}
input::-ms-clear {
  display: none;
  width: 0;
  height: 0;
}
#dateContainer {
  display: inline-block;
  white-space: nowrap;
  width: var(--sidePanelInputWidth);
}
#dateContainer.inlineEdit {
  width: 100%;
  height: 100%;
  padding-right: 12px;
}
#dateContainer.inlineEdit input#dateInput {
  width: 100%;
  height: 100%;
  border-radius: 0.25rem;
  border: 1px solid #0070d2;
}
#dateContainer.inlineEdit input#dateInput:focus {
  outline: none;
}
#dateInput {
  height: 23px;
  width: var(--datePickerWidth, 120px);
  border: 1px solid #d8dde6;
  border-radius: 3px;
  font-size: 14px;
  padding: 0 0 0 10px;
  box-sizing: var(--datePickerBoxSizing);
  font-family: var(--sbPageFontFamily);
}
#dateInput[invalid] {
  border: 1px solid #a94442;
  color: #a94442;
}
#dateInput[invalid]:focus {
  outline-color: lightcoral;
}
#datePicker:hover {
  cursor: default;
}
#datePicker {
  opacity: 1;
  position: var(--sidePanelDatepicker, absolute);
  right: var(--sidePanelDatepickerRight);
  background-color: #fff;
  max-width: var(--sidePanelDatepickerWidth, 301px);
  min-width: 301px;
  min-height: 275px;
  z-index: 9001;
  border: 1px solid #ccc;
  border-radius: 3px;
  padding: 5px;
}
#datePicker > #dateTable > .table {
  font-size: 12px;
  width: 100%;
  table-layout: fixed;
}
#datePicker > #dateTable > .table > .thead > .tr > .th,
#datePicker > #dateTable > .table > .tbody > .tr > .td {
  font-family: inherit;
  text-align: center;
  color: #54698D;
  width: 41px;
  height: 38px;
  border-bottom: none;
}
#datePicker > #dateTable > .table > .tbody > .tr > .td {
  vertical-align: middle;
}
#datePicker > #dateTable > .table > .tbody > .tr > .td:hover {
  background-color: #F4F6F9;
  border-radius: 50%;
}
#datePicker > #dateTable > .table > .tbody > .tr > .td.current {
  outline: none;
  border-radius: 50%;
}
#datePicker > #dateTable > .table > .tbody > .tr > .td.selected {
  background-color: #005FB2;
  color: #fff;
  border-radius: 50%;
}
#datePicker > #dateTable > .table > .tbody > .tr > .td.notCurrent {
  color: lightgray;
}
#datePicker.sf-le-table-row #dateTable div.table div.tbody .tr .td {
  width: 50px;
}
#today,
#month,
#month > span,
#years {
  font-size: 13px;
  display: inline-block;
  vertical-align: -webkit-baseline-middle;
}
select::-ms-expand {
  display: none;
  color: red;
}
#today {
  font-style: italic;
  font-weight: bold;
  padding: 4px 0 0 10px;
  cursor: pointer;
}
#month {
  width: 65%;
}
#monthName {
  width: 115px;
  text-align: center;
}
#years {
  width: 25%;
}
#dateBar > select {
  -webkit-appearance: none;
  -moz-appearance: none;
  font-family: inherit;
  padding: 0 14px;
  height: 35px;
  margin: 0;
  text-transform: none;
  background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIGlkPSJMYXllcl8xIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDI3LjYgMjEiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDI3LjYgMjEiIHhtbDpzcGFjZT0icHJlc2VydmUiPg0KICA8Zz4NCiAgICA8ZGVmcz4NCiAgICAgIDxwYXRoIGlkPSJTVkdJRF8xXyIgZD0iTTUuNiA1aDE2LjRjMC40IDAgMC44IDAuNiAwLjQgMWwtOCA5LjhjLTAuMyAwLjMtMC45IDAuMy0xLjIgMGwtOC05LjhDNC44IDUuNiA1LjEgNSA1LjYgNXoiLz4NCiAgICA8L2RlZnM+DQogICAgPGNsaXBQYXRoIGlkPSJTVkdJRF8yXyI+DQogICAgICA8dXNlIHhsaW5rOmhyZWY9IiNTVkdJRF8xXyIgb3ZlcmZsb3c9InZpc2libGUiLz4NCiAgICA8L2NsaXBQYXRoPg0KICAgIDxyZWN0IHg9IjAiIHk9IjAiIGNsaXAtcGF0aD0idXJsKCNTVkdJRF8yXykiIGZpbGw9IiM1NTY5OEQiIHdpZHRoPSIyNy42IiBoZWlnaHQ9IjIxIi8+DQogIDwvZz4NCjwvc3ZnPg0K);
  background-color: #fff;
  background-position: 92% 50%;
  background-repeat: no-repeat;
  background-size: 18px 18px;
  color: #000;
  border: 1px solid #D8DDE6;
  border-radius: 4px;
  transition: border 0.1s linear, background-color 0.1s linear;
}
.sb-icon-calendar {
  position: relative;
  left: -25px;
  cursor: pointer;
}
`;i(4),i(9235),i(4167),i(7533);function x(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function C(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?x(Object(i),!0).forEach((function(t){S(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):x(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function S(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class O extends((0,f.z)((0,c.b)((0,p.T)((0,h.$)(b.B))))){static get is(){return"sb-datepicker"}get events(){let e={};return e[y.sV.PANEL_CLOSED]=this.hideCalendar,e}static get properties(){return C(C({selectedDate:{type:Date,value:null,observer:"selectedDateChanged"},range:{type:Number,value:30},focusOnAttached:Boolean,i18n:{type:Object,value:function(){return b.B.properties.i18n.value()}},dateParser:{type:Object,value:function(){return new m.i}}},b.B.properties),f.z.properties)}ready(){super.ready();let e=g.F.getLocaleData();this.isActive=!1,this.weeks=[],this.weekDays=e&&e.date?e.date.calendars.gregory.days.short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],this.months=e&&e.date?e.date.calendars.gregory.months.long:["January","February","March","April","May","June","July","August","September","October","November","December"],this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth(),this.monthName=this.months[this.month].toUpperCase(),this.day=this.date.getUTCDate()}getDate(e){return"object"!=typeof e?new Date(Date.UTC(this.year,this.month,e)):e.getUTCDate()}getMonthDay(e){if("object"!=typeof e)return this.month+"-"+e;return e.getUTCMonth()+1+"-"+e.getUTCDate()}getClass(e){"object"!=typeof e&&(e=new Date(Date.UTC(this.year,this.month,e)));var t="";return e.getUTCMonth()!==this.month?t+="notCurrent":(e.getUTCFullYear()===this.date.getUTCFullYear()&&e.getUTCMonth()===this.date.getUTCMonth()&&e.getUTCDate()===this.date.getUTCDate()&&(t+="selected"),e.getUTCFullYear()===this.year&&e.getUTCMonth()===this.month&&e.getUTCDate()===this.date.getUTCDate()&&(t+=" current")),t}selectedDateChanged(e,t){if(this.initialized||this.selectedDate)return""===this.selectedDate&&""!==this.dateFormatted?void(this.dateFormatted=""):void this._selectedDateChanged(t,this.selectedDate,null==this.selectedDate);this._selectedDateChanged(t,new Date,!0,!0),this.focus()}_selectedDateChanged(e,t,i,o){if(this.initialized=!0,this.date=(0,v.tx)(t),this.updateVariables(),i||(this.dateFormatted=this.getLocaleDate()),!o){let i=void 0===e;this.dispatchEvent((0,y.uv)("selected-date-changed",{value:t,suppressImmediateCalculation:i}))}}showCalendar(){this.disabled||this.ensureProperYearInSelectedAndShowCalendar()}ensureProperYearInSelectedAndShowCalendar(){this.year===this.date.getUTCFullYear()&&this.haveEnsured&&this._showCalendar(),this.haveEnsured=!0,this.date.getUTCFullYear();let e=[];for(var t=this.year-this.range,i=this.year+this.range+1,o=t;o<i;o++)e.push(o);if(b.B.isIE()){if(!this.yearsCreated){this.$.years.remove(0);for(let t=0,i=e.length;t<i;t++)this._createOptionElements(this.$.years,e[t]);this.yearsCreated=!0}}else this.years=e;(0,u.m)(this,(()=>{this.yearSelection=this.$.years,this.yearSelection.selectedOptions&&(this.yearSelection.selectedOptions[0].selected=""),this.yearSelection.options[this.range].selected="selected",this._showCalendar()}))}_createOptionElements(e,t){let i=document.createElement("option");i.label=t,i.value=t,e.appendChild(i)}_showCalendar(){this.isActive=!0,this.updateCalendar(),this.focus(),this.dispatchEvent((0,y.uv)("datepicker-opened",{datepicker:this.$.datePicker,dateContainer:this.$.dateContainer})),document.addEventListener("click",this._clickHandler.bind(this)),v.J0.horizontalBound(this.$.datePicker,5)}_clickHandler(e){e.composedPath().some((e=>e===this))||this.hideCalendar()}hideCalendar(){this.isActive&&(this.isActive=!1,this.focus()),document.removeEventListener("click",this._clickHandler)}findToday(){this.selectedDate=new Date,this.updateYearPicklist(),this.updateVariables(),this.updateCalendar(),this.focus()}updateYearPicklist(){let e=this.yearSelection.options;for(let t=0,i=e.length;t<i;t++)e[t].selected=this.year==e[t].text}changeYear(){this.year=parseInt(this.yearSelection.selectedOptions[0].text),this.updateCalendar(),this.focus()}decreaseMonth(){this.month=this.month-1,this.month<0&&(this.month=11,this.year=this.year-1,this.updateYearPicklist()),this.monthName=this.months&&this.months[this.month]?this.months[this.month].toUpperCase():"",this.updateCalendar()}increaseMonth(){this.month=this.month+1,this.month>11&&(this.month=0,this.year=this.year+1,this.updateYearPicklist()),this.monthName=this.months&&this.months[this.month]?this.months[this.month].toUpperCase():"",this.updateCalendar()}selectDay(e){this.selectedDate=e.model?e.model.day:this.date,this.hideCalendar()}updateVariables(){this.year=this.date.getUTCFullYear(),this.month=this.date.getUTCMonth(),this.monthName=this.months&&this.months[this.month]?this.months[this.month].toUpperCase():"",this.day=this.date.getUTCDate()}updateDate(e){this.date.setUTCDate(this.date.getUTCDate()+e),this.updateVariables(),this.updateCalendar()}updateCalendar(){this.weeks=[];for(var e=new Date(Date.UTC(this.year,this.month,1)),t=e.getUTCDay(),i=[],o=0,r=0;r<42;r++){var n=new Date(e);n.setUTCDate(e.getUTCDate()+(r-t)),i[o]=n,o++,(r+1)%7!=0&&r+1!==42||(this.push("weeks",i),i=[],o=0)}}validateInput(){if(this.noblur)return;let e,t=!1,i=this.$.dateInput.value,o=""===i.trim();if(i!==(o?"":this.getLocaleDate())||null===this.selectedDate&&!o){let o=this.dateParser.parse(i,function(e){return e>=this.year-this.range&&e<=this.year+this.range}.bind(this));t=null==o,t?e=this.i18n.l("Invalid Date."):(this.selectedDate=o,this.updateVariables())}let r="object"==typeof this.selectedDate||""!==this.selectedDate.trim();o&&r&&(this.dateFormatted="",this.selectedDate=null),this.invalidInput=t,this.dispatchEvent((0,y.uv)("field-change-validated",{error:e})),this.dispatchEvent((0,y.uv)("sb-date-blur"))}navigate(e){if(9!==e.keyCode)switch(e.keyCode){case 13:this.isActive?this.selectDay(e):this.validateInput();break;case 27:this.isActive?this.hideCalendar():(this.escaped=!0,this.dispatchEvent((0,y.uv)("sb-date-esc",{keyCode:27})));break;case 37:this.updateDate(-1);break;case 38:this.updateDate(-7);break;case 39:this.updateDate(1);break;case 40:this.isActive?this.updateDate(7):this.showCalendar()}else this.hideCalendar()}getLocaleDate(){try{return this.date.toLocaleDateString(this.user.locale,{timeZone:"UTC"})}catch(e){return this.date.toLocaleDateString()}}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.highlight(),this.$.dateInput.focus()}highlight(){this.dateFormatted&&this.$.dateInput.setSelectionRange(0,this.dateFormatted.length)}preventBlur(){this.noblur=!0}allowBlur(){this.noblur=!1}static get template(){return d.qy`
		<style>${w}</style>
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style include="sb-tables-styles"></style>

		<span device>
		<div id="dateContainer" class$="[[variant]]">
			<input id="dateInput" type="text" value="{{dateFormatted::input}}" on-keydown="navigate" invalid$="{{invalidInput}}" on-blur="validateInput" disabled$="[[disabled]]"/></input>
			<input id="selectedDate" type="hidden" value="{{selectedDate}}"></input>
			<span id="open" class="sb-icon-calendar" on-click="showCalendar" on-down="preventBlur" on-up="allowBlur"></span>
		</div>

		<div id="datePicker" hidden$="{{!isActive}}" on-down="preventBlur" on-up="allowBlur">
			<div id="dateBar">
				<div id="today" on-click="findToday"><sb-i18n>t</sb-i18n></div>
				<div id="month" on-change="changeMonth">
					<span class="sb-icon-left-dir" on-click="decreaseMonth"></span>
					<span id="monthName">
						<span>{{monthName}}</span>
					</span>
					<span class="sb-icon-right-dir" on-click="increaseMonth"></span>
				</div>

				<select id="years" on-change="changeYear" tabindex="-1">
					<template is="dom-repeat" items="{{years}}" as="year">
						<option>{{year}}</option>
					</template>
				</select>

			</div>

			<div id="dateTable">
				<div class="table">
					<div class="thead">
						<div class="tr">
							<template is="dom-repeat" items="{{weekDays}}">
								<div class="th">{{item}}</div>
							</template>
						</div>
					</div>

					<div class="tbody">
						<template is="dom-repeat" items="{{weeks}}" as="week">
							<div class="tr">
								<template is="dom-repeat" items="{{week}}" as="day">
									<div class$="td {{getClass(day)}} {{getMonthDay(day)}}" on-click="selectDay">[[getDate(day)]]</div>
								</template>
							</div>
						</template>
					</div>
				</div>
			</div>
		</div>
		</span>
		`}}customElements.define(O.is,O);class k extends d.Pu{static get is(){return"sb-daterange"}static get properties(){return{formattedValue:Object}}ready(){super.ready(),this.addEventListener("selected-date-changed",(()=>{this.dispatchEvent((0,y.uv)("selected-date-range-changed",{value:this.formattedValue}))}))}static get template(){return d.qy`
		<sb-datepicker id="start" selected-date="{{formattedValue.start}}"></sb-datepicker>
		<sb-datepicker id="end" selected-date="{{formattedValue.end}}"></sb-datepicker>
		`}}function E(e,t,i,r,a,d){let c=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{range:!1},u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:s.L;return t?u.isMobile()?function(e,t,i,o){return l(e,t,i,"dateInput",o)}(e,t,i,d):!0===c.range?function(e,t,i){let r=new o.z(k.is);null===e&&(e="");let n=void 0!==e.start,s=void 0!==e.end;return r.addAttribute("formatted-value",2,"value",{start:n?e.start:e,end:s?e.end:e}),r.addAttribute("disabled",1,"disabled",t),r.addAttribute("use-mask",1,"useMask",!i),r.readOnlyKeyEvent="sb-date-esc",r.readOnlyBlurEvent="sb-date-blur",r.changeEvent="selected-date-range-changed",r}(e,i,a):function(e,t,i){let r=new o.z(O.is);return r.addAttribute("selected-date",2,"value",e),r.addAttribute("disabled",1,"disabled",t),r.readOnlyKeyEvent="sb-date-esc",r.readOnlyBlurEvent="sb-date-blur",r.changeEvent="selected-date-changed",T(e,r,I(e,i)),r}(e,i,r):function(e,t){let i=I(e,t),o=(0,n.B)(i);return T(e,o,i),o}(e,r)}function I(e,t){return t.format(e,{date:!0})}function T(e,t,i){t.formattedValue={value:e,label:i}}customElements.define(k.is,k);var M=i(9092),B=i(3188),D=i(7163);const P=_.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  white-space: nowrap;
}
#discount {
  margin-right: -2px;
}
#discount[class*='--mobile'] {
  margin-right: 0px;
}
[class*='--mobile'] #discount {
  margin-right: 0px;
}
#mask {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 9000;
}
sb-input.inlineEdit iron-input {
  width: 60%;
  height: 100%;
}
sb-input.inlineEdit iron-input input {
  height: 100%;
  width: 100% !important;
}
sb-select.inlineEdit {
  width: 40%;
  height: 100%;
}
sb-select.inlineEdit select {
  width: 100%;
  height: 100%;
}
`;var L=i(9667);function A(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function F(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class N extends((0,f.z)((0,h.$)(d.Pu))){static get is(){return"sb-discount"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?A(Object(i),!0).forEach((function(t){F(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):A(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({model:{type:Object,observer:"_modelChanged"},property:String,focusOnAttached:Boolean,unitChanged:Object,numberParser:{type:Object,value:function(){return new B.d}},formatter:Object,displayValue:String,original:Object},f.z.properties)}static get observers(){return["_runConverterObserver(model, property)"]}ready(){super.ready();let e=this.$.discount.shadowRoot.querySelector(".myinput");e.addEventListener("change",this.checkThenSetDiscountValue.bind(this)),e.addEventListener("focus",this.focused.bind(this)),e.addEventListener("blur",this.deferBlur.bind(this)),e.addEventListener("keydown",this.tabBlur.bind(this,!0));let t=this.$.discountUnits.shadowRoot.querySelector(".myselect");t.addEventListener("change",this.convertDiscountValueThenUpdate.bind(this)),t.addEventListener("focus",this.focused.bind(this)),t.addEventListener("blur",this.deferBlur.bind(this)),t.addEventListener("keydown",this.tabBlur.bind(this,!1))}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.$.discount.focus()}focused(){this.blurred&&clearTimeout(this.blurred)}deferBlur(){this.tabBlurred?this.tabBlurred=!1:this.blurred=setTimeout(function(){this.blurDiscount(!0)}.bind(this),1)}tabBlur(e,t){if(27===t.keyCode&&this.renderReadOnly)return void this.resetToOriginal();if(9!==t.keyCode)return;this.tabBlurred=!0,(e&&t.shiftKey||!e&&!t.shiftKey)&&this.blurDiscount(!1,t)}blurDiscount(e,t){e?this._blur(t):setTimeout(function(){this._blur(t)}.bind(this),10)}_blur(e){let t=""!==this.$.discount.value?this.numberParser.parse(this.$.discount.value):null;(0,M.d_)(this.model,this.property,t),this.dispatchEvent((0,y.uv)("sb-discount-blur",void 0)),e&&this.dispatchEvent((0,y.uv)("sb-discount-keydown",{keyCode:9,shiftKey:e.shiftKey}))}checkThenSetDiscountValue(e){const{displayValue:t}=(0,M.$t)(this.model,this.property);let i=""!==e.target.value?this.numberParser.parse(e.target.value):null;t!=i&&((0,M.d_)(this.model,this.property,i),this.dispatchEvent((0,y.uv)("sb-discount-change",{value:i})))}convertDiscountValueThenUpdate(e){(0,M.IL)(this.model,this.property,e.target.value),this.displayValue=void 0,this.displayValue=this.formatter.format((0,M.$t)(this.model,this.property).displayValue)}resetToOriginal(){this.checkThenSetDiscountValue({target:{value:this.original.label}}),this.convertDiscountValueThenUpdate({target:{value:this.original.unitValue}}),this.checkThenSetDiscountValue({target:{value:this.original.label}}),this.convertDiscountValueThenUpdate({target:{value:this.original.unitValue}}),this.selectUnit((0,M.$t)(this.model,this.property).unit)}selectUnit(e){let t=this.$.discountUnits.shadowRoot.querySelector(".myselect"),i=t.options;for(let o=0,r=i.length;o<r;o++)if(i[o].value===e){t.selectedIndex=o;break}}_runConverterObserver(e,t){if(void 0!==e&&void 0!==t)return this._runConverter(e,t)}_runConverter(e,t){const{units:i,unit:o}=(0,M.$t)(e,t);this.$.discountUnits.value=o,this.$.discountUnits.options=i}_modelChanged(){(0,D.Nj)(this)}static get template(){return d.qy`
		<style>${P}</style>
		<sb-input device id="discount" input-type="[[inputType]]" input-class="numberInput discount" pattern="[[pattern]]" value="{{displayValue}}" disabled="[[disabled]]" render-read-only="[[renderReadOnly]]" style="z-index:9001" variant="[[variant]]"></sb-input>
		<sb-select device id="discountUnits" select-class="discount" disabled="[[disabled]]" is-required="true" style="z-index:9001" variant="[[variant]]"></sb-select>
		`}}function R(e,t,i,r,n,s,a){(0,M.Un)(e,a);let{units:l,unit:d,displayValue:c}=(0,M.$t)(e,a);(0,M.d_)(e,a,c);const u=e.lineVO.record[e.constants.ADDITIONAL_DISCOUNT_FIELD];let h=new o.z(N.is);h.addAttribute("model",1,"model",e),h.addAttribute("property",1,"property",a),h.addAttribute("disabled",1,"disabled",t),h.addAttribute("render-read-only",1,"renderReadOnly",i),h.addAttribute("input-type",1,"inputType",r),h.addAttribute("pattern",1,"pattern",n),h.addAttribute("formatter",1,"formatter",s),h.readOnlyBlurEvent="sb-discount-blur",h.changeEvent="sb-discount-change",h.readOnlyKeyDownEvent="sb-discount-keydown";let p=s.format(c),f=function(e,t,i){if(!e||function(e){return null==e||""===e||isNaN(e)}(i))return{label:"",value:""};for(let i of e)if(i.value===t)return{label:i.label,value:i.value}}(l,d,u);return d=null!=p&&""!==p?f.label:"",h.formattedValue={value:u,label:p,unit:d,unitValue:f.value},h.addAttribute("display-value",1,"displayValue",p),h.addAttribute("original",1,"original",h.formattedValue),h}customElements.define(N.is,N);var q=i(1921),j=i(7180);var H=i(5986),V=i(4547);function U(e,t,i,r,n,s){return t?function(e,t,i,r,n){let s=new o.z(V.l.is),a=z(!1,e,i,r);s.formattedValue={value:e,label:a},s.addAttribute("id",0,"lookup"),s.addAttribute("value",2,"value",e),s.addAttribute("label",1,r.refDisplayName,s.formattedValue.label),s.addAttribute("label-name",1,"labelName",r.refDisplayName),s.addAttribute("table-name",1,"refTable",r.refTable),s.addAttribute("disabled",1,"disabled",t),s.addAttribute("field-full-name",1,"fieldFullName",i.tableName+"."+i.name),s.addAttribute("field-label",1,"fieldLabel",i.label),s.addAttribute("revert-on-escape",1,"revertOnEscape",n),s.addAttribute("calculate-list-position",1,"calculateListPosition",!1),s.addAttribute("has-filter",1,"hasFilter",!!i.filteredLookupInfo),s.addAttribute("record",1,"record",r.record),i.filteredLookupInfo&&i.filteredLookupInfo.controllingFields&&s.addAttribute("controlling-fields",1,"controllingFields",i.filteredLookupInfo.controllingFields);return s.readOnlyKeyEvent="sb-type-esc",s.readOnlyBlurEvent="sb-type-blur",s.changeEvent="lookup-value-changed",s}(e,i,r,n,s):function(e,t,i){let r=new o.z("span"),n=z(!0,e,t,i);return r.addAttribute("value",2,"_value_",e),r.addAttribute("class",1,"link","link","$="),r.setInnerText(i.refDisplayName,1,n),r.formattedValue={value:e,label:n},r.addEvent("click","refClick",(function(e){window.open(window.location.origin+"/"+e.target.value)})),r}(e,r,n)}function z(e,t,i,o){let r=o[o.refDisplayName];if(r)return r;if(e&&(r=function(e,t){if(!t)return;let i=t.property,o=t.obj,r=t.refObjects,n=i&&i.Name?i.Name:e.name;if(!n)return;let s=n.lastIndexOf("Id"),a=s>=0?n.substring(0,s):n.lastIndexOf("__c")>=0?n.replace("__c","__r"):null,l=o&&o[a]?o[a].attributes.type:null;if(a&&o&&o[a]&&l&&r&&r[l]){let e=r[l].nameField.fieldName;return o[a][e]?o[a][e]:o[a].Id}}(i,o)),!r&&o.refTable&&i.relationshipName&&o.record){let e=new H.X(o.refTable).getNameField(),t=o.record[i.relationshipName];t&&(r=t[e])}return r||t||""}function $(e,t,i,r,s,a,l,d){let c="multipicklist"===r;return t?function(e,t,i,r,n,s,a){let l=new o.z(L.l.is);!i.defaultValue||null!=e||i.controllerName||i.restrictedPicklist||(e=i.defaultValue,l.defaultValue=e);l.addAttribute("id",0,"picklist"),l.addAttribute("value",2,"value",e),l.addAttribute("md",1,"md",i),l.addAttribute("disabled",1,"disabled",t),l.addAttribute("options",1,"options",s),l.addAttribute("is-required",1,"isRequired",!!i.required),l.addAttribute("multi-select",1,"multiSelect",a),n&&l.addAttribute("none-label",1,"noneLabel",`--${r.l("None")}--`);null!=i.precision&&l.addAttribute("size",1,"size",i.precision);return l.formattedValue={value:e,label:W(e,s,a)},l}(e,i,s,a,l,d,c):(0,n.B)(W(e,d,c))}function W(e,t,i){if(!t)return e;let o=L.l.getValues(e,i);if(0===o.length)return e;let r=null;for(let e of t)-1!==o.indexOf(e.value)&&(i&&null!=r?r+=";"+e.label:r=e.label);return r||e}const Q=_.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  position: relative;
}
:host textarea[class*='--desktop'] {
  border: 1px solid #d8dde6 !important;
  width: var(--sidePanelInputWidth, 125px);
  max-width: var(--sidePanelInputWidth);
}
:host [class*='--desktop'] textarea {
  border: 1px solid #d8dde6 !important;
  width: var(--sidePanelInputWidth, 125px);
  max-width: var(--sidePanelInputWidth);
}
:host textarea.inlineEdit {
  width: 100%;
  height: 100%;
  border-radius: 0.25rem;
  border: 1px solid #0070d2 !important;
}
:host textarea.inlineEdit:focus {
  outline: none;
}
`;i(57);function G(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function K(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Y extends((0,f.z)((0,h.$)(d.Pu))){static get is(){return"sb-textarea"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?G(Object(i),!0).forEach((function(t){K(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({value:{type:String,observer:"changed"},focusOnAttached:Boolean,viewport:{type:Object,value:function(){return s.L.getViewport()}}},f.z.properties)}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.$.textarea.focus()}blur(){this.fireChangeOnBlur(),this.dispatchEvent((0,y.uv)("blur"))}highlight(){if(this.viewport&&this.viewport.isMobile())return;let e=this.value?this.value.length:0;this.$.textarea.setSelectionRange(0,e)}changed(e,t){void 0!==t?(this.changeOnNextBlur=!1,t!=e&&this.fireChangeEvent(e)):this.changeOnNextBlur=!0}fireChangeEvent(e){this.dispatchEvent((0,y.uv)("change",{value:e}))}fireChangeOnBlur(){this.changeOnNextBlur&&(this.fireChangeEvent(this.value),this.changeOnNextBlur=!1)}propagateEsc(e){27===e.keyCode&&(this.renderReadOnly&&(this.$.textarea.value=this.value),this.dispatchEvent((0,y.uv)("sb-textarea-key",{keyCode:27})))}static get template(){return d.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-forms-styles"></style>
		<style>${Q}</style>

		<textarea device id="textarea" is="iron-autogrow-textarea" value="{{value::change}}" disabled$="[[disabled]]" on-focus="highlight" on-blur="blur" on-keyup="propagateEsc" class$="[[variant]]"></textarea>
		`}}function X(e,t,i,r){return t?function(e,t,i){null===e&&(e="");let r=new o.z(Y.is);return r.addAttribute("value",2,"value",e),r.addAttribute("disabled",1,"disabled",t),r.addAttribute("render-read-only",1,"renderReadOnly",i),r.readOnlyKeyEvent="sb-textarea-key",r}(e,i,r):(0,n.B)(e)}customElements.define(Y.is,Y);var J=i(5509);function Z(e,t,i,r){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.L;return t&&!a.isMobile()?function(e,t,i){null===e&&(e="");let r=new o.z(J.d.is);return r.addAttribute("value",2,"value",e),r.addAttribute("render-read-only",1,"renderReadOnly",t),r.addAttribute("label",1,"label",i.label),r.readOnlyKeyEvent="rte-esc",r.readOnlyBlurEvent="rte-blur",r.changeEvent="rte-value-changed",r}(e,i,r):(0,n.B)(e)}function ee(e,t,i,o,r,n){return"richtextarea"===o.extraTypeInfo?Z(e,t,r,o):((s=o.maxLength>255||"multiline"===o.format||"textarea"===n?X(e,t,i,r):l(e,t,i,"textInput","text",r)).formattedValue=v.J0.toHTML(e),s);var s}var te=i(3146);function ie(e,t,i,a,d,c,u,h,p,f,g,m,y,v){switch(e){case"boolean":case"checkbox":return function(e,t,i,n){let s=new o.z(r.S.is);return s.addAttribute("value",2,"value",e),s.addAttribute("disabled",1,"disabled",t),s.addAttribute("hide",1,"hide",i),s.addAttribute("tab-index",1,"tabIndex",n),s.formattedValue={value:e,label:""},s}(i,d,c,y);case"date":case"datetime":return E(i,a,d,p,f,e,v);case"discount":case"double":case"number":case"currency":case"percent":return function(e,t,i,o,r,n,a,d,c){let u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:s.L;const h=u.isMobile()&&!j.h.isCommaDecimal()?"number":"text",p=new q.K(i,r,n,c,u.getViewport());if(e&&(e.constants.ADDITIONAL_DISCOUNT_FIELD===r.name||e.constants.MARKUP_FIELD===r.name)){let t=R(e,o,a,h,null,p,r.name);return t.numeric=!0,t}let f=p.format(t,!0),b=l(i?p.format(t,!1):f,i,o,d,h,a);return b.formattedValue={value:t,label:f},b.numeric=!0,b}(t,i,a,d,h,p,f,0==u?"first numberInput":"numberInput",e);case"id":case"reference":return U(i,a,d,h,m,f);case"picklist":case"multipicklist":return $(i,a,d,e,h,p,!f,g);case"string":case"textarea":case"phone":case"url":case"email":return ee(i,a,d,h,f,e);case"time":return ee(p.formatTime(i,b.B.user),a,d,h,f,e);case"encryptedstring":return(0,te.r)(i,h);default:return(0,n.B)(i)}}},5966:(e,t,i)=>{"use strict";var o=i(7734),r=i(9866),n=i(891),s=i(197),a=i(4886),l=i(3218);const d=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host([class*='--mobile']) {
  display: flex;
  min-width: 200%;
  -webkit-tap-highlight-color: transparent;
  transform: translate3d(0, 0, 0);
}
:host([class*='--mobile']) {
  display: flex;
  min-width: 200%;
  -webkit-tap-highlight-color: transparent;
  transform: translate3d(0, 0, 0);
}
`;var c=i(6206),u=i(3311),h=i(1149);class p extends((0,r.b)((0,l.N)((0,a.$)(o.Pu)))){static get is(){return"sb-swipe-container"}static get properties(){return{disableSwipe:{type:Boolean,value:!1},preventSwipe:{type:Boolean,value:!1},isRequiredRowNotSelected:{type:Boolean,value:!1},groupExpanded:{type:Boolean,value:!1,observer:"_expansionChanged"},swipeHeader:Object,swipeMenu:Object,swipeItems:{type:Array,value:[]},swipeItemWidth:{type:Number,value:58},viewport:{type:Object,value:function(){return u.L.getViewport()}},variant:String}}static get observers(){return["_preventSwipe(isRequiredRowNotSelected)"]}_preventSwipe(){this.preventSwipe=this.isRequiredRowNotSelected||this.groupExpanded}onGroupExpanded(e){this.groupExpanded=e.detail.expanded,this._preventSwipe()}connectedCallback(){if(super.connectedCallback(),this.addEventListener("expanded-changed",this.onGroupExpanded),this.listenedTrackEventNodes=[],!(this.viewport&&this.viewport.isMobile())||this.disableSwipe)return this.style.minWidth="100%",void(this.style.position="static");this.observeNode(this.$.content,(e=>{for(var t=0;t<e.addedNodes.length;t++)this._findSwipeHeaderAndMenu(e.addedNodes[t])}))}disconnectedCallback(){if(super.disconnectedCallback(),this.removeEventListener("expanded-changed",this.onGroupExpanded),this.listenedOnTrackHandler&&this.listenedTrackEventNodes)for(let e of this.listenedTrackEventNodes)(0,n.pQ)(e,"track",this.listenedOnTrackHandler)}_expansionChanged(e){"ui3qle"===this.variant&&this._preventSwipe()}_findSwipeHeaderAndMenu(e){e.nodeType!==Node.TEXT_NODE&&e.nodeType!==Node.COMMENT_NODE&&("swipe-header"!==e.id||this._initSwipeHeader(e))}_initSwipeHeader(e){var t=(this.swipeHeader=e).style;if(this.viewport&&!this.viewport.isMobile())return t.maxWidth="100%",void(t.display="table");"ui3qle"!==this.variant&&(t.maxWidth="50%",t.position="relative"),this.listenedOnTrackHandler=this.listenedOnTrackHandler||this._onTrack.bind(this),(0,n.ch)(e,"track",this.listenedOnTrackHandler),this.listenedTrackEventNodes.push(e),(0,n.wB)(e,"pan-y")}_closeMenuWhenTapped(e,t){e.addEventListener("click",(function(){t._animate(100,1,t.swipeHeader)}))}_initSwipeMenu(e){if(e.style.maxWidth="50%",this._closeMenuWhenTapped(e,this),this.swipeItems&&this.swipeItems.length)for(var t=0;t<this.swipeItems.length;t++){var i=this.swipeItems[t];i.style.position="",i.style.width="0px"}this.swipeMenu=e;var o=[],r=[];(0,s.b)(),"SB-ACTIONS"===e.children[0].nodeName?((0,s.b)(),o=e.children[0].shadowRoot.children):"SB-CUSTOM-ACTION"===e.children[0].nodeName?o=e.shadowRoot.children:"SF-LINE-ACTIONS"===e.children[0].nodeName&&(o=e.children[0].shadowRoot.querySelector("div").children);for(var n=0,a=o.length;n<a;n++){var l=o[n];this._isValidSwipeMenuItem(l)&&r.push(l)}this.swipeItems=r;var d=this.swipeItemWidth*this.swipeItems.length;e.style.width=d+"px";for(var u=0,h=this.swipeItems.length;u<h;u++){let e=this.swipeItems[u];(0,c.p1)("swipe-menu-item",!0,e);var p=(200-20*(h-1))*h;this.style.transition="transform "+p+"ms ease-out",this._setSwipeItemStyles(e.style,p,d)}}_setSwipeItemStyles(e,t,i){e.transition="transform "+t+"ms ease-out",e.webkitBackfaceVisibility="hidden",e.borderRadius=0,e.position="absolute",e.left=0,e.height="100%",e.width="57px"}_onTrack(e){if(!this.swipeMenu){var t=this.querySelector("#swipe-menu");t&&this._initSwipeMenu(t)}if(!this.preventSwipe&&this.swipeItems.length){var i=e.currentTarget,o=e.detail;"track"===o.state&&this._trackMove(o,i)}}_trackMove(e,t){this._animate(e.dx,e.dy,t)}_animate(e,t,i){var o=e>0?1:-1;if(-1===o&&Math.abs(t)<20&&e<-60){this.dispatchEvent((0,h.uv)("row-swiped",{isOpen:!0}));var r=parseFloat(getComputedStyle(this.swipeItems[0]).width),n=r.toPrecision(5)*this.swipeItems.length*o;this.style.transform="translate3d("+n+"px, 0, 0)",this.style.webkitBackfaceVisibility="hidden";for(var s=this.swipeItems.length-1;s>=0;s--){var a=s*r.toPrecision(5);this.swipeItems[s].style.width=r.toPrecision(5)+"px",this.swipeItems[s].style.transform="translate3d("+a+"px, 0, 0)"}}else if(1===o&&Math.abs(t)<20&&e>25){this.dispatchEvent((0,h.uv)("row-swiped",{isOpen:!1}));this.style.transform="translate3d(0%, 0, 0)",this.style.webkitBackfaceVisibility="hidden";for(s=0;s<this.swipeItems.length;s++){this.swipeItems[s].style.transform="translate3d(0%, 0, 0)"}}else;}_isValidSwipeMenuItem(e){if("ui3qle"===this.variant)return"button"===e.nodeName.toLowerCase();{let i=e?e.shadowRoot:null;if(("span"===e.nodeName.toLowerCase()||i&&i.querySelector("span"))&&!e.classList.contains("ignore-in-mobile")){if(i&&i.querySelector("span")){var t=i.querySelector("span");if(("removeFromFavBtn"===t.id||"addToFavBtn"===t.id)&&"none"===t.style.display)return!1}if(!e.classList.contains("visibilityHidden"))return!0;e.style.display="none"}}return!1}static get template(){return o.qy`
		<style>${d}</style>

		<slot device id="content"></slot>
		`}}customElements.define(p.is,p)},5986:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});const o={Contract:"ContractNumber",Case:"CaseNumber",WorkOrder:"WorkOrderNumber",ContractLineItem:"LineItemNumber",AssetDowntimePeriod:"AssetDowntimePeriodNumber"};class r{constructor(e){this.tableName=e}getNameField(){return o[this.tableName]||"Name"}}},6012:(e,t,i)=>{"use strict";i(1518);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=i(2619).q`
  <style css-build="shadow">html {
  --shadow-transition_-_transition:  box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);;

      --shadow-none_-_box-shadow:  none;;

      

      --shadow-elevation-2dp_-_box-shadow:  0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);;

      --shadow-elevation-3dp_-_box-shadow:  0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);;

      --shadow-elevation-4dp_-_box-shadow:  0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);;

      --shadow-elevation-6dp_-_box-shadow:  0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);;

      --shadow-elevation-8dp_-_box-shadow:  0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);;

      --shadow-elevation-12dp_-_box-shadow:  0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);;

      --shadow-elevation-16dp_-_box-shadow:  0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);;

      --shadow-elevation-24dp_-_box-shadow:  0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);;
}

</style>
`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},6206:(e,t,i)=>{"use strict";function o(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function r(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?o(Object(i),!0).forEach((function(t){n(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):o(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function n(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e){return(/^[0-9]/.test(e)?"_"+e:e).replace(/\W/g,"")}function a(e,t){for(let i=0;i<t.length&&e;i++)e=e[t[i]];return e}function l(e,t,i){const o=(e,t,i,n)=>{if(n>=t.length)return i;const s=e?e[t[n]]:void 0;let a=o(s,t,i,n+1);return s===a?e:isNaN(t[n])?function(e,t,i){const o=r({},e);return o[t]=i,o}(e,t[n],a):function(e,t,i){const o=void 0===e?[]:[...e];return o[t]=i,o}(e,t[n],a)};return o(e,t,i,0)}function d(e,t,i){for(let i=0;i<t.length-1;i++)e[t[i]]||(e[t[i]]=isNaN(t[i])?{}:[]),e=e[t[i]];e[t[t.length-1]]=i}function c(e,t){if(e){if(Array.isArray(t))return t.map(((t,i)=>c(e[i],t)));if(t&&"object"==typeof t){const i=r({},e);for(let o in t)i[o]=c(e[o],t[o]);return i}}return void 0===t?e:t}function u(e){let t=e?new Date(e):new Date;return isNaN(t)&&"string"==typeof e&&(t=new Date(e.substring(0,e.length-2)+":00")),t}function h(e,t){const i={attributes:e.attributes};for(let o of t)void 0!==e[o]&&(i[o]=e[o]);return i}function p(e,t,i){const o=new Set(e);for(let e of i)o.has(e.record[t])&&(e.record[t]=null)}i.d(t,{B:()=>p,BX:()=>s,Fr:()=>c,J0:()=>f,Nn:()=>v,X$:()=>g,ah:()=>l,aj:()=>a,at:()=>_,bv:()=>m,kU:()=>h,mk:()=>y,p1:()=>b,tx:()=>u,wB:()=>d});class f{static deepEquals(e,t){return"object"==typeof e&&"object"==typeof t?JSON.stringify(e)===JSON.stringify(t):e===t}static deepClone(e){return null==e?e:JSON.parse(JSON.stringify(e))}static pad(e,t,i){return i=i||"0",(e+="").length>=t?e:new Array(t-e.length+1).join(i)+e}static toIsoDate(e){return(e="number"==typeof e?new Date(e):e).getUTCFullYear()+"-"+f.pad(e.getUTCMonth()+1,2)+"-"+f.pad(e.getUTCDate(),2)+"T"+f.pad(e.getUTCHours(),2)+":"+f.pad(e.getUTCMinutes(),2)+":"+f.pad(e.getUTCSeconds(),2)+"Z"}static notifyTopObjects(e,t,i){for(let o of Object.keys(t))e.notifyPath(i+"."+o,t[o])}static arithmeticOperatorConversion(e,t,i){switch((null===e&&void 0===t||void 0===e&&null===t)&&(t=e),"boolean"==typeof e&&("true"===t.toLowerCase()?t=!0:"false"===t.toLowerCase()&&(t=!1)),i){case"equals":return e===t;case"not equals":return e!=t;case"less than":return e<t;case"less or equals":return e<=t;case"greater than":return e>t;case"greater or equals":return e>=t;case"starts with":return(e=e||"").toLowerCase().startsWith(t.toLowerCase());case"ends with":return(e=e||"").toLowerCase().endsWith(t.toLowerCase());case"contains":return(e=e||"").toLowerCase().includes(t.toLowerCase())}}static toHTML(e){return null!=e&&null!=e.replace&&(e=e.replace(/(?:\r\n|\r|\n)/g,"<br>")),e}static horizontalBound(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;setTimeout((()=>{const i=e.getBoundingClientRect().left+e.getBoundingClientRect().width;i>window.innerWidth&&(e.style.left=e.offsetLeft-(i-window.innerWidth)-t+"px")}))}}if(f.Map=Map,!Map||!Map.prototype.get||!Map.prototype.set){let e=document.createElement("iframe");document.body.appendChild(e),f.Map=e.contentWindow.Map,e.parentNode.removeChild(e)}function b(e,t,i){(i=i||this)&&i.classList&&(1!=arguments.length&&null!==t||(t=!i.classList.contains(e)),t?i.classList.add(e):i.classList.remove(e))}function g(e,t){if(e&&t){var i=Object.getOwnPropertyNames(t);for(let o,r=0;r<i.length&&(o=i[r]);r++){let i=Object.getOwnPropertyDescriptor(t,o);i&&Object.defineProperty(e,o,i)}}return e||t}function m(e){let t=e&&e.getRootNode?e.getRootNode():null;return t?t.host:void 0}function y(e){const t=document.createDocumentFragment();return function e(t,i){let o=t.cloneNode();i.appendChild(o),t.shadowRoot?r(t.shadowRoot.firstChild,o.attachShadow({mode:"open"})):r(t.firstChild,o);function r(t,i){for(;t;)e(t,i),t=t.nextSibling}}(e,t),t.firstChild}function v(e){return e?e+"__":e||""}function _(e){return e.substring(0,15).toUpperCase()}},6254:(e,t,i)=>{"use strict";i.r(t),i.d(t,{SubscriptionLookup:()=>h});var o=i(7571),r=i(8008),n=i(3613),s=i(1776),a=i(4886),l=i(9134),d=i(7734),c=(i(7543),i(2804),i(1520),i(2367),i(622),i(5523),i(9104),i(5001),i(4459),i(9653),i(7533),i(4482),i(8729),i(8500),i(6206));const u=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host {
  color: #3c3d3e;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
}
:host > #filter {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host .primaryButton {
  background-color: #0070d2;
  color: #FFFFFF;
  font-weight: 400;
  width: initial;
}
:host .primaryButton:hover {
  background-color: #005fb2;
  color: #FFFFFF;
}
:host sb-dialog .sb-icon-compass[class*='--mobile'] {
  display: none;
}
:host sb-dialog .mobile[class*='--mobile'] {
  padding: 6px 3px;
}
:host [class*='--mobile'] sb-dialog .sb-icon-compass {
  display: none;
}
:host [class*='--mobile'] sb-dialog .mobile {
  padding: 6px 3px;
}
:host #drawer {
  position: relative;
}
:host .panel {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: auto;
  flex: auto;
  background-color: var(--sbFilterDrawerBgColor);
  color: var(--sbFilterDrawerFontColor);
}
:host .panelbutton {
  margin: 10px 0 10px 20px;
}
:host .click {
  padding-top: 10px;
  color: var(--sbLinkColor);
  margin-left: 18px;
  cursor: pointer;
}
:host .click:hover {
  color: var(--sbLinkColorHover);
}
:host .filter-buttons {
  margin: 10px 0 0 20px;
  display: flex;
  align-items: center;
}
:host .sf-icon-close {
  float: right;
  cursor: pointer;
  font-size: 14px;
}
:host .title {
  margin: 20px 20px 0 20px;
  font-size: 16px;
  margin-left: 20px;
}
:host .title[class*='--mobile'] {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
:host [class*='--mobile'] .title {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
:host .dialog {
  margin-left: 0px;
}
.datatable {
  position: relative;
}
.drawer {
  position: relative;
  top: inherit;
}
.drawer sb-lookup-layout {
  overflow: auto;
}
.tbody[class*='--mobile'] {
  position: absolute;
}
[class*='--mobile'] .tbody {
  position: absolute;
}
.modaloverflow {
  -webkit-overflow-scrolling: auto !important;
}
`;i(4167),i(4),i(9235);class h extends((0,a.$)((0,l.D)(o.YW))){static get is(){return"sb-subscription-lookup"}static get properties(){return(0,c.X$)({selectedProducts:{type:Object,value:{}},lineEditorModel:Object,totalCount:String,hasTotalCount:String,errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]}},o.YW.properties)}connectedCallback(){super.connectedCallback(),this.handleSelectButtonClickedServerResponseAndNavigation()}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.preLoadObjects()}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(e){this.lineEditorModel=e.detail.value,this.quote=this.$.smLoadService.quote=this.$.smSelectService.quote=e.detail.value.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(e){this.searchModel=e.detail.value,this.primaryMobileColumn=this.searchModel.resultFieldNames[0],this.searcher=new r.W(this.searchModel),this.hasTotalCount=this.searchModel.totalCount>0,this.totalCount=this.searchModel.totalCount,this.maxSelectAll=this.lineEditorModel.settings.usesClientAmendRenew?500:100}.bind(this))}handleSelectButtonClickedServerResponseAndNavigation(){this.$.smSelectService.addEventListener("result-changed",function(e){let t=this.lineEditorModel.quote.lineItems;this.lineEditorModel.quote=e.detail.value,this.lineEditorModel.settings.usesClientCalculator&&(this.lineEditorModel.quote.lineItems=t.concat(this.lineEditorModel.quote.lineItems)),this.navigateToLineEditor()}.bind(this))}refocus(){this.$.sf.focusFirstField()}toggleFilter(){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.$.drawer.togglePanel()}removeFilter(){this.shadowRoot.querySelector(".actions").removeChild(this.shadowRoot.querySelector("#fb"))}closeDrawer(){this.refocus(),this.$.drawer.closeDrawer()}getConfigProductIds(e){let t=[];for(let i of e.detail.value.configuredProducts)t.push(i.record.Id);return t.join(",")}deSelectAll(){this.$.lookupLayout.deSelectAll()}onSelect(){this.spinner=!0,this.selectedProducts&&Object.keys(this.selectedProducts).length>0?this.lineEditorModel.settings.usesClientAmendRenew?this._clientAmendRenew():this.$.smSelectService.selectedProducts=this.selectedProducts:this.navigateToLineEditor()}onCancel(){this.spinner=!0;let e={qId:this.lineEditorModel.quote.record.Id};null!=this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),this.nav("#",e,["quote","le"],!1)}navigateToLineEditor(){let e={qId:this.lineEditorModel.quote.record.Id};Object.keys(this.selectedProducts).length>0&&(e.jspr=!0),null!=this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),this.nav("#",e,["quote","le"],!1)}runSearcher(){this.shadowRoot.querySelector("#submit").focus(),this.$.sf.runService(),this.closeDrawer()}preLoadObjects(){this.subscriptionLookupObjects=[this.prefix+"Subscription__c","Contract"]}get prefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}bindFilterEnterCallBacks(){this.$.sf.enterCallback=this.runSearcher.bind(this)}clearFilterFields(){this.filterData=this.searcher.clearFields()}clearStackTrace(){this.errors[0]&&(this.error=(0,n.W)(this.errors),this.spinner=!1)}_clientAmendRenew(){new Promise(((e,t)=>{if(SB&&SB.JSARSettings&&SB.JSARServices&&SB.JSARLineGenManager){let i=new SB.JSARSettings(this.app.orgPrefix,this.lineEditorModel.amendRenewSettings);new s.m(this.app.orgPrefix).getConnection().then((o=>{let r=SB.JSARServices.constructFromJsarSettings(o,i),n=new SB.JSARLineGenManager(o,i,r),s=this.lineEditorModel.quote,a="Renewal"===s.record[this.prefix+"Type__c"],l=Object.keys(this.selectedProducts);(a?n.renewSubscriptionsToQuote(l,s,this.ctx.params.groupKey):n.amendSubscriptionsToQuote(l,s,this.ctx.params.groupKey)).then((t=>{e(t)}),(e=>{t(e.message||e)}))}),(e=>{t(e.message||e)}))}else t("ERROR: Could not find Client-Side Amend/Renew")})).then((e=>{e.calculationRequired=!0,this.lineEditorModel.quote=e,this.navigateToLineEditor()}),(e=>{this.errors=[e]}))}static get template(){return d.qy`
	    <style include="sb-tables-styles"></style>
	    <style include="sb-common-styles"></style>
	    <style include="sb-icons-styles"></style>
		<style>${u}</style>
		<sb-describe objects="[[subscriptionLookupObjects]]"></sb-describe>
		<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>
		<sb-search-model-load id="smLoadService" loader="SubscriptionLookupServiceProvider.SearchModelLoader" send-quote-record="true" error="{{errors}}" action-id="[[ctx.params.aId]]"></sb-search-model-load>
		<sb-search-model-select id="smSelectService" target-group-key="[[ctx.params.groupKey]]" saver="SubscriptionLookupServiceProvider.SearchModelSelector" uses-client-calculator="{{le.settings.usesClientCalculator}}" strip-quote-lines="true" error="{{errors}}"></sb-search-model-select>
		<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>

		<sb-page-header device>
			<div id="messages" slot="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>
			<i class="icon sf-icon-recent" slot="icon"></i>
			<h1 slot="h1">
				<sb-i18n>Subscription Selection</sb-i18n>
			</h1>
			<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>
			<div class="fixedActions" slot="fixedActions">
				<paper-button noink on-click="toggleFilter" id="fb" class="sf-icon-filterlist">
					<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">[[totalCount]]</span>
				</paper-button>
				<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
					<sb-i18n>Filter</sb-i18n>
				</paper-tooltip>
				<template is="dom-if" if="[[hasQuoteProcess]]">
					<paper-button noink on-click="toggleGuidedSelling" id="gs" class="sb-icon-compass">
					</paper-button>
				</template>
			</div>
			<div class="actions" slot="actions">
				<paper-button noink on-click="onSelect" id="plSelect">
					<sb-i18n>Select</sb-i18n>
				</paper-button>
				<paper-button noink on-click="onCancel" id="plCancel">
					<sb-i18n>Cancel</sb-i18n>
				</paper-button>
			</div>
		</sb-page-header>

		<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">
			<div main slot="main">
				<!--This is the list of subscriptions-->
				<sb-lookup-layout
					id="lookupLayout"
					search-model="{{searchModel}}"
					primary-mobile-cols="[[primaryMobileColumn]]"
					selection-id-data-path="Id"
					parent-attributes-path="attributes"
					selected-rows="{{selectedProducts}}"
					total-count="{{totalCount}}"
					has-total-count="{{hasTotalCount}}"
					max-select-all="[[maxSelectAll]]"
					no-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"
				></sb-lookup-layout>
			</div>
			<div drawer slot="drawer" class="panel">
				<div id="aflayout" class="panel-actions" style="outline: none;">
					<header class="title"><sb-i18n>Filter</sb-i18n>
						<i class="sf-icon-close" on-click="closeDrawer"></i>
					</header>
					<!--this is the filter panel-->
					<sb-filter-layout id="sf"
									  search-model="{{searchModel}}"
									  filter-path="searchFilters"
									  filter-delegator="{{searcher}}"
									  service-loader="SubscriptionLookupServiceProvider.SearchModelSearcher"
									  send-quote-record="true"
									  result-limit="1000"
									  quote="[[quote]]"
									  search-filter-data="{{filterData}}"
									  spinner="{{spinner}}"
									  action-id="[[ctx.params.aId]]"
									  error="{{errors}}"
					></sb-filter-layout>
					<paper-button id="submit" noink on-click="runSearcher" class="primaryButton panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>
					<text id="clear" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>
				</div>
			</div>
		</paper-drawer-panel>
	    `}}customElements.define(h.is,h)},6502:(e,t,i)=>{"use strict";i.d(t,{_:()=>r,k:()=>n});i(1518);var o=i(5457);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const r={properties:{multi:{type:Boolean,value:!1,observer:"multiChanged"},selectedValues:{type:Array,notify:!0,value:function(){return[]}},selectedItems:{type:Array,readOnly:!0,notify:!0,value:function(){return[]}}},observers:["_updateSelected(selectedValues.splices)"],select:function(e){this.multi?this._toggleSelected(e):this.selected=e},multiChanged:function(e){this._selection.multi=e,this._updateSelected()},get _shouldUpdateSelection(){return null!=this.selected||null!=this.selectedValues&&this.selectedValues.length},_updateAttrForSelected:function(){this.multi?this.selectedItems&&this.selectedItems.length>0&&(this.selectedValues=this.selectedItems.map((function(e){return this._indexToValue(this.indexOf(e))}),this).filter((function(e){return null!=e}),this)):o.F._updateAttrForSelected.apply(this)},_updateSelected:function(){this.multi?this._selectMulti(this.selectedValues):this._selectSelected(this.selected)},_selectMulti:function(e){e=e||[];var t=(this._valuesToItems(e)||[]).filter((function(e){return null!=e}));this._selection.clear(t);for(var i=0;i<t.length;i++)this._selection.setItemSelected(t[i],!0);this.fallbackSelection&&!this._selection.get().length&&(this._valueToItem(this.fallbackSelection)&&this.select(this.fallbackSelection))},_selectionChange:function(){var e=this._selection.get();this.multi?(this._setSelectedItems(e),this._setSelectedItem(e.length?e[0]:null)):null!=e?(this._setSelectedItems([e]),this._setSelectedItem(e)):(this._setSelectedItems([]),this._setSelectedItem(null))},_toggleSelected:function(e){var t=this.selectedValues.indexOf(e);t<0?this.push("selectedValues",e):this.splice("selectedValues",t,1)},_valuesToItems:function(e){return null==e?null:e.map((function(e){return this._valueToItem(e)}),this)}},n=[o.F,r]},6527:(e,t,i)=>{"use strict";i.d(t,{s:()=>r});i(1518);var o=i(816);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
class r{constructor(e){r[" "](e),this.type=e&&e.type||"default",this.key=e&&e.key,e&&"value"in e&&(this.value=e.value)}get value(){var e=this.type,t=this.key;if(e&&t)return r.types[e]&&r.types[e][t]}set value(e){var t=this.type,i=this.key;t&&i&&(t=r.types[t]=r.types[t]||{},null==e?delete t[i]:t[i]=e)}get list(){if(this.type){var e=r.types[this.type];return e?Object.keys(e).map((function(e){return n[this.type][e]}),this):[]}}byKey(e){return this.key=e,this.value}}r[" "]=function(){},r.types={};var n=r.types;(0,o.b)({is:"iron-meta",properties:{type:{type:String,value:"default"},key:{type:String},value:{type:String,notify:!0},self:{type:Boolean,observer:"_selfChanged"},__meta:{type:Boolean,computed:"__computeMeta(type, key, value)"}},hostAttributes:{hidden:!0},__computeMeta:function(e,t,i){var o=new r({type:e,key:t});return void 0!==i&&i!==o.value?o.value=i:this.value!==o.value&&(this.value=o.value),o},get list(){return this.__meta&&this.__meta.list},_selfChanged:function(e){e&&(this.value=this)},byKey:function(e){return new r({type:this.type,key:e}).value}})},6575:(e,t,i)=>{"use strict";i(1518),i(361);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=i(2619).q`
<custom-style>
  <style is="custom-style">
    html {
      /*
       * You can use these generic variables in your elements for easy theming.
       * For example, if all your elements use \`--primary-text-color\` as its main
       * color, then switching from a light to a dark theme is just a matter of
       * changing the value of \`--primary-text-color\` in your application.
       */
      --primary-text-color: var(--light-theme-text-color);
      --primary-background-color: var(--light-theme-background-color);
      --secondary-text-color: var(--light-theme-secondary-color);
      --disabled-text-color: var(--light-theme-disabled-color);
      --divider-color: var(--light-theme-divider-color);
      --error-color: var(--paper-deep-orange-a700);

      /*
       * Primary and accent colors. Also see color.js for more colors.
       */
      --primary-color: var(--paper-indigo-500);
      --light-primary-color: var(--paper-indigo-100);
      --dark-primary-color: var(--paper-indigo-700);

      --accent-color: var(--paper-pink-a200);
      --light-accent-color: var(--paper-pink-a100);
      --dark-accent-color: var(--paper-pink-a400);


      /*
       * Material Design Light background theme
       */
      --light-theme-background-color: #ffffff;
      --light-theme-base-color: #000000;
      --light-theme-text-color: var(--paper-grey-900);
      --light-theme-secondary-color: #737373;  /* for secondary text and icons */
      --light-theme-disabled-color: #9b9b9b;  /* disabled/hint text */
      --light-theme-divider-color: #dbdbdb;

      /*
       * Material Design Dark background theme
       */
      --dark-theme-background-color: var(--paper-grey-900);
      --dark-theme-base-color: #ffffff;
      --dark-theme-text-color: #ffffff;
      --dark-theme-secondary-color: #bcbcbc;  /* for secondary text and icons */
      --dark-theme-disabled-color: #646464;  /* disabled/hint text */
      --dark-theme-divider-color: #3c3c3c;

      /*
       * Deprecated values because of their confusing names.
       */
      --text-primary-color: var(--dark-theme-text-color);
      --default-primary-color: var(--primary-color);
    }
  </style>
</custom-style>`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},6595:(e,t,i)=>{"use strict";i.d(t,{Q:()=>o});class o{constructor(e,t,i){this.prefix=e,this.options=t,this.option=i}isSourceLine(){return null!=this.option.priorBundledQuantity}getLine(){return this.option}getLines(){return this.options}getSourceOrUpgrade(e,t){for(let i=0;i<this.options.length;i++){let o=e||this.options[i],r=t||this.options[i];if(r.sourceProductIds&&-1!=r.sourceProductIds.indexOf(o.record[this.prefix+"OptionalSKU__c"]))return this.options[i]}}setSourceAndUpgrade(e,t){this.sourceOption=e,this.upgradeOption=t}getSourceIdField(){return this.prefix+"OptionalSKU__c"}getUpgradeConversionRateField(){return this.prefix+"UpgradeConversionRate__c"}getSourceCurrentQuantityField(e){return e.selected?e.record[this.prefix+"Quantity__c"]:0}getUpgradeCurrentQuantityField(e){return e.selected?e.record[this.prefix+"Quantity__c"]:0}getSourcePriorQuantity(e){return e.priorBundledQuantity}didSourceQuantityChange(e,t,i){return i.selected&&(e||!t.selected)}didUpgradeQuantityChange(e,t){return t.selected&&!e}isSelected(e){return e.selected}setUpdatedQuantity(e,t,i,o){e.selected&&(e.record[this.prefix+"Quantity__c"]=i),t.selected&&(t.record[this.prefix+"Quantity__c"]=o)}getSourceOption(){return this.sourceOption}getUpgradeOption(){return this.upgradeOption}setUpgradedAssetId(){let e=this.getSourceOrUpgrade(null,this.option);this.option.upgradedAssetId=e.upgradedAssetId}}},6597:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});let o=null;class r{static get constants(){return o}static set constants(e){o=e}static isDiscountField(e){return e===o.ADDITIONAL_DISCOUNT_FIELD}static isMarkupField(e){return e===o.MARKUP_FIELD}static isListPriceField(e){return e===o.LIST_PRICE_FIELD}static isProductNameField(e){return e===o.PRODUCT_NAME_FIELD}static isNetTotalField(e){return e===o.NET_TOTAL_FIELD}static isSubscriptionScopeField(e){return e===o.SUBSCRIPTION_SCOPE_FIELD}static isUbpFieldInlineEditable(e,t){const i=o.UBP_FIELDS.ConsumptionRateFields;for(const o of[i.UpperBound,i.LowerBound,i.Price])if(o===e)return null!=t&&t[e];return!1}static shouldCalulateImmediately(e,t,i){if(!t)return!1;if(!(null!=i.quoteVO.record[r.constants.TARGET_CUSTOMER_AMOUNT]))return!0;return!new Set([r.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD,r.constants.ADDITIONAL_DISCOUNT_RATE_FIELD,r.constants.ADDITIONAL_DISCOUNT_FIELD]).has(e)}}},6640:(e,t,i)=>{"use strict";i.d(t,{E:()=>n});var o=i(479),r=i(3311);class n{constructor(e){e&&(this.$=e.$,this.component=e,this.viewport=r.L.getViewport())}sanitizeAndSetInnerHTML(){if(this.isNil()){let e='<img id="blank" src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==" style="width:50%; height:17px"/>',t=!this.link&&!this.isMobile();this.$.me.innerHTML=t?e:""}else{if(null!=this.booleanValue){let e=this.booleanValue?"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OUY4QjA4OTVEQkY3MTFFMDgzQzJCMzYyMkRFM0JDMjgiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OUY4QjA4OTZEQkY3MTFFMDgzQzJCMzYyMkRFM0JDMjgiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpFNjFGRUE4QURCRjMxMUUwODNDMkIzNjIyREUzQkMyOCIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo5RjhCMDg5NERCRjcxMUUwODNDMkIzNjIyREUzQkMyOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpLVrhgAAAEoSURBVHjanJS9aoRAFIXnjjqykCcJpE21sJBXMA+QgIWFCoKFVbrgX2EhpEiTOqAPEUi1bSBPsrCwzeQe0SK77rp64ShX5nx3frxDWmuBaNv2ll/3LCWm48DaOo7zi4QAYcBHD9j2A6ZCDeMZ9ExN0zxxskEiZkZf/EvyY836FssCvjUgK9Z+IQS+lZzrStNUH3+bBcnzXJumKcqy/AcyrwUURaENwxBQFEU0OZPjKaOyZVlCKXUCGIVkWdZVHKZcVZWGGZAwDGms6AkkSRKSUgqsva7rDmDbtvB9n84tdXQ5cRwTIKgOgOd5dGm/zp5OEAQdyHVdmtr0i0d8DWCA7Fg3C/9Y+HaAvLPeuJkeZjbfBj74h6vgkZMX1t0Mzg/rlbv/80+AAQCVIVhcOwWhjQAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QTQ0NzJFMzhEQjQwMTFFMEJENkNCN0I0QjBBMDU3MzYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RUQyN0E5N0NEQjQzMTFFMEJENkNCN0I0QjBBMDU3MzYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpBNDQ3MkUzNkRCNDAxMUUwQkQ2Q0I3QjRCMEEwNTczNiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpBNDQ3MkUzN0RCNDAxMUUwQkQ2Q0I3QjRCMEEwNTczNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnhkEREAAACaSURBVHjaYvz//z8DCKxdu1YLSJkBMRsDYfALiE8FBwdfA3EYQYYADZgPNeAUVAEhwAZTDzQokXHNmjUJQI49iMNAIoBafpAJSNgA8REG8gBInw3IEE4g/k6mISB9nEwMVACjhowaQqwhX4CYh0z9IH1fQIbMAuJpwMzkRGLmswfpA+mHFQUhQE4dEOuSYM5lIG4F5v6VAAEGAGkRMGla548DAAAAAElFTkSuQmCC";return this.isDirty&&(e=this.booleanValue?"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABHNCSVQICAgIfAhkiAAAAGJ6VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAB4nFXIsQ2AMAwAwd5TeIR3HBwyDkIBRUKAsn9BAQ1XnuztbKOveo9r60cTVVVVz5JrrmkBZl4GbhgJKF8t/ExEDQ8rHgYgD0i2FMl6UPBzAAABCUlEQVQ4jZ3UsUrDUBgF4HN+Y2KhTyK4dioUfAYfoDeLLyDayU1sRdcOHZLZxxA6dRV8ECm0acj/O9RiSGNu0jOf8907XC7xm+zVXWrOAc8shCdWcCfntoru0i8AIABk0zg12oDGFWg7HwJjeOhHk8Tx++12HOX5KJokzjuuJJvGqRo+AtFiaMSyK7C/EJZCDIOgsJ5AN6cgYrpRsCeAdhpuZ7EdYacAVag1Uh5ePCT0ItWTmoBapHplH1CLlIttgFqkbtAE/IuUhz6gEWkLAEBAYq1kv025GhX2aVgLVRcwzLfP4+suQP7iRjDMqbrYfwUzd2OGR5BXh5KBII5e+F/MPkXwFN6n7z9GMnsCPVgwRwAAAABJRU5ErkJggg==":"iVBORw0KGgoAAAANSUhEUgAAABEAAAARCAYAAAA7bUf6AAAABHNCSVQICAgIfAhkiAAAAGJ6VFh0UmF3IHByb2ZpbGUgdHlwZSBBUFAxAAB4nFXIsQ2AMAwAwd5TeIR3HBwyDkIBRUKAsn9BAQ1XnuztbKOveo9r60cTVVVVz5JrrmkBZl4GbhgJKF8t/ExEDQ8rHgYgD0i2FMl6UPBzAAAA30lEQVQ4je3OMU4CYRiE4ZnPZckmdDaewYR2KxISz+AB+G28gDHEws6ohBYKCrb2GCZU25rY2tpYQcRd5BsKbbRZWUp8+3kyxHfFMBz7iikPFKMirVlaQ3nzInsGAALAfHCeNVSmFHNQZRUCMRaVUsyb/Wngy+iqdzR/7Sb9aagc/6q4O8tceIwO3986JGbbAl+HMDOiE8Xrz8TgyzqIyZcOJgZ4nf1PbGfhH9kHJCKxcLJVZ+zGFoWF0X0CYfxx2zvZBlgNQhfCmO4TAkBxH04lXINs/1mRnsxwE19mDxtbAk/8Q+6dmAAAAABJRU5ErkJggg=="),void(this.$.me.innerHTML='<img id="checkbox" src="data:image/png;base64,'+e+'"/>')}"string"!==this.type&&"textarea"!==this.type||!n.containsMarkup(this.value)?(this.$.formatted.style.padding="2px 0",this.$.me.textContent=(this.value+"").trim()):(this.$.formatted.style.padding="2px 0",this.$.me.innerHTML=n.sanitizeHtmlText((this.value+"").trim())),this.handleDefaultSizeIfImage()}}static containsMarkup(e){return/(<[a-z][\s\S]*>)|(&[^\s]*;)/.test(e)}handleDefaultSizeIfImage(){let e=this.component.shadowRoot.querySelector("#me img:not([style*=width])");e&&(e=this.component.shadowRoot.querySelector("#me img:not([width])")),e&&e.setAttribute("width",o.jz);let t=this.component.shadowRoot.querySelector("#me img:not([style*=height])");t&&(t=this.component.shadowRoot.querySelector("#me img:not([height])")),t&&t.setAttribute("height",o.ui)}isNil(){return(null==this.value||""===(this.value+"").trim())&&null==this.booleanValue}isMobile(){return this.viewport&&this.viewport.isMobile()}clearTabIndex(){this._tabindex=this.tabindex,this.tabindex=void 0}restoreTabIndex(){this.tabindex=this._tabindex}static sanitizeHtmlText(e){return e?sanitizeHtml(e,{allowedTags:sanitizeHtml.defaults.allowedTags.concat(["div","img","span","sub","sup","u","s","h1","h2","h3"]),allowedAttributes:{div:["style","class"],img:["src","height","width","alt","border","align","style"],a:["href","name","target","title"],span:["style"],p:["style"],li:["style"],em:["style"],u:["style"],s:["style"],sub:["style"],sup:["style"],strong:["style"]},parser:{decodeEntities:!1}}):e}}},6862:(e,t,i)=>{"use strict";i.d(t,{N:()=>c});var o=i(1776),r=i(2459),n=i(5239),s=i(1876);class a{constructor(e,t){this.connection=e,this.metricsService=t||new n.Z}read(e,t,i){return this.prefix=e,new Promise(function(e,o){this._getApex().then(function(r){let n="&reader="+t+"&uid="+i+"&spt="+this.metricsService.canGatherMetrics(),s=this.metricsService.startServiceRequest(n);r.get(this._getEndpoint()+n).then(function(t){this._resolve(this._parse(t),e,s)}.bind(this),function(e){this._reject(o,e.message||e,s)}.bind(this))}.bind(this),(function(e){o(e.message||e)}))}.bind(this))}load(e,t,i,o){return this.prefix=e,new Promise(function(e,r){this._getApex().then(function(n){let s="&loader="+t+"&uid="+i+"&spt="+this.metricsService.canGatherMetrics(),a=this.metricsService.startServiceRequest(s);n.patch(this._getEndpoint()+s,{context:JSON.stringify(o)}).then(function(t){this._resolve(this._parse(t),e,a)}.bind(this),function(e){this._reject(r,e.message||e,a)}.bind(this))}.bind(this),(function(e){r(e.message||e)}))}.bind(this))}save(e,t,i){return this.prefix=e,new Promise(function(e,o){this._getApex().then(function(r){let n=this.metricsService.startServiceRequest(t);r.post(this._getEndpoint()+"&spt="+this.metricsService.canGatherMetrics(),{saver:t,model:"string"==typeof i?i:JSON.stringify(i)}).then(function(t){this._resolve(this._parse(t),e,n)}.bind(this),function(e){this._reject(o,e.message||e,n)}.bind(this))}.bind(this),(function(e){o(e.message||e)}))}.bind(this))}describe(e){return this.getConnection().then((t=>t.describe(e)))}query(e){return this.getConnection().then((t=>t.query(e)))}requestPost(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getConnection().then((o=>o.requestPost(e,t,i)))}streamFileContents(e,t,i){return new Promise(((o,r)=>{this._getApex().then((n=>{let s=this.metricsService.startServiceRequest(t);n.post(null,{saver:"sobjects",model:"/sobjects/"+e+"/"+t+"/"+i}).then((e=>{this._resolve(this._parse(e),o,s)}),(e=>{this._reject(r,e.message||e,s)}))}),(e=>{r(e.message||e)}))}))}setConnection(e){this.connection=e}getConnection(){return this.connection?Promise.resolve(this.connection):"undefined"==typeof window?Promise.reject("Connection not set"):(this.oauth=this.oauth||new r.W,this._getConnection(this.oauth))}_getConnection(e){return new Promise(function(t,i){e.getConnection().then(function(e){this.connection=e,t(this.connection)}.bind(this),(function(e){i(e.message||e)}))}.bind(this))}_getApex(){return this.getConnection().then((e=>Promise.resolve(e.apex)))}_getEndpoint(){return this._getPrefix()+"/ServiceRouter?"+(void 0===this.connection.oik?"":"oik="+this.connection.oik)}_getPrefix(){return this.prefix?"/"+this.prefix:""}_resolve(e,t,i){let o=-1!=Object.keys(e).indexOf("spt")?e.spt:void 0;this.response=o||0===o?this._parse(e.response):e,this.metricsService.stopServiceRequest(i,o),t(this.response)}_reject(e,t,i){(new n.Z).stopServiceRequest(i),e(this._adjustErrorMessage(t))}_adjustErrorMessage(e){return"expired access/refresh token"===e&&(e+=" - to authorize go to http://localhost:"+location.port+"/common/oauth"),e}_parse(e){try{return(new s.S).parse(e)}catch(t){return e}}}class l{constructor(e){this.VF_MAX_INPUT=1e6,this._remoteConnection=(new o.m).getRemoteConnection(),this._restClient=new a(this._remoteConnection),this.metricsService=e||new n.Z}read(e,t,i){return this.prefix=e,this._remote("read",t,i)}load(e,t,i,o){this.prefix=e;let r=JSON.stringify(o);return!0===this._isPayloadTooLarge([r,i])?this._restClient.load(e,t,i,o):this._remote("load",t,i,r)}save(e,t,i){this.prefix=e;var o="string"==typeof i?i:JSON.stringify(i);return!0===this._isPayloadTooLarge([o,t])?this._restClient.save(e,t,i):this._remote("save",t,o)}describe(e){return this._remoteConnection.describe(e)}query(e,t){return(new o.m).getRemoteConnection(t).query(e)}requestPost(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._remoteConnection.requestPost(e,t,i)}_remote(e,t,i,o){var r=this._getAction()+"."+e;return new Promise(o?function(e,n){let s=this.metricsService.startServiceRequest(t);Visualforce.remoting.Manager.invokeAction(r,t,i,o,this.metricsService.canGatherMetrics(),function(t,i){this._callback(t,i,e,n,s)}.bind(this),{escape:!1,timeout:12e4})}.bind(this):function(e,o){let n=this.metricsService.startServiceRequest(t);Visualforce.remoting.Manager.invokeAction(r,t,i,this.metricsService.canGatherMetrics(),function(t,i){this._callback(t,i,e,o,n)}.bind(this),{escape:!1,timeout:12e4})}.bind(this))}_getAction(){return this._getPrefix()+"ServiceRouter"}_getPrefix(){return this.prefix?this.prefix+".":""}_callback(e,t,i,o,r){if(!t.status)return this.metricsService.stopServiceRequest(r),void o(t.message);let n=this._parse(e),s=-1!=Object.keys(n).indexOf("spt")?n.spt:void 0;n=s||0===s?this._parse(n.response):n,this.metricsService.stopServiceRequest(r,s),i(n)}_parse(e){try{return(new s.S).parse(e)}catch(t){return e}}_isPayloadTooLarge(e){return JSON.stringify(e).length>this.VF_MAX_INPUT}}var d=i(2573);class c{constructor(){this.client="undefined"!=typeof Visualforce?new l:new a}read(e,t,i){return this.client.read(e,t,i)}load(e,t,i,o){return this.client.load(e,t,i,o)}save(e,t,i){let o={stripValues:new Set(["fieldVisibility","fieldEditability"])};var r="string"==typeof i?i:new d.z(null,null,null,o).format(i,!0);return this.client.save(e,t,r)}md(e,t,i){return this.client.load(e,"OAuthExtension.MetadataReader",null,{type:t,items:i})}describe(e,t){return this.client.describe(t)}query(e,t){return this.client.query(e,t)}requestPost(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.client.requestPost(e,t,i)}streamFileContents(e,t,i){return this.client.streamFileContents(e,t,i)}setConnection(e){"function"==typeof this.client.setConnection&&this.client.setConnection(e)}}},6902:(e,t,i)=>{"use strict";i.d(t,{B:()=>c,L:()=>d});var o=i(7734),r=i(1924);let n={},s={},a={},l=window&&window.sb||{};function d(e,t){return r.F.localize(e,t)}l.ui=l.ui||{},l.common=l.common||{},l.common.core=l.common.core||{},window.sb=l;class c extends o.Pu{ready(){super.ready()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}static init(e){return c.buildUserAndOrgFromSettings(e),c.device="desktop",navigator.userAgent.match(/Tablet|iPad|iPod/i)&&!navigator.userAgent.match(/Tablet PC/i)||navigator.userAgent.match(/Android/i)&&!navigator.userAgent.match(/Mobi/i)?c.device="tablet":navigator.userAgent.match(/Mobi/i)&&(c.device="phone"),new Promise(((e,t)=>{let i={labels:r.F.getLabels(),user:s};r.F.init(null,i.labels,c.org.currencySymbol,s.locale),e(i)}))}static hasInitialized(){return!0===c.userAndOrgSettingsSet}static buildUserAndOrgFromSettings(e){e&&(c.userAndOrgSettingsSet=!0,c.user={lang:e.language,locale:e.locale,id:e.userId,fullname:e.fullName,username:e.userName,device:e.device,inCommunity:e.inCommunity,hasQuoteEditPermission:e.hasQuoteEditPermission,oik:e.oik},c.org={prefix:void 0!==e.developerPrefix?e.developerPrefix:"",scPrefix:void 0!==e.scDeveloperPrefix?e.scDeveloperPrefix:"",isMultiCurrencyOrg:e.isMultiCurrencyOrg,isServiceCloudEnabled:e.isServiceCloudEnabled,calculateImmediately:e.calculateImmediately,defaultCurrency:e.defaultCurrency,currencySymbol:e.currencySymbol,currencyDecimalScale:e.currencyDecimalScale,quantityScale:e.quantityScale,isOAuth:e.isOAuth,orgUrl:e.orgUrl,orgInstanceUrl:e.orgInstanceUrl,siteUrl:e.siteUrl,additionalLookupSearchTypes:e.additionalLookupSearchTypes,maxLookupSearchFields:e.maxLookupSearchFields,isJSProductRulesEnabled:e.isJSProductRulesEnabled,hasQuoteSelectionProductRules:e.hasQuoteSelectionProductRules,isUI3Enabled:!0,isBundleCollapsible:e.isBundleCollapsible,defaultBundleSetting:e.defaultBundleSetting,apiVersion:57,isPricingGuidanceEnabled:e.isPricingGuidanceEnabled,isCompactModeEnabled:e.isCompactModeEnabled,isManualEditsForUBPEnabled:e.isManualEditsForUBPEnabled,isColumnResizingEnabled:e.isColumnResizingEnabled,viewEncryptedDataEnabled:e.viewEncryptedDataEnabled,hideFeatureNoOptionEnabled:e.hideFeatureNoOptionEnabled,externalConfiguratorNestedBundlesEnabled:e.externalConfiguratorNestedBundlesEnabled,hideProductSearchBarEnabled:e.hideProductSearchBar})}static get properties(){return{app:{type:Object,value:function(){return{user:s,labels:r.F.getLabels(),org:n,deviceContext:{isDesktop:c.isDesktop,isTablet:c.isTablet,isPhone:c.isPhone,isMobile:c.isPhone||c.isTablet}}}},i18n:{type:Object,value:function(){return r.F}}}}get user(){return s}get labels(){return r.F.getLabels()}get org(){return n}static get user(){return s}static get labels(){return r.F.getLabels()}static get org(){return n}static get device(){return a}static set user(e){s=e}static set org(e){n=e}static set device(e){a=e}static get isDesktop(){return s.device?"desktop"===s.device:"desktop"===a}static get isTablet(){return s.device?"tablet"===s.device:"tablet"===a}static get isPhone(){return s.device?"phone"===s.device:"phone"===a}static isIE(){let e=window.navigator.userAgent;return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}static isChrome(){return window.navigator.userAgent.indexOf("Chrome")>=0}static isFirefox(){return window.navigator.userAgent.indexOf("Firefox")>=0}static isSafari(){let e=window.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0}static get apiVersion(){return c.org.apiVersion}static get apiVersionString(){return c.org.apiVersion+".0"}static set apiVersion(e){c.org.apiVersion=e}static get i18n(){return r.F}static get isMobile(){return c.properties.app.value().deviceContext.isMobile}static isBundleCollapsible(e){return c.org.isBundleCollapsible&&!this.isMobile&&e.data.settings.bundleKeptTogether&&e.largeQuoteExperienceEnabled&&e.isProductHierarchyVisualized()}static get defaultBundleSetting(){return c.org.defaultBundleSetting}static get isPricingGuidanceEnabled(){return c.org.isPricingGuidanceEnabled}static get isCompactModeEnabled(){return c.org.isCompactModeEnabled}static get isManualEditsForUBPEnabled(){return c.org.isManualEditsForUBPEnabled}static get isColumnResizingEnabled(){return c.org.isColumnResizingEnabled}static get viewEncryptedDataEnabled(){return c.org.viewEncryptedDataEnabled}static get isHideFeatureNoOptionEnabled(){return c.org.hideFeatureNoOptionEnabled}static get isExternalConfiguratorNestedBundlesEnabled(){return c.org.externalConfiguratorNestedBundlesEnabled}}l.common.core.AppContext=c},6986:(e,t,i)=>{"use strict";i.d(t,{W:()=>d});i(8443);var o=i(8246),r=i(5292),n=i(5182);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const s={};let a=HTMLElement.prototype;for(;a;){let e=Object.getOwnPropertyNames(a);for(let t=0;t<e.length;t++)s[e[t]]=!0;a=Object.getPrototypeOf(a)}const l=window.trustedTypes?e=>trustedTypes.isHTML(e)||trustedTypes.isScript(e)||trustedTypes.isScriptURL(e):()=>!1;const d=(0,o.y)((e=>{const t=(0,n.e)(e);return class extends t{static createPropertiesForAttributes(){let e=this.observedAttributes;for(let t=0;t<e.length;t++)this.prototype._createPropertyAccessor((0,r.I)(e[t]))}static attributeNameForProperty(e){return(0,r.e)(e)}_initializeProperties(){this.__dataProto&&(this._initializeProtoProperties(this.__dataProto),this.__dataProto=null),super._initializeProperties()}_initializeProtoProperties(e){for(let t in e)this._setProperty(t,e[t])}_ensureAttribute(e,t){const i=this;i.hasAttribute(e)||this._valueToNodeAttribute(i,t,e)}_serializeValue(e){if("object"==typeof e){if(e instanceof Date)return e.toString();if(e){if(l(e))return e;try{return JSON.stringify(e)}catch(e){return""}}}return super._serializeValue(e)}_deserializeValue(e,t){let i;switch(t){case Object:try{i=JSON.parse(e)}catch(t){i=e}break;case Array:try{i=JSON.parse(e)}catch(t){i=null,console.warn(`Polymer::Attributes: couldn't decode Array as JSON: ${e}`)}break;case Date:i=isNaN(e)?String(e):Number(e),i=new Date(i);break;default:i=super._deserializeValue(e,t)}return i}_definePropertyAccessor(e,t){!function(e,t){if(!s[t]){let i=e[t];void 0!==i&&(e.__data?e._setPendingProperty(t,i):(e.__dataProto?e.hasOwnProperty(JSCompiler_renameProperty("__dataProto",e))||(e.__dataProto=Object.create(e.__dataProto)):e.__dataProto={},e.__dataProto[t]=i))}}(this,e),super._definePropertyAccessor(e,t)}_hasAccessor(e){return this.__dataHasAccessor&&this.__dataHasAccessor[e]}_isPropertyPending(e){return Boolean(this.__dataPending&&e in this.__dataPending)}}}))},7022:(e,t,i)=>{"use strict";var o=i(6902),r=i(3188),n=i(5849),s=i(983),a=i(6640),l=i(1924),d=i(5539),c=i(4886),u=i(7734),h=i(1149),p=i(6206);const f=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  cursor: initial;
  width: 100%;
  word-wrap: var(--sbFieldWordWrap, normal);
}
:host #f {
  white-space: var(--sbFieldWhiteSpace, inherit);
}
#formatted.link:not(.empty):hover {
  text-decoration: underline;
  cursor: pointer;
}
#formatted.search:before {
  content: '\\e87f';
  font-family: 'sf-icons';
}
/* A formatted field can receive focus if editable so prevent the focus outline here */
#formatted {
  outline: none;
  font-size: var(--sbTableRowFontSize);
}
/* A dirty (or edited) formatted field appears as orange with a heavier font weight */
#formatted.dirty {
  color: var(--sbFieldEditedColor);
  font-weight: 700;
}
/* A link style for non nil values, or nil values that displays as empty */
#formatted.link,
#formatted.link.empty:before {
  color: #0070d2;
  text-decoration: none;
  -webkit-transition: color 0.1s linear;
  transition: color 0.1s linear;
}
/* An empty link cell contains the text '(empty)' so it can be clicked */
#formatted.link.empty:before {
  content: '(empty)';
}
/* Hover over the over the '(empty)' text that is a link and it should be underlined */
#formatted.link.empty:hover:before {
  text-decoration: underline;
  color: #0070d2;
  cursor: pointer;
}
/* Hover over an editable field or a link field and change the cursor since there is something to click */
#formatted.editable:hover {
  cursor: pointer;
}
/* Not editable fields have lock icon hidden in desktop (shows on hover) */
#formatted[class*='--desktop']:not(.editable):not(.empty).firstField:not(.readOnly):after,
#formatted[class*='--desktop']:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,
#formatted[class*='--desktop']:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,
#formatted[class*='--desktop']:not(.editable).empty.firstField:not(.readOnly):before,
#formatted[class*='--desktop']:not(.editable).empty:not(.numericField):not(.readOnly):before,
#formatted[class*='--desktop']:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {
  content: '\\e874';
  color: var(--sbFieldEditableIconColor);
  font-family: 'sf-icons';
  display: none;
}
[class*='--desktop'] #formatted:not(.editable):not(.empty).firstField:not(.readOnly):after,
[class*='--desktop'] #formatted:not(.editable):not(.empty):not(.numericField):not(.readOnly):after,
[class*='--desktop'] #formatted:not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):before,
[class*='--desktop'] #formatted:not(.editable).empty.firstField:not(.readOnly):before,
[class*='--desktop'] #formatted:not(.editable).empty:not(.numericField):not(.readOnly):before,
[class*='--desktop'] #formatted:not(.editable).empty.numericField:not(.firstField):not(.readOnly):after {
  content: '\\e874';
  color: var(--sbFieldEditableIconColor);
  font-family: 'sf-icons';
  display: none;
}
/* Editable field have pencil icon hidden (shows on hover or when dirty and empty) */
#formatted.editable:not(.empty).firstField:not(.readOnly):after,
#formatted.editable:not(.empty):not(.numericField):not(.readOnly):after,
#formatted.editable:not(.empty).numericField:not(.firstField):not(.readOnly):before,
#formatted.editable.empty.firstField:not(.readOnly):before,
#formatted.editable.empty:not(.numericField):not(.readOnly):before,
#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {
  content: '\\e847';
  color: var(--sbFieldEditableIconColor);
  font-family: 'sf-icons';
  display: none;
}
/* Any formatted empty field show icon but make transparent color so appears hidden to allow clicking on it */
#formatted.editable.empty.firstField:not(.readOnly):before,
#formatted.editable.empty:not(.numericField):not(.readOnly):before,
#formatted.editable.empty.numericField:not(.firstField):not(.readOnly):after {
  color: transparent;
  display: inline;
}
/* Hover over any clean read-only field or any editable "show" field which will display its icon should be displayed as gray*/
#formatted:not(.dirty):not(.editable):not(.empty).firstField:not(.readOnly):hover:after,
#formatted:not(.dirty):not(.editable):not(.empty):not(.numericField):not(.readOnly):hover:after,
#formatted:not(.dirty):not(.editable):not(.empty).numericField:not(.firstField):not(.readOnly):hover:before,
#formatted:not(.dirty):not(.editable).empty.firstField:not(.readOnly):hover:before,
#formatted:not(.dirty):not(.editable).empty:not(.numericField):not(.readOnly):hover:before,
#formatted:not(.dirty):not(.editable).empty.numericField:not(.firstField):not(.readOnly):hover:after,
#formatted:not(.dirty).editable.show:not(.empty).firstField:not(.readOnly):after,
#formatted:not(.dirty).editable.show:not(.empty):not(.numericField):not(.readOnly):after,
#formatted:not(.dirty).editable.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,
#formatted:not(.dirty).editable.show.empty.firstField:not(.readOnly):before,
#formatted:not(.dirty).editable.show.empty:not(.numericField):not(.readOnly):before,
#formatted:not(.dirty).editable.show.empty.numericField:not(.firstField):not(.readOnly):after {
  color: var(--sbFieldEditableIconColor) !important;
  display: inline;
}
/*  An empty dirty formatted field or any "show" dirty formatted field displays the icon with the same color as its dirty text (but not same font-weight) */
#formatted.dirty.show:not(.empty).firstField:not(.readOnly):after,
#formatted.dirty.show:not(.empty):not(.numericField):not(.readOnly):after,
#formatted.dirty.show:not(.empty).numericField:not(.firstField):not(.readOnly):before,
#formatted.dirty.empty.firstField:not(.readOnly):before,
#formatted.dirty.empty:not(.numericField):not(.readOnly):before,
#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):after {
  font-weight: 400;
  color: inherit;
  display: inline;
}
#formatted.dirty.empty.firstField:not(.readOnly):after,
#formatted.dirty.empty:not(.numericField):not(.readOnly):after,
#formatted.dirty.empty.numericField:not(.firstField):not(.readOnly):before {
  display: none;
}
#formatted.boolean:not(.readOnly).show:after,
#formatted.boolean:not(.readOnly):hover:after {
  position: relative;
  top: -5px;
}
.disabled[class*='--desktop'] {
  font-weight: 300;
}
[class*='--desktop'] .disabled {
  font-weight: 300;
}
:host([class*='--mobile']) {
  min-height: 1rem;
}
:host([class*='--mobile']) {
  min-height: 1rem;
}
`;i(4);var b=i(197);let g="keyReadOnly",m="keyDownReadOnly",y="blurReadOnly",v="change",_="hideField",w="refDisplay";class x extends((0,c.$)(o.B)){static get is(){return"sb-field"}static get properties(){return(0,p.X$)({obj:Object,property:String,model:{type:Object,value:null},md:Object,type:{type:String,computed:"getType(md)"},refObjects:{type:Array,value:[]},editing:{type:Boolean,value:!1},_wasEverEditable:{type:Boolean,computed:"_setWasEverEditable(editing)"},disabled:{type:Boolean,value:!1},hidden:{type:Object,value:!1,observer:"hiddenChanged"},link:Boolean,value:{observer:"_valueChanged"},refDisplay:{type:String,notify:!0},objAndRefObjects:Object,objKey:String,refObjectsKey:String,refTable:{type:String,computed:"computeRefTable(md)"},readOnly:Boolean,renderReadOnly:{type:Boolean,value:!1},formattedValue:Object,originalFormattedValue:String,hideFormattedValue:{type:Boolean,value:!1},focus:{type:Boolean,value:!1,observer:"applyFocus"},index:Number,recordId:{type:String,value:null,observer:"recordIdChanged"},numberParser:{type:Object,value:function(){return new r.d}},preventNumericAlignment:{type:Boolean,value:!1},signaler:Object,record:Object,tabIndex:Number,factoryData:Object,html:Object},o.B.properties)}static get observers(){return["_renderObserver(model, obj, property, md, refObjects, editing, renderReadOnly, html)","_setObjAndRefObjectsObserver(objAndRefObjects, objKey, refObjectsKey)","_setOriginalFormattedValueObserver(model, originalValue, md)","addControlledSelectListener(md)","recordChanged(record.*)","_valueChangedObserver(model, obj, md, property, html, value)","_disabledChangedObserver(model, obj, md, html, disabled)","_createObjObserver(value, property)"]}ready(){super.ready(),this.addEventListener("sb-row-focus-signal",this.handleRowFocusSignal.bind(this)),this.addEventListener("sb-field-edit",this.handleFieldEditSignal.bind(this)),this.html=new a.E(this)}connectedCallback(){super.connectedCallback(),this._tapHandler=this.linkOrEdit.bind(this),this.$.formatted.addEventListener("click",this._tapHandler,{passive:!0})}disconnectedCallback(){super.disconnectedCallback(),this._tapHandler&&this.$.formatted&&this.$.formatted.removeEventListener("click",this._tapHandler)}_createObjObserver(e,t){if(void 0!==t)return this._createObj(e,t)}_createObj(e,t){if(this.obj&&!this.isInternalObject)return;this.isInternalObject=!0;const i=this.obj?this.obj:{};i[t]=e,this.obj=i}_setObjAndRefObjectsObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.setObjAndRefObjects(e,t,i)}setObjAndRefObjects(e,t,i){this.obj=void 0,this.refObjects=void 0,this.refObjects=e[i],void 0===this.refObjects&&(this.refObjects={}),this.obj=""!==t?e[t]:e}_renderObserver(e,t,i,o,r,n,s,a){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r&&void 0!==n&&void 0!==s&&void 0!==a)return this.render(e,t,i,o,r,n,s,a)}render(e,t,i,o,r,n,s,a){this.rendered=!0,this.isReadOnly()?this.updateTemplateData(e,t,o,a):(this._toggleEditing&&this._unrender(),this._render(e,t,o,a))}_render(e,t,i,o){if(this.domBind)return;this.domBind=document.createElement("dom-bind"),this.template=document.createElement("template"),this.domBind.appendChild(this.template);let r=this.updateTemplateData(e,t,i,o);this.createBaseElement(r.html),this.domBind[v]=this.onChange.bind(this),this.domBind[g]=e=>this.onKeyupReadOnly(this.model,this.obj,this.md,this.html,e),this.domBind[m]=this.onKeyDownReadOnly.bind(this),this.domBind[y]=e=>this.onBlurReadOnly(this.model,this.obj,this.md,this.html,e),this.isReadOnly()||(this.hideFormattedValue=!0),this.$.f.appendChild(this.domBind)}_unrender(){if(this.domBind)try{let e=this.$.f,t=e.lastElementChild;for(;t;)e.removeChild(t),t=e.lastElementChild;(0,b.b)(),this.domBind=null,this.template=null}catch(e){return}}_setOriginalFormattedValueObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this._setOriginalFormattedValue(e,t,i)}_setOriginalFormattedValue(e,t,i){let o=this.getFormField(e,t,i),r=this.originalFormattedValue&&void 0!==this.originalFormattedValue.value&&this.originalFormattedValue.value!==t;this.originalFormattedValue=this.getFormattedValue(o,t),this.formattedValue&&r&&this.addFormattedDirtyClass(this.isEditable())}onChange(e){this._onChange(e);let t=!!e.detail&&e.detail.suppressImmediateCalculation;this.dispatchEvent((0,h.uv)("sb-field-on-change-field",{suppressImmediateCalculation:t}))}_onChange(e){if(this.internal)return;let t=this.getEventTarget(e),i=void 0!==t.value?t.value:e.detail?e.detail.value:null;this.refDisplay=void 0!==t[w]?t[w]:e.detail&&void 0!==e.detail[w]?e.detail[w]:this.refDisplay,this.isNumericType()?i=i&&0!==i?this.numberParser.parse(i,!1,this.md.scale):null:i instanceof Date&&(i="date"===this.type?d.Z.toApexDate(i):d.Z.toApexDateTime(i)),this.internal=!0,this.obj[this.property]=i,(0,p.bv)(this).value=i,this.internal=!1,this.fireCustomChangeEvents(e)}fireCustomChangeEvents(e){!this.md||e&&!e.detail||this.fireControllingSelectChangeEvent()}fireControllingSelectChangeEvent(){var e={tableName:this.md.tableName,fieldName:this.md.name,record:this.record},t=new CustomEvent("sb-controlling-select-changed",{bubbles:!1,detail:e});document.dispatchEvent(t)}onKeyDownReadOnly(e){if(!this.signaler||!this.isRenderReadOnly())return;if(9!==(e.keyCode||e.detail.keyCode))return;let t=e.shiftKey||e.detail.shiftKey;this.signaler.signalNextPreviousEditableTarget(this,!t)}onKeyupReadOnly(e,t,i,o,r){27===(r.keyCode||r.detail.keyCode)&&this.onBlurReadOnly(e,t,i,o,!1)}onBlurReadOnly(e,t,i,o,r){if(this.isReadOnly()&&!this.domBind[_]){if(r)this.setPreviouslyFormattedValue(),this.updateTemplateData(e,t,i,o);else{let r={target:{value:this.previouslyFormatted?this.previouslyFormatted.value:this.formattedValue.value}};this.isLookup()&&(r.target[w]=this.previouslyFormatted?this.previouslyFormatted.label:this.formattedValue.label),this._onChange(r),this.updateTemplateData(e,t,i,o)}this.domBind[_]=!0,this.hideFormattedValue=!1,this.isRenderReadOnly()&&this.enableSignals()}}updateTemplateData(e,t,i,o){let r=t[this.property],n=this.getFormField(e,r,i);if(n.defaultValue&&this.domBind&&this._onChange({target:{value:n.defaultValue}}),this.formattedValue=this.getFormattedValue(n,r),this.originalFormattedValue=this.originalFormattedValue||this.formattedValue,this.addFormattedValueClasses(n.numeric),this.isReadOnly()&&this.setFormattedDetails(o),this.domBind)return n.attachTo(this.domBind,g,m,y,v,_,this.isRenderReadOnly()),n}getFormField(e,t,i){let o=this.isEditable(!this._toggleEditing),r=this.getSelectOptions(i),s={refDisplay:this.refDisplay,refDisplayName:w,refTable:this.refTable,refObjects:this.refObjects,property:this.property,obj:this.obj,record:this.record};return(0,n.v)(this.type,e,t,o,this.disabled,this.hidden,this.index,this.md,l.F,this.isRenderReadOnly(),r,s,this.tabIndex,this.factoryData)}getFormattedValue(e,t){return e.formattedValue||{value:t,label:t}}addFormattedValueClasses(e){let t=this.isEditable();(0,p.p1)("editable",t,this.$.formatted),(0,p.p1)("numericField",this.segmentedAlignment||!this.preventNumericAlignment&&e,this.$.formatted),(0,p.p1)("firstField",0==this.index,this.$.formatted),(0,p.p1)("readOnly",this.readOnly,this.$.formatted),this.addFormattedDirtyClass(t);let i=this.isBoolean(),o=!i&&(!1===this.formattedValue.value||this.isNil(this.formattedValue.label)&&!0!==this.formattedValue.value);(0,p.p1)("empty",o,this.$.formatted),(0,p.p1)("empty",o,this.$.me),(0,p.p1)("link",this.link,this.$.formatted),(0,p.p1)("link",this.link,this.$.me),(0,p.p1)("boolean",i,this.$.formatted)}addFormattedDirtyClass(e){this.isDirty=e&&this.formattedValue.value!==this.originalFormattedValue.value&&!(this.isNil(this.formattedValue.value)&&this.isNil(this.originalFormattedValue.value)),(0,p.p1)("dirty",this.isDirty,this.$.formatted)}signalRowFocus(){this.signaler&&(this.signaler.fireSignal("sb-row-focus-signal",!0),setTimeout(function(){this.signaler.disable()}.bind(this),20))}enableSignals(){this.signaler&&this.signaler.enable()}handleRowFocusSignal(e){this.signaler&&(this.signaler.toggleRowFocus(e),this.isEditable()&&(0,p.p1)("show",e.detail.focused,this.$.formatted))}handleFieldEditSignal(e){"richtextarea"===this.md.extraTypeInfo?this.signaler.signalNextPreviousEditableTarget(this,e.detail.next):(this.ironList=this.signaler.ironList,this.ironList&&this.ironList.lastVisibleIndex==this.ironList.items.length-1&&(this.ironList.toggleScrollListener(!1),this.scrollListenerDetached=!0),setTimeout(function(){this.scrollListenerDetached&&(this.ironList.toggleScrollListener(!0),this.scrollListenerDetached=!1),this.edit()}.bind(this),0))}createBaseElement(e){var t=this.template.content.ownerDocument.createElement("div");t.innerHTML=e;let i=t.firstChild;this.template.content.appendChild(i)}isNumericType(){switch(this.type){case"double":case"number":case"currency":case"percent":return!0}return!1}getType(e){return e&&e.type?e.type.toLowerCase():""}_valueChanged(){this.rendered&&void 0===this.value&&this.valueChanged(this.model,this.obj,this.md,this.property,this.html,this.value)}_valueChangedObserver(e,t,i,o,r,n){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r&&void 0!==n)return this.valueChanged(e,t,i,o,r,n)}valueChanged(e,t,i,o,r,n){void 0===n&&this.isBoolean()||(this.internal&&this.domBind?this.domBind.value=n:this.obj[o]=n,this.setPreviouslyFormattedValue(),this.updateTemplateData(e,t,i,r))}setPreviouslyFormattedValue(){this.previouslyFormatted=void 0===this.formattedValue?null:JSON.parse(JSON.stringify(this.formattedValue))}_disabledChangedObserver(e,t,i,o,r){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r)return this.disabledChanged(e,t,i,o,r)}disabledChanged(e,t,i,o,r){(0,p.p1)("disabled",r,this.$.formatted),this.domBind&&(this.domBind.disabled=r),this.isRenderReadOnly()&&this.editing&&this.updateTemplateData(e,t,i,o)}hiddenChanged(){this.domBind&&(this.domBind.hide=this.hidden)}recordIdChanged(){this.domBind&&(this.domBind.recordId=this.recordId)}recordChanged(e){this.domBind&&e&&e.path&&"record"!==e.path&&this.domBind.set(e.path,e.value)}computeRefTable(e){if(void 0!==e)return e.referenceTable?e.referenceTable:e.referenceTo&&e.referenceTo.length>0?e.referenceTo[0]:null}linkOrEdit(){this.link?this.dispatchEvent((0,h.uv)("sb-link-tapped",{value:this.value,Id:this.recordId})):this.edit(!0)}edit(e){this.isEditable()&&(this._render(this.model,this.obj,this.md,this.html),this.hideFormattedValue=!this.isRichText(),this.domBind[_]=!this.hideFormattedValue,this.domBind.__children&&this.domBind.__children[0].focus&&this.domBind.__children[0].focus(),e&&this.invertValueIfInlineBoolean(),this.isRenderReadOnly()&&this.signalRowFocus())}getEventTarget(e){try{return e.localTarget||e.target}catch(t){return e.target}}isNil(e){return null==e||""===e||"number"==typeof e&&e+""=="NaN"}applyFocus(){this.domBind&&(this.domBind.applyFocus=this.focus)}isEditable(e){return!(!e||!this._wasEverEditable)||!(this.readOnly||this.isRenderReadOnly()&&this.disabled)&&this.editing}isReadOnly(){return this.readOnly||this.isRenderReadOnly()||this.isFormulaHtml()}isRenderReadOnly(){return this.renderReadOnly||this.isRichText()}isFormulaHtml(){return this.md.htmlFormatted&&this.md.calculated}setFormattedDetails(e){e.isDirty=this.isDirty,e.link=!!this.link,e.type=this.type,e.booleanValue=this.isBoolean()?this.obj[this.property]:null,e.value=this.formattedValue.label,this.formattedValue.unit&&(e.value+=" "+this.formattedValue.unit),e.sanitizeAndSetInnerHTML()}isBoolean(){return"boolean"===this.type||"checkbox"===this.type}isLookup(){return"id"===this.type||"reference"===this.type}isRichText(){return"textarea"===this.type&&"richtextarea"===this.md.extraTypeInfo}addControlledSelectListener(e){e&&e.controllerName&&document.addEventListener("sb-controlling-select-changed",(e=>this.controllerSelectHandler(this.model,this.obj,this.md,this.html,e)))}controllerSelectHandler(e,t,i,o,r){let n=r.detail.tableName,s=r.detail.fieldName,a=r.detail.record,l="function"==typeof this.record.equals&&a?this.record.equals(a):this.record===a;n===i.tableName&&i.controllerName===s&&l&&(this.buildSelectOptions(i,!0)||this.updateTemplateData(e,t,i,o))}getSelectOptions(e){return this._selectOptions||this.buildSelectOptions(e),this._selectOptions}buildSelectOptions(e,t){if(!e.controllerName||!this.record)return this._selectOptions=e.picklistValues,!1;let i="function"==typeof this.record.getValue?this.record.getValue(e.controllerName):this.record[e.controllerName];return this._selectOptions=new s.Q(e,i).build(),!!t&&this.clearValueIfNotAnOption(this._selectOptions)}clearValueIfNotAnOption(e){if(null===this.value)return!1;let t=!0;return e.forEach(function(e){e.value==this.value&&(t=!1)}.bind(this)),!!t&&("function"==typeof this.record.setValue?this.record.setValue(this.property,null):this.record[this.property]=null,this.onChange({target:{value:null},detail:!0}),!0)}invertValueIfInlineBoolean(){this.isRenderReadOnly()&&this.isBoolean()&&(this.value=!this.obj[this.property],this.internal=!0,(0,p.bv)(this).value=this.value,this.internal=!1,this.fireCustomChangeEvents(),this.dispatchEvent((0,h.uv)("sb-field-on-change-field",void 0)))}_setWasEverEditable(){return this._wasEverEditable||this.editing}toggleEditing(e){this.domBind&&!!e!=!!this.editing&&(this._toggleEditing=!0,this.editing=e,this._toggleEditing=!1)}static get template(){return u.qy`
		<style include="sb-icons-styles"></style>
		<style>${f}</style>
		<span device>
			<div id="f"></div>
			<div id="formatted" hidden$="[[hideFormattedValue]]" on-focus="edit">
				<span id="me"></span>
			</div>
		</span>
		`}}customElements.define(x.is,x)},7163:(e,t,i)=>{"use strict";i.d(t,{N6:()=>l,Nj:()=>a,kz:()=>r,me:()=>n});const o=new Map;function r(e,t){o.has(e)||o.set(e,new Set);const i=o.get(e);return i.add(t),()=>{i.delete(t)}}function n(e,t){o.has(e)&&o.get(e).forEach((e=>{e(t)}))}const s=new Map;function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"model";s.has(e)&&s.get(e)(),s.set(e,r(e[t],(i=>{e.notifyPath([t].concat(i).join("."))})))}function l(e,t,i){const o=t.length-1;t.slice(0,o).reduce(((e,t)=>e[t]),e)[t[o]]=i,n(e,t)}},7180:(e,t,i)=>{"use strict";i.d(t,{h:()=>r});var o=i(6902);class r{static get(){return o.B.user&&o.B.user.locale||"en-US"}static isCommaDecimal(e){return-1!==n.indexOf(e||r.get())}}const n=["ar-DZ","bg-BG","ca-ES","hr-HR","cs-CZ","da-DK","nl-AW","nl-BE","nl-NL","nl-SR","en-ZA","et-EE","fi-FI","fr-BE","fr-CA","fr-KM","fr-FR","fr-GN","fr-HT","fr-LU","fr-MR","fr-MC","fr-CH","fr-WF","de-AT","de-DE","de-LU","en-BE","el-GR","hu-HU","in-ID","it-IT","lv-LV","lt-LT","no-NO","pl-PL","pt-AO","pt-BR","pt-CV","pt-MZ","pt-PT","pt-ST","ro-MD","ro-RO","ru-RU","sr-BA","sr-RS","sr-CS","sk-SK","sl-SI","es-AR","es-BO","es-CL","es-CO","es-CR","es-EC","es-PY","es-ES","es-UY","es-VE","sv-SE","tr-TR","uk-UA","vi-VN"]},7189:(e,t,i)=>{"use strict";i.d(t,{C:()=>a});var o=i(1149);class r{constructor(e,t,i){this.element=e,this.focusEvents=t,this.blurEvents=i}signalOnFocus(e,t){this.fireFocusSignal=this.fireFocusSignal||this._fireSignal.bind(this,e,!0),this.fireBlurSignal=this.fireBlurSignal||this._fireSignal.bind(this,e,!1);for(let e of this.focusEvents)this.element.removeEventListener(e,this.fireFocusSignal),t||this.element.addEventListener(e,this.fireFocusSignal);for(let e of this.blurEvents)this.element.removeEventListener(e,this.fireBlurSignal),t||this.element.addEventListener(e,this.fireBlurSignal)}fireSignal(e,t){this._fireSignals(e,t);let i=this._getLastSignaler();i!==this&&(i&&i._fireSignals(e,!1),this._setLastSignaler())}getSignalTargets(){return[]}disable(){this._toggleDisabled(!0)}enable(){this._toggleDisabled(!1)}_fireSignal(e,t){this._isDisabled()||this.fireSignal(e,t)}_fireSignals(e,t){let i=this.getSignalTargets();for(let r of i)r.dispatchEvent((0,o.uv)(e,{focused:t,signaler:this}))}_getLastSignaler(){return window&&window.signaler?window.signaler.last:null}_isDisabled(){return window&&window.signaler&&window.signaler.disabled}_setLastSignaler(){let e=window.signaler||{};e.last=this,window.signaler=e}_toggleDisabled(e){let t=window.signaler||{};t.disabled=e,window.signaler=t}}var n=i(6206);class s{constructor(e,t,i,o){this.row=e,this.fields=t,this.rowIndex=i,this.rowIndexAttribute=o||"index"}selectFirstEditableField(){let e=this._selectEditableFields();return this._selectNextEditableField(e,0)}selectLastEditableField(){let e=this._selectEditableFields();return this._selectPreviousEditableField(e,e.length-1)}selectNextEditableField(e){let t=this._selectEditableFields(),i=t.indexOf(e),o=i>=0?i+1:-1;return this._selectNextEditableField(t,o)}selectPreviousEditableField(e){let t=this._selectEditableFields(),i=t.indexOf(e),o=i>=0?i-1:-1;return this._selectPreviousEditableField(t,o)}_selectEditableFields(){return this.fields.filter((function(e){return e.isEditable()}))||[]}_selectNextEditableField(e,t){return t>=0&&t<e.length?e[t]:this._selectFirstEditableNextRow()}_selectPreviousEditableField(e,t){return t>=0&&t<e.length?e[t]:this._selectLastEditablePreviousRow()}_selectFirstEditableNextRow(){let e=this._selectRowByIndex(this.rowIndex+1),t=e?e.selector:null;if(t)return t.selectFirstEditableField()}_selectLastEditablePreviousRow(){let e=this._selectRowByIndex(this.rowIndex-1),t=e?e.selector:null;if(t)return t.selectLastEditableField()}selectFirstEditableField(){let e=this._selectEditableFields();return this._selectNextEditableField(e,0)}selectLastEditableField(){let e=this._selectEditableFields();return this._selectPreviousEditableField(e,e.length-1)}_selectRowByIndex(e){return s._selectTableRowByIndex((0,n.bv)(this.row),this.row.tagName.toLowerCase(),this.rowIndexAttribute,e)}static selectFirstEditableFieldInFirstRow(e,t,i){let o=s._selectTableRowByIndex(e,t,i,0),r=o?o.selector:null;if(r)return r.selectFirstEditableField()}static selectLastEditableFieldInLastRow(e,t,i,o){let r=s._selectTableRowByIndex(e,t,o,i-1),n=r?r.selector:null;if(n)return n.selectLastEditableField()}static _selectTableRowByIndex(e,t,i,o){return(e&&e.shadowRoot?e.shadowRoot:e).querySelector(`${t}[${i}="${o}"]`)}}class a extends r{constructor(e,t,i,o,r,n,s){super(e,["click","mouseenter"],["mouseleave"]),this.groupId=t,this.cellName=i,this.rowId=o,this.rowIndex=r,this.rowIndexAttribute=n,this.ironList=s}getSignalTargets(){let e=this.groupId.constructor===Array?this.groupId:[this.groupId],t=[];for(let i of e){let e=l(this.element).querySelector("#"+i);if(!e)continue;let o=(e.shadowRoot?e.shadowRoot:e).querySelectorAll(this.cellName);for(let e of o)t.push(l(e).querySelector("sb-field"))}return t}signalNextPreviousEditableTarget(e,t){let i=this.selector,r=t?i.selectNextEditableField(e):i.selectPreviousEditableField(e);r&&r.dispatchEvent((0,o.uv)("sb-field-edit",{next:t}))}signalFirstLastEditableTarget(e){let t=this.selector,i=e?t.selectFirstEditableField():t.selectLastEditableField();i&&i.dispatchEvent((0,o.uv)("sb-field-edit",{next:e}))}toggleRowFocus(e){e.detail.focused&&!this.element.focused?(this.element.focused=!0,this.rowId&&(0,n.p1)("focused",!0,l(this.element).querySelector("#"+this.rowId))):!e.detail.focused&&this.element.focused&&(this.element.focused=!1,this.rowId&&(0,n.p1)("focused",!1,l(this.element).querySelector("#"+this.rowId)))}get selector(){return new s(this.element,this.getSignalTargets(),this.rowIndex,this.rowIndexAttribute)}static signalFirstEditableTargetFirstRow(e,t,i){let r=s.selectFirstEditableFieldInFirstRow(e,t,i);r&&r.dispatchEvent((0,o.uv)("sb-field-edit",{next:!0}))}static signalLastEditableTargetLastRow(e,t,i,r){let n=s.selectLastEditableFieldInLastRow(e,t,i,r);n&&n.dispatchEvent((0,o.uv)("sb-field-edit",{next:!1}))}}function l(e){return e&&e.shadowRoot?e.shadowRoot:e}},7212:(e,t,i)=>{"use strict";i.d(t,{Oy:()=>n,aq:()=>o,pg:()=>s});i(8443),i(8246),i(7695);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class o{constructor(){this._asyncModule=null,this._callback=null,this._timer=null}setConfig(e,t){this._asyncModule=e,this._callback=t,this._timer=this._asyncModule.run((()=>{this._timer=null,r.delete(this),this._callback()}))}cancel(){this.isActive()&&(this._cancelAsync(),r.delete(this))}_cancelAsync(){this.isActive()&&(this._asyncModule.cancel(this._timer),this._timer=null)}flush(){this.isActive()&&(this.cancel(),this._callback())}isActive(){return null!=this._timer}static debounce(e,t,i){return e instanceof o?e._cancelAsync():e=new o,e.setConfig(t,i),e}}let r=new Set;const n=function(e){r.add(e)},s=function(){const e=Boolean(r.size);return r.forEach((e=>{try{e.flush()}catch(e){setTimeout((()=>{throw e}))}})),e}},7240:(e,t,i)=>{"use strict";i.r(t),i.d(t,{ProductLookup:()=>x});var o=i(7571),r=i(8008),n=i(6206),s=i(6862),a=i(5986);class l{constructor(e,t,i){this.prefix=e,this.searchModel=t,this.searchFilterData={},this.filterContext=i}buildFields(e){let t=[];for(let i of e)t.push(i.replace("Product2","ProcessInput__c"));return t}getSearchTable(){return this.prefix+"ProcessInput__c"}getGroupKey(e){return e.record.Id}setDefaultFilterValues(e,t){let i={},o=[];for(let r of e)for(let e of this.searchModel.quoteProcess.inputs)if(e.record.Id===r){this.searchModel.processInputValues[r]&&t&&this.isLookupType(t[r].model.type)&&this.searchModel.processInputValues[r][this.prefix+"Value__c"]&&o.push(this.queryLookupFilterName(this.searchModel.processInputValues[r][this.prefix+"Value__c"],t[r].model.referenceTo[0]));let n=null;n=this.searchModel.processInputValues[r]?this.searchModel.processInputValues[r][this.prefix+"Value__c"]||null:e.record[e.record[this.prefix+"InputField__c"]]||null,i[r]={value:n,hidden:!1,field:e.targetFieldName};break}return new Promise(function(e){0===o.length?(this.searchFilterData=i,e(i)):Promise.all(o).then(function(t){for(let e of t){let t=e.records[0];if(!t)continue;let o=new a.X(t.attributes.type).getNameField();for(let e in i){let r=i[e];if(r.value&&r.value.substring(0,15)===t.Id.substring(0,15)){r.label=t[o];break}}}this.searchFilterData=i,this.evaluateProcessInputConditions(),e(i)}.bind(this))}.bind(this))}getFilterContext(){let e=JSON.parse(JSON.stringify(this.filterContext));for(let t of e.inputs)this.searchFilterData[t.record.Id].hidden?(t.record[t.targetFieldName]=null,t.hidden=!0):this.searchFilterData[t.record.Id]&&(""===this.searchFilterData[t.record.Id].value?t.record[t.targetFieldName]=null:t.record[t.targetFieldName]=this.searchFilterData[t.record.Id].value);let t=e.inputs.length;for(let i=0;i<t;i++)e.inputs[i].hidden&&(e.inputs.splice(i,1),t--,i--);return e}getAdditionalProperties(){return null}evaluateProcessInputConditions(){let e=JSON.parse(JSON.stringify(this.searchFilterData));for(let t of this.filterContext.inputs){let i=0;if(0!==t.conditions.length){for(let o of t.conditions){let t=e[o[this.prefix+"MasterProcessInput__c"]].value;n.J0.arithmeticOperatorConversion(t,o[this.prefix+"Value__c"],o[this.prefix+"Operator__c"])&&i++}"All"===t.record[this.prefix+"ConditionsMet__c"]?e[t.record.Id].hidden=!(i===t.conditions.length):e[t.record.Id].hidden=!(i>0)}else e[t.record.Id].hidden=!1}return this.searchFilterData=e,e}runOnLoad(){let e=[];for(let t of this.searchModel.quoteProcess.inputs)e.push(t.record.Id);this.setDefaultFilterValues(e)}isLookupType(e){return"reference"===e||"id"===e}queryLookupFilterName(e,t){let i=new a.X(t).getNameField(),o=e?`'${e}'`:null;return(new s.N).query(`SELECT Id, ${i} FROM ${t} WHERE Id = `.concat(o))}}var d=i(3311),c=i(8873),u=i(3613),h=i(8449),p=i(571),f=i(1149),b=i(4886),g=i(9134),m=i(7734);i(7543),i(2804),i(1520),i(2367),i(7533),i(4482),i(8729),i(8500),i(622),i(1306),i(4547),i(8797),i(8237),i(9139),i(5523),i(9104),i(5001),i(4459),i(9653),i(4167),i(9235),i(4);const y=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  color: #3c3d3e;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
}
:host > #filter {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host .primaryButton {
  background-color: #0070d2;
  color: #FFFFFF;
  font-weight: 400;
  width: initial;
}
:host .primaryButton:hover {
  background-color: #005fb2;
  color: #FFFFFF;
}
:host #headersearch {
  position: relative;
}
:host #drawer {
  position: relative;
}
:host .visible-panel {
  display: inline;
}
:host .hidden-panel {
  display: none;
}
:host .panel {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: auto;
  flex: auto;
  background-color: var(--sbFilterDrawerBgColor);
  color: var(--sbFilterDrawerFontColor);
}
:host sb-dialog[class*='--mobile'] {
  position: fixed;
  z-index: 1;
}
:host sb-dialog .sb-icon-compass[class*='--mobile'] {
  display: none;
}
:host sb-dialog .mobile[class*='--mobile'] {
  padding: 6px 3px;
}
:host [class*='--mobile'] sb-dialog {
  position: fixed;
  z-index: 1;
}
:host [class*='--mobile'] sb-dialog .sb-icon-compass {
  display: none;
}
:host [class*='--mobile'] sb-dialog .mobile {
  padding: 6px 3px;
}
:host sb-dialog #suggest {
  float: right;
}
:host .panelbutton {
  margin: 10px 0 10px 20px;
}
:host .click {
  padding-top: 10px;
  color: var(--sbLinkColor);
  margin-left: 18px;
  cursor: pointer;
}
:host .click:hover {
  color: var(--sbLinkColorHover);
}
:host .filter-buttons {
  margin: 10px 0 0 20px;
  display: flex;
  align-items: center;
}
:host .sf-icon-close {
  float: right;
  cursor: pointer;
  font-size: 14px;
}
:host .title {
  margin: 20px 20px 0 20px;
  font-size: 16px;
}
:host .title[class*='--mobile'] {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
:host [class*='--mobile'] .title {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
:host .dialog {
  margin-left: 0px;
}
.datatable {
  position: relative;
}
.drawer {
  position: relative;
  top: inherit;
}
.drawer #pflayout,
.drawer #gslayout {
  outline: none;
}
sb-pagination {
  width: 100%;
  -webkit-transform: translate3d(0, 0, 0);
  -ms-transform: translate3d(0, 0, 0);
  transform: translate3d(0, 0, 0);
  -webkit-transition: -webkit-transform 0.3s, visibility 0.3s;
  transition: transform 0.3s, visibility 0.3s;
  visibility: visible;
  display: block;
  --pagination-bar-background-color: #f4f6f9;
  --pagination-bar-padding-bottom: 5px;
  --pagination-bar-padding-top: 5px;
  --pagination-bar-text-align: center;
  --pagination-bar-box-shadow: 0px 2px 6px #111;
}
sb-pagination[class*='--mobile'] {
  position: fixed;
  bottom: 0;
  --pagination-bar-background-color: #fff;
  --pagination-bar-padding-bottom: 10px;
  --pagination-bar-padding-top: 10px;
  --pagination-bar-text-align: center;
  --pagination-bar-display: table;
  --pagination-bar-width: 100%;
  --pagination-parts-display: table-cell;
  --pagination-previous-text-align: left;
  --pagination-pages-text-align: center;
  --pagination-next-text-align: right;
}
[class*='--mobile'] sb-pagination {
  position: fixed;
  bottom: 0;
  --pagination-bar-background-color: #fff;
  --pagination-bar-padding-bottom: 10px;
  --pagination-bar-padding-top: 10px;
  --pagination-bar-text-align: center;
  --pagination-bar-display: table;
  --pagination-bar-width: 100%;
  --pagination-parts-display: table-cell;
  --pagination-previous-text-align: left;
  --pagination-pages-text-align: center;
  --pagination-next-text-align: right;
}
sb-pagination.hide[class*='--mobile'] {
  -webkit-transform: translate3d(0, 3.75rem, 0);
  -ms-transform: translate3d(0, 3.75rem, 0);
  transform: translate3d(0, 3.75rem, 0);
}
.tbody[class*='--mobile'] {
  position: absolute;
}
paper-tooltip[class*='--mobile'] {
  display: none;
}
[class*='--mobile'] sb-pagination.hide {
  -webkit-transform: translate3d(0, 3.75rem, 0);
  -ms-transform: translate3d(0, 3.75rem, 0);
  transform: translate3d(0, 3.75rem, 0);
}
[class*='--mobile'] .tbody {
  position: absolute;
}
[class*='--mobile'] paper-tooltip {
  display: none;
}
.modaloverflow {
  -webkit-overflow-scrolling: auto !important;
}
`;function v(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function _(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const w=["#gslayout","#pflayout"];class x extends((0,b.$)((0,g.D)(o.YW))){static get is(){return"sb-product-lookup"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?v(Object(i),!0).forEach((function(t){_(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):v(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({selectedProducts:{type:Object,value:{}},lineEditorModel:Object,redirectUrl:String,totalCount:String,hasTotalCount:Boolean,quote:Object,internal:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return d.L.getViewport()}},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},isMobile:{type:Boolean,computed:"_setIsMobile(viewport)"},searchContext:String,searchedValue:String,filterContext:Object,searcher:Object},o.YW.properties)}static get observers(){return["handleAutoSelect(searchModel)","_modalObserver(quote, modalActive)","handleValueChanged(searchFilterData.*)"]}_modalObserver(e,t){if(void 0!==e&&void 0!==t)return this.modal(e,t)}modal(){!this.modalActive&&this.hasQuoteProcess?(this.$.selectionSaver.save({uid:this.quote.record.Id,model:{modalActive:!0}}),(0,n.p1)("modaloverflow",!0,this),this.$.modal.show=!0,this.refocus()):(this.hasQuoteProcess||this.setPanelDisplay("#pflayout"),!0===this.lineEditorModel.settings.openSearchFilterByDefault&&this.toggleFilter(),this.panelSuggester=this.suggester,this.panelGroupItems=this.groupItems)}ready(){Object.entries({"errors-changed":"clearStackTrace"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),super.ready(),this.setSpinnerMessage(),this.preLoadObjects(),this.handleClearSelected(),this.handleSelectButtonClickedServerResponseAndNavigation(),this.$.lookupLayout.additionalFields=["PricebookEntry.UnitPrice"],this.$.modal.addEventListener("sb-gs-modal-close",this.closeDialog.bind(this)),this.$.drawer.addEventListener("transitionend",this.refocus.bind(this)),this.$.modal.addEventListener("filter-item-value-changed",this.handleLabelChanged.bind(this)),this.addEventListener("iron-deselect",this.handleDrawerClosed.bind(this)),this.addEventListener("clear-filters",this.clearFilterFields),this.addEventListener("sb-type-clear",this.resetSearchBar),this.attachSearchBarEventListeners()}setSpinnerMessage(){(0,p.yJ)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}handleTransientCache(){this.$.selectionReader.read({uid:this.quote.record.Id}).then(function(e){this.lastSubmit=e?e.lastSubmit:null,this.modalActive=!!e&&e.modalActive,"gs"===this.lastSubmit?(this.suggester.runOnLoad(),this.runSuggester()):"pf"===this.lastSubmit&&(this.searcher.runOnLoad(e.filterValues),this.runSearcher())}.bind(this))}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(e){this.lineEditorModel=e.detail.value,this.quote=e.detail.value.quote,this.inputField=this.prefix+"InputField__c",this.localizer=new c.N(this.prefix);let t=parseInt(this.ctx.params.groupKey),i=this.getQuoteProcessId(this.quote,t);this.hasQuoteProcess=null!==i,!0===this.hasQuoteProcess?this.setPanelDisplay("#gslayout"):this.setPanelDisplay("#pflayout"),this.ctx.params.aId&&(this.$.smLoadService.actionId=this.ctx.params.aId),this.$.smLoadService.processId=i,this.$.smLoadService.quote=this.$.smSelectService.quote=this.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(e){let t=this.localizer.localizeSearchModel(e.detail.value);void 0!==this.guidedOnly&&null!==this.guidedOnly||null==t.searchFiltersTabShown||(this.guidedOnly=!t.searchFiltersTabShown),this.onLoadSearchModel||(this.onLoadSearchModel=Object.assign({},t)),this.$.lookupLayout.groupByField=t.productResultsGroupFieldName,this.$.lookupLayout.fieldPrefix=t.targetObjectName+".",t=this._removeInactiveQuoteProcessInputs(t),this.quoteProcess=t.quoteProcess,this.searchModel=t,this.buildDelegator(),this.handleTransientCache()}.bind(this))}getQuoteProcessId(e,t){let i;for(let o of e.lineItemGroups)if(o.key===t){i=o.record[this.prefix+"QuoteProcess__c"];break}return i||e.record[this.prefix+"QuoteProcessId__c"]||null}attachSearchBarEventListeners(){this.addEventListener("sb-search-invoked",this.searchBarResultsChanged.bind(this)),this.addEventListener("sb-search-item-selected",this.searchBarItemSelected.bind(this)),this.addEventListener("sb-search-reset-clicked",this.searchBarResetClicked.bind(this)),this.addEventListener("sb-search-nil-search-invoked",this.searchBarNilSearchInvoked.bind(this))}handleSelectButtonClickedServerResponseAndNavigation(){this.$.smSelectService.addEventListener("result-changed",function(e){this._updateQuote(e.detail.value.quote),0==e.detail.value.configuredProducts.length&&this.handleNonConfigurableProducts(e),e.detail.value.configuredProducts.length>0&&this.handleConfigurableProducts(e)}.bind(this))}handleNonConfigurableProducts(e){"LineEditor"===this.redirectUrl?this.navigateToLineEditor():"ProductLookup"===this.redirectUrl&&(this.$.smSelectService.quote=e.detail.value.quote,this.$.lookupLayout.deSelectAll(),this.navigateToSelf(),this.spinner=!1)}handleConfigurableProducts(e){let t={};e.detail.value.selectedProducts=this.selectedProducts;let i=this.getConfigProductIds(e);t.qId=e.detail.value.quote.record.Id,void 0!==this.ctx.params.groupKey&&(t.groupKey=this.ctx.params.groupKey),void 0!==this.ctx.params.aId&&(t.aId=this.ctx.params.aId),t.pId=i,t.redirectUrl=this.redirectUrl,t.open=0,this.nav("#",t,["product","pc"],!1)}_updateQuote(e){if(e.partialVO){var t=this.lineEditorModel.quote.lineItems;e.lineItems=t.concat(e.lineItems),delete e.existingProductIds,delete e.segmentTemplatesByDimensionTypeByGroupKey,delete e.emptyGroupKeys,e.partialVO=!1}this.lineEditorModel.quote=e}handleLabelChanged(e){this.searchFilterData&&(this.searchFilterData[e.detail.item].label=e.detail.value)}buildDelegator(){this.hasQuoteProcess&&(this.suggester=new l(this.prefix,this.searchModel,this.quoteProcess)),this.searcher||(this.searcher=new r.W(this.searchModel))}_removeInactiveQuoteProcessInputs(e){if(!this.hasQuoteProcess)return e;let t=e.quoteProcess.inputs;if(void 0===t||0===t.length)return e;let i=[];for(let e of t){!1!==e.record[this.prefix+"Active__c"]&&i.push(e)}return e.quoteProcess.inputs=i,e}handleValueChanged(){this.internal||(this.internal=!0,this.updateSearchFilterData(),this.internal=!1)}updateSearchFilterData(){this.suggester.searchFilterData=this.searchFilterData;let e=this.suggester.evaluateProcessInputConditions();this.searchFilterData=e}setPanelDisplay(e){w.forEach((t=>{const i=e===t;(0,n.p1)("hidden-panel",!i,this.shadowRoot.querySelector(t)),(0,n.p1)("visible-panel",i,this.shadowRoot.querySelector(t))}))}toggleFilter(){this.togglePanel("pflayout")}toggleGuidedSelling(){this.togglePanel("gslayout")}togglePanel(e){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.shadowRoot.querySelector(".visible-panel").id!==e&&"main"!==this.$.drawer.selected||this.$.drawer.togglePanel(),this.setPanelDisplay("#"+e),this.refocus()}closeDrawer(){this.refocus(),this.$.drawer.closeDrawer()}refocus(e){e&&"transitionend"===e.type||this.shadowRoot.querySelector(".visible-panel")&&(this.$.modal.show?this.$.modalGroup.focusFirstField():"gslayout"===this.shadowRoot.querySelector(".visible-panel").id?this.$.gs.focusFirstField():"pflayout"===this.shadowRoot.querySelector(".visible-panel").id&&this.$.pf.focusFirstField())}reverseFocus(){this.shadowRoot.querySelector(".visible-panel")&&(this.$.modal.show?this.$.suggest.focus():"gslayout"===this.shadowRoot.querySelector(".visible-panel").id?this.$.cleargs.focus():"pflayout"===this.shadowRoot.querySelector(".visible-panel").id&&this.$.clearfilter.focus())}closeDialog(){(0,n.p1)("modaloverflow",!1,this),this.suggester.skipDefaults=!0,this.panelSuggester=this.suggester,this.panelGroupItems||(this.panelGroupItems=this.groupItems),this.$.modal.show=!1}suggestClicked(){this.suggest=!0,this.runSuggester()}runSuggester(){this.searchContext=this.searchedValue,this.saveCache(),this.lastSubmit="gs",this.closeDialog(),this.$.gs.runService(),this.closeDrawer()}runSearcher(e){this.shadowRoot.querySelector("#submit").focus(),this.searchContext=this.searchedValue,this.saveCache(),this.lastSubmit="pf",this.$.pf.actionId=this.ctx.params.aId,this.searchContext=this.searchedValue,this.filterContext=this.$.pf.filterDelegator.getFilterContext(),this.$.pf.runService(),this.closeDrawer()}saveCache(){this.$.selectionSaver.save({uid:this.quote.record.Id,model:{modalActive:!0,lastSubmit:this.shadowRoot.querySelector(".visible-panel").id.substring(0,2),filterValues:this.searcher.searchFilterData}})}getConfigProductIds(e){let t=[];for(let i of e.detail.value.configuredProducts)t.push(i.record.Id);return t.join(",")}onSelect(){this.redirectUrl="LineEditor",this.selectedProducts&&Object.keys(this.selectedProducts).length>0?(this._addAggregateDataIfThresholdExceeded(),this.spinner=!0,this.quoteProcess&&(this.$.smSelectService.quoteProcess=this.suggester.getFilterContext()),this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts()):this.navigateToLineEditor()}onSelectMore(){this.redirectUrl="ProductLookup",this.selectedProducts&&Object.keys(this.selectedProducts).length>0?(this._addAggregateDataIfThresholdExceeded(),this.spinner=!0,this.quoteProcess&&(this.$.smSelectService.quoteProcess=this.suggester.getFilterContext()),this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts()):this.navigateToSelf()}_addAggregateDataIfThresholdExceeded(){let e=this.lineEditorModel.settings.largeQuoteThreshold;if(null!=e&&this.quote.lineItems.length>e){this.$.smSelectService.stripQuoteLines=!0;let t=this.lineEditorModel.customLabels.msg_large_quote_sent_without_lines;t=t.replace("{0}",this.lineEditorModel.quote.record.Id).replace("{1}",e),console.log(t);let i=new h.M(this.quote);this.quote.existingProductIds=i.getExistingProductIdsFromLines();let o=this.ctx.params.groupKey,r=i.getSegmentTemplatesByDimensionTypeForGroupKey(o);this.quote.segmentTemplatesByDimensionTypeByGroupKey={},this.quote.segmentTemplatesByDimensionTypeByGroupKey[(o||-1)+""]=r,this.quote.emptyGroupKeys=i.getKeysOfEmptyGroups()}}getOrderedSelectedProducts(){let e=Object.keys(this.selectedProducts).sort(function(e,t){return this.selectedProducts[e].index-this.selectedProducts[t].index}.bind(this)),t=[];for(let i of e){let e=this.selectedProducts[i];e.invalid||(delete e.record.UnitPrice,t.push(e))}return t}onCancel(){this.spinner=!0;let e={qId:this.quote.record.Id};null!=this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),this.nav("#",e,["quote","le"],!1)}navigateToLineEditor(){let e={qId:this.quote.record.Id};Object.keys(this.selectedProducts).length>0&&(e.jspr=!0),null!=this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),this.nav("#",e,["quote","le"],!1)}navigateToSelf(){let e=this.ctx.params.aId?"&aId="+this.ctx.params.aId:"";(0,f.rC)(f.sV.NAVIGATION_CHANGED,{url:"#",location:"#/product/lookup?qId="+this.quote.record.Id+e}),this.$.plSelectMore.blur()}navToFavorites(){let e={qId:this.quote.record.Id};void 0!==this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),void 0!==this.ctx.params.aId&&(e.aId=this.ctx.params.aId),this.nav("#",e,["favorite","lookup"],!1)}handleAutoSelect(){if(this.suggest&&this.quoteProcess&&this.quoteProcess.record[this.prefix+"ProductAutoSelected__c"]&&1===this.searchModel.results.length){let e=this.searchModel.results[0];this.selectedProducts[e.record.Product2Id]={record:{Id:e.record.Product2Id,attributes:e.record.attributes,UnitPrice:e.record.UnitPrice},invalid:!1},this.suggest=!1,this.onSelect()}}handleClearSelected(){this.addEventListener("suggestion-loaded",function(){this.$.lookupLayout.deSelectAll()}.bind(this))}handleDrawerClosed(){"main"===this.$.drawer.selected&&(0,f.rC)(f.sV.PANEL_CLOSED)}clearFilterFields(){this.filterData=this.searcher.clearFields()}clearGSFields(){let e=JSON.parse(JSON.stringify(this.suggester.searchFilterData));for(let t in e)e[t].value=null;this.suggester.searchFilterData=e,this.searchFilterData=this.suggester.evaluateProcessInputConditions()}bindFilterEnterCallBacks(){this.$.pf.enterCallback=this.runSearcher.bind(this),this.$.gs.enterCallback=this.runSuggester.bind(this),this.$.modalGroup.enterCallback=this.runSuggester.bind(this)}searchBarResultsChanged(e){let t=e.detail.searchModel,i=e.detail.searchValue;this.searchContext=i,this.searchedValue=i,this.shadowRoot.querySelector("#headersearch").toggleResetButton(!0),void 0!==t&&(this.searchModel=t)}searchBarItemSelected(e){let t=e.detail.item,i=Object.assign({},this.searchModel),o=e.detail.searchValue;this.searchContext=o,this.searchedValue=o,void 0!==t&&(this.shadowRoot.querySelector("#headersearch").toggleResetButton(!0),i.results=[t],i.totalCount=1,this.searchModel=i)}searchBarResetClicked(){this.searchContext="",this.searchedValue="",this.shadowRoot.querySelector("#headersearch").toggleResetButton(!1),this.searchModel=Object.assign({},this.onLoadSearchModel)}searchBarNilSearchInvoked(){this.searcher.hasSearchFilterValues()?this.runSearcher():this.searchBarResetClicked()}resetSearchBar(){this.searchContext="",this.searchedValue=""}preLoadObjects(){this.lookupObjects=["Product2","PricebookEntry",this.prefix+"ProcessInput__c"]}get prefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}hideFilters(e,t){return e||t&&t.every((e=>e.hidden))}isMobileViewport(){return this.viewport&&this.viewport.isMobile()}clearStackTrace(){this.errors[0]&&(this.error=(0,u.W)(this.errors),this.spinner=!1)}_setIsMobile(e){if(e)return e.isMobile()}showSearchBar(){return!this.app.org.hideProductSearchBarEnabled&&!this.isMobile}static get template(){return m.qy`
		<css-style><style include="sb-tables-styles sb-common-styles"></style></css-style>
		<style>${y}</style>
		<css-style><style include="sb-icons-styles"></style></css-style>
		
		<sb-describe objects="[[lookupObjects]]" error="{{errors}}"></sb-describe>
		<sb-service id="selectionReader" reader="LastSelectionReader" transient="true" cache="LastSelectionCache" error="{{errors}}"></sb-service>
		<sb-service id="selectionSaver" saver="LastSelectionSaver" transient="true" cache="LastSelectionCache" error="{{errors}}"></sb-service>
		<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>
		<sb-search-model-load id="smLoadService" loader="ProductLookupServiceProvider.SearchModelLoader" send-quote-record="true" error="{{errors}}"></sb-search-model-load>
		<sb-search-model-select id="smSelectService" target-group-key="[[ctx.params.groupKey]]"
								saver="ProductLookupServiceProvider.SearchModelSelector" error="{{errors}}"
								uses-client-calculator="[[le.settings.usesClientCalculator]]"></sb-search-model-select>

		<sb-loading-spinner id="spinner" show="[[spinner]]"></sb-loading-spinner>

		<sb-page-header device searchbar="[[showSearchBar]]">
			<div id="messages" slot="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>
			<i class="icon sf-icon-product" slot="icon"></i>
			<h1 slot="h1">
				<sb-i18n>Product Selection</sb-i18n>
			</h1>
			<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>

			<template is="dom-if" if="[[showSearchBar()]]">
				<sb-search-bar id="headersearch" slot="headersearch"
							   value="{{searchContext}}"
							   searched-value="{{searchedValue}}"
							   quote="[[quote]]"
							   search-service="ProductLookupServiceProvider.SearchModelSearcher"
							   action-id="[[ctx.params.aId]]" is-mobile="[[isMobile]]"
							   reposition="true"
							   searcher = "[[searcher]]"
				></sb-search-bar>
			</template>

			<div class="fixedActions" slot="fixedActions">
				<paper-button noink on-click="toggleFilter" id="fb" hidden$="[[hideFilters(guidedOnly, searchModel.searchFilters)]]" class="sf-icon-filterlist">
					<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">
						[[totalCount]]
					</span>
				</paper-button>
				<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10"
							   fit-to-visible-bounds="true">
					<sb-i18n>Filter</sb-i18n>
				</paper-tooltip>
				<template is="dom-if" if="[[hasQuoteProcess]]">
					<paper-button noink on-click="toggleGuidedSelling" id="gs" class="sb-icon-compass">
					</paper-button>
					<paper-tooltip for="gs" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
						<sb-i18n>Guided Selling</sb-i18n>
					</paper-tooltip>
				</template>
				<paper-button noink on-click="navToFavorites" id="fav" class="sb-icon-star"></paper-button>
				<paper-tooltip for="fav" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
					<sb-i18n>Favorites</sb-i18n>
				</paper-tooltip>
			</div>
			<div class="actions" slot="actions">
				<paper-button noink on-click="onSelect" id="plSelect">
					<sb-i18n>Select</sb-i18n>
				</paper-button>
				<paper-button noink on-click="onSelectMore" id="plSelectMore">
					<sb-i18n>Select & Add More</sb-i18n>
				</paper-button>
				<paper-button noink on-click="onCancel" id="plCancel">
					<sb-i18n>Cancel</sb-i18n>
				</paper-button>
			</div>
		</sb-page-header>

		<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">
			<div main slot="main">
				<sb-lookup-layout
					id="lookupLayout"
					search-model="{{searchModel}}"
					primary-mobile-cols='["Product2.Name", "UnitPrice"]'
					selection-id-data-path="[[searchModel.targetObjectName]].Id"
					selected-rows="{{selectedProducts}}"
					total-count="{{totalCount}}"
					has-total-count="{{hasTotalCount}}"
					currency-iso-code="[[quote.record.CurrencyIsoCode]]"
					no-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"
				></sb-lookup-layout>
			</div>

			<div drawer class="panel" slot="drawer">

				<div id="pflayout">
					<header class="title"><sb-i18n>Product Filter</sb-i18n>
						<i class="sf-icon-close" on-click="closeDrawer"></i>
					</header>
					<div tabindex="0" on-focus="reverseFocus"></div>

					<!--this is the filter panel-->
					<sb-filter-layout id="pf"
									  search-model="{{searchModel}}"
									  filter-path="searchFilters"
									  filter-delegator="{{searcher}}"
									  service-loader="ProductLookupServiceProvider.SearchModelSearcher"
									  quote="[[quote]]"
									  send-quote-record="true"
									  search-filter-data="{{filterData}}"
									  spinner="{{spinner}}"
									  localizer="[[localizer]]"
									  action-id="[[ctx.params.aId]]"
									  search-context="[[searchedValue]]"
									  error="{{errors}}"
					></sb-filter-layout>
					<paper-button id="submit" tabindex="0" noink on-click="runSearcher" class="primaryButton panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>
					<text id="clearfilter" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>
					<div tabindex="0" on-focus="refocus"></div>
				</div>
				<div id="gslayout">
					<header class="title"><sb-i18n>Guided Selling</sb-i18n>
						<i class="sf-icon-close" on-click="closeDrawer"></i>
					</header>
					<div tabindex="0" on-focus="reverseFocus"></div>

					<!--this is the guided selling panel-->
					<sb-filter-layout id="gs"
									  search-model="{{searchModel}}"
									  filter-path="quoteProcess.inputs"
									  filter-key="Id"
									  filter-context="[[quoteProcess]]"
									  target-field-name="[[inputField]]"
									  filter-delegator="{{panelSuggester}}"
									  search-filter-data="{{searchFilterData}}"
									  search-filter-model="{{searchFilterModel}}"
									  group-items="{{panelGroupItems}}"
									  quote="[[quote]]"
									  send-quote-record="true"
									  service-loader="ProductLookupServiceProvider.SearchModelSuggester"
									  spinner="{{spinner}}"
									  localizer="[[localizer]]"
									  error="{{errors}}"
					></sb-filter-layout>
					<paper-button id="submit" noink on-click="suggestClicked" class="primaryButton panelbutton"><sb-i18n>Suggest</sb-i18n></paper-button>
					<text id="cleargs" class="click" on-click="clearGSFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>
					<div tabindex="0" on-focus="refocus"></div>
				</div>
			</div>
		</paper-drawer-panel>

		<sb-dialog device id="modal" modal="true" close-dialog="sb-gs-modal-close" hide-cancel-button="true">
			<i slot="icon" class="icon sb-icon-compass"></i>
			<sb-i18n slot="title" class="title dialog">Guided Selling</sb-i18n>
			<div slot="content" class="content">
				<div tabindex="0" on-focus="reverseFocus"></div>
				<!--this is the guided selling model content-->
				<sb-filter-layout id="modalGroup"
								  search-model="{{searchModel}}"
								  filter-path="quoteProcess.inputs"
								  filter-key="Id"
								  target-field-name="[[inputField]]"
								  filter-delegator="{{suggester}}"
								  search-filter-data="{{searchFilterData}}"
								  search-filter-model="{{searchFilterModel}}"
								  group-items="{{groupItems}}"
								  quote="[[quote]]"
								  send-quote-record="true"
								  service-loader="ProductLookupServiceProvider.SearchModelSuggester"
								  spinner="{{spinner}}"
								  localizer="[[localizer]]"
								  error="{{errors}}"
				></sb-filter-layout>
			</div>

			<paper-button slot="paper-button" id="suggest" class="primaryButton modal" noink on-click="suggestClicked">
				<sb-i18n>Suggest</sb-i18n>
				<div tabindex="0" on-focus="refocus"></div>
			</paper-button>
		</sb-dialog>

		<span device>
			<template is="dom-if" if="[[usePagination]]">
				<sb-pagination page-size="[[resultLimit]]" page-index="[[pageIndex]]" num-items="[[totalCount]]"></sb-pagination>
			</template>
		</span>
		`}}customElements.define(x.is,x)},7263:(e,t,i)=>{"use strict";i.d(t,{O2:()=>a,c0:()=>l,rG:()=>d});i(8443);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let o,r,n=/(url\()([^)]*)(\))/g,s=/(^\/[^\/])|(^#)|(^[\w-\d]*:)/;function a(e,t){if(e&&s.test(e))return e;if("//"===e)return e;if(void 0===o){o=!1;try{const e=new URL("b","http://a");e.pathname="c%20d",o="http://a/c%20d"===e.href}catch(e){}}if(t||(t=document.baseURI||window.location.href),o)try{return new URL(e,t).href}catch(t){return e}return r||(r=document.implementation.createHTMLDocument("temp"),r.base=r.createElement("base"),r.head.appendChild(r.base),r.anchor=r.createElement("a"),r.body.appendChild(r.anchor)),r.base.href=t,r.anchor.href=e,r.anchor.href||e}function l(e,t){return e.replace(n,(function(e,i,o,r){return i+"'"+a(o.replace(/["']/g,""),t)+"'"+r}))}function d(e){return e.substring(0,e.lastIndexOf("/")+1)}},7299:(e,t,i)=>{"use strict";i.r(t),i.d(t,{LineEditor:()=>as});var o=i(6902),r=i(1149),n=i(7874),s=i(7571),a=i(1776);class l{constructor(e,t,i){this.rules=e,this.prefix=void 0===t?"":t,this.errorStrings=i,this._setConstants()}_setConstants(){this.ACTIONS=this.prefix+"Actions__r",this.TYPE=this.prefix+"Type__c",this.PRODUCT=this.prefix+"Product__c"}_getResponseType(e){return"Add"===e||"Enable & Add"===e||"Show & Add"===e?"requiredProductIds":null}}class d{constructor(e){this.opType=e,this.testValueCache={},this.fieldValueCache={}}evaluate(e,t){if(null==e||null==t)return e==t;if(e instanceof Date)return e.getTime()===new Date(t).getTime();if("boolean"==typeof e)return e===("true"===String(t).toLowerCase());if("string"==typeof e&&"string"==typeof t){var i=t.toLowerCase(),o=e.toLowerCase();return null==this.testValueCache[i]&&(this.testValueCache[i]=this.valueFor(i)),null==this.fieldValueCache[o]&&(this.fieldValueCache[o]=this.valueFor(o)),this.testValueCache[i].equals(this.fieldValueCache[o])}return("number"==typeof e||e instanceof Number)&&e.valueOf()==t}valueFor(e){return e.indexOf(",")>-1&&0!=e.indexOf('"')&&e.lastIndexOf('"')!=e.length-1?{valueType:"Multi",valueSet:e.split(",").map((function(e){return e.trim()})),equals:function(e){return"Multi"===e.valueType?e.valueSet.some((function(e){return-1!=this.valueSet.indexOf(e)}),this):-1!=this.valueSet.indexOf(e.value)}}:{valueType:"Single",value:e,equals:function(e){return this.value===e.value}}}}class c{constructor(e){this.opType=e,this.equals=new d}evaluate(e,t){return!this.equals.evaluate(e,t)}}class u{constructor(e){this.opType=e}evaluate(e,t){if(null==e||null==t)return!1;if("number"==typeof e||e instanceof Number)return e.valueOf()>=t;if(e instanceof Date)return e>=new Date(t);if("string"==typeof e){var i=Date.parse(e),o=Date.parse(t);return i==i&&o==o?i>=o:e>=t}return!1}}class h{constructor(e){this.opType=e,this.gte=new u}evaluate(e,t){return null!=e&&null!=t&&("number"==typeof e||"string"==typeof e||e instanceof Date||e instanceof Number)&&!this.gte.evaluate(e,t)}}class p{constructor(e){this.opType=e}evaluate(e,t){if(null==e||null==t)return!1;if("number"==typeof e||e instanceof Number)return e.valueOf()>t;if(e instanceof Date)return e>new Date(t);if("string"==typeof e){var i=Date.parse(e),o=Date.parse(t);return i==i&&o==o?i>o:e.toLowerCase()>t.toLowerCase()}return!1}}class f{constructor(e){this.opType=e,this.gt=new p}evaluate(e,t){return null!=e&&null!=t&&("number"==typeof e||"string"==typeof e||e instanceof Date||e instanceof Number)&&!this.gt.evaluate(e,t)}}class b{constructor(e){this.opType=e}evaluate(e,t){return null!=e&&null!=t&&0===String(e).toLowerCase().indexOf(String(t).toLowerCase())}}class g{constructor(e){this.opType=e}evaluate(e,t){if(null==e||null==t)return!1;var i=String(e).toLowerCase(),o=String(t).toLowerCase();return-1!==i.indexOf(o,i.length-o.length)}}class m{constructor(e){this.opType=e}evaluate(e,t){if(null==e||null==t)return!1;var i=String(e).toLowerCase(),o=String(t).toLowerCase();return-1!==i.indexOf(o)}}class y{constructor(e){this.key=e,this.OP_EQ="equals",this.OP_NEQ="not equals",this.OP_LT="less than",this.OP_LTE="less or equals",this.OP_GT="greater than",this.OP_GTE="greater or equals",this.OP_SW="starts with",this.OP_EW="ends with",this.OP_CONT="contains"}getInstance(){switch(this.key){case this.OP_EQ:return new d(this.key);case this.OP_NEQ:return new c(this.key);case this.OP_LT:return new h(this.key);case this.OP_LTE:return new f(this.key);case this.OP_GT:return new p(this.key);case this.OP_GTE:return new u(this.key);case this.OP_SW:return new b(this.key);case this.OP_EW:return new g(this.key);case this.OP_CONT:return new m(this.key);default:return null}}getInverseInstance(){switch(this.key){case this.OP_EQ:return new d(this.key);case this.OP_NEQ:return new c(this.key);case this.OP_LT:return new p(this.key);case this.OP_LTE:return new u(this.key);case this.OP_GT:return new h(this.key);case this.OP_GTE:return new f(this.key);case this.OP_SW:return new b(this.key);case this.OP_EW:return new g(this.key);case this.OP_CONT:return new m(this.key);default:return null}}}class v{constructor(e,t,i,o){this.rules=e,this.quote=t,this.prefix=void 0===i?"":i,this.errorStrings=o,this._init()}_init(){this._setConstants(),this._setAliasedFieldsMap()}_setConstants(){this.ERROR_CONDITIONS=this.prefix+"ErrorConditions__r",this.TESTED_VARIABLE=this.prefix+"TestedVariable__c",this.CONDITIONS_MET=this.prefix+"ConditionsMet__c",this.TESTED_OBJECT=this.prefix+"TestedObject__c",this.TESTED_FIELD=this.prefix+"TestedField__c",this.FILTER_VALUE=this.prefix+"FilterValue__c",this.FILTER_TYPE=this.prefix+"FilterType__c",this.OPERATOR=this.prefix+"Operator__c",this.ACTIONS=this.prefix+"Actions__r"}_setAliasedFieldsMap(){this.aliasedFieldsMap={Quote:{"Group Line Items":this.prefix+"LineItemsGrouped__c"}}}isRuleSatisfied(e){if(!this._hasActions(e))return!1;if(!this._hasErrorConditions(e))return!0;let t=e[this.CONDITIONS_MET],i=!1;for(let o of e[this.ERROR_CONDITIONS].records||[]){let e=o[this.TESTED_VARIABLE],r=o[this.TESTED_OBJECT],n=this.packageConditionDetails(o);if("Quote"===r?i=this.evaluateCondition(o,this.quote.record,n):"Quote Line"===r&&this.quote.lineItems.length>0?i=this.evaluateCollection(o,this.quote.lineItems,n):"Quote Line Group"===r&&this.quote.lineItemGroups.length>0?i=this.evaluateCollection(o,this.quote.lineItemGroups,n):e?this._throwError(this.errorStrings.msg_jspr_err_summary_variable_used.replace("{0}",o.Id)):this._throwError(this.errorStrings.msg_jspr_err_no_tested_object.replace("{0}",o.Id)),this._canReturnImmediately(i,t))return i}return i}packageConditionDetails(e){let t=new y(e[this.OPERATOR]).getInstance();if(null===t){let t=this.errorStrings.msg_jspr_err_invalid_operator.replace("{0}",e[this.OPERATOR]).replace("{1}",e.Id);this._throwError(t)}return"Variable"===e[this.FILTER_TYPE]&&this._throwError(this.errorStrings.msg_jspr_err_summary_variable_used.replace("{0}",e.Id)),{op:t,filterValue:e[this.FILTER_VALUE]}}evaluateCollection(e,t,i){let o=0,r=t.length,n=!1;for(;o<r&&!n;)n=this.evaluateCondition(e,t[o++].record,i);return n}evaluateCondition(e,t,i){let o=this._getValue(e,t);return i.op.evaluate(o,i.filterValue)}_getValue(e,t){let i=e[this.TESTED_OBJECT],o=e[this.TESTED_FIELD],r=this.aliasedFieldsMap[i]&&this.aliasedFieldsMap[i][o]?this.aliasedFieldsMap[i][o]:null,n=null===r?o:r;if(Object.keys(t).indexOf(n)<0){let t=this.errorStrings.msg_jspr_err_no_tested_field.replace("{0}",e.Id).replace("{1}",e[this.TESTED_FIELD]).replace("{2}",i);this._throwError(t)}return t[n]}_throwError(e){throw{msg:e,type:"info"}}_canReturnImmediately(e,t){return!("All"!=t||e)||!("Any"!=t||!e)}_hasErrorConditions(e){return!!e[this.ERROR_CONDITIONS]}_hasActions(e){return!!e[this.ACTIONS]&&e[this.ACTIONS].totalSize>0}}class _ extends l{constructor(e,t,i,o){super(t,i,o),this._init(e)}_init(e){this.quote=e,this.response={requiredProductIds:[]},this.lineItemsById={};for(let e of this.quote.lineItems||[])this.lineItemsById[e.record[this.PRODUCT]]=e}execute(){let e=new v(this.rules,this.quote,this.prefix,this.errorStrings);for(let t of this.rules||[])if(e.isRuleSatisfied(t))for(let e of t[this.ACTIONS].records)this._conditionallyAddToResponseObject(e);return this.response}_conditionallyAddToResponseObject(e){let t=super._getResponseType(e[this.TYPE]);null!==t&&("requiredProductIds"===t&&this._productAdded(e[this.PRODUCT])||this.response[t].push(e[this.PRODUCT]))}_productAdded(e){return!!this.lineItemsById[e]}}const w=["init","isActive","isReady","addListener","removeListener","send","shutdown"];function x(e){if(!e)return!1;const t=w.map((t=>"function"==typeof e[t]));return t.reduce(((e,t)=>e&&t),!0)}function C(e){Array.isArray(e)||(e=Array.prototype.slice.call(arguments));let t=e[0];return t&&"object"==typeof t||(t={type:"text",data:e.join(" ")}),t}class S{constructor(e,t){if(!e||!x(t))throw"Subscriber: Constructor requires 2 valid arguments (tag, channel)";this.tag=e,this.channel=t,this.callbacks=[]}init(){this.channel.init(),this.channel.addListener(this._receiveMessage.bind(this))}subscribe(e){"function"==typeof e?this.callbacks.push(e):console.error("Subscriber: subscribe() must be called with a valid function")}unsubscribe(e){const t=this.callbacks.indexOf(e);t<0?console.error("Subscriber: unsubscribe() must be called with a function previously set using subscribe()"):this.callbacks.splice(t,1)}shutdown(){this.callbacks=[],this.channel.shutdown()}_receiveMessage(e){e&&e.tag===this.tag&&this.callbacks.forEach((t=>t(e)))}}class O{constructor(e,t){if(!e||!x(t))throw"Publisher: Constructor requires 2 valid arguments (tag, channel)";this.tag=e,this.channel=t,this.msgQueue=[]}init(){this.channel.init(this._publishOnceReady.bind(this))}publish(e){if(!e)return void console.error("Publisher: publish() must be called with a valid message object argument");const t=Object.assign({},e);t.tag=this.tag,this.msgQueue.push(t),this._publishOnceReady()}shutdown(){this.msgQueue=[],this.channel.shutdown()}_publishOnceReady(){this.channel.isReady()&&(this.msgQueue.forEach((e=>this.channel.send(e))),this.msgQueue=[])}}class k{constructor(e){if(void 0===e||!e)throw"WindowChannel: Constructor requires a valid window argument";this.win=e,this.id=Math.random().toString(),this.active=!1,this.ready=!1,this.readyCallbacks=[],this.listeners=[],this._receive=this._receive.bind(this)}init(e){if(e){if("function"!=typeof e)return void console.error("WindowChannel: init() must be undefined or called with a valid function");this.isReady()?e():this.readyCallbacks.push(e)}if(!this.active){this.active=!0;try{this.win.addEventListener("message",this._receive)}catch(e){}}}isActive(){return this.active&&!this.win.closed}isReady(){return this.isActive()&&this.ready}markReady(){this.ready=!0,this.readyCallbacks.forEach((e=>e())),this.readyCallbacks=[]}addListener(e){"function"==typeof e?this.listeners.push(e):console.error("WindowChannel: addListener() must be called with a valid function")}removeListener(e){const t=this.listeners.indexOf(e);t<0?console.error("WindowChannel: removeListener() must be called with a function previously set using addListener()"):this.listeners.splice(t,1)}send(e){if(!e)return void console.error("WindowChannel: send() must be called with a valid message object");const t=Object.assign({},e),i=this._getTargetOrigin();t.tag+="__"+this.id,this.win.postMessage(JSON.stringify(t),i)}shutdown(){this.active=!1,this.ready=!1,this.readyCallbacks=[],this.listeners=[];try{this.win.removeEventListener("message",this._receive)}catch(e){}}_receive(e){if(!this._isValidSourceOrigin(e.origin))return void console.warn(`WindowChannel: Received message from unknown source origin (${e.origin})!`);if(!e||!e.data)return;const t=JSON.parse(e.data);t.tag&&!t.tag.endsWith(this.id)&&(t.source=e.source,t.tag=t.tag.replace(/__[0-9.]+$/,""),this.listeners.forEach((e=>e(t))))}_getTargetOrigin(){return"*"}_isValidSourceOrigin(e){return!0}}const E="QuoteLogger",I="__SYN__",T="__ACK__",M={tag:E,type:I},B={tag:E,type:T};class D{static appender(){return e=>{if(this.instance){let t=C(e.data);t.timestamp=e.startTime,this.instance._publish(t)}}}static configure(){return this.appender()}static setInstance(e){this.instance&&this.instance.shutdown(),this.instance=e}constructor(e,t){this.subChannel=e,this.pubChannel=t,this.subscriber=e?new S(E,e):null,this.publisher=t?new O(E,t):null,this.isSubscriber=!1,this.isPublisher=!1,this.callbacks=[]}initPublisher(){if(this.publisher){if(this.pubChannel instanceof k){if(!this.subscriber)return void console.error("QuoteLogger: subChannel is required in order to initPublisher() when using WindowChannel");this.subscriber.init(),this.publisher.init(),this.subscriber.subscribe(this._receiveLog.bind(this)),this._waitForWindow()}else this.publisher.init();this.isPublisher=!0}else console.error("QuoteLogger: pubChannel is required in order to initPublisher()")}publish(){let e=C.apply(null,arguments);e.timestamp=(new Date).toString(),this._publish(e)}initSubscriber(){this.subscriber?(this.isSubscriber=!0,this.subscriber.init(),this.subscriber.subscribe(this._receiveLog.bind(this))):console.error("QuoteLogger: subChannel is required in order to initSubscriber()")}subscribe(e){this.isSubscriber?"function"==typeof e?this.callbacks.push(e):console.error("QuoteLogger: subscribe() must be called with a valid function"):console.error("QuoteLogger: initSubscriber() must be called prior to any subscribing methods")}unsubscribe(e){if(!this.isSubscriber)return void console.error("QuoteLogger: initSubscriber() must be called prior to any subscribing methods");const t=this.callbacks.indexOf(e);t<0?console.error("QuoteLogger: unsubscribe() must be called with a function previously set using subscribe()"):this.callbacks.splice(t,1)}shutdown(){this.subscriber&&this.subscriber.shutdown(),this.publisher&&this.publisher.shutdown(),this.isSubscriber=!1,this.isPublisher=!1,this.callbacks=[]}_publish(e){this.isPublisher?e.type?this.publisher.publish(e):console.error('QuoteLogger: publish() argument missing "type" property'):console.error("QuoteLogger: initPublisher() must be called prior to any publishing methods")}_receiveLog(e){if(e){if(this.subChannel instanceof k){if(e.type===I){new k(e.source).send(B)}else e.type===T&&this.isPublisher&&this.pubChannel.markReady();delete e.source}this.callbacks.forEach((t=>t(e,this)))}}_waitForWindow(){this.pubChannel.isActive()&&!this.pubChannel.isReady()&&(this.pubChannel.send(M),setTimeout(this._waitForWindow.bind(this),100))}}var P=i(6597),L=i(6206);const A={CHEVRON_DOWN_ICON:"sf-icon-chevrondown",CHEVRON_RIGHT_ICON:"sf-icon-chevronright",CHEVRON_DOWN_CONTENT:"&#xe86b;",CHEVRON_RIGHT_CONTENT:"&#xe86a;",RIGHT_ICON:"sf-icon-right",DOWN_ICON:"sf-icon-down",OPTION:"option",RIGHT:"right",CENTER:"center",OVERRIDDEN:"overridden",TOP_LEVEL:"top-level",INDENT:"sbIndent",EDITABLE:"editable",DISABLED:"disabled",BOOLEAN:"boolean",HAS_FOCUS:"sf-has-focus",EDIT_ICON:"pencil",SECONDARY:"secondary",EXPANDED:"expanded",EDIT_MODE:"editMode",SELECTION:"selection",DIRTY:"dirty",HIDE_CHECKBOX:"hideCheckbox",TAPPABLE:"tappable",LEFT_ALIGNED:"left-aligned",RIGHT_ALIGNED:"right-aligned"};class F{generateRowNode(e,t){let i=this.generateRow(e),o=document.createElement("div");return t&&Object.keys(t).forEach((e=>{o.setAttribute(e,t[e])})),o.innerHTML=i,o}generateRow(e){throw new Error("generateRow() must be implemented!")}generateFieldSetTemplate(e,t,i,o){const r=this.getColWidths(t);return this.generateInnerFieldSetTemplate(e,r,i,o)}generateSegmentedTooltipFieldSetTemplate(e,t,i){let o="<table><tbody>";return e.filter((e=>t[e]&&i.md.fieldsMap[i.constants.QUOTE_LINE]&&i.md.fieldsMap[i.constants.QUOTE_LINE][e])).forEach((e=>{o+=`<tr><th>${t[e]}</th><td>`;let r=i.getFieldMetadata(e);o+=this.generateInnerFieldTemplate(e,r),o+="</td></tr>"})),o+="</tbody></table>",o}generateSegmentedFieldSetTemplate(e,t,i,r,n,s){const a=this.getColWidths(r,i);let l=this.generateInnerFieldSetTemplate(e,a,n,s);return o.B.isMobile||(l+=this.generateInnerFieldSetTemplate(t,a,n,s,e.length)),l}generateInnerFieldSetTemplate(e,t,i,r){let n="",s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return e.forEach((e=>{let a=i.getFieldMetadata(e),l=this.getColumnClass(e),d=this.getPrimaryClass(s,r),c=P.q.isProductNameField(e)&&o.B.isBundleCollapsible(i)?"":"focusable";n+=`<div tabindex="0" class$="container td sf-le-table-cell sf-le-table-row ${d} ${c} ${l} [[_cellClasses.${e}]]" `,t&&(n+=`style="min-width:${t[e]}px;max-width:${t[e]}px"`),n+=` index="${s}" field="${e}" >`,n+=this.getFieldLabel(a,r),n+='<div class="r">',P.q.isProductNameField(e)&&i.isProductHierarchyVisualized()?n+=this.generateProductCell(e):n+=this.generateInnerFieldTemplate(e,i.getFieldMetadata(e)),n+="</div>",n+="</div>",s++})),n}generateProductCell(e){return""}generateInnerFieldTemplate(e,t){let i=t?t.type:null;switch(t&&"richtextarea"===t.extraTypeInfo&&(i="richtextarea"),t&&t.calculatedFormula&&t.calculatedFormula.includes("IMAGE")&&(i="image"),t&&t.calculated&&t.htmlFormatted&&(i="formulaHtml"),i){case"boolean":return this.generateCheckboxTemplate(e);case"image":return`<div class="imgFormula" inner-h-t-m-l="[[${e}]]"></div>`;case"richtextarea":case"formulaHtml":return`<div class="htmlField" inner-h-t-m-l="[[${e}]]"></div>`;case"url":return`<a href="[[${e}]]" target="_blank">[[${e}]]</a>`;default:return`[[${e}]]`}}generateCheckboxTemplate(e){return'<div class="checkboxcontainer">'+this.generateInnerCheckboxTemplate(e)+"</div>"}generateInnerCheckboxTemplate(e){return`<input type="checkbox" class="hidden" ${e?`checked="[[${e}]]"`:""}><div class="paper-checkbox"><div class="checkmark"></div></div>`}generateColAdjBar(){return o.B.isColumnResizingEnabled&&!o.B.isMobile&&this.options.allowColumnResizing?'<span class="col-adj-bar"></span>':""}getColumnClass(e){return""}getPrimaryClass(e,t){return""}getFieldLabel(e,t){return""}getColWidths(e,t){return t?e.getDimensionColWidths(t):e.colWidth.Standard}buildRowSegmentFieldSet(e){let t=e.map(L.BX);return t.push("total"),t}static get classNames(){return A}}class N extends F{constructor(e,t){super(),this.metadata=e,this.options=t||{}}generate(e,t){let i="";return e.forEach((e=>{let o=t[e]||"";i+=`<li class="detail-block" role="listitem"><div class="truncate" title="${o}">${o}</div><div ${this._getAttributes(e)}>`+this.generateInnerFieldTemplate(e,this._getMetadata(e))+"</div></li>"})),i}_getMetadata(e){return"function"==typeof this.metadata?this.metadata(e):this.metadata[e]}_getAttributes(e){return(this.options.attributes||'class="truncate body"').replace("$field",e)}}var R=i(904),q=i(4358),j=i(3311),H=i(665),V=i(9092);class U{constructor(e,t){e&&(this.lineVO=e,this.groupModel=t,this.selected=!1,this.lineItemDrawerIconClass=this._getLineItemDrawerIconClass(),this.expandedIconClass=this._getExpansionClass(),this.visible=this.isVisibleInLineEditor(),this.hasParent=this.hasParentLine(),this.bundleVisible=!0,this.setItemClassMap(),null==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]&&(this.lineVO.record[this.constants.PRICING_METHOD_FIELD]="List"),this.cellClasses={})}get editorModel(){return this.quoteModel.editorModel}set editorModel(e){this.quoteModel&&(this.quoteModel.editorModel=e)}get quoteModel(){return this.groupModel.quoteModel}get constants(){return this.editorModel.constants}get fieldNames(){return this.constants}get component(){return null!=this.lineVO.record[this.constants.OPTION_LEVEL_FIELD]}get subscription(){return null!=this.lineVO.record[this.constants.SUBSCRIPTION_PRICING_FIELD]}get isMDQ(){return null!=this.lineVO.record[this.constants.SEGMENT_LABEL_FIELD]}get dynamicSubscription(){return"Percent Of Total"==this.lineVO.record[this.constants.SUBSCRIPTION_PRICING_FIELD]}get isCustomDimension(){return!!this.lineVO.record[this.constants.SEGMENT_KEY_FIELD]&&"Custom"===this.quoteModel.quoteVO.multiSegmentKeys[this.lineVO.record[this.constants.SEGMENT_KEY_FIELD]]}get dynamic(){return"Percent Of Total"==this.lineVO.record[this.constants.SUBSCRIPTION_PRICING_FIELD]||"Percent Of Total"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}get isBundle(){return this.bundle&&this.quoteModel.linesByParentItemKey[this.lineVO.key]}get subscriptionScopeEditable(){return this.dynamic&&null==this.lineVO.record[this.constants.COMPONENT_SUBSCRIPTION_SCOPE_FIELD]&&null==this.lineVO.record[this.constants.SUBSCRIBED_ASSET_IDS_FIELD]}get rootPackage(){return(this.bundle||this.lineVO.productPullIns&&(this.lineVO.productPullIns.hasConfiguration||this.lineVO.productPullIns.hasConfigurationAttributes))&&!this.component}get legacySupport(){return!(1==this.lineVO.record[this.constants.RENEWAL_CHECKBOX]&&1!=this.lineVO.record[this.constants.EXISTING_FIELD]&&null==this.lineVO.record[this.constants.PRIOR_QUANTITY_FIELD])||this.editorModel.data.settings.renewalQuotesWithoutAssetsAllowed}get quantityEditable(){return(null==this.lineVO.record[this.constants.BUNDLED_QUANTITY_FIELD]||!this.component)&&this.legacySupport&&this.lineVO.productQuantityEditable||1==this.lineVO.quantityEditable}get costEditable(){return 1==this.lineVO.record[this.constants.COST_EDITABLE_FIELD]}get unitCostEditable(){return this.costEditable&&!this.bundled&&!this.dynamic}get pricingMethodList(){return"List"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}get pricingMethodCustom(){return"Custom"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}get pricingMethodCost(){return"Cost"==this.lineVO.record[this.constants.PRICING_METHOD_FIELD]}get pricingMethodDisabled(){return this.dynamicSubscription||this.bundled||!this.lineVO.record[this.constants.PRICING_METHOD_EDITABLE_FIELD]}get bundled(){return 1==this.lineVO.record[this.constants.BUNDLED_FIELD]}get bundle(){return 1==this.lineVO.record[this.constants.BUNDLE_FIELD]}get nonDiscountable(){return 1==this.lineVO.record[this.constants.NON_DISCOUNTABLE_FIELD]}get nonPartnerDiscountable(){return 1==this.lineVO.record[this.constants.NON_PARTNER_DISCOUNTABLE_FIELD]}get partnerDiscountEditable(){return!this.quoteModel.isAmendmentOrChangeQuote||!this.existing}get componentDiscountedByPackage(){return 1==this.lineVO.record[this.constants.COMPONENT_DISCOUNTED_BY_PACKAGE_FIELD]}get discountable(){return!(this.bundled||this.nonDiscountable||this.pricingMethodCustom||this.componentDiscountedByPackage)}get discountEditable(){return!this.quoteModel.isAmendmentOrChangeQuote||!this.existing}get removable(){return!this.component&&(!this.quoteModel.isAmendment||this.quoteModel.isAmendment&&!this.existing)}get configurable(){return this.rootPackage&&!this.lineVO.reconfigurationDisabled&&"Disabled"!=this.lineVO.configurationType&&(null==this.lineVO.configurationEvent||"Always"==this.lineVO.configurationEvent||"Edit"==this.lineVO.configurationEvent)}get listPriceEditable(){return this.lineVO.record[this.constants.PRICE_EDITABLE_FIELD]&&!this.bundled&&!this.dynamicSubscription&&this.pricingMethodList}get segmented(){return null!=this.lineVO.record[this.constants.SEGMENT_KEY_FIELD]}get favorite(){return!this.component&&null!=this.lineVO.record[this.constants.FAVORITE_ID_FIELD]}get existing(){return this.lineVO.record[this.constants.EXISTING_FIELD]}get descriptionLocked(){return this.lineVO.descriptionLocked}get hasStandardLineItemDrawer(){return this._hasStandardLineItemDrawer()}get asset(){return null!=this.lineVO.record[this.constants.RENEWED_ASSET_ID_FIELD]}get renewal(){return this.lineVO.record[this.constants.RENEWAL_CHECKBOX]}get hasSubscribedAssetIds(){return null!=this.lineVO.record[this.constants.SUBSCRIBED_ASSET_IDS_FIELD]}get isAsset(){return null!=this.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]}get isDeltaQty(){return!this.existing||this.existing&&!this.renewal&&(this.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]||this.asset)}get standardLineFieldNames(){return this.groupModel.standardLineFieldNames}get standardLineDrawerFieldNames(){return this.groupModel.standardLineDrawerFieldNames}get standardLineColumnWidths(){return this.editorModel.layout.colWidths[this.groupModel.groupKey].Standard}isDiscountScheduleIdExcluded(e){return this.editorModel.data.excludedDiscountScheduleIds.hasOwnProperty(e)}get discountedUnitPrice(){return this.quoteModel.quoteVO.applyAdditionalDiscountLast?this.getField(this.constants.CUSTOMER_PRICE_FIELD):this.getField(this.constants.NET_PRICE_FIELD)}getFieldMD(e){return this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName][e]}getField(e){return this.lineVO.record[e]}getLineVOProperty(e){return this.lineVO[e]}_getExpansionClass(){return this.segmented?this.lineVO.expanded?"sf-icon-down":"sf-icon-right":""}_hasStandardLineItemDrawer(){return this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames&&this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames.length>0&&!this.editorModel.deviceContext.isMobile&&!this.segmented}_getLineItemDrawerIconClass(){return this.segmented||!this.hasStandardLineItemDrawer?"":this.lineVO.expanded?"sf-icon-chevrondown":"sf-icon-chevronright"}isEditable(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.lineVO.fieldEditability,i=this.getFieldMD(e);return!!i&&(t&&null!=t[e]?t[e]:("richtextarea"!==i.extraTypeInfo||!this.editorModel.deviceContext.isMobile)&&(i.name==this.constants.QUANTITY_FIELD||i.name==this.constants.ADDITIONAL_QUANTITY_FIELD?i.updateable&&this.quantityEditable:i.name==this.constants.LIST_PRICE_FIELD?i.updateable&&this.listPriceEditable:i.name==this.constants.ADDITIONAL_DISCOUNT_FIELD||i.name==this.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD||i.name==this.constants.ADDITIONAL_DISCOUNT_RATE_FIELD?this.discountable&&this.discountEditable:i.name==this.constants.PARTNER_DISCOUNT_FIELD?!this.nonPartnerDiscountable&&this.partnerDiscountEditable:i.name==this.constants.DISTRIBUTOR_DISCOUNT_FIELD?this.discountEditable:i.name==this.constants.UPLIFT_FIELD?i.updateable&&this.lineVO.upliftable:i.name==this.constants.UNIT_COST_FIELD?i.updateable&&this.unitCostEditable:i.name==this.constants.CUSTOMER_PRICE_FIELD?i.updateable&&this.pricingMethodCustom:i.name==this.constants.PRICING_METHOD_FIELD?i.updateable&&!this.pricingMethodDisabled:i.name==this.constants.MARKUP_FIELD?!this.bundled&&this.pricingMethodCost&&this.discountEditable:i.name!=this.constants.NET_PRICE_FIELD&&(i.name!=this.constants.PARTNER_PRICE_FIELD&&(i.name==this.constants.DESCRIPTION_FIELD?!this.descriptionLocked:i.name!=this.constants.PACKAGE_PRODUCT_CODE_FIELD&&(i.name!=this.constants.PRORATED_LIST_PRICE_FIELD&&(i.name!=this.constants.REGULAR_PRICE_FIELD&&(("Evergreen"!==this.lineVO.record[this.constants.SUBSCRIPTION_TYPE_FIELD]||i.name!==this.constants.SUBSCRIPTION_TERM_FIELD&&i.name!==this.constants.END_DATE_FIELD)&&(i.name==this.constants.START_DATE_FIELD||i.name==this.constants.END_DATE_FIELD?this.subscription&&(!this.isMDQ||this.isCustomDimension):i.name===this.constants.SUBSCRIPTION_SCOPE_FIELD?i.updateable&&this.subscriptionScopeEditable:i.name!=this.constants.PRICING_GUIDANCE_FIELD&&(!!i&&i.updateable)))))))))}isFieldRendered(e,t){if(this.lineVO.fieldVisibility&&null!=this.lineVO.fieldVisibility[e])return this.lineVO.fieldVisibility[e];let i=this.getFieldMD(e);return i&&i.name==this.constants.SUBSCRIPTION_TERM_FIELD?this.subscription:!i||"richtextarea"!==i.extraTypeInfo||(!t||this.lineVO.record[e]&&t)}get serviceModel(){let e=[];if(this.segments)for(let t=0,i=this.segments.length;t<i;t++)e.push(this.segments[t].lineVO.key);else e.push(this.lineVO.key);return{keys:e,segmentKey:this.getField(this.constants.SEGMENT_KEY_FIELD),segmented:this.segmented,updateCustomSegments:!1,favIds:[this.getField(this.constants.FAVORITE_ID_FIELD)],scheduleId:this.getField(this.constants.DISCOUNT_SCHEDULE_FIELD)}}isVisibleInLineEditor(){let e=null==this.lineVO.componentVisibility||""==this.lineVO.componentVisibility||"Always"==this.lineVO.componentVisibility||"Editor Only"==this.lineVO.componentVisibility;return!(e&&null!=this.lineVO.record[this.constants.RENEWED_ASSET_ID_FIELD]&&this.quoteModel.isRenewal&&this.editorModel.data.settings.renewedAssetsHiddenWhenEditing)&&e}hasParentLine(){return null!==this.lineVO.parentItemKey}addToSegmentsArray(e){this.segments||(this.segments=[]),this.segments.push(e)}removeFromSegmentsArray(e){this.segments.splice(this.segments.indexOf(e),1),0===this.segments.length&&delete this.segments}addToSegmentsByLabel(e,t){this.segmentsByLabel||(this.segmentsByLabel={}),this.segmentsByLabel[e]=t}removeFromSegmentsByLabel(e){this.segmentsByLabel[e]&&delete this.segmentsByLabel[e],0==Object.keys(this.segmentsByLabel).length&&delete this.segmentsByLabel}setLineTypeClass(){return this.bundle?"parent-line":this.component?"component":"standalone"}setItemClassMap(){let e=this.editorModel.deviceContext.isMobile,t={};for(let i in this.lineVO.record)this.isFieldRendered(i,e)||(t[i]=e?"hiddenInMobile":"hiddenInDesktop"),this.segmented&&(t[i]?t[i]+=" mdqSummaryRow":t[i]="mdqSummaryRow"),t.total="hiddenInMobile";let i=this.standardLineDrawerFieldNames||[];for(let o=0;o<i.length;o++){let r=i[o];this.lineVO.record[r]||this.isFieldRendered(r,e)||(t[r]=e?"hiddenInMobile":"hiddenInDesktop")}this.itemClassMap=t}static get recordPath(){return"lineModel.lineVO.record"}get modelType(){return"LineModel"}}var z=i(7163);class ${constructor(e,t){this.groupVO=e,this.quoteModel=t,this.standardLines=[],this.segmentedLines=[],this.dimensions=[],this.dimensionsMap={},this.segmentedLinesByDimension={},this.segmentedLinesBySegmentKey={},this.segmentedLineKeysBySegmentKey={},this.standardSubscriptionScopeEditable=!1,this.segmentedSubscriptionScopeEditable=!1,this.groupObjectName=this.constants.QUOTE_LINE_GROUP,this.summaries=this.quoteModel.grouped?this.groupVO.summaries:this.quoteModel.quoteVO.summaries,this.multiSegmentColumnTotals=this.groupVO.multiSegmentColumnTotals?this.groupVO.multiSegmentColumnTotals:this.quoteModel.quoteVO.multiSegmentColumnTotals,this.netMultiSegmentTotal=this.groupVO.netMultiSegmentTotal?this.groupVO.netMultiSegmentTotal:this.quoteModel.quoteVO.netMultiSegmentTotal,this.hasVisibleStandardLines=!1,this.hasVisibleSegmentedLines={},this.standardLineFieldNames=this._setStandardLineFieldNames(),this.groupFieldNames=this._getFieldSetNames(),this._setDrawerFields(),(0,z.kz)(this,(e=>{"lineType"!==e[0]&&(this.lineType===this.constants.TYPE_STANDARD?"standardLines"!==e[0]:"segmentedLinesByDimension"!==e[0]||e[1]!==this.lineType)||(0,z.me)(this,["flattenedRows"])}))}get editorModel(){return this.quoteModel.editorModel}get constants(){return this.editorModel.constants}get quoteVO(){return this.quoteModel.quoteVO}get lineType(){return this._lineType||(this._lineType=this.standardLines.length>0||0===this.dimensions.length?"Standard":this.dimensions[0]),this._lineType}set lineType(e){this._lineType=e,(0,z.me)(this,["lineType"])}get tabs(){return(0===this.dimensions.length?[]:this.standardLines.length>0?["Standard"].concat(this.dimensions):this.dimensions).map((e=>({name:e,label:this.editorModel.i18n.l(e)})))}get groupMD(){return this.editorModel.md.fieldsMap[this.constants.QUOTE_LINE_GROUP]}get standardLineColumnWidths(){return this.colWidth.Standard}get groupKey(){return this.groupVO.key}processQuoteLines(e){let t=new U(e,this);this.quoteModel.lineModelsByKey[t.lineVO.key]=t,t.segmented?this._addSegmentedLine(t):this._addStandardLine(t),t.lineVO.parentItemKey&&(!t.segmented||t.segmented&&t.segments)&&this.addToLinesByParentItemKey(t)}_addStandardLine(e){e.visible&&(this.hasVisibleStandardLines=!0),this.quoteModel.indexByGroupKey[e.lineVO.parentGroupKey].indexByLineKey[e.lineVO.key]=this.standardLines.length,this.standardLines.push(e),e.subscriptionScopeEditable&&this.quoteModel.grouped&&(this.standardSubscriptionScopeEditable=!0)}_addSegmentedLine(e){let t=e.lineVO,i=t.record,o=t.key,r=i[this.constants.SEGMENT_KEY_FIELD],n=i[this.constants.SEGMENT_LABEL_FIELD],s=this.quoteVO.multiSegmentKeys?this.quoteVO.multiSegmentKeys[r]:null;if(this.segmentedLinesBySegmentKey[r])this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[o]=this.segmentedLinesBySegmentKey[r].segments.length,e.segmentedLineKey=this.segmentedLineKeysBySegmentKey[r],this.segmentedLinesBySegmentKey[r].segments.push(e),this.segmentedLinesBySegmentKey[r].segmentsByLabel[n]=e;else{e.visible&&!this.hasVisibleSegmentedLines[s]&&(this.hasVisibleSegmentedLines[s]=!0);let i=new U(t,this);this.setDimensionProperties(s),e.addToSegmentsArray(i),e.addToSegmentsByLabel(n,e),this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[o]=e.segments.length-1,i.segmentedLineKey=this.segmentedLineKeysBySegmentKey[r],this.segmentedLines.push(e),s&&(this.quoteModel.indexByGroupKey[this.groupKey].indexBySegmentKey[r]=this.segmentedLinesByDimension[s].length,this.segmentedLinesByDimension[s].push(e),this.segmentedLinesBySegmentKey[r]=e,e.dimensionType=s)}e.subscriptionScopeEditable&&this.quoteModel.grouped&&(this.segmentedSubscriptionScopeEditable=!0)}removeDimensionProperties(e){e&&this.segmentedLinesByDimension[e]&&0===this.segmentedLinesByDimension[e].length&&(delete this.segmentedLinesByDimension[e],this.dimensionsMap[e]&&delete this.dimensionsMap[e],this.dimensions.splice(this.dimensions.indexOf(e),1))}setDimensionProperties(e){e&&(this.dimensionsMap[e]||(this.dimensionsMap[e]=!0,this.dimensions.push(e)),this.segmentedLinesByDimension[e]||(this.segmentedLinesByDimension[e]=[]))}getDimensionColWidths(e){let t={};for(let i in this.colWidth[e])t[(0,L.BX)(i)]=this.colWidth[e][i];return t}addToLinesByParentItemKey(e){let t=this.quoteModel.linesByParentItemKey,i=this.quoteModel.standardLinesByParentItemKey,o=this.quoteModel.segmentedLinesByParentItemKey,r=e.lineVO.parentItemKey;r&&(t[r]||(t[r]=[]),t[r].push(e),e.segmented?(o[r]||(o[r]=[]),o[r].push(e)):(i[r]||(i[r]=[]),i[r].push(e)))}cloneLine(e,t,i){let r=JSON.parse(JSON.stringify(e.lineVO));r.record=JSON.parse(JSON.stringify(e.lineVO.record));let n=i||e.groupModel,s=new U(r,n);if(s.lineVO.parentItemKey=t||null,s.segmented&&!e.segmentedLineKey&&(s.segments=[],s.segmentsByLabel={}),o.B.isBundleCollapsible(e.editorModel)&&(s.bundleCollapsed=e.bundleCollapsed,s.bundleVisible=e.bundleVisible),s.lineVO.record.Id=null,null!=s.lineVO.quoteLinePricingGuidance&&s.lineVO.quoteLinePricingGuidance.record&&(s.lineVO.quoteLinePricingGuidance.record.Id=null),s.lineVO.record[this.constants.REQUIRED_BY_FIELD]=null,s.lineVO.record[this.constants.SOURCE_FIELD]=e.lineVO.record.Id||e.lineVO.record[this.constants.SOURCE_FIELD],null!=s.lineVO.record[this.constants.LAST_MODIFIED_DATE_FIELD]&&(s.lineVO.record[this.constants.LAST_MODIFIED_DATE_FIELD]=null),"Amendment"===e.editorModel.quoteModel.quoteVO.record[this.constants.TYPE_FIELD]){if(o.B.org.isServiceCloudEnabled){let e=`${o.B.org.scPrefix}${this.constants.UPGRADED_CONTRACT_LINE}`;s.lineVO.record[e]=null}else s.lineVO.record[this.constants.UPGRADED_SUBSCRIPTION_FIELD]=null;s.lineVO.record[this.constants.EXISTING_FIELD]=!1,s.lineVO.record[this.constants.RENEWAL_CHECKBOX]=!1,s.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]=null,s.lineVO.record[this.constants.NET_TOTAL_FIELD]=null,s.lineVO.record[this.constants.PRIOR_QUANTITY_FIELD]=null,s.lineVO.record[this.constants.RENEWED_ASSET_ID_FIELD]=null,s.lineVO.record[this.constants.SUBSCRIBED_ASSET_IDS_FIELD]=null}return s.lineVO.key=++s.editorModel.quoteModel.quoteVO.nextKey,i&&(s.lineVO.parentGroupKey=i.groupKey),this._updateColWidths(e),s}cloneSegmentedLine(e,t,i){let o=this.cloneLine(e,t,i),r=Math.random().toString(36).substr(2,9);o.lineVO.record[this.constants.SEGMENT_KEY_FIELD]=r;let n=o.lineVO.record[this.constants.SEGMENT_KEY_FIELD],s=e.lineVO.record[this.constants.SEGMENT_KEY_FIELD],a=this.quoteModel.quoteVO.multiSegmentRowTotals;a&&(a[n]=a[s]),this.segmentedLinesBySegmentKey[n]=o,this.quoteVO.multiSegmentKeys[n]=o.lineVO.dimensionType;for(let t=0,r=e.segments.length;t<r;t++){let r=this.cloneLine(e.segments[t],null,i);if(r.lineVO.record[this.constants.SEGMENT_KEY_FIELD]=n,r.lineVO.parentItemKey=o.lineVO.parentItemKey,r.segmentedLineKey=o.lineVO.key,o.segments&&o.segments.push(r),o.segmentsByLabel){let e=r.lineVO.record[this.constants.SEGMENT_LABEL_FIELD];o.segmentsByLabel[e]=r}}o.dimensionType=e.dimensionType;let l=o.dimensionType;return this.segmentedLinesByDimension[l]||this.setDimensionProperties(l),this.quoteModel.grouped&&(this._updateColWidths(e,l),this.groupVO.multiSegmentColumns[l]=e.groupModel.groupVO.multiSegmentColumns[l],this.groupVO.localizedMultiSegmentColumns[l]=e.groupModel.groupVO.localizedMultiSegmentColumns[l]),o}_updateColWidths(e,t){this.editorModel.deviceContext.isMobile||(this.colWidth||(this.colWidth={}),this.colWidth[t]||(this.colWidth[t]=e.groupModel.colWidth[t]),this.colWidth.Standard||(this.colWidth.Standard=e.groupModel.colWidth.Standard))}_groupHasStandardProducts(){this.hasVisibleStandardLines=!1;for(let e=0,t=this.standardLines.length;e<t;e++)if(this.standardLines[e].visible){this.hasVisibleStandardLines=!0;break}return this.hasVisibleStandardLines}_groupHasSegmentedProducts(){Object.keys(this.hasVisibleSegmentedLines);let e=!1;for(let t in this.segmentedLinesByDimension){this.hasVisibleSegmentedLines[t]=!1;for(let i=0,o=this.segmentedLinesByDimension[t].length;i<o;i++)if(this.segmentedLinesByDimension[t][i].visible){this.hasVisibleSegmentedLines[t]=!0,e=!0;break}}return e}_updateStandardSubscriptionScopeEditable(e){if(this.quoteModel.grouped)for(let t=0,i=this.standardLines.length;t<i;t++)if(this.standardLines[t].visible&&this.standardLines[t].subscriptionScopeEditable&&this.standardLines[t]!==e)return void(this.standardSubscriptionScopeEditable=!0);this.standardSubscriptionScopeEditable=!1}_updateSegmentedSubscriptionScopeEditable(e){if(this.quoteModel.grouped)for(let t=0,i=this.segmentedLines.length;t<i;t++)if(this.segmentedLines[t].visible&&this.segmentedLines[t].subscriptionScopeEditable&&this.segmentedLines[t]!==e)return void(this.segmentedSubscriptionScopeEditable=!0);this.segmentedSubscriptionScopeEditable=!1}get serviceModel(){return{keys:[this.groupKey],favIds:[this.groupVO.record[this.constants.FAVORITE_ID_FIELD]]}}renumberStandardIndexes(){for(let e=0,t=this.standardLines.length;e<t;e++)this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[this.standardLines[e].lineVO.key]=e}renumberSegmentedIndexes(){for(let t=0,i=this.dimensions.length;t<i;t++){let i=this.dimensions[t],o=this.segmentedLinesByDimension[i];for(let t=0;t<o.length;t++){var e=o[t].lineVO.record[this.constants.SEGMENT_KEY_FIELD];this.quoteModel.indexByGroupKey[this.groupKey].indexBySegmentKey[e]=t;let i=o[t].segments;for(let e=0,t=i.length;e<t;e++)this.quoteModel.indexByGroupKey[this.groupKey].indexByLineKey[i[e].lineVO.key]=e}}}canDelete(){const e=e=>e.every((e=>!e.existing));return e(this.standardLines)&&e(this.segmentedLines)}get flattenedRows(){const e=this.lineType===this.constants.TYPE_STANDARD?this.constants.STANDARD_LINE:this.constants.SEGMENTED_LINE,t=e===this.constants.STANDARD_LINE?this.standardLines:this.segmentedLinesByDimension[this.lineType];return[{rowType:this.constants.GROUP_HEADER,model:this},...t.map((t=>({rowType:e,model:t}))),{rowType:this.constants.GROUP_FOOTER,model:this}]}_setStandardLineFieldNames(){let e=new H.V(this.editorModel.fieldsetMap,"lineFieldNames","lineFieldNamesTablet","lineFieldNamesPhone");return this.fieldSet=e.getByViewport(j.L.getViewport()),this.fieldSetName!=this.fieldSet.name&&(this.fieldSetName=this.fieldSet.name),this._getFields()}_getFields(){return this.standardSubscriptionScopeEditable?[this.constants.SUBSCRIPTION_SCOPE_FIELD].concat(this.fieldSet.fields):this.fieldSet.fields}_setDrawerFields(){let e=this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames,t=this.editorModel.deviceContext.isMobile;e&&!t?this.standardLineDrawerFieldNames=e:e&&t&&(this.standardLineFieldNames=this.standardLineFieldNames.concat(e))}toggleOptional(e){this._callChildren((t=>{(0,z.N6)(t,["lineVO","record",this.constants.OPTIONAL_FIELD],e)}))}notifyUi(e){const t="segmentedLinesByDimension"===e[0]?oe(e,this,3):"standardLines"===e[0]?oe(e,this,2):null;null!==t?(0,z.me)(t.target,t.path):(0,z.me)(this,e)}_getFieldSetNames(){let e=this.editorModel.fieldsetMap.groupFieldNames.slice();for(let t=0,i=e.length;t<i;t++)this.isMobile||this.constants.DESCRIPTION_FIELD!=e[t]&&"Name"!=e[t]||(e.splice(t,1),t--);return e}getFieldMD(e){return this.groupMD[e]}toggleSelected(e){this._callChildren((t=>{(0,z.N6)(t,["selected"],e)}))}resetDiscounts(){this._callChildren((e=>{(0,V.d_)(e,this.constants.ADDITIONAL_DISCOUNT_FIELD,null)}))}_callChildren(e){this.standardLines.forEach(e),this.dimensions.forEach((t=>{this.segmentedLinesByDimension[t].forEach((t=>{t.segments.forEach(e)}))}))}get modelType(){return"GroupModel"}}let W="Renewal",Q="Amendment",G="Re-Quote";class K{constructor(e,t){if(this.quoteVO=e,this.editorModel=t,this.grouped=e.record[this.constants.GROUP_LINE_ITEMS_FIELD],this.groupsByKey={},this.lineModelsByKey={},this.indexByGroupKey={},this.lineGroups=[],this.linesByParentItemKey={},this.standardLinesByParentItemKey={},this.segmentedLinesByParentItemKey={},this.selectedLinesByKey={},this.allOptional=!0,this.isPrimary=this.quoteVO.record[this.constants.PRIMARY_FIELD],this.isRenewal=this.quoteVO.record[this.constants.TYPE_FIELD]===W,this.isAmendment=this.quoteVO.record[this.constants.TYPE_FIELD]===Q,this.isChangeQuote=this.quoteVO.record[this.constants.TYPE_FIELD]===G,this.isAmendmentOrChangeQuote=this.isAmendment||this.isChangeQuote,this.hasConsumptionSchedules=this.quoteVO.hasConsumptionSchedules,this.grouped&&0==this.quoteVO.lineItemGroups.length){let e={Name:"Group1"};e[this.constants.prefix+"Number__c"]=1;let t={key:++this.quoteVO.nextKey,record:e,multiSegmentColumns:{},localizedMultiSegmentColumns:{}},i=new $(t,this);this.quoteVO.lineItemGroups.push(t),this.groupsByKey[i.groupVO.key]=i,this.indexByGroupKey[i.groupVO.key]={index:Object.keys(this.indexByGroupKey).length,indexByLineKey:{},indexBySegmentKey:{}};let o=this.quoteVO.lineItems;for(let e=0;e<o.length;e++){o[e].parentGroupKey=i.groupVO.key}}let i=this.grouped?this.quoteVO.lineItemGroups:[{key:null,record:{}}];for(var r=0,n=i.length;r<n;r++){let e=new $(i[r],this);this.lineGroups.push(e),this.groupsByKey[e.groupVO.key]=e,this.indexByGroupKey[e.groupVO.key]={index:r,indexByLineKey:{},indexBySegmentKey:{}},this.quoteVO.nextGroupKey=e.groupVO.key+1}for(let e of this.quoteVO.lineItems)e.record[this.constants.OPTIONAL_FIELD]||(this.allOptional=!1),this.groupsByKey[e.parentGroupKey].processQuoteLines(e);o.B.isBundleCollapsible(this.editorModel)&&this._setBundleExpansionStates();let s=!0,a=()=>{s&&setTimeout((()=>{(0,z.me)(this,["flattenedRows"]),s=!0}),0),s=!1};(0,z.kz)(this,(e=>{"lineGroups"===e[0]&&a()})),this.lineGroups.forEach((e=>{(0,z.kz)(e,(e=>{"flattenedRows"===e[0]&&a()}))}))}get constants(){return this.editorModel.constants}get quoteMD(){return this.editorModel.md.fieldsMap[this.editorModel.data.quoteObjectName]}getFieldMD(e){return this.quoteMD[e]}renumberIndexes(e){for(let t=0,i=this.lineGroups.length;t<i;t++){let i=this.lineGroups[t].groupKey;this.indexByGroupKey[i].index=t,e&&(this.lineGroups[t].renumberStandardIndexes(),this.lineGroups[t].renumberSegmentedIndexes())}}renumber(){let e=1,t=3e3;for(let i=0,o=this.lineGroups.length;i<o;i++){let o=this.lineGroups[i];for(let r=0,n=o.dimensions.length;r<n;r++){let n=o.dimensions[r],s=o.segmentedLinesByDimension[n];for(let o=0,r=s.length;o<r;o++){let r=s[o].segments;if(s[o].visible){this.lineGroups[i].segmentedLinesByDimension[n][o].lineVO.record[this.constants.NUMBER_FIELD]=e;for(let t=0,i=r.length;t<i;t++)r[t].lineVO.record[this.constants.NUMBER_FIELD]=e;e++}else{s[o].lineVO.record[this.constants.NUMBER_FIELD]=t;for(let e=0,i=r.length;e<i;e++)r[e].lineVO.record[this.constants.NUMBER_FIELD]=t;t++}}}for(let r=0,n=o.standardLines.length;r<n;r++){o.standardLines[r].visible?(this.lineGroups[i].standardLines[r].lineVO.record[this.constants.NUMBER_FIELD]=e,e++):(o.standardLines[r].lineVO.record[this.constants.NUMBER_FIELD]=t,t++)}}}toggleOptional(e,t){this._callChildren(t,(t=>{t.toggleOptional(e)}))}resetDiscounts(e){this._callChildren(e,(e=>{e.resetDiscounts()}))}_callChildren(e,t){e?t(this.groupsByKey[e]):this.lineGroups.forEach(t)}get flattenedRows(){return[].concat(...this.lineGroups.map((e=>e.flattenedRows)))}notifyUi(e){const t="lineGroups"===e[0]?oe(e,this,2):null;null!==t?t.target.notifyUi(t.path):(0,z.me)(this,e)}setHiddenFromPSPClass(){let e={};for(let t in this.quoteVO.fieldVisibility)0==this.isFieldVisible(t)&&(e[t]="hiddenFromPSP");return e}isFieldVisible(e){if(this.quoteVO.fieldVisibility&&null!=this.quoteVO.fieldVisibility[e])return this.quoteVO.fieldVisibility[e]}_setBundleExpansionStates(){Object.keys(this.lineModelsByKey).forEach((e=>{let t=this.lineModelsByKey[e];if(t.isBundle){const e="l"+t.lineVO.key;let i=(0,R.Jt)("BundleCollapsed",[e]);t.bundleCollapsed=null!=i?i:"Collapsed"===o.B.defaultBundleSetting,(0,R.yJ)("BundleCollapsed",[e],t.bundleCollapsed),t.bundleCollapsed&&t.bundleVisible&&this._hideTree(t)}}))}_hideTree(e){let t=e.isBundle;t&&t.forEach((e=>{e.bundleVisible=!1,this.linesByParentItemKey[e.lineVO.key]&&this._hideTree(e)}))}get modelType(){return"QuoteModel"}}var Y=i(7622);class X{constructor(e,t,i,o){this.editorModel=e,this.record=t,this.customActionModelsByParentId=i,this.renderLocation=o,this.record&&(this.icon=this.record[this.editorModel.constants.ICON_CLASS_FIELD],this.class=this.icon?this.icon:"",this.caClass=this.record[this.editorModel.constants.CLASS_FIELD],this.location=this.record[this.editorModel.constants.LOCATION_FIELD],this.eventHandlerName=this.record[this.editorModel.constants.EVENT_HANDLER_NAME_FIELD],this.label=this.record[this.editorModel.constants.LABEL_FIELD],this.title=this.icon?this.record[this.editorModel.constants.LABEL_FIELD]:null,this.type=this.record[this.editorModel.constants.TYPE_FIELD],this.isSeparator="Separator"===this.type,this.primary=this.record[this.editorModel.constants.BRAND_BUTTON_FIELD],this.urlTarget=this.record[this.editorModel.constants.URL_TARGET_FIELD],this.url=this.record[this.editorModel.constants.URL_FIELD],this.name=this.record.Name),"Line"===this.renderLocation&&(this.class=`${this.class} ${this.eventHandlerName} lineAction`)}isHidden(e){if(e&&(this.model=e),e&&!this._customActionsConditionsMet)return!0;if("Line"===this.renderLocation&&e)switch(this.eventHandlerName){case"onAddToFavorites":return e.favorite||e.hasParent||e.existing;case"onRemoveFromFavorites":return!e.favorite||e.existing;case"onDeleteLine":return e.hasParent||e.existing&&this.editorModel.quoteModel.isAmendment;case"onCloneLine":return e.hasParent;case"onReconfigureLine":return e.hasParent||!e.configurable;case"onResegmentLine":return!e.lineVO.productHasDimensions||e.segmented||e.existing||e.bundle;case"onDesegmentLine":return!e.lineVO.productHasDimensions||!e.segmented||e.existing||e.bundle;case"showDSModal":let t=this.editorModel.constants.DISCOUNT_SCHEDULE_FIELD;return null==e.lineVO.record[t]||e.isDiscountScheduleIdExcluded(e.lineVO.record[t]);case"onViewConsumptionSchedule":return o.B.isMobile||!e.lineVO.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]||!this.editorModel.data.settings.isUsageBasedPricingEnabled;case"onViewPricingGuidance":return!o.B.isPricingGuidanceEnabled||null==e.lineVO.quoteLinePricingGuidance||e.lineVO.quoteLinePricingGuidance.isDeleted}else{if("Quote"===this.renderLocation&&"Quote/Group"===this.location&&this.editorModel.quoteModel.grouped)return!0;switch(this.eventHandlerName){case"onUngroup":return!this.editorModel.quoteModel.grouped;case"updateLineOptional":return!this.editorModel.toggleOptionalShown||"Group"!==this.location&&"optionalAllBtn"===this.caClass===this.editorModel.quoteModel.allOptional;case"onRenewSubscriptions":return!this.editorModel.data.settings.renewSubscriptionsButtonRendered||this.editorModel.quoteModel.isAmendmentOrChangeQuote;case"onAmendSubscriptions":return!this.editorModel.quoteModel.isAmendment;case"onUpgradeAssets":return!this.editorModel.data.settings.upgradeAssetsButtonRendered;case"onDeleteLines":return!this.editorModel.data.settings.multiLineDeleteEnabled}}return!1}get _customActionsConditionsMet(){let e=this.editorModel.constants;if(!this.record||!this.record[e.CUSTOM_ACTION_CONDITIONS_FIELD])return!0;let t=t=>"Product"===t[e.TARGET_OBJECT_FIELD]?!this.model.productVO||L.J0.arithmeticOperatorConversion(this.model.productVO.record[t[e.FIELD_FIELD]],t[e.FILTER_VALUE_FIELD],t[e.OPERATOR_FIELD]):"Quote"!==t[e.TARGET_OBJECT_FIELD]||L.J0.arithmeticOperatorConversion(this.editorModel.quoteModel.quoteVO.record[t[e.FIELD_FIELD]],t[e.FILTER_VALUE_FIELD],t[e.OPERATOR_FIELD]),i="Any"!==this.record[e.CONDITIONS_MET_FIELD],o=this.record[e.CUSTOM_ACTION_CONDITIONS_FIELD].records;for(let e=0,r=o.length;e<r;e++)if(t(o[e])){if(!i)return!0}else if(i)return!1;return i}get hasMenu(){if(this.children||(this.children=this.customActionModelsByParentId?this.customActionModelsByParentId[this.record.Id]:null),"Menu"===this.type&&this.children&&this.children.length>0)for(let e=0,t=this.children.length;e<t;e++)if(!this.children[e].isHidden(this.model))return!0;return!1}get default(){let e=this.record[this.editorModel.constants.DEFAULT_FIELD];return this.record[this.editorModel.constants.DEFAULT_FIELD]=!1,e}get customActionId(){return this.record.Id}}class J{constructor(e,t,i){this.i18n=o.B.properties.i18n.value(),this._observers=new Map,this.data=e,this.md=t,this.fieldsetMap=Z(this.data,this.md),this.columnMetadata=this.data.columnMetadata,this.constants=new Y.Y(e.developerPrefix),this.deviceContext=i?i.app.deviceContext:{},this.fieldNameSet=i?i.fieldNameSet:{},this.fieldSetNames=this.data.fieldSetNames,this.md.fieldsMap[this.data.quoteLineObjectName][this.constants.SUBSCRIPTION_SCOPE_FIELD].required=!0,this.data.excludedDiscountScheduleIds=Array.isArray(this.data.excludedDiscountScheduleIds)?this._convertExcludedDiscountScheduleIdsToObject(this.data.excludedDiscountScheduleIds):this.data.excludedDiscountScheduleIds||{},this.largeQuoteExperienceEnabled=e.settings.largeQuoteExperienceEnabled&&!this.deviceContext.isMobile,this.summarized=e.quote.summaries&&Object.keys(e.quote.summaries).length>0,this.createQuoteModel(e.quote),this.standardPrimaryMobileCols=[],this.segmentedPrimaryMobileCols=[],this.segmentedDetailsPrimaryMobileCols=[],this.toggleOptionalShown=te(this),i&&i.editorModel?(this.customActionsByLocation=i.editorModel.customActionsByLocation,this.customActionsByLocationMobile=i.editorModel.customActionsByLocationMobile,this.groupMobileMenuButtonAction=i.editorModel.groupMobileMenuButtonAction,re(this)):ie(e.customActions,this),this.quoteCustomActions=this.deviceContext.isMobile?this.customActionsByLocationMobile.Quote:this.customActionsByLocation.Quote,this.lineCustomActions=this.deviceContext.isMobile?this.customActionsByLocationMobile.Line:this.customActionsByLocation.Line,this.styleQuoteAndGroupActionButtons(),this.communityPrefix=this._getCommunityPrefix(),this.scPrefix=o.B.org.scPrefix,this._verifyAdditionalDiscountUnitOptions()}get actionsOnTheLeft(){return"Left"===this.data.settings.actionsColumnPlacement}createQuoteModel(e){this.quoteModel=new K(e,this)}styleQuoteAndGroupActionButtons(){let e=e=>{let t=!0,i=this.customActionsByLocation[e],o=i[0];for(let e=0,r=i.length;e<r;e++)i[e].isHidden(this.quoteModel)||(i[e].first=t,i[e].isSeparator?(t=!0,o.last=!0):(t=!1,o=i[e],o.last=!1));o&&(o.last=!0)};e("Quote"),e("Group")}_verifyAdditionalDiscountUnitOptions(){0===this.data.additionalDiscountUnitOptions.length&&this.data.additionalDiscountUnitOptions.push({label:"%",value:"Percent"})}_getCommunityPrefix(){let e=document.location.pathname,t=e.indexOf("/apex");return t<0?"":e.substring(0,t)}getFieldMetadata(e,t){let i=this.md.fieldsMap[this.data.quoteLineObjectName][e];return t&&this.data.settings.isMultiCurrencyOrg&&"currency"===i.type&&t.CurrencyIsoCode&&(i=JSON.parse(JSON.stringify(i)),i.CurrencyIsoCode=t.CurrencyIsoCode),i}getDependentFields(e){let t=this.md.fieldsMap[this.data.quoteLineObjectName];return Object.keys(t).filter((i=>t[i].controllerName===e))}hasDrawerFields(){return this.fieldsetMap.standardLineItemDrawerFieldNames.length>0}isProductHierarchyVisualized(){return this.data.settings.productHierarchyVisualized}isMultiLineDeleteEnabled(){return this.data.settings.multiLineDeleteEnabled}_convertExcludedDiscountScheduleIdsToObject(e){if(e)return e.reduce((function(e,t){return e[t]=!0,e}),{})}}let Z=(e,t)=>{let i=ee(e.developerPrefix),o={};return i.forEach((i=>{e[i.name]?(o[i.name]=[],e[i.name].forEach((e=>{t.fieldsMap[i.table]&&t.fieldsMap[i.table][e]&&o[i.name].push(e)}))):o[i.name]=e[i.name]})),o},ee=e=>[{table:e+"QuoteLine__c",name:"lineFieldNames"},{table:e+"QuoteLine__c",name:"lineFieldNamesTablet"},{table:e+"QuoteLine__c",name:"lineFieldNamesPhone"},{table:e+"QuoteLine__c",name:"standardLineItemDrawerFieldNames"},{table:e+"QuoteLine__c",name:"multiSegmentLineFieldNames"},{table:e+"QuoteLine__c",name:"multiSegmentLineSummaryFieldNames"},{table:e+"DiscountTier__c",name:"discountScheduleModalFieldNames"},{table:e+"Quote__c",name:"quoteFieldNames"},{table:e+"QuoteLineGroup__c",name:"groupFieldNames"}],te=e=>{let t=t=>{for(let i=0,o=t.length;i<o;i++)if(t[i]===e.constants.OPTIONAL_FIELD)return!0};return t(e.fieldsetMap.lineFieldNames)||t(e.fieldsetMap.multiSegmentLineFieldNames)||t(e.fieldsetMap.standardLineItemDrawerFieldNames)},ie=(e,t)=>{t.defaultCustomActions=[];let i,o=["Quote","Group","Line"],r={Quote:[],Group:[],Line:[]},n={Quote:[],Group:[],Line:[]},s={Quote:{},Group:{},Line:{}},a=(e,a)=>{if(-1===o.indexOf(a))return;let l=new X(t,e,s[a],a);if(l.isSeparator||n[a].push(l),l.default&&t.defaultCustomActions.push(l),"onAddGroup"===l.eventHandlerName&&(i=l),e[t.constants.PARENT_CUSTOM_ACTION_FIELD]){let i=e[t.constants.PARENT_CUSTOM_ACTION_FIELD],o=s[a][i];o?o.push(l):s[a][i]=[l]}else r[a].push(l)};for(let i=0,o=e.length;i<o;i++){let o=e[i][t.constants.LOCATION_FIELD];"Quote/Group"===o?(a(e[i],"Quote"),a(e[i],"Group")):o&&"Configurator"!==o&&a(e[i],o)}if(t.customActionsByLocation=r,t.customActionsByLocationMobile=n,t.groupMobileMenuButtonAction=new X(t),t.groupMobileMenuButtonAction.children=n.Group,t.data.settings.solutionGroupsEnabled&&t.data.solutionGroups.length>0&&i){let e=t.data.solutionGroups,o=s.Quote[i.record.Id]||[];i.type="Menu";for(let i=0,r=e.length;i<r;i++){let r=new X(t,e[i]);r.type="Solution Group",r.eventHandlerName="onAddGroup",r.label=e[i].Name,o.push(r)}i.children=o}};function oe(e,t,i){for(let o=0;o<i;o++){if(e.length<=1||"splices"===e[1])return null;t=t[e[0].startsWith("#")?e[0].substring(1):e[0]],e=e.slice(1)}return{path:e,target:t}}let re=e=>{let t=function(t){for(let i in t)for(let o of t[i])o.editorModel=e};e.deviceContext.isMobile?(t(e.customActionsByLocationMobile),e.groupMobileMenuButtonAction.editorModel=e):t(e.customActionsByLocation)};var ne=i(571);class se{constructor(e){this.data=e,this.orgUrl=this.data.settings.orgUrl,this.siteUrl=this.data.settings.siteUrl,this.proxyUrl=this.data.settings.proxyUrl,this.oik=this.data.settings.oik,this.prefix=this.data.developerPrefix?this.data.developerPrefix.slice(0,this.data.developerPrefix.indexOf("_")):"",this.constants=new Y.Y(this.data.developerPrefix),this.filePath=this.siteUrl+"/resource/"+(new Date).getTime()+"/"+this.data.developerPrefix+"PrecacherUI2"}beginPrecaching(){this.sessionId=window.sb.vfSessionId,this._spoolWorkers()}_spoolWorkers(){var e=this.data.quote.record[this.constants.ACCOUNT_ID_FIELD],t=this.data.settings,i=this.data.quote,o=this.data.settings.referencedFieldMap,r=this._createWorker(),n=this._createWorkerContext("PriceRuleSequence",new Map([["accountId",e]]));r.postMessage(n);var s=this._createWorker(),a=this._createWorkerContext("MetadataSequence",new Map([["referencedFieldMap",o],["settings",t]]));s.postMessage(a);var l=this._createWorker(),d=this._createWorkerContext("DiscountAndAccountSequence",new Map([["accountId",e],["quote",i]]));l.postMessage(d);var c=this._createWorker(),u={quoteLookups:t.quoteLookups||{},groupLookups:t.groupLookups||{},lineLookups:function(){var e=t.lineLookups||{},i={},o=t.developerPrefix||"";for(var r in e)r!==o+"Product__c"&&r!==o+"ProductOption__c"&&(i[r]=e[r]);return i}()},h=this._createWorkerContext("RelatedRecordSequence",new Map([["quote",i],["referencedFieldMap",o],["lookupFieldMap",u]]));c.postMessage(h);var p=this._createWorker(),f=this._createWorkerContext("ProductSequence",new Map([["quote",i],["referencedFields",t.referencedFieldMap.Product2]]));p.postMessage(f);var b=t.developerPrefix||"",g=this._createWorker(),m=this._createWorkerContext("OptionSequence",new Map([["quote",i],["referencedFields",t.referencedFieldMap[b+"ProductOption__c"]]]));g.postMessage(m);let y=this._createWorker(),v=this._createWorkerContext("UbpSequence",new Map([["quote",i],["settings",t]]));if(y.postMessage(v),t&&t.isPricingGuidanceEnabled){let o=this._createWorker(),r=this._createWorkerContext("PricingGuidanceSequence",new Map([["accountId",e],["quote",i],["settings",t]]));o.postMessage(r)}}_createWorkerContext(e,t){var i={orgUrl:this.orgUrl,siteUrl:this.siteUrl,proxyUrl:this.proxyUrl,sessionId:this.sessionId,precacheSequence:e,prefix:this.prefix,oik:this.oik};return t&&0!=t.size&&t.forEach((function(e,t){i[t]=e})),i}_createWorker(){var e=new Worker(this.filePath),t=this._precache;return e.addEventListener("message",(function(e){e.data.successful?t(e.data.provider,e.data.uid,e.data.results):e.data.failure?console.error("Main thread received failure from precache sequence "+e.data.sequence+": "+e.data.msg):e.data.err&&console.error("Main thread received error from precache sequence "+e.data.sequence+": "+e.data.msg)})),e}_precache(e,t,i){SB&&SB.JSQCPrecacher&&(new SB.JSQCPrecacher).precacheValue(e,t,i)}}var ae=i(5539);class le{static getLocalizedValue(e,t,i){let o=e.editorModel.constants,r=e.groupModel.quoteModel.quoteVO.localizationByFieldByProductId[e.getField(o.PRODUCT)],n=e.getFieldMD(t);if(!r||!n)return;let s=e.editorModel.data.developerPrefix,a=n&&n.calculatedFormula&&0===n.calculatedFormula.indexOf(`${s}Product__r`)?n.calculatedFormula.split(".")[1].replace(s,""):n.name,l=i?r[a][i]:r[a];return l?l.record[o.TEXT_FIELD]||l.record[o.TEXT_AREA_FIELD]||l.record[o.LONG_TEXT_AREA_FIELD]||l.record[o.RICH_TEXT_AREA_FIELD]:void 0}}class de{static prepareLineData(e,t,i){let o=[];return e&&e.forEach(function(e,r){null==e.lineVO.ui_original_record&&(e.lineVO.ui_original_record=JSON.parse(JSON.stringify(e.lineVO.record)));let n=this.prepareSingleLineData(e,r,t,i);o.push(n)}.bind(this)),o}static prepareSingleLineData(e,t,i,o){let r=e.lineVO.record,n={Id:r.Id},s=e.lineVO.fieldVisibility;i.forEach(function(t){let i=o[t];n[t]=this.prepareFieldData(r,t,i,e,s),this.computeCellClass(r,t,n,e,s,i)}.bind(this)),e.hasOwnProperty("segments")&&this.prepareSegmentedLineData(e,r,n,o,s);let a=e.editorModel.constants;return n.lineNumber=r[a.NUMBER_FIELD],n.rowIndex=t,n.lineModel=e,this.prepareSelectionCheckbox(e,n),this.prepareWarningIcon(e,n),this.prepareBundleCaret(e,n),n._cellClasses||(n._cellClasses={}),n}static prepareBundleCaret(e,t){e.editorModel.isProductHierarchyVisualized()&&!e.segmented&&e.isBundle?(t._caretContent=e.bundleCollapsed?F.classNames.CHEVRON_RIGHT_CONTENT:F.classNames.CHEVRON_DOWN_CONTENT,o.B.isBundleCollapsible(e.editorModel)&&(t._cellClasses=t._cellClasses||{},t._cellClasses._isFocusable="focusable")):t._caretContent=""}static prepareSelectionCheckbox(e,t){e.editorModel.data.settings.multiLineDeleteEnabled&&e.component&&(t._cellClasses=t._cellClasses||{},t._cellClasses._selectionCB=F.classNames.DISABLED)}static prepareWarningIcon(e,t){!1===e.lineVO.validPricebookEntryExists&&(t.hasLineWarning=!0,e.groupModel.quoteModel.isPrimary&&0==e.lineVO.opportunityLineItemExists?(t.lineWarningKey="missingOpportunityLineItem",t.lineWarningMsg="This product will not sync to the opportunity because a valid pricebook entry does not exist."):(t.lineWarningKey="invalidPricebookEntry",t.lineWarningMsg="There is not a valid price book entry for this line item."))}static prepareFieldData(e,t,i,r,n){if(n&&!1===n[t])return"";if(P.q.isSubscriptionScopeField(t)&&!r.subscriptionScopeEditable)return"";if(r.bundled&&P.q.isListPriceField(t))return o.B.properties.i18n.value().l("Included");let s=le.getLocalizedValue(r,t);if(s)return s;if(i){let o=this._getFieldMetadata(e,i,r),n=r.lineVO.ui_original_record;return e.Id||e.hasOwnProperty(t)||!n||n.Id||n.hasOwnProperty(t)||!o.defaultValue||(r.lineVO.ui_original_record[t]=o.defaultValue,e[t]=o.defaultValue),ae.Z.formatFieldData(r,e[t],o,e)}return e[t]}static _getFieldMetadata(e,t,i){let o="currency"===t.type,r=i.editorModel.constants.QUANTITY_FIELDS.has(t.name)&&null!==i.lineVO.productQuantityScale;return(o||r)&&(t=JSON.parse(JSON.stringify(t)),o&&(t.CurrencyIsoCode=e.CurrencyIsoCode),r&&(t.scale=i.lineVO.productQuantityScale)),t}static prepareSegmentedLineData(e,t,i,o,r){let n={};t.CurrencyIsoCode&&(n.CurrencyIsoCode=t.CurrencyIsoCode);let s=e.editorModel.constants;const a=e.editorModel.quoteModel.quoteVO;e.segments.forEach((e=>{let t=(0,L.BX)(e.lineVO.record[s.SEGMENT_LABEL_FIELD]);n[t]=e.discountedUnitPrice*e.lineVO.record[s.EFFECTIVE_QUANTITY]})),n.total=a.multiSegmentRowTotals[t[s.SEGMENT_KEY_FIELD]],Object.keys(n).forEach((t=>{let a=o[s.NET_TOTAL_FIELD];i[t]=this.prepareFieldData(n,t,a,e,r),this.computeCellClass(n,t,i,e,r,o[t])})),i._cellClasses._expansionIcon=e.lineVO.expanded?F.classNames.DOWN_ICON:F.classNames.RIGHT_ICON}static computeCellClass(e,t,i,r,n,s){let a="";n&&!1===n[t]||(a+=r.isEditable(t)&&!r.dimensionType?`${F.classNames.EDITABLE} `:"",a+=r.itemClassMap[t]?r.itemClassMap[t]:""),n&&!1===n[t]&&s&&"boolean"===s.type&&(a+=F.classNames.HIDE_CHECKBOX+" "),r.editorModel.isProductHierarchyVisualized()&&!r.segmented&&(a+=this.computeProductHierarchyCss(t,e,r)),o.B.isBundleCollapsible(r.editorModel)&&!r.isBundle&&(a+=" focusable");const l=r.cellClasses?r.cellClasses[t]:null;if(l)for(let e in l)l[e]&&(a+=` ${e}`);a&&(i._cellClasses=i._cellClasses||{},i._cellClasses[t]=a)}static computeProductHierarchyCss(e,t,i){let r="",n=F.classNames;return o.B.isMobile?(P.q.isProductNameField(e)||P.q.isNetTotalField(e))&&null!==t[P.q.constants.OPTION_LEVEL_FIELD]&&(r+=`${n.INDENT}${t[P.q.constants.OPTION_LEVEL_FIELD]} `):P.q.isProductNameField(e)&&(i.isBundle||i.component||(r+=`${n.TOP_LEVEL} `),i.component&&(i.isBundle||(r+=`${n.OPTION} `),r+=`${n.INDENT}${t[P.q.constants.OPTION_LEVEL_FIELD]} `)),r}}var ce=i(6862),ue=i(5118);function he(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function pe(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?he(Object(i),!0).forEach((function(t){fe(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):he(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function fe(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function be(e){const t=xe();if(!t)return Promise.resolve();const{name:i,nameSpace:o,sortField:r,sortOrder:n}=(0,R.Jt)(t,[]);return ve((0,R.Jt)("UBPClientState",["quoteLineOrProdId"]),pe(pe({},we(e,r,n)),{},{category:i,nameSpace:o}),((e,t)=>Ee("ConsumptionServiceProvider.ConsumptionCategoryRateLoader",e,t)),Oe)}function ge(e){return _e(e,{categoryId:xe()},((e,t)=>Ee("ConsumptionServiceProvider.ConsumptionScheduleLoader",e,t)),ke)}function me(e,t,i){let o=(0,R.Jt)(e,t);if(!o&&i){if("function"==typeof i)return i().then((i=>Promise.resolve((0,R.Jt)(e,t))));throw new Error("Expecting loadFunction to be a function but got "+typeof i)}return Promise.resolve(o)}function ye(e){(0,R.yJ)("UBPClientState",["requestCount"],(0,R.Jt)("UBPClientState",["requestCount"])+e)}function ve(e,t,i,o){return ye(1),_e(e,t,i,o).then((()=>{ye(-1)})).catch((e=>{throw ye(-1),e}))}function _e(e,t,i,o){return i(e,t).then((i=>{const r=o(i,e,t);for(let e in r)(0,R.yJ)(e,[],(0,L.Fr)((0,R.Jt)(e,[]),r[e]))})).catch((e=>{throw(0,R.yJ)("UBPClientState",["errorMsg"],[e instanceof Error?e.message:e]),e}))}function we(e,t,i){const{quoteLineOrProdId:o,queryLimit:r,searchKeyword:n}=(0,R.Jt)("UBPClientState",[]),s=[{field:t,order:i}],a=`${P.q.constants.prefix}ProcessingOrder__c`;return t!==a&&s.push({field:a,order:"asc"}),{quoteLineOrProdId:o,queryLimit:r,searchKeyword:n,offSet:e,sortOrders:s,currencyCode:(0,R.Jt)(o,["record","CurrencyIsoCode"])}}function xe(){if(!(0,R.Jt)("UBPClientState",[]))return;const{quoteLineOrProdId:e,categoryIndex:t}=(0,R.Jt)("UBPClientState",[]),i=(0,R.Jt)(e,["related","categoryIds"]);return i?i[t]:null}function Ce(e,t){return`${e}_${t}`}function Se(e,t,i){if(e.rateFieldsMd){const t=e.rateFieldsMd;let i={},o={};Object.keys(t).forEach((e=>{const r=t[e].scale?{[e]:{scale:t[e].scale}}:{};Object.assign(i,{[e]:t[e].updatable}),o=pe(pe({},o),r)})),(0,R.yJ)("ConsumptionRateMetadata",["rateEditable"],i),(0,R.yJ)("ConsumptionRateMetadata",["rateScale"],o)}const{field:o,order:r}=i.sortOrders[0],n=(0,R.Jt)("ConsumptionRateMetadata",["rateScale"]);let s={},a=[];n?e.categories.forEach((e=>{let t=e.fields.map((e=>{const t=e.fieldPath,i=n[t]?n[t]:{};return pe(pe({},e),i)}));e.fields=t,a.push(e)})):a=e.categories;const l=a.map((e=>{let{name:i,nameSpace:n,label:a,fields:l}=e;const d=Ce(t,i);return s[d]={name:i,nameSpace:n,label:a,fields:l,sortField:o,sortOrder:r},d}));let d=[];if(e.qlFieldMD){const t=ue.l.get("describe",`${P.q.constants.prefix}QuoteLine__c`,"value");t&&t.fields?e.qlFieldMD.forEach((e=>{let i=t.fields.find((t=>t.name===e.fieldPath));d.push(Object.assign(e,i||{}))})):d=e.qlFieldMD}s[t]={related:{categoryIds:l,ubpFields:d}},e.customLabels&&(s.ubpLabels=e.customLabels);const c=e.resultSet.categoryName;return s.UBPClientState={categoryIndex:l.indexOf(Ce(t,c))},(0,L.Fr)(s,Oe(e,t,pe(pe({},i),{},{category:c})))}function Oe(e,t,i){let{resultSet:{totalCount:o,records:r}}=e,{offSet:n,category:s}=i;const a=Ce(t,s),l={};l[a]={rateCount:o};const d=(0,R.Jt)(a,["orderedRates"])||[];return n<=d.length&&(r=r||[],l[a].orderedRates=[...d.slice(0,n),...r.map((e=>(l[e.Id]={record:e},e.Id)))]),l}function ke(e,t,i){let{fields:o,record:r}=e,{categoryId:n}=i,s={};return s[n]={rateCardFields:o},s[t]={record:r},s}function Ee(e,t,i){return(new ce.N).load(o.B.org.prefix,e,t,i)}function Ie(e,t,i){const o=JSON.parse(JSON.stringify(e));return t&&i.forEach((e=>{t.hasOwnProperty(e.fieldPath)&&(0,L.wB)(o,e.fieldPath.split("."),t[e.fieldPath])})),o}const Te="loadQLE",Me="resizeColumn",Be="resetColumn",De="pricingGuidance";class Pe{constructor(){this.client=new ce.N}log(e,t,i){if("undefined"!=typeof Visualforce){i&&"object"==typeof i&&(i=JSON.stringify(i));try{const o={logLines:[{code:"qtqle",data:{recordId_qtqle:e,osName_qtqle:this._getOSType(),deviceModel_qtqle:this._getDeviceModel(),browserName_qtqle:this._getBrowserType(),eventType_qtqle:t,payload_qtqle:i}}]};this.client.requestPost("/connect/proxy/app-analytics-logging",o)}catch(e){console.error("Error invoking AppLogger.log",e)}}}maskCustomerData(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*****";return!e||e.startsWith(o.B.org.prefix)?e:t}_getDeviceModel(){const e=window.navigator.userAgent;return e.indexOf("iPad")>-1?"iPad":e.indexOf("Android")>-1?"Android":e.indexOf("iPhone")>-1?"iPhone":"desktop"}_getBrowserType(){const e=window.navigator.userAgent;return e.indexOf("Edg")>-1?"Edge":e.indexOf("Chrome")>-1?"Chrome":e.indexOf("Safari")>-1?"Safari":e.indexOf("Firefox")>-1?"Firefox":null}_getOSType(){const e=window.navigator.userAgent;return e.indexOf("Win")>-1?"Windows":e.indexOf("like Mac")>-1?"iOS":e.indexOf("Mac")>-1?"Macintosh":e.indexOf("Android")>-1?"Android":e.indexOf("Linux")>-1?"Linux":null}}var Le=i(4886),Ae=i(178),Fe=i(4127),Ne=i(9137),Re=i(7212),qe=i(7695),je=i(2619);const He=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host {
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  --my-page-header-display: block;
  cursor: auto;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
  color: var(--sbPageColor);
}
:host > #pageBody {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host sb-page-header[class*='--desktop'] h1 {
  padding-right: 25px;
}
:host [class*='--desktop'] sb-page-header h1 {
  padding-right: 25px;
}
:host .quoteFieldsContainer {
  margin: 10px 15px 0 15px;
}
:host .quoteFieldsHeader {
  display: inline-block;
}
:host #emptyQuote,
:host #emptyGroupedQuote {
  padding: 15px;
}
:host .maxHeight {
  height: 100%;
}
:host .separator {
  padding: 0 5px;
}
:host .hidden {
  display: none;
}
:host #quoteTotal {
  display: block;
}
:host #solutionGroupButton {
  margin-left: 10px;
}
:host #quoteTabs {
  flex-direction: column;
  display: flex;
  height: 100%;
}
:host .mobileOnly {
  display: none;
}
:host .groupWrapper {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  height: 100%;
  background-color: var(--sbPageBgColor);
}
:host([class*='--mobile']) {
  --sbFooterPaddingRight: 0px;
}
:host #lineEditorPageHeader[class*='--mobile'] {
  min-height: 85px !important;
}
:host #lineEditorPageHeader[class*='--mobile'] h1#pageLabel {
  display: none;
}
:host #total[class*='--mobile'] {
  padding: 0;
}
:host #solutionGroupButton.dropCursor[class*='--mobile'] {
  margin-left: inherit;
}
:host .groupWrapper[class*='--mobile'] {
  height: 0;
}
:host([class*='--mobile']) {
  --sbFooterPaddingRight: 0px;
}
:host [class*='--mobile'] #lineEditorPageHeader {
  min-height: 85px !important;
}
:host [class*='--mobile'] #lineEditorPageHeader h1#pageLabel {
  display: none;
}
:host [class*='--mobile'] #total {
  padding: 0;
}
:host [class*='--mobile'] #solutionGroupButton.dropCursor {
  margin-left: inherit;
}
:host [class*='--mobile'] .groupWrapper {
  height: 0;
}
:host #ghost {
  position: absolute;
  cursor: all-scroll;
  box-shadow: 1px 2px 4px 1px rgba(0, 0, 0, 0.4);
  background: white;
  border-bottom: none;
  border-top: none;
  visibility: hidden;
  z-index: 999;
}
:host #ghost div {
  position: absolute;
  top: 30%;
  left: 15px;
  text-transform: uppercase;
}
:host #ghost sb-le-table-row {
  background: white;
  display: table-row-group;
  box-shadow: 1px 2px 4px 1px rgba(0, 0, 0, 0.4);
}
:host #qlEditorContainer {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
}
:host #qlEditorContainer > #pageBody {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host #qlEditorContainer.hidden {
  display: none;
}
:host .ubpEditorContainer {
  height: 100%;
}
:host .ubpEditorContainer.hidden {
  display: none;
}
:host div .settings {
  margin-left: 2px !important;
}
@media screen and (max-width: 801px) {
  :host #cogButton {
    display: none;
  }
}
:host #cogMenu {
  white-space: nowrap;
  overflow: hidden;
}
:host #cogMenu paper-button.sb-line-editor {
  font-weight: 400;
}
:host #cogMenu paper-button.sb-line-editor:focus:after,
:host #cogMenu paper-button.sb-line-editor:hover {
  background: #fff;
}
:host(.disable-selection) {
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  cursor: no-drop;
}
:host(.dropCursor) {
  user-select: none;
  -moz-user-select: none;
  -webkit-user-select: none;
  -ms-user-select: none;
  cursor: copy;
}
`;var Ve=i(7734),Ue=(i(7543),i(347),i(2804),i(1520),i(1518)),ze=i(503),$e=i(7659),We=i(4707),Qe=i(2018),Ge=i(816),Ke=i(5565);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Ge.b)({_template:je.q`
    <style>
      :host {
        position: fixed;
      }

      #contentWrapper ::slotted(*) {
        overflow: auto;
      }

      #contentWrapper.animating ::slotted(*) {
        overflow: hidden;
        pointer-events: none;
      }
    </style>

    <div id="contentWrapper">
      <slot id="content" name="dropdown-content"></slot>
    </div>
`,is:"iron-dropdown",behaviors:[$e.x,ze.D,We.r,Qe.L],properties:{horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},openAnimationConfig:{type:Object},closeAnimationConfig:{type:Object},focusTarget:{type:Object},noAnimations:{type:Boolean,value:!1},allowOutsideScroll:{type:Boolean,value:!1,observer:"_allowOutsideScrollChanged"}},listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},observers:["_updateOverlayPosition(positionTarget, verticalAlign, horizontalAlign, verticalOffset, horizontalOffset)"],get containedElement(){for(var e=(0,Ke.tT)(this.$.content).getDistributedNodes(),t=0,i=e.length;t<i;t++)if(e[t].nodeType===Node.ELEMENT_NODE)return e[t]},ready:function(){this.scrollAction||(this.scrollAction=this.allowOutsideScroll?"refit":"lock"),this._readied=!0},attached:function(){this.sizingTarget&&this.sizingTarget!==this||(this.sizingTarget=this.containedElement||this)},detached:function(){this.cancelAnimation()},_openedChanged:function(){this.opened&&this.disabled?this.cancel():(this.cancelAnimation(),this._updateAnimationConfig(),We.N._openedChanged.apply(this,arguments))},_renderOpened:function(){!this.noAnimations&&this.animationConfig.open?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("open")):We.N._renderOpened.apply(this,arguments)},_renderClosed:function(){!this.noAnimations&&this.animationConfig.close?(this.$.contentWrapper.classList.add("animating"),this.playAnimation("close")):We.N._renderClosed.apply(this,arguments)},_onNeonAnimationFinish:function(){this.$.contentWrapper.classList.remove("animating"),this.opened?this._finishRenderOpened():this._finishRenderClosed()},_updateAnimationConfig:function(){for(var e=this.containedElement,t=[].concat(this.openAnimationConfig||[]).concat(this.closeAnimationConfig||[]),i=0;i<t.length;i++)t[i].node=e;this.animationConfig={open:this.openAnimationConfig,close:this.closeAnimationConfig}},_updateOverlayPosition:function(){this.isAttached&&this.notifyResize()},_allowOutsideScrollChanged:function(e){this._readied&&(e?this.scrollAction&&"lock"!==this.scrollAction||(this.scrollAction="refit"):this.scrollAction="lock")},_applyFocus:function(){var e=this.focusTarget||this.containedElement;e&&this.opened&&!this.noAutoFocus?e.focus():We.N._applyFocus.apply(this,arguments)}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ye={properties:{animationTiming:{type:Object,value:function(){return{duration:500,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"both"}}}},isNeonAnimation:!0,created:function(){document.body.animate||console.warn("No web animations detected. This element will not function without a web animations polyfill.")},timingFromConfig:function(e){if(e.timing)for(var t in e.timing)this.animationTiming[t]=e.timing[t];return this.animationTiming},setPrefixedProperty:function(e,t,i){for(var o,r={transform:["webkitTransform"],transformOrigin:["mozTransformOrigin","webkitTransformOrigin"]}[t],n=0;o=r[n];n++)e.style[o]=i;e.style[t]=i},complete:function(e){}};
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Ge.b)({is:"fade-in-animation",behaviors:[Ye],configure:function(e){var t=e.node;return this._effect=new KeyframeEffect(t,[{opacity:"0"},{opacity:"1"}],this.timingFromConfig(e)),this._effect}}),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Ge.b)({is:"fade-out-animation",behaviors:[Ye],configure:function(e){var t=e.node;return this._effect=new KeyframeEffect(t,[{opacity:"1"},{opacity:"0"}],this.timingFromConfig(e)),this._effect}});i(6575);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Xe=je.q`
<custom-style>
  <style is="custom-style">
    html {

      --shadow-transition: {
        transition: box-shadow 0.28s cubic-bezier(0.4, 0, 0.2, 1);
      };

      --shadow-none: {
        box-shadow: none;
      };

      /* from http://codepen.io/shyndman/pen/c5394ddf2e8b2a5c9185904b57421cdb */

      --shadow-elevation-2dp: {
        box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),
                    0 1px 5px 0 rgba(0, 0, 0, 0.12),
                    0 3px 1px -2px rgba(0, 0, 0, 0.2);
      };

      --shadow-elevation-3dp: {
        box-shadow: 0 3px 4px 0 rgba(0, 0, 0, 0.14),
                    0 1px 8px 0 rgba(0, 0, 0, 0.12),
                    0 3px 3px -2px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-4dp: {
        box-shadow: 0 4px 5px 0 rgba(0, 0, 0, 0.14),
                    0 1px 10px 0 rgba(0, 0, 0, 0.12),
                    0 2px 4px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-6dp: {
        box-shadow: 0 6px 10px 0 rgba(0, 0, 0, 0.14),
                    0 1px 18px 0 rgba(0, 0, 0, 0.12),
                    0 3px 5px -1px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-8dp: {
        box-shadow: 0 8px 10px 1px rgba(0, 0, 0, 0.14),
                    0 3px 14px 2px rgba(0, 0, 0, 0.12),
                    0 5px 5px -3px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-12dp: {
        box-shadow: 0 12px 16px 1px rgba(0, 0, 0, 0.14),
                    0 4px 22px 3px rgba(0, 0, 0, 0.12),
                    0 6px 7px -4px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-16dp: {
        box-shadow: 0 16px 24px 2px rgba(0, 0, 0, 0.14),
                    0  6px 30px 5px rgba(0, 0, 0, 0.12),
                    0  8px 10px -5px rgba(0, 0, 0, 0.4);
      };

      --shadow-elevation-24dp: {
        box-shadow: 0 24px 38px 3px rgba(0, 0, 0, 0.14),
                    0 9px 46px 8px rgba(0, 0, 0, 0.12),
                    0 11px 15px -7px rgba(0, 0, 0, 0.4);
      };
    }
  </style>
</custom-style>`;Xe.setAttribute("style","display: none;"),document.head.appendChild(Xe.content),
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Ge.b)({is:"paper-menu-grow-height-animation",_template:null,behaviors:[Ye],configure:function(e){var t=e.node,i=t.getBoundingClientRect().height;return this._effect=new KeyframeEffect(t,[{height:i/2+"px"},{height:i+"px"}],this.timingFromConfig(e)),this._effect}}),(0,Ge.b)({is:"paper-menu-grow-width-animation",_template:null,behaviors:[Ye],configure:function(e){var t=e.node,i=t.getBoundingClientRect().width;return this._effect=new KeyframeEffect(t,[{width:i/2+"px"},{width:i+"px"}],this.timingFromConfig(e)),this._effect}}),(0,Ge.b)({is:"paper-menu-shrink-width-animation",_template:null,behaviors:[Ye],configure:function(e){var t=e.node,i=t.getBoundingClientRect().width;return this._effect=new KeyframeEffect(t,[{width:i+"px"},{width:i-i/20+"px"}],this.timingFromConfig(e)),this._effect}}),(0,Ge.b)({is:"paper-menu-shrink-height-animation",_template:null,behaviors:[Ye],configure:function(e){var t=e.node,i=t.getBoundingClientRect().height;return this.setPrefixedProperty(t,"transformOrigin","0 0"),this._effect=new KeyframeEffect(t,[{height:i+"px",transform:"translateY(0)"},{height:i/2+"px",transform:"translateY(-20px)"}],this.timingFromConfig(e)),this._effect}});
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
var Je={ANIMATION_CUBIC_BEZIER:"cubic-bezier(.3,.95,.5,1)",MAX_ANIMATION_TIME_MS:400};const Ze=(0,Ge.b)({_template:je.q`
    <style>
      :host {
        display: inline-block;
        position: relative;
        padding: 8px;
        outline: none;

        @apply --paper-menu-button;
      }

      :host([disabled]) {
        cursor: auto;
        color: var(--disabled-text-color);

        @apply --paper-menu-button-disabled;
      }

      iron-dropdown {
        @apply --paper-menu-button-dropdown;
      }

      .dropdown-content {
        @apply --shadow-elevation-2dp;

        position: relative;
        border-radius: 2px;
        background-color: var(--paper-menu-button-dropdown-background, var(--primary-background-color));

        @apply --paper-menu-button-content;
      }

      :host([vertical-align="top"]) .dropdown-content {
        margin-bottom: 20px;
        margin-top: -10px;
        top: 10px;
      }

      :host([vertical-align="bottom"]) .dropdown-content {
        bottom: 10px;
        margin-bottom: -10px;
        margin-top: 20px;
      }

      #trigger {
        cursor: pointer;
      }
    </style>

    <div id="trigger" on-tap="toggle">
      <slot name="dropdown-trigger"></slot>
    </div>

    <iron-dropdown id="dropdown" opened="{{opened}}" horizontal-align="[[horizontalAlign]]" vertical-align="[[verticalAlign]]" dynamic-align="[[dynamicAlign]]" horizontal-offset="[[horizontalOffset]]" vertical-offset="[[verticalOffset]]" no-overlap="[[noOverlap]]" open-animation-config="[[openAnimationConfig]]" close-animation-config="[[closeAnimationConfig]]" no-animations="[[noAnimations]]" focus-target="[[_dropdownContent]]" allow-outside-scroll="[[allowOutsideScroll]]" restore-focus-on-close="[[restoreFocusOnClose]]" on-iron-overlay-canceled="__onIronOverlayCanceled" expand-sizing-target-for-scrollbars="[[expandSizingTargetForScrollbars]]">
      <div slot="dropdown-content" class="dropdown-content">
        <slot id="content" name="dropdown-content"></slot>
      </div>
    </iron-dropdown>
`,is:"paper-menu-button",behaviors:[ze.D,$e.x],properties:{opened:{type:Boolean,value:!1,notify:!0,observer:"_openedChanged"},horizontalAlign:{type:String,value:"left",reflectToAttribute:!0},verticalAlign:{type:String,value:"top",reflectToAttribute:!0},dynamicAlign:{type:Boolean},horizontalOffset:{type:Number,value:0,notify:!0},verticalOffset:{type:Number,value:0,notify:!0},noOverlap:{type:Boolean},noAnimations:{type:Boolean,value:!1},ignoreSelect:{type:Boolean,value:!1},closeOnActivate:{type:Boolean,value:!1},openAnimationConfig:{type:Object,value:function(){return[{name:"fade-in-animation",timing:{delay:100,duration:200}},{name:"paper-menu-grow-width-animation",timing:{delay:100,duration:150,easing:Je.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-grow-height-animation",timing:{delay:100,duration:275,easing:Je.ANIMATION_CUBIC_BEZIER}}]}},closeAnimationConfig:{type:Object,value:function(){return[{name:"fade-out-animation",timing:{duration:150}},{name:"paper-menu-shrink-width-animation",timing:{delay:100,duration:50,easing:Je.ANIMATION_CUBIC_BEZIER}},{name:"paper-menu-shrink-height-animation",timing:{duration:200,easing:"ease-in"}}]}},allowOutsideScroll:{type:Boolean,value:!1},restoreFocusOnClose:{type:Boolean,value:!0},expandSizingTargetForScrollbars:{type:Boolean,value:!1},_dropdownContent:{type:Object}},hostAttributes:{role:"group","aria-haspopup":"true"},listeners:{"iron-activate":"_onIronActivate","iron-select":"_onIronSelect"},get contentElement(){for(var e=(0,Ke.tT)(this.$.content).getDistributedNodes(),t=0,i=e.length;t<i;t++)if(e[t].nodeType===Node.ELEMENT_NODE)return e[t]},toggle:function(){this.opened?this.close():this.open()},open:function(){this.disabled||this.$.dropdown.open()},close:function(){this.$.dropdown.close()},_onIronSelect:function(e){this.ignoreSelect||this.close()},_onIronActivate:function(e){this.closeOnActivate&&this.close()},_openedChanged:function(e,t){e?(this._dropdownContent=this.contentElement,this.fire("paper-dropdown-open")):null!=t&&this.fire("paper-dropdown-close")},_disabledChanged:function(e){$e.x._disabledChanged.apply(this,arguments),e&&this.opened&&this.close()},__onIronOverlayCanceled:function(e){var t=e.detail,i=this.$.trigger;(0,Ke.tT)(t).path.indexOf(i)>-1&&e.preventDefault()}});Object.keys(Je).forEach((function(e){Ze[e]=Je[e]}));var et=i(3559);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Ge.b)({_template:je.q`
    <style>
      :host {
        display: block;
        padding: 8px 0;

        background: var(--paper-listbox-background-color, var(--primary-background-color));
        color: var(--paper-listbox-color, var(--primary-text-color));

        @apply --paper-listbox;
      }
    </style>

    <slot></slot>
`,is:"paper-listbox",behaviors:[et.i],hostAttributes:{role:"listbox"}});i(7533),i(8729),i(622),i(1306),i(7022),i(2868),i(5001);var tt=i(9406),it=i(1386);class ot extends Ve.Pu{static get is(){return"sb-product-rules-quote-line-adder"}static get properties(){return{quote:Object,productIds:Array,groupKey:{type:Number,value:-1},response:{type:Object,notify:!0},linesAddedByRules:{type:Object,notify:!0}}}static get observers(){return["_addLinesObserver(quote, productIds)"]}ready(){super.ready(),this.$.service.addEventListener("response-changed",function(e){this.linesAddedByRules=e.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(e){e.detail.value&&(e.detail.value.validations?this.error=e.detail.value.validations:this.error=[e.detail.value.message])}.bind(this))}_addLinesObserver(e,t){if(void 0!==e&&void 0!==t)return this.addLines(e,t)}addLines(){let e=new tt.k;e.add("productIds",this.productIds),null!=this.quote.targetGroupKey&&this.quote.targetGroupKey>=0&&e.add("groupKey",this.quote.targetGroupKey);let t=new it.H(this.quote,this.productIds,this.quote.targetGroupKey);this.quote=t.reduceQuote(!1),e.addQuote("quote",this.quote),this.$.service.model=e.build(),this.quote=t.revertQuote()}static get template(){return Ve.qy`
			<sb-service id="service" saver="ProductRuleServiceProvider.QuoteLineAdder" background="true"></sb-service>
		`}}customElements.define(ot.is,ot);i(8332);var rt=i(5239);const nt="droppableTopBorder",st="droppableBottomBorder";let at=!1;class lt{constructor(e,t,i,o,r,n,s,a,l){this.host=e,this.keepBundleTogether=t,this.draggable=i,this.validTargets=o,this.sourceElement,this.hoverOver,this.placeHolderComp=null,this.ghostField,this.targetClass,this.dropBefore,this.usePlaceholder,this.highlightTargetPosition,this.highlightableElements=[],this.enableHighLight,this.lineEditor=document.body.querySelector("sb-page-container")?document.body.querySelector("sb-page-container").shadowRoot.querySelector("sb-line-editor"):document.body.querySelector("sb-line-editor"),this.linesByParentKey=this.lineEditor&&this.lineEditor.editorModel?this.lineEditor.editorModel.quoteModel.linesByParentItemKey:null,this.standardLinesByParentKey=this.lineEditor&&this.lineEditor.editorModel?this.lineEditor.editorModel.quoteModel.standardLinesByParentItemKey:null,this.segmentedLinesByParentKey=this.lineEditor&&this.lineEditor.editorModel?this.lineEditor.editorModel.quoteModel.segmentedLinesByParentItemKey:null,this.ghost=null,this.ghostXOffset=null==a?60:a,this.ghostYOffset=null==l?23:l,this.handleDrag=r,this.handleTrack=n,this.handleDrop=s,this._bootstrapMetricsService()}_bootstrapMetricsService(){window.sb&&window.sb.MetricsService&&!this.metricsService&&(this.metricsService=new rt.Z)}_onTrack(e){let t=e.detail.x,i=e.detail.y;switch(function(e){e.stopPropagation&&e.stopPropagation();e.preventDefault&&e.preventDefault()}(e),e.detail.state){case"start":if(Math.abs(e.detail.dx)<9&&Math.abs(e.detail.dy)<4)return;this.metricsService&&this.metricsService.startTransaction("CPQ Performance Metrics Service: drag start ept"),at=!0,(0,L.p1)("disable-selection",!0,this.lineEditor),this.sourceElement=e.target;let o=this.sourceElement.getBoundingClientRect();this.sourceWidth=o.width,this.sourceHeight=o.height,this.handleDrag(this.sourceElement,e),this._appendGhostImage(t,i);break;case"track":if(!at)return;this.metricsService&&this.metricsService.startTransaction("CPQ Performance Metrics Service: drag tracking ept");try{this._moveGhost(t,i);let o=e.detail.hover();if("sf-le-table-row"!==this.draggable||"panel"!==o.id&&!o.classList.contains("nav-item")?this._showGhost():this._hideGhost(),this.handleTrack(o),this.host._cursorFlippingDebouncer=Re.aq.debounce(this.host._cursorFlippingDebouncer,qe.EV.after(15),(()=>{(0,Ne.m)(this.lineEditor,(()=>{this.hoverOver&&0!=Object.keys(this.hoverOver).length?(o!==this.previousHoverOverComp&&(0,L.p1)("dropCursor",!0,this.lineEditor),this.previousHoverOverComp=this.hoverOver.comp):((0,L.p1)("dropCursor",!1,this.lineEditor),this._removePlaceholder())}))})),!this.hoverOver||0==Object.keys(this.hoverOver).length)return void this._removeHighlightHover(this.previousHoverOverComp);this.host._applyPlaceholderDebouncer=Re.aq.debounce(this.host._applyPlaceholderDebouncer,qe.EV.after(22),(()=>{this._removePlaceholder(),this.usePlaceholder&&this.hoverOver&&0!=Object.keys(this.hoverOver).length&&this._usePlaceholder(t,i)})),this.enableHighLight&&(this._removeHighlightHover(this.previousHoverOverComp),this._highlightHover(this.hoverOver.comp))}catch(e){this.sourceElement.toggleAttribute?this.sourceElement.toggleAttribute("hidden",!1):this.sourceElement.removeAttribute("hidden"),this._removeGhost(),this._removePlaceholder(),(0,L.p1)("dropCursor",!1,this.lineEditor)}break;case"end":if(!at)return;this.metricsService&&this.metricsService.startTransaction("CPQ Performance Metrics Service: drag end ept"),this._removePlaceholder(),this._removeGhost(),this.hoverOver?(this.handleDrop(this.sourceElement,this.hoverOver.comp,this.targetClass,this.dropBefore),this._removeHighlightHover(this.hoverOver.comp)):this.handleDrop(this.sourceElement,null,this.targetClass,this.dropBefore),(0,L.p1)("dropCursor",!1,this.lineEditor),this.sourceElement=null,this.previousHoverOverComp=null,this.hoverOver={},at=!1,(0,L.p1)("disable-selection",!1,this.lineEditor)}}_appendGhostImage(e,t){let i=this._clonePolymerElement(this.sourceElement),o=i.querySelector(".loadingSpinner");o&&o.remove(),i.style.display="block";let r=e-this.ghostXOffset+"px",n=t-this.ghostYOffset+"px";this.ghost.style.width=this.sourceWidth+"px",this.ghost.style.height=this.sourceHeight+"px",this.ghost.style.left=r,this.ghost.style.top=n,this.ghost.style["z-index"]=5e4,this.ghost.style.visibility="visible",this.ghost.appendChild(i)}_moveGhost(e,t){let i=e-this.ghostXOffset+"px",o=t-this.ghostYOffset+"px";this.ghost.style.left=i,this.ghost.style.top=o}_removeGhost(){this.ghost.innerHTML="",this.ghost.style.left="",this.ghost.style.top="",this.ghost.style.width="",this.ghost.style.height="",this.ghost.style.visibility="hidden"}_hideGhost(){this.ghost.style.visibility="hidden"}_showGhost(){this.ghost.style.visibility="visible"}_findTableRowValidTarget(e){return e?this._ifParentIsValidTarget(e)&&!e.classList.contains("tfoot")&&"header"!==e.id&&"template"!==e.localName&&"sb-le-summary-row"!==e.localName?e:(0,L.bv)(e)?this._findTableRowValidTarget((0,L.bv)(e)):e.host?this._findTableRowValidTarget(e.host):e.parentNode?this._findTableRowValidTarget(e.parentNode):null:null}_updateMDQTableRowHoverOverObject(e,t){t.lineModel.dimensionType!==e.lineModel.dimensionType||this.keepBundleTogether&&e.lineModel.component&&t.lineModel.groupModel.groupKey!==e.lineModel.groupModel.groupKey?this.hoverOver=null:this.hoverOver={comp:t,phLoc:"both"}}_findSidePanelGroupValidTarget(e){if(this._ifParentIsValidTarget(e))return e;if("panel"===e.id){let t=e.querySelectorAll(".nav-item");return t[t.length-1]}return null}updateTableRowHoverOverObject(e){let t=this;if(e)if("placeholder"===e.id&&(e="before"===e.ref?t._getPreviousLineSibling(e):t._getNextLineSibling(e)),!this.keepBundleTogether&&e.lineModel)this.hoverOver={comp:e,phLoc:"both"};else if(e.lineModel){let i=e.lineModel.lineVO.key;if(ht(this.sourceElement)){if(ht(this.sourceElement))if(pt(e,this.sourceElement)&&function(e,t){if(!e.lineModel||!t.lineModel)return;return e.lineModel.lineVO.key===t.lineModel.lineVO.parentItemKey}(e,t._getNextLineSibling(e)))this.hoverOver={comp:e,phLoc:"before"};else{if(!pt(e,this.sourceElement))return void(this.hoverOver=null);this.hoverOver={comp:e,phLoc:"both"}}}else if(this.standardLinesByParentKey[i]||e.lineModel.component){if(!e.lineModel.bundle||e.lineModel.component)return void(this.hoverOver=null);this.hoverOver={comp:e,phLoc:"before"}}else this.hoverOver={comp:e,phLoc:"both"}}else e.classList.contains("tfoot"),this.hoverOver=null}_getNextLineSibling(e){let t=parseInt(e.getAttribute("data-index"))+1;return this._helpGetLineSibling(t,e)}_getPreviousLineSibling(e){let t=parseInt(e.getAttribute("data-index"))-1;return this._helpGetLineSibling(t,e)}_helpGetLineSibling(e,t){let i="sf-le-table-row[data-index='"+e+"']";return t.parentNode.querySelector(i)}_findParentCustomElement(e,t,i){if(!e)return null;switch(i){case"id":if(e.id===t)return e;break;case"class":if(e.classList.contains(t))return e;break;case"nodeName":if(e.nodeName===t)return e}return e.rootNode?this._findParentCustomElement(e.rootNode,t,i):e.host?this._findParentCustomElement(e.host,t,i):e.parentNode?this._findParentCustomElement(e.parentNode,t,i):null}_highlightHover(e){(0,L.p1)("hoverover",!0,e)}_ifParentIsValidTarget(e){if(!e||!e.parentElement)return!1;let t=Array.from(e.parentElement.classList);for(let e=0,i=t.length;e<i;e++)if(this.validTargets.has(t[e]))return this.targetClass=t[e],!0;return!1}_removePlaceholder(){this.placeHolderComp&&this.placeHolderComp.parentElement&&(this.placeHolderComp.parentElement.removeChild(this.placeHolderComp),this.placeHolderComp=null)}_removeHighlightHover(e){e&&e.parentNode&&e.parentNode.querySelectorAll(e.localName).forEach((e=>{(0,L.p1)("hoverover",!1,e)}))}_highlightDroppableBorder(e,t){let i=this.hoverOver.comp.getBoundingClientRect(),o=i.top+i.height/2,r=this.highlightableElements;switch(this.hoverOver.phLoc){case"both":if(t<o){for(let e=0,t=r.length;e<t;e++)ut(r[e]),dt(r[e]);this.dropBefore=!0}else if(t>o){for(let e=0,t=r.length;e<t;e++)ut(r[e]),ct(r[e]);this.dropBefore=!1}break;case"before":for(let e=0,t=r.length;e<t;e++)ut(r[e]),dt(r[e]);this.dropBefore=!0;break;case"after":for(let e=0,t=r.length;e<t;e++)ut(r[e]),ct(r[e]);this.dropBefore=!1}}_removeHighlightDroppableBorder(e){if(e)for(let t=0,i=e.length;t<i;t++)ut(e[t])}_usePlaceholder(e,t){if(this.hoverOver&&this.hoverOver.comp!==this.placeHolderComp){let e=this.hoverOver.comp.getBoundingClientRect(),i=e.top+e.height/2;if(!this.placeHolderComp){if(this.sourceElement.deepCloneNode)this.placeHolderComp=this.sourceElement.deepCloneNode(),this.placeHolderComp.hidden=!1,this.placeHolderComp.setAttribute("id","placeholder"),this.placeHolderComp.shadowRoot&&(0,L.p1)("placeholder",!0,this.placeHolderComp.shadowRoot.querySelector(".tr"));else{this.placeHolderComp=document.createElement(this.draggable),this.placeHolderComp.setAttribute("id","placeholder"),this.placeHolderComp.shadowRoot&&(0,L.p1)("placeholder",!0,this.placeHolderComp.shadowRoot.querySelector(".tr"));for(let e in this.sourceElement.properties)if("data"!==e)try{this.placeHolderComp[e]=this.sourceElement[e]}catch(e){}this.placeHolderComp.data=this.sourceElement.data}this.placeHolderComp.style.width=e.width+"px",this.placeHolderComp.style.height=e.height+"px",this.placeHolderComp.style.backgroundColor="#d8dde6"}switch(this.hoverOver.phLoc){case"both":t<i?(this.targetHost.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp),this.placeHolderComp.setAttribute("ref","after"),this.dropBefore=!0):t>i&&(this.targetHost.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp.nextElementSibling),this.placeHolderComp.setAttribute("ref","before"),this.dropBefore=!1);break;case"before":this.host.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp),this.placeHolderComp.setAttribute("ref","after"),this.dropBefore=!0;break;case"after":this.host.shadowRoot.querySelector("."+this.targetClass).appendChild(this.placeHolderComp),this.hoverOver.comp.parentElement.insertBefore(this.placeHolderComp,this.hoverOver.comp.nextElementSibling),this.placeHolderComp.setAttribute("ref","before"),this.dropBefore=!1}}else if(this.hoverOver&&this.hoverOver.comp===this.placeHolderComp){if(!this.placeHolderComp.hasAttribute("ref"))return;"before"===this.placeHolderComp.getAttribute("ref")?(this.hoverOver.comp=this.hoverOver.comp.previousElementSibling,this.dropBefore=!1):"after"===this.placeHolderComp.getAttribute("ref")&&(this.hoverOver.comp=this.hoverOver.comp.nextElementSibling,this.dropBefore=!0)}}_clonePolymerElement(e){if(e.deepCloneNode)return e.deepCloneNode();let t=e.cloneNode(!0);for(let i in e.properties)if("data"!==i)try{t[i]=e[i]}catch(e){}return t.data=e.data,t}}function dt(e){e.classList.add(nt)}function ct(e){e.classList.add(st)}function ut(e){e.classList.contains(nt)&&e.classList.remove(nt),e.classList.contains(st)&&e.classList.remove(st)}function ht(e){if(e&&e.lineModel)return e.lineModel.component}function pt(e,t){if(e.lineModel&&t.lineModel)return e.lineModel.lineVO.parentItemKey===t.lineModel.lineVO.parentItemKey}var ft=i(5770),bt=i(9866),gt=i(891);const mt=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  --sbDialogContentHeight: 300px;
}
:host #segmentRow:hover {
  background-color: var(--sbTableRowHoverColor);
  border: 1px solid #5eb4ff;
}
sb-dialog {
  --sbDialogContainerWidth: 60%;
}
sb-dialog[class*='--mobile'] {
  --sbDialogContainerDisplay: flex;
  --sbDialogContainerOverflow: hidden;
  --sbDialogContainerFlexDirection: column;
  --sbDialogContainerHeight: 100%;
  --sbDialogContentHeight: 100%;
  --sbDialogContentMarginBottom: 0;
}
[class*='--mobile'] sb-dialog {
  --sbDialogContainerDisplay: flex;
  --sbDialogContainerOverflow: hidden;
  --sbDialogContainerFlexDirection: column;
  --sbDialogContainerHeight: 100%;
  --sbDialogContentHeight: 100%;
  --sbDialogContentMarginBottom: 0;
}
:host([class*='--mobile']) #csdDialog {
  width: 480px;
}
sb-table-row[class*='--mobile'] {
  --sb-tables-chevron-margin-top: 0px;
  --selection-padding: 8px 0px 21px 25px;
}
:host([class*='--mobile']) #csdDialog {
  width: 480px;
}
[class*='--mobile'] sb-table-row {
  --sb-tables-chevron-margin-top: 0px;
  --selection-padding: 8px 0px 21px 25px;
}
`;i(4167),i(4),i(1863),i(9235),i(9139),i(1925),i(8500),i(4516),i(57);const yt=je.b`
`;class vt extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-cse-table-cell"}static get properties(){return{item:String,disabled:Boolean,hidden:Boolean,value:{notify:!0},data:{type:Object,value:null},model:{type:Object,value:null},render:{type:Boolean,value:!1},index:Number,viewport:{type:Object,value:function(){return j.L.getViewport()}}}}static get observers(){return["_buildCellObserver(item, value, model, data)"]}get constants(){return this.model.groupModel.editorModel.constants}_buildCellObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this.buildCell(e,t,i,o)}buildCell(){let e=[this.constants.SEGMENT_LABEL_FIELD,this.constants.START_DATE_FIELD,this.constants.END_DATE_FIELD],t=this.model.groupModel.editorModel.md.fieldsMap[this.constants.QUOTE_LINE],i=[];for(let o=0;o<e.length;o++){let r=t[e[o]];i[e[o]]=r}this.editing=!0,this.viewport&&this.viewport.isMobile()&&(this.render=!0,0===this.index&&(this.editing=!1)),this.disabled=!1,this.md=i[this.item]}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style include="sb-forms-styles"></style>
			<style>${yt}</style>

			<div class="sb-cse-table-cell">
				<sb-field
						device
						value="{{value}}"
						property="[[item]]"
						render-read-only="[[render]]"
						editing="[[editing]]"
						md="[[md]]"
				></sb-field>
			</div>
		`}}customElements.define(vt.is,vt);i(7893);class _t extends((0,Fe.g)((0,Le.$)((0,Ae.T)((0,bt.b)(Ve.Pu))))){static get is(){return"sb-custom-segment-dialog"}static get properties(){return{dataLineModels:Array,lineModels:{type:Array},groupModel:{type:Object},deletedLineKeys:{type:Array,value:[]},errors:{type:Array,value:[],notify:!0},viewport:{type:Object,value:function(){return j.L.getViewport()}},headerActions:Array,headerSelected:{type:Boolean,value:!1}}}get events(){let e={};return e[r.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}ready(){super.ready(),Object.entries({"sb-cancel-custom-segment":"_onCancel","add-tapped":"_onAddByLine","delete-tapped":"_onDeleteByLine"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.isMobile=this._isMobileViewport()}static get observers(){return["_dataChanged(dataLineModels)","_lineModelChanged(lineModels)","_handleCustomSegmentsResponseChanged(updateCustomSegmentsResponse)","_handleErrorResponseChanged(errorResponse)","_toggleAllCheckBoxes(headerSelected)"]}get constants(){return this.editorModel.constants}get quoteLineMD(){return this.editorModel.md.fieldsMap[this.constants.QUOTE_LINE]}get customLabels(){return this.editorModel.data.customLabels}_findTableRowValidTarget(e){return e?this._ifParentIsValidTarget(e)?e:e.parentNode?this._findTableRowValidTarget(e.parentNode):null:null}_ifParentIsValidTarget(e){return!!e.parentElement&&("swipe-header"==e.parentElement.id&&(this.targetRowElement=e.parentElement.parentElement,!0))}viewportChanged(e){this.viewport=e.detail.viewport;let t=this.dragDrop?this.dragDrop.segmentRows:null;if(t)if(this._isMobileViewport()||!o.B.isDesktop)for(let e=0,i=t.length;e<i;e++)this.listenedOnTrackHandler&&(0,gt.pQ)(t[e],"track",this.listenedOnTrackHandler);else{this.listenedOnTrackHandler=this.listenedOnTrackHandler||this.onTrack.bind(this);for(let e=0,i=t.length;e<i;e++)(0,gt.ch)(t[e],"track",this.listenedOnTrackHandler)}return this.viewport&&this.viewport.isMobile()}_dataChanged(){if(!this.dataLineModels)return;this.groupModel=this.dataLineModels[0].groupModel,this.editorModel=this.groupModel.quoteModel.editorModel;let e,t=[],i=this.dataLineModels.length,o={};for(e=0;e<i;e++){let t=this.dataLineModels[e],i=JSON.parse(JSON.stringify(t.lineVO)),r=new U(i,this.groupModel);r.selected=!1,o[r.lineVO.record[this.constants.START_DATE_FIELD]]=r}let r=Object.keys(o).sort();for(e=0;e<i;e++)t.push(o[r[e]]);this.lineModels=t}_lineModelChanged(){this.lineModels&&this.lineModels.length>0&&(this.deletedLineKeys=[],this.errors=[],this._buildDialog())}_handleCustomSegmentsResponseChanged(e){e.partialVO&&(e=this._combinePartialQuoteWithFullQuote(e)),this.dispatchEvent((0,r.uv)("segmented-changed",{quoteVO:e})),this.resetData()}_combinePartialQuoteWithFullQuote(e){let t=this.groupModel.quoteModel.quoteVO,i=new Map,o=new Map;e.lineItems.forEach((e=>{o.set(e.key,e);let t=e.record[this.constants.SEGMENT_KEY_FIELD];if(t&&this._sentMDQKeys.has(t)){let o=i.get(t)||[];i.set(t,[...o,e])}}));let r=[];return t.lineItems.forEach((e=>{let t=e.record[this.constants.SEGMENT_KEY_FIELD],n=e.dimensionType;if(t&&this._sentMDQKeys.has(t)&&n&&"custom"===n.toLowerCase()){1==e.record[this.constants.SEGMENT_INDEX_FIELD]&&(r=[...r,...i.get(t)])}else o.has(e.key)?r.push(o.get(e.key)):r.push(e)})),e.lineItems=r,e.partialVO=!1,e}_handleErrorResponseChanged(){let e=this.errors||[];this.set("errors",e.push(this.errorResponse))}_onAddByLine(e){this._onAddByIndex(e.detail.index)}_onAdd(e){this.$.dialog.toggleMenu();let t=this.lineModels.length-1;this._onAddByIndex(t)}_onAddByIndex(e){let t=this.lineModels[e],i=JSON.parse(JSON.stringify(t.lineVO));i.record={},i.record[this.constants.SEGMENT_LABEL_FIELD]="",i.record[this.constants.START_DATE_FIELD]=null,i.record[this.constants.END_DATE_FIELD]=null;let o=new U(i,this.groupModel);o.lineVO.record.Id=null,o.lineVO.key=null,o.selected=!1,this.splice("lineModels",e+1,0,o),this.headerSelected=!1,this.$.segmentGroup.addEventListener("dom-change",function(e){let t=this.$.segmentRows.querySelectorAll("#segmentRow");null===t[t.length-1].model.lineVO.key&&t[t.length-1].$.row.click()}.bind(this))}_onDeleteByLine(e){this._onDeleteLineData(e.detail.index),this.headerSelected=!1}_onDelete(){let e;for(e=this.lineModels.length-1;e>0;e--){this.lineModels[e].selected&&this._onDeleteLineData(e)}this.$.dialog.toggleMenu(),this.headerSelected=!1}_onDeleteLineData(e){let t=this.lineModels[e];null!=t.lineVO.key&&this.deletedLineKeys.push(t.lineVO.key),this.splice("lineModels",e,1)}_onSave(){this._resetProperties(),this.$.dialog.toggleMenu(),this._validateCustomSegmentLabels(),this._validateCustomSegmentDates();let e=[];if(this.hasInvalidSegmentDates&&e.push(this.customLabels.msg_invalid_custom_segment_dates),this.hasInvalidSegmentLabels&&e.push(this.customLabels.msg_invalid_custom_segment_labels),this.hasNonConsecutiveDates&&e.push(this.customLabels.msg_nonsequential_custom_segment_dates),this.hasOverlappingSegments&&e.push(this.customLabels.msg_overlapping_custom_segment_dates),this.hasInvalidDateFormat&&e.push(this.customLabels.msg_invalid_date_format),this.set("errors",[]),this.set("errors",e),0==e.length){let e=this._getCustomSegmentUpdates();e.updateCustomSegments=!0;let t={quote:this._createQuoteWithoutUnaffectedLines(this.groupModel.groupKey),updateCustomSegments:e.updateCustomSegments,updatedLineKeys:e.updatedLineKeys,deletedLineKeys:this.deletedLineKeys,startDates:e.startDates,endDates:e.endDates,segmentLabels:e.segmentLabels};this.$.UpdateCustomSegmentsService.model=t}}_createQuoteWithoutUnaffectedLines(e){let t=this.groupModel.quoteModel.quoteVO;if(!this.editorModel.data.settings.usesClientCalculator)return t;t=JSON.parse(JSON.stringify(t));let i=new Set,o=new Set,r=new Set;t.lineItems.forEach((t=>{t.parentGroupKey==e&&t.dimensionType==this.constants.TYPE_CUSTOM_DIMENSION&&(i.add(t.key),r.add(t.record[this.constants.SEGMENT_KEY_FIELD]),t.record.Id&&o.add(t.record.Id))})),this._sentMDQKeys=r,t.lineItems.forEach((e=>{let t=e.record[this.constants.SOURCE_FIELD];t&&o.has(t)&&i.add(e.key)}));let n=[];return t.lineItems.forEach((e=>{i.has(e.key)&&n.push(e)})),t.lineItems=n,t.partialVO=!0,t}_onCancel(){this.errors=void 0,this.groupModel=void 0,this.deletedLineKeys=[],this._resetProperties(),this.$.dialog.toggle()}_toggleAllCheckBoxes(){if(this.lineModels){let e;for(e=this.lineModels.length-1;e>0;e--)this.set(`lineModels.${e}.selected`,this.headerSelected)}}resetData(){this.errors=void 0,this.deletedLineKeys=[],this._sentMDQKeys=void 0}_isMobileViewport(){return this.viewport&&this.viewport.isMobile()}_buildDialog(){this._buildFieldsMD(),this._toggleAllCheckBoxes(),this._buildRowData(),this._buildHeaderActions()}_buildFieldsMD(){let e=this.quoteLineMD,t=[this.constants.SEGMENT_LABEL_FIELD,this.constants.START_DATE_FIELD,this.constants.END_DATE_FIELD],i=[];for(let o=0;o<t.length;o++)i.push(e[t[o]]);this.fields=t,this.fieldsMD=i}_buildRowData(){let e=[],t=[],i={},o={},r={},n=this.fields.length;for(let s=0;s<n;s++){this.fields[s];let n=this.fieldsMD[s],a=n.name;e.push(a);let l=n.label;t.push(l),i[a]=n.label,o[n.label.replace(/\W/g,"")]=n.type,r[a]=n.type}this.headerClassMap=new ft.u(Object.keys(o),"Th",o,null,!0).build(),this.rowClassMap=new ft.u(e,"Td",r).build(),this.recordKeys=e,this.fieldLabels=t,this.fieldLabelMap=i}_buildHeaderActions(){let e={icon:"sf-icon-delete",position:"right",hidden:!1,invisible:!0};this.headerActions=[e,e]}_buildRowActions(e){let t=[],i={icon:"sb-icon-plus",title:this.customLabels.lbl_add_segment,position:"right",hidden:!1,invisible:this.groupModel.quoteModel.isAmendmentOrChangeQuote,onTapFunction:function(){this.dispatchEvent((0,r.uv)("add-tapped",{index:this.index}))}},o={icon:"sf-icon-delete",title:this.customLabels.lbl_delete_custom_segments,position:"right",hidden:!1,invisible:0==e||this.groupModel.quoteModel.isAmendmentOrChangeQuote,onTapFunction:function(){this.dispatchEvent((0,r.uv)("delete-tapped",{index:this.index}))}};return t.push(i),t.push(o),t}_hideSelection(e){return 0===e?{hidden:!0,type:"invisible"}:null}_getCustomSegmentUpdates(){let e={updatedLineKeys:[],startDates:[],endDates:[],segmentLabels:[]},t=this.lineModels.length;for(let i=0;i<t;i++){let t=this.lineModels[i].lineVO,o=this.lineModels[i].lineVO.record;e.updatedLineKeys.push(t.key),e.segmentLabels.push(o[this.constants.SEGMENT_LABEL_FIELD]),e.startDates.push(o[this.constants.START_DATE_FIELD]),e.endDates.push(o[this.constants.END_DATE_FIELD])}return e}_validateCustomSegmentLabels(){this.hasInvalidSegmentLabels=!1;let e={},t=this.lineModels.length;for(let i=0;i<t;i++){let t=this.lineModels[i].lineVO.record[this.constants.SEGMENT_LABEL_FIELD];if(null==t||""===t.trim())return void(this.hasInvalidSegmentLabels=!0);if(e[t])return void(this.hasInvalidSegmentLabels=!0);e[t]=!0}}_validateCustomSegmentDates(){let e=this.lineModels.length;for(let t=0;t<e;t++){let e=this.lineModels[t].lineVO,i=e.record[this.constants.START_DATE_FIELD],o=e.record[this.constants.END_DATE_FIELD],r=new Date(i),n=new Date(o);if(null==i||null==o)return void(this.hasInvalidDateFormat=!0);if(r>n)return void(this.hasInvalidSegmentDates=!0);if(t-1>=0){let e=this.lineModels[t-1].lineVO,i=new Date(e.record[this.constants.END_DATE_FIELD]),o=Date.parse(new Date(i.getFullYear(),i.getMonth(),i.getDate()+1)),n=Date.parse(new Date(r.getFullYear(),r.getMonth(),r.getDate()));if(this.editorModel.data.settings.allowsNonConsecutiveCustomSegments){if(r<=i)return void(this.hasOverlappingSegments=!0)}else if(o!=n)return void(this.hasNonConsecutiveDates=!0)}}}_resetProperties(){this.set("errors",[]),this.headerSelected=!1,this.hasInvalidSegmentLabels=!1,this.hasInvalidSegmentDates=!1,this.hasNonConsecutiveDates=!1,this.hasOverlappingSegments=!1,this.hasInvalidDateFormat=!1}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style include="sb-dialogs-styles"></style>
			<style include="sb-tables-styles"></style>
			<style>${mt}</style>

			<sb-service
				id="UpdateCustomSegmentsService"
				saver="QuoteLineEditorServiceProvider.EditorSegmentLine"
				cache="LineEditor"
				response={{updateCustomSegmentsResponse}}
				error="{{errorResponse}}">
			</sb-service>

			<div device>
				<sb-dialog id="dialog" modal="true" close-dialog="sb-cancel-custom-segment">
					<span slot="icon" class="sb-icon-pencil icon"></span>
					<div slot="title" class="title">
						<sb-i18n>Custom Segments</sb-i18n>
					</div>
					<div slot="content" class="content">
						<sb-toast type="error" messages="{{errors}}"></sb-toast>
						<div class="datatable" id="segmentTable">

							<!-- Segment Group Header -->
							<div class="thead" id="segmentHeader">
								<!-- Version 0: Using sb-table-header -->
								<sb-table-header id="header"
									selectable="[[fieldLabels]]"
									selected = "{{headerSelected}}"
									cols="[[fieldLabels]]"
									header-class-map="[[headerClassMap]]"
									header-actions="[[headerActions]]">
									</sb-table-header>
								<!-- Segment Group Content -->
							</div>

							<div class="tbody sb-droppable-custom-segment-table" id="segmentRows">
								<template id="segmentGroup" is="dom-repeat" items="{{lineModels}}" as="lineModel">
									<div style="overflow-x: hidden; overflow-y: hidden;">
										<sb-table-row	id="segmentRow"
											cell="sb-cse-table-cell"
											row-data="{{lineModel.lineVO.record}}"
											cols="[[recordKeys]]"
											cols-display="[[fieldLabelMap]]"
											model="{{lineModel}}"
											primary-mobile-cols='[["Name"]]'
											repeat-primary-mobile-cols="true"
											selectable="true"
											selected = "{{lineModel.selected}}"
											hide-selection="[[_hideSelection(index)]]"
											row-class-map="[[rowClassMap]]"
											row-actions="[[_buildRowActions(index)]]"
											index="[[index]]"
											route-source="lineEditor"
											data-index="[[index]]"
											selection-class="zone">
										</sb-table-row>
									</div>
								</template>
							</div>
						</div>
					</div>

					<template is="dom-if" if="![[groupModel.quoteModel.isAmendment]]">
						<paper-button slot="paper-button" noink class="primary" id="save"  on-click="_onSave" ><sb-i18n>Save</sb-i18n></paper-button>
						<paper-button slot="paper-button" noink id="delete" on-click="_onDelete"><sb-i18n>Delete</sb-i18n></paper-button>
						<paper-button slot="paper-button" noink id="add" on-click="_onAdd"><sb-i18n>Add</sb-i18n></paper-button>
					</template>
				</sb-dialog>
			</div>`}}customElements.define(_t.is,_t);i(9667);const wt=je.b`
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  --sbDialogMaxHeight: 400px;
  --sbDialogMinWidth: 700px;
  --sbSelectMinWidth: 100%;
  --sbSelectMinHeight: 36px;
  --sbDialogContentTextAlign: center;
  --sbDialogContentPadding: 30px 20px;
  --sbDialogContentFontSize: 17px;
}
`;class xt extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-pricebook-dialog"}static get properties(){return{pricebooks:Array,selectedPricebook:String,error:{type:Object,observer:"_onError"}}}ready(){super.ready(),this.$.select.addEventListener("change",function(e){e.detail&&(this.selectedPricebook=e.detail.value)}.bind(this)),this.$.dialog.addEventListener("sb-close-dialog",this.onCancel.bind(this))}_onError(){this.error&&(0,r.rC)(r.sV.GENERIC_ERROR,{errorMessage:this.error.message||this.error})}open(){this.$.pricebookLoaderService.addEventListener("response-changed",function(e){let t=[],i=e.detail.value,o=i.length;if(!1!==i.success){for(let e=0;e<o;e++)t.push({value:i[e].Id,label:i[e].Name,selected:!1});t[0].selected=!0,this.selectedPricebook=t[0].value,this.$.select.value=this.selectedPricebook,this.$.select.isRequired=!0,this.pricebooks=t,this.$.dialog.toggle()}else this.error=i.error}.bind(this)),this.$.pricebookLoaderService.uid="",this.$.pricebookLoaderService.context=""}onSave(){this.$.pricebookSaverService.addEventListener("response-changed",function(e){this.dispatchEvent((0,r.uv)("pricebook-saved",e.detail.value))}.bind(this)),this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.PRICEBOOK_ID_FIELD]=this.selectedPricebook,this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.PRICEBOOK_LOOKUP_ID_FIELD]=this.selectedPricebook,this.$.pricebookSaverService.model=(new tt.k).add("pricebookId",this.selectedPricebook).add("quoteId",this.editorModel.quoteModel.quoteVO.record.Id).add("oppId",this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.OPPORTUNITY_ID_FIELD]).build(),this.$.dialog.toggle()}onCancel(){this.dispatchEvent((0,r.uv)("le-action-tapped",{customAction:{eventHandlerName:"onCancel"}}))}static get template(){return Ve.qy`
			<style>${wt}</style>
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style include="sb-dialogs-styles"></style>
			
			<sb-service id="pricebookLoaderService" loader="QuoteLineEditorServiceProvider.PricebookLoader" error="{{error}}"></sb-service>
			<sb-service id="pricebookSaverService" saver="QuoteLineEditorServiceProvider.PricebookSaver" error="{{error}}"></sb-service>
			<div device>
				<sb-dialog id="dialog" modal="true" hide-close-icon="true">
					<div slot="title" class="title"><sb-i18n>Choose Price Book</sb-i18n></div>
					<paper-button slot="paper-button" noink class="primary" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>
					<div slot="content" class="content">
						<sb-select id="select" options="[[pricebooks]]"></sb-select>
					</div>
				</sb-dialog>
			</div>
		`}}customElements.define(xt.is,xt);var Ct=i(197);i(4930),i(1499),i(361),i(4409);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const St=je.q`<custom-style>
  <style is="custom-style">
    html {

      /* Shared Styles */
      --paper-font-common-base: {
        font-family: 'Roboto', 'Noto', sans-serif;
        -webkit-font-smoothing: antialiased;
      };

      --paper-font-common-code: {
        font-family: 'Roboto Mono', 'Consolas', 'Menlo', monospace;
        -webkit-font-smoothing: antialiased;
      };

      --paper-font-common-expensive-kerning: {
        text-rendering: optimizeLegibility;
      };

      --paper-font-common-nowrap: {
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
      };

      /* Material Font Styles */

      --paper-font-display4: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 112px;
        font-weight: 300;
        letter-spacing: -.044em;
        line-height: 120px;
      };

      --paper-font-display3: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 56px;
        font-weight: 400;
        letter-spacing: -.026em;
        line-height: 60px;
      };

      --paper-font-display2: {
        @apply --paper-font-common-base;

        font-size: 45px;
        font-weight: 400;
        letter-spacing: -.018em;
        line-height: 48px;
      };

      --paper-font-display1: {
        @apply --paper-font-common-base;

        font-size: 34px;
        font-weight: 400;
        letter-spacing: -.01em;
        line-height: 40px;
      };

      --paper-font-headline: {
        @apply --paper-font-common-base;

        font-size: 24px;
        font-weight: 400;
        letter-spacing: -.012em;
        line-height: 32px;
      };

      --paper-font-title: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 20px;
        font-weight: 500;
        line-height: 28px;
      };

      --paper-font-subhead: {
        @apply --paper-font-common-base;

        font-size: 16px;
        font-weight: 400;
        line-height: 24px;
      };

      --paper-font-body2: {
        @apply --paper-font-common-base;

        font-size: 14px;
        font-weight: 500;
        line-height: 24px;
      };

      --paper-font-body1: {
        @apply --paper-font-common-base;

        font-size: 14px;
        font-weight: 400;
        line-height: 20px;
      };

      --paper-font-caption: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 12px;
        font-weight: 400;
        letter-spacing: 0.011em;
        line-height: 20px;
      };

      --paper-font-menu: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 13px;
        font-weight: 500;
        line-height: 24px;
      };

      --paper-font-button: {
        @apply --paper-font-common-base;
        @apply --paper-font-common-nowrap;

        font-size: 14px;
        font-weight: 500;
        letter-spacing: 0.018em;
        line-height: 24px;
        text-transform: uppercase;
      };

      --paper-font-code2: {
        @apply --paper-font-common-code;

        font-size: 14px;
        font-weight: 700;
        line-height: 20px;
      };

      --paper-font-code1: {
        @apply --paper-font-common-code;

        font-size: 14px;
        font-weight: 500;
        line-height: 20px;
      };

    }

  </style>
</custom-style>`;St.setAttribute("style","display: none;"),document.head.appendChild(St.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const Ot=document.createElement("template");Ot.setAttribute("style","display: none;"),Ot.innerHTML="<dom-module id=\"paper-item-shared-styles\">\n  <template>\n    <style>\n      :host, .paper-item {\n        display: block;\n        position: relative;\n        min-height: var(--paper-item-min-height, 48px);\n        padding: 0px 16px;\n      }\n\n      .paper-item {\n        @apply --paper-font-subhead;\n        border:none;\n        outline: none;\n        background: white;\n        width: 100%;\n        text-align: left;\n      }\n\n      :host([hidden]), .paper-item[hidden] {\n        display: none !important;\n      }\n\n      :host(.iron-selected), .paper-item.iron-selected {\n        font-weight: var(--paper-item-selected-weight, bold);\n\n        @apply --paper-item-selected;\n      }\n\n      :host([disabled]), .paper-item[disabled] {\n        color: var(--paper-item-disabled-color, var(--disabled-text-color));\n\n        @apply --paper-item-disabled;\n      }\n\n      :host(:focus), .paper-item:focus {\n        position: relative;\n        outline: 0;\n\n        @apply --paper-item-focused;\n      }\n\n      :host(:focus):before, .paper-item:focus:before {\n        @apply --layout-fit;\n\n        background: currentColor;\n        content: '';\n        opacity: var(--dark-divider-opacity);\n        pointer-events: none;\n\n        @apply --paper-item-focused-before;\n      }\n    </style>\n  </template>\n</dom-module>",document.head.appendChild(Ot.content);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const kt=[i(8260).a,$e.x,{hostAttributes:{role:"option",tabindex:"0"}}];
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Ge.b)({_template:je.q`
    <style include="paper-item-shared-styles">
      :host {
        @apply --layout-horizontal;
        @apply --layout-center;
        @apply --paper-font-subhead;

        @apply --paper-item;
      }
    </style>
    <slot></slot>
`,is:"paper-item",behaviors:[kt]});const Et=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host .notFirst,
:host .sf-icon-down:not(.mobileGroupMenu) {
  border-left: inherit;
  border-top-left-radius: inherit;
  border-bottom-left-radius: inherit;
}
:host .notLast {
  border-top-right-radius: inherit;
  border-bottom-right-radius: inherit;
}
:host span {
  color: var(--sbIconColor);
  cursor: pointer;
}
:host #menuButton {
  -webkit-tap-highlight-color: transparent;
}
:host #menuButton paper-listbox {
  padding: 6px 20px;
  font-family: inherit;
  text-align: left;
  margin: 2px;
  box-shadow: var(--shadow-elevation-2dp_-_box-shadow);
}
:host #menuButton paper-item {
  font-family: inherit;
  font-size: var(--sbFontSizeDefault);
  white-space: nowrap;
  min-height: inherit;
  line-height: 24px;
}
:host #menuButton paper-item.iron-selected {
  font-weight: normal;
}
:host #menuButton paper-item:focus:before,
:host #menuButton paper-item:focus:after {
  opacity: 0;
  height: 0px;
}
:host .sbToolSeparator {
  padding-left: 10px;
}
:host .primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
:host .primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
:host .groupButton {
  margin-left: -3px;
  z-index: 1;
}
:host .groupMenu {
  margin-left: -4px;
}
:host .lineAction:hover {
  color: var(--sbIconHoverColor);
}
:host .dropdown-content {
  padding-top: 12px;
}
@media screen and (max-width: 800px) {
  :host paper-button:not(.mobileGroupMenu) {
    display: inherit;
    text-align: left;
    width: 100%;
    border: 0;
  }
  :host paper-menu-button:not(.mobileGroupMenu) {
    display: inherit;
    text-align: left;
    width: 100%;
    border: 0;
  }
}
:host paper-tooltip[class*='--mobile'] {
  display: none;
}
:host paper-button[class*='--mobile']:not(.mobileGroupMenu) {
  display: inherit;
  text-align: left;
  width: 100%;
  border: 0;
}
:host paper-menu-button[class*='--mobile']:not(.mobileGroupMenu) {
  display: inherit;
  text-align: left;
  width: 100%;
  border: 0;
}
:host .lineAction[class*='--mobile'] {
  color: var(--sbIconMobileLineActionColor);
  border-radius: 50%;
  padding: 3px 6px;
  margin-left: 5px;
}
:host .lineAction.sb-icon-star-empty[class*='--mobile']:before {
  content: '\\e824';
}
:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {
  color: var(--sbIconMobileStarFillColor);
}
:host .lineAction.onAddToFavorites[class*='--mobile'],
:host .lineAction.onRemoveFromFavorites[class*='--mobile'] {
  background-color: var(--sbIconMobileStarBgColor);
}
:host .lineAction.onDeleteLine[class*='--mobile'] {
  background-color: var(--sbIconMobileCopyBgColor);
}
:host .lineAction.onCloneLine[class*='--mobile'] {
  background-color: var(--sbIconMobileDeleteBgColor);
}
:host .lineAction.onReconfigureLine[class*='--mobile'],
:host .lineAction.onResegmentLine[class*='--mobile'],
:host .lineAction.onDesegmentLine[class*='--mobile'] {
  background-color: var(--sbIconMobileWandBgColor);
}
:host .lineAction.showDSModal[class*='--mobile'] {
  background-color: #b1a445;
}
:host .lineAction.undefined[class*='--mobile'] {
  background-color: black;
}
:host span[class^='sb-icon'][class*='--mobile'],
:host span[class^='sf-icon'][class*='--mobile'] {
  height: 100%;
  border-radius: 0;
  padding: 0;
  margin-left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  box-sizing: content-box;
}
:host [class*='--mobile'] paper-tooltip {
  display: none;
}
:host [class*='--mobile'] paper-button:not(.mobileGroupMenu) {
  display: inherit;
  text-align: left;
  width: 100%;
  border: 0;
}
:host [class*='--mobile'] paper-menu-button:not(.mobileGroupMenu) {
  display: inherit;
  text-align: left;
  width: 100%;
  border: 0;
}
:host [class*='--mobile'] .lineAction {
  color: var(--sbIconMobileLineActionColor);
  border-radius: 50%;
  padding: 3px 6px;
  margin-left: 5px;
}
:host [class*='--mobile'] .lineAction.sb-icon-star-empty:before {
  content: '\\e824';
}
:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {
  color: var(--sbIconMobileStarFillColor);
}
:host [class*='--mobile'] .lineAction.onAddToFavorites,
:host [class*='--mobile'] .lineAction.onRemoveFromFavorites {
  background-color: var(--sbIconMobileStarBgColor);
}
:host [class*='--mobile'] .lineAction.onDeleteLine {
  background-color: var(--sbIconMobileCopyBgColor);
}
:host [class*='--mobile'] .lineAction.onCloneLine {
  background-color: var(--sbIconMobileDeleteBgColor);
}
:host [class*='--mobile'] .lineAction.onReconfigureLine,
:host [class*='--mobile'] .lineAction.onResegmentLine,
:host [class*='--mobile'] .lineAction.onDesegmentLine {
  background-color: var(--sbIconMobileWandBgColor);
}
:host [class*='--mobile'] .lineAction.showDSModal {
  background-color: #b1a445;
}
:host [class*='--mobile'] .lineAction.undefined {
  background-color: black;
}
:host [class*='--mobile'] span[class^='sb-icon'],
:host [class*='--mobile'] span[class^='sf-icon'] {
  height: 100%;
  border-radius: 0;
  padding: 0;
  margin-left: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  box-sizing: content-box;
}
:host paper-listbox {
  background-color: var(--sbBtnBgColor);
  overflow: auto;
}
:host span:not(.lineAction) {
  color: var(--sbBtnColor);
}
`;class It extends((0,Le.$)((0,Ae.T)(Ve.Pu))){static get is(){return"sb-custom-action"}static get properties(){return{customAction:Object,model:Object,actionHidden:Boolean,viewport:{type:Object,value:function(){return j.L.getViewport()}},button:{type:Boolean,value:null},span:{type:Boolean,value:null},groupAction:{type:Boolean,value:!1},allOptional:{type:Boolean,value:!1}}}get events(){let e={};return e[r.sV.VIEWPORT_CHANGED]=this.viewportChanged,e[r.sV.TOGGLE_QUICKSAVE]=this.toggleQuickSaveButton,e}static get observers(){return["_toggleQuoteButton(model.allOptional)","_toggleLineButton(model.favorite)"]}ready(){super.ready(),this.customAction&&this.customAction.isSeparator&&(this.button=!1,this.span=!0),this.addEventListener("paper-dropdown-close",(function(e){this.shadowRoot.querySelector("#menuButton")&&this.shadowRoot.querySelector("#menuButton").close()})),this.horizontalAlign||(this.horizontalAlign=this.span?"left":"right"),this.horizontalOffset=this.span?18:0,this.verticalOffset=this.span?-30:0}triggerCustomAction(e){if("showDSModal"!==this.customAction.eventHandlerName)"click"===e.type&&("onQuickSave"===this.customAction.eventHandlerName&&(0,r.rC)(r.sV.TOGGLE_QUICKSAVE,{enable:!1}),this.dispatchEvent((0,r.uv)("le-action-tapped",{customAction:this.customAction,model:this.model})),this.dispatchEvent((0,r.uv)("paper-dropdown-close",void 0)));else{if(this.classList.contains("swipe-menu-item")&&"click"!==e.type)return;(0,r.rC)(r.sV.SCHEDULE_ACTION,{event:e,model:this.model})}}_showAction(e,t){return!e.isHidden(t)}_getLabel(e,t){return(!e.icon||t&&(t.isMobile()||t.S.down))&&"Line"!==e.renderLocation?e.label:null}_hasMenu(e,t,i,o){return!i&&!o||e.hasMenu&&!(t&&(t.isMobile()||t.S.down))}_hasMenuButton(e,t,i,o){return this._hasMenu(e,t,i,o)&&!o}_getButtonClass(e,t,i,o,r){return(r?"groupButton ":"")+(e.icon&&!this._getLabel(e,t)?e.icon:"")+(e.first?"":" notFirst")+(e.last&&!this._hasMenu(e,t,i,o)?"":" notLast")+(e.primary?" primary":"")}_getMenuClass(e,t,i){return!t&&i?"mobileGroupMenu":(i?"groupMenu ":"")+(e.last?"":"notLast")}_toggleQuoteButton(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.allOptional=e,this._toggleButton()}_toggleLineButton(){this._toggleButton()}_toggleButton(){this.viewport&&this.viewport.isMobile()&&!this.model.favorite&&"removeFromFavBtn"===this.customAction.caClass&&this.style.transform&&this.parentElement.parentElement._initSwipeMenu(this.parentElement);this._setButtonClassAndLabel()}_setButtonClassAndLabel(){this.viewport&&this.viewport.isMobile()&&this.model.favorite&&"removeFromFavBtn"===this.customAction.caClass&&this.parentElement&&((0,Ct.b)(),this.parentElement.parentElement._initSwipeMenu(this.parentElement))}viewportChanged(e){this.viewport=e.detail.viewport,this._setButtonClassAndLabel()}toggleQuickSaveButton(e){"onQuickSave"===this.customAction.eventHandlerName&&(this.shadowRoot.querySelector("#mainButton").disabled=!e.detail.enable)}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style include="iron-positioning"></style>
			<style>${Et}</style>
			<template is="dom-if" if="[[_showAction(customAction, model, allOptional)]]">
			<!-- button or span -->
				<template is="dom-if" if="[[button]]">
					<paper-button noink id="mainButton" class$="[[_getButtonClass(customAction, viewport, button, span, groupAction)]] [[deviceClasses]]" on-mouseenter="triggerCustomAction" on-mouseleave="triggerCustomAction" on-click="triggerCustomAction">[[_getLabel(customAction, viewport)]]</paper-button>
					<paper-tooltip for="mainButton" class$="[[deviceClasses]]" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
						[[customAction.title]]
					</paper-tooltip>
				</template>
				<template is="dom-if" if="[[span]]">
					<span id$="[[customAction.caClass]]" class$="[[customAction.class]] [[deviceClasses]]" on-mouseenter="triggerCustomAction" on-mouseleave="triggerCustomAction" on-click="triggerCustomAction">[[_getLabel(customAction, viewport)]]</span>
					<paper-tooltip for$="[[customAction.caClass]]" class$="[[deviceClasses]]" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
						[[customAction.title]]
					</paper-tooltip>
				</template>

				<template is="dom-if" if="[[_hasMenu(customAction, viewport, button, span)]]">
					<paper-menu-button id="menuButton" class$="[[deviceClasses]]" ignore-select no-overlap horizontal-align$="[[horizontalAlign]]" horizontal-offset$="[[horizontalOffset]]" vertical-offset$="[[verticalOffset]]" no-animations>
						<template is="dom-if" if="[[_hasMenuButton(customAction, viewport, button, span)]]">
							<paper-button noink slot="dropdown-trigger" class$="dropdown-trigger sf-icon-down [[_getMenuClass(customAction, button, groupAction)]]"></paper-button>
						</template>
						<template is="dom-if" if="[[span]]">
							<span slot="dropdown-trigger" class="dropdown-trigger sf-icon-right"></span>
						</template>

						<paper-listbox slot="dropdown-content" class="dropdown-content">
							<template is="dom-repeat" items="[[customAction.children]]">
								<paper-item><sb-custom-action name$="[[item.name]]" custom-action="[[item]]" model="[[model]]" span="true"></sb-custom-action></paper-item>
							</template>
						</paper-listbox>
					</paper-menu-button>
				</template>
			</template>
		`}}customElements.define(It.is,It);var Tt=i(1890);const Mt=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host .sf-tooltip:hover:after {
  content: attr(tooltip);
  display: block;
  position: absolute;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  background-color: #fff;
  border: var(--sbBtnBorder);
  opacity: 1;
  padding: 5px;
  color: var(--sbFontColor);
  font-family: var(--sbFont);
  border-radius: 4px;
  font-size: 14px;
  z-index: 999;
  text-align: left;
  transform: translateX(-50%);
  font-weight: normal;
}
.td {
  display: flex;
  padding: 6px 0;
  width: 100%;
  font-weight: 400;
}
.td div#item.sf-tooltip:hover:after {
  transform: translateX(50%);
}
.td span#label.sf-tooltip:hover:after {
  max-width: 30%;
}
.td > .label {
  height: 24px;
  text-align: right;
  padding: 5px 10px 0px 0px;
  min-width: 50%;
  align-self: center;
  white-space: nowrap;
  overflow-x: hidden;
  text-overflow: ellipsis;
  font-size: 12px;
}
.td > .field {
  display: flex;
  align-items: center;
  text-align: left;
  padding-left: 10px;
  width: 60%;
  font-size: 13px;
  font-weight: 600;
  overflow-x: hidden;
}
.td > .helpText {
  display: inline-block;
  opacity: 1;
  background-color: inherit;
  border: none;
  position: static;
  width: auto;
  align-self: center;
  padding-bottom: 6px;
}
.td > .helpText > .sb-icon-help-circled {
  font-size: var(--sbFontSizeDefault);
  color: var(--sbIconColor);
}
.td > .helpText > .sb-icon-help-circled:hover {
  color: var(--sbIconHoverColor);
}
.td > .helpText > #label:before {
  padding-top: 4px;
  vertical-align: middle;
}
.td[class*='--mobile'] {
  flex-direction: column;
  padding: 10px 0 5px 25px;
  width: 90%;
  height: inherit;
}
.td[class*='--mobile'] .helpText {
  display: none;
}
.td[class*='--mobile'] .label {
  text-align: left;
  align-self: flex-start;
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
.td[class*='--mobile'] .field {
  width: 110%;
  padding-left: 0;
  font-size: 1rem;
  font-weight: 400;
  color: #16325c;
}
[class*='--mobile'] .td {
  flex-direction: column;
  padding: 10px 0 5px 25px;
  width: 90%;
  height: inherit;
}
[class*='--mobile'] .td .helpText {
  display: none;
}
[class*='--mobile'] .td .label {
  text-align: left;
  align-self: flex-start;
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
[class*='--mobile'] .td .field {
  width: 110%;
  padding-left: 0;
  font-size: 1rem;
  font-weight: 400;
  color: #16325c;
}
:host(.multiGroupItem) {
  --sidePanelInputHeight: 25px !important;
  text-align: left;
}
:host(.multiGroupItem) .td {
  display: table-cell;
  width: 100%;
  font-size: 14px;
  font-weight: 400;
  padding: 5px 10px 5px 10px;
  min-width: 180px;
  min-height: 150px;
}
:host(.multiGroupItem) .label {
  text-transform: uppercase;
  padding-right: 0px;
  min-width: 0%;
}
:host(.multiGroupItem) div.field {
  min-height: 25px;
  padding-left: 0px;
}
:host(.multiGroupItem) #item {
  display: inline-block;
}
:host(.multiGroupItem) .helpText {
  vertical-align: super;
}
:host(.hiddenFromPSP) #field {
  display: none;
}
`;class Bt extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-field-set-table-item"}static get properties(){return{value:{notify:!0},item:String,model:Object,md:Object,data:Object,display:String,viewport:{type:Object,value:function(){return j.L.getViewport()}},calculateImmediately:{type:Object,value:function(){return o.B.org.calculateImmediately}},renderReadOnly:{value:!1,type:Boolean},type:String,itemClassMap:{type:Object},editable:{type:Boolean,observer:"_editableChanged"}}}connectedCallback(){super.connectedCallback(),this.renderReadOnly}ready(){Object.entries({"datepicker-opened":"_datePickerOpened","sb-field-on-change-field":"_handleFieldValueChanged"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),super.ready()}_datePickerOpened(e){if(this.renderReadOnly)return;let t=e.detail.dateContainer,i=t.querySelector("input"),o=e.detail.datepicker,r=e.detail.datepicker.offsetHeight,n=e.detail.datepicker.offsetWidth,s=window.innerHeight,a=window.innerWidth,l=t.getBoundingClientRect(),d=s-l.bottom-r,c=a-l.left-n;o.style.position="fixed",o.style.left=c<0?i.getBoundingClientRect().right-n+"px":l.left+"px",o.style.top=d<0?l.top-r+"px":l.bottom+"px"}static get observers(){return["_setFieldDataObserver(item, model, data)","_displayChangedObserver(value, display, item, data, md)","_valueChangedObserver(value, md)","_updateOriginalValueObserver(model, item)"]}_setFieldDataObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this._setFieldData(e,t,i)}_setFieldData(){this.md=this.model.getFieldMD(this.item),this.isMobile=this.viewport&&this.viewport.isMobile(),this.label=null==this.value&&"richtextarea"===this.md.extraTypeInfo&&this.isMobile?null:this.md.label,this.helpText=this.md.inlineHelpText,this.data.CurrencyIsoCode&&(this.md.CurrencyIsoCode=this.data.CurrencyIsoCode),this.$.field.editing=this._isEditable(),this.$.field.disabled=this._isDisabled(),this.$.field.md=this.md,this.$.field.property=this.item;let e={};e[this.item]=this.value,this.$.field.obj=e}_isEditable(){return!!this.md.updateable&&(null!=this.model.quoteVO.fieldEditability&&null!=this.model.quoteVO.fieldEditability[this.item]?this.model.quoteVO.fieldEditability[this.item]:!!this.md.updateable)}_isDisabled(){let e=this.model.quoteVO.fieldEditability;return this.md.updateable&&"boolean"===this.md.type&&null!=e&&null!=e[this.item]?!e[this.item]:!this.md.updateable}_valueChangedObserver(e,t){if(void 0!==e&&void 0!==t)return this._valueChanged(e,t)}_valueChanged(e,t){this._updateLookupDisplayValue(),this.$.field.value=e,this.data&&this.item&&this.set("data."+this.item,e)}_updateLookupDisplayValue(){if(!this.data)return;let e=new Tt.u(this.item,this.data);e.hasRelationship()&&(this.display=e.getRelationshipName())}_handleFieldValueChanged(e){let t=!!e.detail&&e.detail.suppressImmediateCalculation;this.calculateImmediately&&!t&&this.dispatchEvent((0,r.uv)("calculate-immediately",void 0))}_displayChangedObserver(e,t,i,o,r){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r)return this._displayChanged(e,t,i,o,r)}_displayChanged(){new Tt.u(this.item,this.data).addRelationshipName(this.value,this.display,this.md.referenceTo[0])}_updateOriginalValueObserver(e,t){if(void 0!==e&&void 0!==t)return this._updateOriginalValue(e,t)}_updateOriginalValue(){if(!this.type)return;this.model[this.type]._transient_=this.model[this.type]._transient_||{},this.model[this.type]._transient_.original=this.model[this.type]._transient_.original||JSON.parse(JSON.stringify(this.model[this.type].record));let e=this.get(`model.${this.type}._transient_.original`);this.$.field.originalValue=e[this.item]}_editableChanged(){this.md.updateable&&this.$.field.toggleEditing(this.editable)}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style>${Mt}</style>
			<div device class="td">
				<div id="item" class="label sf-tooltip" tooltip$="[[label]]">[[label]]</div>
				<template is="dom-if" if="[[md.inlineHelpText]]">
					<span class="helpText">
						<span id="label" class="sb-icon-help-circled sf-tooltip" tooltip$="[[helpText]]"></span>
					</span>
				</template>
				<div id="divField" class="field">
					<sb-field id="field" record="[[data]]" md="[[md]]" ref-display="{{display}}"></sb-field>
				</div>
			</div>
		`}}customElements.define(Bt.is,Bt);const Dt=je.b`
:host .table {
  padding: 10px 0 0 0;
}
:host .tr {
  text-align: center;
  vertical-align: top;
  display: flex;
  position: relative;
}
:host .td1 {
  width: 100%;
}
:host .td2 {
  width: 50%;
}
:host .td3 {
  width: 33%;
}
:host .header-attributes {
  padding: 0 30px 0 30px;
}
`;i(9704);class Pt extends((0,Ae.T)(Ve.Pu)){static get is(){return"sb-field-set-table"}static get properties(){return{editorModel:Object,data:{type:Object,notify:!0},numColumns:{type:Number,value:1},objectName:String,viewport:{type:Object,value:function(){return j.L.getViewport()}},model:Object,itemEditableMap:{type:Object,default:{}}}}get events(){let e={};return e[r.sV.VIEWPORT_CHANGED]=this.generateColumns,e}static get observers(){return["_generateColumnsObserver(editorModel, objectName, viewport, model)","modelChanged(model.*)"]}_generateColumnsObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this.generateColumns(e,t,i,o)}generateColumns(){this.isMobile=this.viewport&&this.viewport.isMobile();let e,t=[],i=[],o=[],r=[];if(this.objectName==this.editorModel.constants.QUOTE_LINE_GROUP){let i=this.editorModel.fieldsetMap.groupFieldNames.slice();for(let e=0,t=i.length;e<t;e++)this.isMobile||this.editorModel.constants.DESCRIPTION_FIELD!=i[e]&&"Name"!=i[e]||(i.splice(e,1),e--);t=i,e=i.length}else this.objectName==this.editorModel.data.quoteObjectName&&(t=this.editorModel.fieldsetMap.quoteFieldNames,e=this.editorModel.fieldsetMap.quoteFieldNames.length);for(let n=0;n<e;n++)n%this.numColumns==0?i.push(t[n]):n%this.numColumns==1?o.push(t[n]):r.push(t[n]);1==this.numColumns?this.columnOneWidth="td1":2==this.numColumns?(this.columnOneWidth="td2",this.columnTwoWidth="td2"):(this.columnOneWidth="td3",this.columnTwoWidth="td3",this.columnThreeWidth="td3"),this.setColumns(i,o,r)}setColumns(e,t,i){e.length>0&&(this.$.firstColumn.model=this.model,this.$.firstColumn.group||(this.$.firstColumn.group=e)),t.length>0&&(this.$.secondColumn.model=this.model,this.$.secondColumn.group||(this.$.secondColumn.group=t)),i.length>0&&(this.$.thirdColumn.model=this.model,this.$.thirdColumn.group||(this.$.thirdColumn.group=i))}modelChanged(e){this.objectName&&this.editorModel&&this.objectName!==this.editorModel.data.quoteObjectName||"GroupModel"===this.model.modelType||("model.quoteVO.fieldVisibility"===e.path?this._visibilityChanged():"model.quoteVO.fieldEditability"===e.path?this._editabilityChanged():"model"===e.path&&null!=this.model.quoteVO&&null!=this.model.quoteVO.fieldVisibility&&Object.keys(this.model.quoteVO.fieldVisibility).length>0&&this._visibilityChanged())}_visibilityChanged(){if(!this.model.setHiddenFromPSPClass)return;let e=this.model.setHiddenFromPSPClass();e&&(this.itemClassMap=e)}_editabilityChanged(){let e=this.model.editorModel.fieldsetMap.quoteFieldNames;if(!e||!this.model.quoteVO.fieldEditability||0==Object.keys(this.model.quoteVO.fieldEditability).length)return;let t={};for(let i of e)this.model.quoteVO.fieldEditability.hasOwnProperty(i)&&(t[i]=null==this.model.quoteVO.fieldEditability[i]||this.model.quoteVO.fieldEditability[i]);this.itemEditableMap=t}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style>${Dt}</style>
			<div id="table" class="table">
				<div class="tr">
					<div class$="td [[columnOneWidth]]"><sb-group id="firstColumn" item="sb-field-set-table-item" data="{{data}}" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group></div>
					<div class$="td [[columnTwoWidth]]"><sb-group id="secondColumn" item="sb-field-set-table-item" data="{{data}}" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group></div>
					<div class$="td [[columnThreeWidth]]"><sb-group id="thirdColumn" item="sb-field-set-table-item" data="{{data}}" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group></div>
				</div>
			</div>
		`}}customElements.define(Pt.is,Pt);const Lt=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host .quoteTotal {
  display: block;
  text-align: right;
  padding: 20px 24px 20px 20px;
  font-weight: bold;
}
:host .quoteTotal.grouped {
  padding-right: 8px;
}
:host .quoteTotal span {
  display: inline-block;
  text-transform: uppercase;
}
:host .quoteTotal .hidden {
  display: none;
}
:host .quoteTotal[class*='--mobile'] {
  padding: 0;
  text-align: left;
}
:host [class*='--mobile'] .quoteTotal {
  padding: 0;
  text-align: left;
}
:host .largeQuote .quoteTotal {
  padding: 5px 0 0 0;
  font-size: 18px;
  font-weight: normal;
  text-align: left;
}
:host .largeQuote .quoteTotal span:not(.hidden) {
  display: inline-block;
  text-transform: none;
}
`;class At extends((0,Le.$)((0,Ae.T)(Ve.Pu))){static get is(){return"sb-le-footer"}static get properties(){return{quoteModel:Object,quoteTotal:{type:Number},quoteTotalMd:Object,editorModel:{type:Object}}}get events(){let e={};return e[r.sV.COL_WIDTHS_CHANGED]=this.colWidthsChanged,e}static get observers(){return["_showQuoteTotal(quoteModel.quoteVO.*)","_setTotalWidth(quoteModel.editorModel.layout)"]}get settings(){return this.quoteModel.editorModel.data.settings}get quoteFields(){return this.quoteModel.editorModel.md.fieldsMap[this.settings.developerPrefix+"Quote__c"]}get quoteVO(){return this.quoteModel.quoteVO}colWidthsChanged(){this._setTotalWidth()}_setTotalWidth(){if(this.showQuoteTotal){let e=this.quoteModel.editorModel;if((0,L.p1)("largeQuote",e.largeQuoteExperienceEnabled,this.$.container),this.labelClass=e.deviceContext.isMobile?"hidden":"",!e.layout||e.deviceContext.isMobile||e.largeQuoteExperienceEnabled)return;this.totalWidth=this.quoteModel.editorModel.layout.totalWidth+"px"}}_showQuoteTotal(){this.grouped=this.quoteModel.grouped?"grouped":"",this._setQuoteTotal(),this.showQuoteTotal="doNotDisplay"!=this.settings.lineEditorTotalsField&&this.quoteVO.lineItems&&this.quoteVO.lineItems.length>0}_setQuoteTotal(){let e,t,i=this.quoteModel.editorModel.constants,o=this.settings.lineEditorTotalsField;o&&"Default"!=o?(t=this.settings.isMultiCurrencyOrg?this.quoteVO.currencyDecimalScale:this.quoteFields[o]?this.quoteFields[o].scale:0,e=this.quoteVO.record[o]||0):(t=this.settings.isMultiCurrencyOrg?this.quoteVO.currencyDecimalScale:this.quoteVO.applyAdditionalDiscountLast?this.quoteFields[i.CUSTOMER_AMOUNT_FIELD].scale:this.quoteFields[i.NET_AMOUNT_FIELD].scale,e=this.quoteVO.applyAdditionalDiscountLast?this.quoteVO.customerTotal:this.quoteVO.netTotal),this.quoteTotalMd||(this.quoteTotalMd={type:"currency",scale:t,CurrencyIsoCode:this.quoteVO.record.CurrencyIsoCode}),this.quoteTotal=e.toFixed(t)}static get template(){return Ve.qy`
		<style>${Lt}</style>
		<style include="sb-common-styles"></style>
		<div id="container" device>
			<template is="dom-if" if="[[showQuoteTotal]]">
				<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
				<h3 class$="quoteTotal [[grouped]]" style$="min-width:[[totalWidth]];max-width:[[totalWidth]];">
					<span class$="[[labelClass]]">
						<template is="dom-if" if="[[quoteModel.editorModel.largeQuoteExperienceEnabled]]">
							<sb-i18n>Total</sb-i18n>:
						</template>
						<template is="dom-if" if="[[!quoteModel.editorModel.largeQuoteExperienceEnabled]]">
							<sb-i18n>Quote Total</sb-i18n>:
						</template>
					</span>
					<span><sb-field id="quoteTotal" property="currency" value="[[quoteTotal]]" md="[[quoteTotalMd]]"></sb-field></span>
				</h3>
			</template>
		</div>
		`}}customElements.define(At.is,At);i(4943);let Ft,Nt,Rt;function qt(e,t,i,o){let r=e[t];if(r){""===i?r.sort(jt.bind(this)):"asc"===i?r.sort(Ht.bind(this)):"desc"===i&&r.sort(Vt.bind(this));for(let t=0;t<r.length;t++)o(r[t]),qt(e,r[t].lineVO.key,i,o)}}function jt(e,t){return e.lineVO.key-t.lineVO.key}function Ht(e,t){let i,o,r=Nt&&e.lineVO.record[Ft]?e.lineVO.record[Ft][Nt]:e.lineVO.record[Ft],n=Nt&&t.lineVO.record[Ft]?t.lineVO.record[Ft][Nt]:t.lineVO.record[Ft];if(Ft===Rt.LIST_PRICE_FIELD)i=e.lineVO.record[Rt.BUNDLED_FIELD],o=t.lineVO.record[Rt.BUNDLED_FIELD];else if(e.groupModel.quoteVO.localizationByFieldByProductId&&Object.keys(e.groupModel.quoteVO.localizationByFieldByProductId).length>0){r=le.getLocalizedValue(e,Ft,Nt)||r,n=le.getLocalizedValue(t,Ft,Nt)||n}return r=Ut(r,i),n=Ut(n,o),r==n?0:r<n?-1:r>n?1:null==r?-1:null==n?1:0}function Vt(e,t){let i,o,r=Nt&&e.lineVO.record[Ft]?e.lineVO.record[Ft][Nt]:e.lineVO.record[Ft],n=Nt&&t.lineVO.record[Ft]?t.lineVO.record[Ft][Nt]:t.lineVO.record[Ft];if(Ft===Rt.LIST_PRICE_FIELD)i=e.lineVO.record[Rt.BUNDLED_FIELD],o=t.lineVO.record[Rt.BUNDLED_FIELD];else if(e.groupModel.quoteVO.localizationByFieldByProductId&&Object.keys(e.groupModel.quoteVO.localizationByFieldByProductId).length>0){r=le.getLocalizedValue(e,Ft,Nt)||r,n=le.getLocalizedValue(t,Ft,Nt)||n}return r=Ut(r,i),n=Ut(n,o),r==n?0:r>n?-1:r<n||null==r?1:null==n?-1:0}function Ut(e,t){return t&&(e=0),"string"==typeof e?e.toUpperCase():void 0===e&&(e=null),e}function zt(e,t,i,o,r){let n=0;Rt=e[0].editorModel.constants;let s=o;Ft=e[0].segmented&&!e[0].lineVO.record[t]?Rt.NET_TOTAL_FIELD:t,Nt=r;let a=function(e){let t,i;return e.forEach(function(e){let o=e.lineVO.record[Rt.NUMBER_FIELD];e.visible?t=!t||o<t?o:t:i=!i||o<i?o:i}.bind(this)),{lowestVisibleNumber:t,lowestInvisibleNumber:i}}(e);if(s){let t=function(e){for(var t={},i=0;i<e.length;i++)t[e[i].lineVO.parentItemKey]||(t[e[i].lineVO.parentItemKey]=[]),t[e[i].lineVO.parentItemKey].push(e[i]);return t}(e);qt(t,null,i,(function(t){e[n++]=t}))}else"asc"===i?e.sort(Ht.bind(this)):"desc"===i?e.sort(Vt.bind(this)):""===i&&e.sort(jt.bind(this));return e=function(e,t,i){if(i.length>0)var o=i[0].groupModel.quoteModel.indexByGroupKey,r=i[0].lineVO.parentGroupKey;for(let s=0;s<i.length;s++){var n=i[s].lineVO.key;i[s].lineVO.record[Rt.SEGMENT_KEY_FIELD]?o[r].indexBySegmentKey[i[s].lineVO.record[Rt.SEGMENT_KEY_FIELD]]=s:o[r].indexByLineKey[n]=s,i[s].visible?(i[s].lineVO.record[Rt.NUMBER_FIELD]=e,e++):(i[s].lineVO.record[Rt.NUMBER_FIELD]=t,t++)}return i}(a.lowestVisibleNumber,a.lowestInvisibleNumber,e),e}class $t extends F{constructor(e){super(),this.options=e||{}}generateHeaderNode(e,t){this.isSegmented&&(e=e.concat(this.buildRowSegmentFieldSet(this.segmentedColumns)));let i=this.generate(e),o=document.createElement("div");return t&&Object.keys(t).forEach((e=>{o.setAttribute(e,t[e])})),o.innerHTML=i,o}generate(e){let t=this.getLeadingColumns();t+=this.hasSelectionColumn()?this.generateSelectionColumn():"",t+=this.hasItemNumberColumn()?this.generateItemNumberColumn():"";let i=this.getColumnWidths(),o=this.getColumnWidthUnit();return e.forEach((e=>{const r=this.generateColAdjBar();let n=this.getColumnAlignment(e),s="",a="";this.isSortable(e)&&(s="sortable",a='<i class="arrow sf-icon-arrowup"></i>'),t+=`<div field="${e}" class="th ${n} arrow-on-hover ${s}"`,i&&i[e]&&(t+="px"===o?` style="min-width:${i[e]}px;max-width:${i[e]}px"`:` style="width:${i[e]}${o}"`);let l=this.getBeforeFieldTemplate(e)||"";t+=`>${l}[[${e}]]${a}${r}</div>`})),t+=this.getTrailingColumns(),t+=this.generateColumnIndicator(),t}getBeforeFieldTemplate(e){return""}isSortable(e){return"function"!=typeof this.options.isSortable||this.options.isSortable(e)}getColumnAlignment(e){return""}getLeadingColumns(){return""}getTrailingColumns(){return""}getColumnWidths(){return this.options.columnWidths||{}}getColumnWidthUnit(){return this.options.columnWidthUnit||"px"}hasSelectionColumn(){return!0===this.options.hasSelectionColumn}hasItemNumberColumn(){return!0===this.options.hasItemNumberColumn}generateSelectionColumn(){return`<div class="th selection"><div class="checkboxcontainer">${this.generateInnerCheckboxTemplate(null)}</div></div>`}generateColumnIndicator(){if(o.B.isColumnResizingEnabled&&!o.B.isMobile&&this.options.allowColumnResizing){return'<div id="col-resize-indicator">'+'<span id="col-adj-divider"></span>'+"</div>"}return""}generateItemNumberColumn(){return'<div class="th itemNumber"><span>#</span></div>'}}class Wt extends $t{constructor(e,t,i){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];super({hasSelectionColumn:e.isMultiLineDeleteEnabled(),hasItemNumberColumn:!0,columnWidths:t,allowColumnResizing:o}),this.editorModel=e,this.segmentedColumns=i,this.isSegmented=!!i}getLeadingColumns(){return this.editorModel.actionsOnTheLeft?'<div class="th lineActions"></div>':""}getTrailingColumns(){let e=this.editorModel.actionsOnTheLeft?"":'<div class="th lineActions"></div>';return!this.isSegmented&&this.editorModel.hasDrawerFields()&&(e+=this._getDrawerColumnTemplate()),e}generateItemNumberColumn(){return this.isSegmented?`<div class="th itemNumber segmentedDrawer"><span>#</span><span class="${F.classNames.RIGHT_ICON}"></span></div>`:super.generateItemNumberColumn()}_getDrawerColumnTemplate(){return`<div class="th drawerIcon"><span class="${F.classNames.CHEVRON_RIGHT_ICON}"></span></div>`}getColumnAlignment(e){let t=this.editorModel.getFieldMetadata(e),i=[];return this.isSegmented&&(i=this.buildRowSegmentFieldSet(this.segmentedColumns)),t&&("number"===t.type||"double"===t.type||"percent"===t.type||"currency"===t.type)||i.indexOf(e)>=0?"rightAligned":t&&"boolean"===t.type?"centerAligned":"leftAligned"}isSortable(e){return e!==this.editorModel.constants.ADDITIONAL_DISCOUNT_FIELD}getBeforeFieldTemplate(e){return P.q.isProductNameField(e)&&o.B.isBundleCollapsible(this.editorModel)&&!this.isSegmented?'<span class="bundle-caret" inner-h-t-m-l="[[_caretContent]]"></span>':""}}var Qt=i(8246);const Gt=(0,Qt.y)((e=>class extends e{static get properties(){return{fieldNames:{type:Object},quoteLineFields:{type:Object},columnNames:{type:Array,observer:"columnNamesChanged"},currencyMd:{type:Object,computed:"_getNetTotalFieldMd(groupModel)"},viewport:{type:Object,value:function(){return j.L.getViewport()}},groupModel:Object}}static get observers(){return["_render(groupModel)","_segmentedLinesByDimensionChanged(groupModel.segmentedLinesByDimension.*)","_showSubtotal(groupModel.*)"]}viewportChanged(e){this.viewport=e.detail.viewport}groupPanelToggled(e){this.drawerState=e.detail.drawerState,this._setColumnWidths(e)}groupPanelCreated(e){this._setColumnWidths(e)}groupToggled(e){this._ironListResize(e)}_getFields(){let e=this.editorModel.fieldsetMap.multiSegmentLineSummaryFieldNames;return this.groupModel.segmentedSubscriptionScopeEditable?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(e):e}_setColumnWidths(e){let t={};if(!this.editorModel.deviceContext.isMobile&&this.editorModel.layout&&this.groupModel.colWidth[this.dimension]){if(t=this.groupModel.getDimensionColWidths(this.dimension),!t)return;this._setSubtotalColumnWidth(t,this.editorModel.layout.leftOffset)}this.set("columnWidths",t),this._ironListResize(e)}_setSubtotalColumnWidth(e,t){if(!e)return;let i=t;for(let t=0,o=this.fieldNames.length;t<o;t++){i+=e[this.fieldNames[t]]}this.labelColWidth=i+"px",this.totalColWidth=e.total+"px"}_setSubtotalColWidth(e,t){return t[(0,L.BX)(e)]+"px"}colWidthsChanged(e){this._setColumnWidths(e)}_ironListResize(e){this.shadowRoot.querySelector("iron-list")&&e&&e.detail&&e.detail.groupKey===this.groupModel.groupKey&&this.shadowRoot.querySelector("iron-list").dispatchEvent((0,r.uv)("iron-resize"))}onTrack(e){(0,L.bv)((0,L.bv)(this))._onTrack(e)}get editorModel(){return this.groupModel.quoteModel.editorModel}get quoteVO(){return this.editorModel.quoteModel.quoteVO}get constants(){return this.editorModel.constants}getMultiSegmentColumnTotal(e){if(this.groupModel.multiSegmentColumnTotals[this.dimension])return[this.groupModel.multiSegmentColumnTotals[this.dimension][e]]}getMultiSegmentTotalField(){if(this.groupModel.netMultiSegmentTotal)return this.groupModel.netMultiSegmentTotal[this.dimension]}_showSubtotal(){this.currencyMd||(this.currencyMd={type:"currency",scale:this._getPriceScale(),CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}),"doNotDisplay"!=this.editorModel.data.settings.lineEditorSubtotalsField?(this._getNetTotalFieldMd(),this.showSubtotal=!0):this.showSubtotal=!1}_getNetTotalFieldMd(){let e,t=this.editorModel.data.settings,i=t.lineEditorSubtotalsField;return e=t.isMultiCurrencyOrg?this.quoteVO.currencyDecimalScale:"Default"==i||"doNotDisplay"==i||null==i?this.editorModel.md.fieldsMap[t.developerPrefix+"QuoteLine__c"][this.editorModel.constants.NET_TOTAL_FIELD].scale:this.editorModel.md.fieldsMap[t.developerPrefix+"QuoteLine__c"][i].scale,{type:"currency",scale:e,CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}}_onSortLinesByHeader(e){this.sortLines(this.groupModel.segmentedLinesByDimension[this.dimension],e.detail.field,e.detail.order,!1,!0)}sortLinesRequired(e){let t=e.detail.notify,i=e.detail.lineSortField;this.sortLines(this.groupModel.segmentedLinesByDimension[this.dimension],i,"asc",!1,t)}getZIndex(e){return this.lineModels.length+10-e}_onUpdateSizeForItem(e){if(e.detail.index)this.shadowRoot.querySelector("iron-list").updateSizeForItem(e.detail.index);else for(let e=0,t=this.lineModels.length;e<t;e++)this.shadowRoot.querySelector("iron-list").updateSizeForItem(e)}toggleOptional(e){if(!e.detail.groupKey||e.detail.groupKey==this.groupModel.groupVO.key)for(let t=0,i=this.groupModel.segmentedLinesByDimension[this.dimension].length;t<i;t++)for(let i=0,o=this.groupModel.segmentedLinesByDimension[this.dimension][t].segments.length;i<o;i++){let o=this.groupModel.segmentedLinesByDimension[this.dimension][t].segments[i];o.lineVO._transient_||(o.lineVO._transient_={},o.lineVO._transient_.original=o.lineVO._transient_.original||JSON.parse(JSON.stringify(o.lineVO.record))),this.set(`groupModel.segmentedLinesByDimension.${this.dimension}.${t}.segments.${i}.lineVO.record.${this.constants.OPTIONAL_FIELD}`,e.detail.toggleOptionalBoolean),this.notifyPath(`groupModel.segmentedLinesByDimension.${this.dimension}.${t}.segments.#${i}.lineVO.record.${this.constants.OPTIONAL_FIELD}`,e.detail.toggleOptionalBoolean)}}_resetOnAction(e){Array.from(this.lineModels).forEach((function(e){e.lineVO.expanded=!1}))}columnNamesChanged(e,t){}})),Kt=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host .sf-tooltip:hover:after {
  content: attr(tooltip);
  display: block;
  position: absolute;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  background-color: #fff;
  border: var(--sbBtnBorder);
  opacity: 1;
  padding: 5px;
  color: var(--sbFontColor);
  font-family: var(--sbFont);
  border-radius: 4px;
  font-size: 14px;
  z-index: 999;
  text-align: left;
  transform: translateX(-50%);
  font-weight: normal;
}
:host {
  position: relative;
}
:host(.left-aligned) span#lineActionInfo.sf-tooltip:hover:after,
:host(.left-aligned) button.sf-tooltip:hover:after {
  transform: translateX(0%);
}
:host(.right-aligned) span#lineActionInfo.sf-tooltip:hover:after,
:host(.right-aligned) button.sf-tooltip:hover:after {
  transform: translateX(-100%);
}
:host button {
  color: #0070d2;
}
:host button:hover {
  color: #3C3D3E;
}
:host button.slds-button_icon-small {
  border-radius: 0.125rem;
}
:host button.slds-button {
  position: relative;
  display: inline-block;
  padding: 0;
  background: transparent;
  background-clip: border-box;
  border: 1px solid transparent;
  cursor: pointer;
}
:host paper-tooltip {
  white-space: normal;
}
:host(.mobile) {
  position: static;
}
:host(.mobile) button.slds-button {
  font-size: 20px;
  background-color: black;
  color: var(--sbIconMobileLineActionColor);
}
:host(.mobile) button.onRemoveFromFavorites {
  color: var(--sbIconMobileStarFillColor);
}
:host(.mobile) button.onAddToFavorites,
:host(.mobile) button.onRemoveFromFavorites {
  background-color: var(--sbIconMobileStarBgColor);
}
:host(.mobile) button.onDeleteLine {
  background-color: var(--sbIconMobileCopyBgColor);
}
:host(.mobile) button.onCloneLine {
  background-color: var(--sbIconMobileDeleteBgColor);
}
:host(.mobile) button.onReconfigureLine,
:host(.mobile) button.onResegmentLine,
:host(.mobile) button.onDesegmentLine {
  background-color: var(--sbIconMobileWandBgColor);
}
:host(.mobile) button.showDSModal {
  background-color: #b1a445;
}
`;class Yt extends((0,Ae.T)(Ve.Pu)){static get is(){return"sf-line-actions"}static get properties(){return{lineModel:{Object,observer:"_modelChanged"},actions:Array,showInfoIcon:{type:Boolean,computed:"_isShowInfoIcon(lineModel)"}}}get events(){let e={};return e[r.sV.REFRESH_LINE_ACTIONS]=this._modelChanged,e}ready(){super.ready(),(0,L.p1)("mobile",o.B.isMobile,this)}connectedCallback(){super.connectedCallback(),this._actionHandler=this.handleAction.bind(this),this.addEventListener("click",this._actionHandler,{passive:!0}),(0,Ne.m)(this,(()=>{const e=this.shadowRoot.querySelector("button.showDSModal");e&&(e.addEventListener("mouseenter",this._actionHandler,{passive:!0}),e.addEventListener("mouseleave",this._actionHandler,{passive:!0}))}))}disconnectedCallback(){if(super.disconnectedCallback(),this._actionHandler){this.removeEventListener("click",this._actionHandler);const e=this.shadowRoot.querySelector("button.showDSModal");e&&(e.removeEventListener("mouseenter",this._actionHandler),e.removeEventListener("mouseleave",this._actionHandler))}}_modelChanged(){this.lineModel&&this.lineModel instanceof U&&(this.actions=this.lineModel.editorModel.lineCustomActions.filter((e=>!e.isHidden(this.lineModel))))}handleAction(e){const t=e.composedPath()[0]?e.composedPath()[0].name:null;if(t){const i=this.actions.find((e=>e.name===t));if(i)if("showDSModal"===i.eventHandlerName)(0,r.rC)(r.sV.SCHEDULE_ACTION,{event:e,model:this.lineModel});else if("click"===e.type){const e=()=>{this.dispatchEvent((0,r.uv)("le-action-tapped",{customAction:i,model:this.lineModel}))};"onCloneLine"===i.eventHandlerName?(this._timeout&&clearTimeout(this._timeout),this._timeout=setTimeout((()=>{e()}),100)):e()}}}_isShowInfoIcon(e){return!o.B.isMobile&&e&&e.hasParent}static get template(){return Ve.qy`
		<style>${Kt}</style>
		<style include="iron-positioning"></style>
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<div id="container">
			<template is="dom-if" if="[[showInfoIcon]]">
				<span id="lineActionInfo" class="sb-icon-info-circled sf-tooltip" tooltip$="[[lineModel.lineVO.requiredByMessage]]"></span>
			</template>
			<template is="dom-repeat" items="[[actions]]" as="action" indexAs="index">
				<button id$="actionButton[[index]]" class$="focusable slds-button slds-button_icon-small [[action.class]] sf-tooltip" name$="[[action.name]]" aria-pressed="false" tooltip$="[[action.title]]"></button>
			</template>
		</div>
		`}}customElements.define(Yt.is,Yt);class Xt extends F{constructor(e,t,i,o,r){super(),this.editorModel=e,this.groupModel=t,this.segmentedColumns=i,this.dimension=o,this.isSecondary=r}generateRow(e){let t,i=!1;if(this.segmentedColumns){i=!0;let o=this.buildRowSegmentFieldSet(this.segmentedColumns);t=super.generateSegmentedFieldSetTemplate(e,o,this.dimension,this.groupModel,this.editorModel,this.isSecondary)}else t=super.generateFieldSetTemplate(e,this.groupModel,this.editorModel,this.isSecondary);let o=this.generateActionsTemplate(),r=this.generateItemNumberTemplate(i),n=this.generateCheckboxTemplate(""),s=this.generateDrawerCellTemplate(),a="";return a+=n+r+t,a=this.addLineActionsToTemplate(a,o),a+=s,a}generateActionsTemplate(){return`<div id="swipe-menu" class="td sf-le-table-cell actionsContainer lineActions sf-le-table-row"><sf-line-actions class="${this.editorModel.actionsOnTheLeft?Xt.classNames.LEFT_ALIGNED:Xt.classNames.RIGHT_ALIGNED}" line-model="[[lineModel]]"></sf-line-actions></div>`}generateItemNumberTemplate(e){return`<div tabindex="0" class="td sf-le-table-cell focusable sf-le-table-row" id="itemNumber"><span>[[lineNumber]]</span><span class="warning"></span>${e?'<span id="expandCollapseIcon" class$="[[_cellClasses._expansionIcon]] segmentedContainer" ></span>':""}</div>`}generateDrawerCellTemplate(){if(!this.segmentedColumns&&this.editorModel.hasDrawerFields()){return`<div tabindex="0" class="td sf-le-table-cell focusable drawerContainer sf-le-table-row ${Xt.classNames.TAPPABLE}"><span class="sf-icon-chevronright"></span></div>`}return""}getColumnClass(e){let t=this.editorModel.getFieldMetadata(e);const i=null==t&&this.segmentedColumns;let o="",r=t?t.type:null,n=F.classNames;return"number"==r||"double"==r||"percent"==r||"currency"==r||i?o=`${n.RIGHT} `:"boolean"==r&&(o=`${n.CENTER} ${n.BOOLEAN} `),o}addLineActionsToTemplate(e,t){return this.editorModel.actionsOnTheLeft?t+e:e+t}generateCheckboxTemplate(e){let t=F.classNames,i="";return(""!==e||this.editorModel.isMultiLineDeleteEnabled()&&""===e&&!this.isSecondary)&&(i=""!==e?super.generateCheckboxTemplate(e):`<div tabindex="0" class="td sf-le-table-cell focusable ${t.SELECTION} sf-le-table-row"><div class$="checkboxcontainer sf-le-table-row [[_cellClasses._selectionCB]]">`+this.generateInnerCheckboxTemplate("lineModel.selected")+"</div></div>"),i}generateProductCell(e){let t="";if(!this.segmentedColumns){let i="",r="";if(o.B.isBundleCollapsible(this.editorModel)&&(i="collapsible-bundle "+F.classNames.TAPPABLE+" sf-le-table-cell",r="button"),t+=`<span tabindex="0" class$="bundle-caret ${i} [[_cellClasses._isFocusable]] sf-le-table-row" role="${r}" aria-label="Product Name Bundle Caret" inner-h-t-m-l="[[_caretContent]]"></span> `,i)return t+` <span tabindex="0" class$="[[_cellClasses._isFocusable]] sf-le-table-cell sf-le-table-row">[[${e}]]</span>`}return t+`[[${e}]]`}}var Jt,Zt,ei;i(5966);class ti extends Xt{getPrimaryClass(e,t){return t?"":0===e?"primary first":"primary multi"}generateInnerFieldSetTemplate(e,t,i,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;return o?super.generateInnerFieldSetTemplate(e,t,i,o,r):"<div id='swipe-header'>"+super.generateInnerFieldSetTemplate(e,t,i,o,r)+"</div>"}generateRow(e){return this.isSecondary?super.generateRow(e):'<sb-swipe-container variant="ui3qle">'+super.generateRow(e)+"</sb-swipe-container>"}addLineActionsToTemplate(e,t){return e+t}generateActionsTemplate(){return this.isSecondary?"":super.generateActionsTemplate()}getFieldLabel(e,t){return t&&e?`<span class="field-label">${e.label}</span>`:""}getColWidths(e,t){return null}generateItemNumberTemplate(e){return""}generateDrawerCellTemplate(){return""}generateProductCell(e){return`[[${e}]]`}}
/*! http://mths.be/startswith v0.2.0 by @mathias */
String.prototype.startsWith||(Jt=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),Zt={}.toString,ei=function(e){if(null==this)throw TypeError();var t=String(this);if(e&&"[object RegExp]"==Zt.call(e))throw TypeError();var i=t.length,o=String(e),r=o.length,n=arguments.length>1?arguments[1]:void 0,s=n?Number(n):0;s!=s&&(s=0);var a=Math.min(Math.max(s,0),i);if(r+a>i)return!1;for(var l=-1;++l<r;)if(t.charCodeAt(a+l)!=o.charCodeAt(l))return!1;return!0},Jt?Jt(String.prototype,"startsWith",{value:ei,configurable:!0,writable:!0}):String.prototype.startsWith=ei)
/*! http://mths.be/endswith v0.2.0 by @mathias */,String.prototype.endsWith||function(){var e=function(){try{var e={},t=Object.defineProperty,i=t(e,e,e)&&t}catch(e){}return i}(),t={}.toString,i=function(e){if(null==this)throw TypeError();var i=String(this);if(e&&"[object RegExp]"==t.call(e))throw TypeError();var o=i.length,r=String(e),n=r.length,s=o;if(arguments.length>1){var a=arguments[1];void 0!==a&&(s=a?Number(a):0)!=s&&(s=0)}var l=Math.min(Math.max(s,0),o)-n;if(l<0)return!1;for(var d=-1;++d<n;)if(i.charCodeAt(l+d)!=r.charCodeAt(d))return!1;return!0};e?e(String.prototype,"endsWith",{value:i,configurable:!0,writable:!0}):String.prototype.endsWith=i}()
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/;var ii=Object.getOwnPropertySymbols,oi=Object.prototype.hasOwnProperty,ri=Object.prototype.propertyIsEnumerable;var ni=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var o={};return"abcdefghijklmnopqrst".split("").forEach((function(e){o[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},o)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var i,o,r=arguments,n=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),s=1;s<arguments.length;s++){for(var a in i=Object(r[s]))oi.call(i,a)&&(n[a]=i[a]);if(ii){o=ii(i);for(var l=0;l<o.length;l++)ri.call(i,o[l])&&(n[o[l]]=i[o[l]])}}return n},si="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==i.g?i.g:"undefined"!=typeof self?self:{};function ai(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function li(e,t,i){return e(i={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&i.path)}},i.exports),i.exports}var di=li((function(e,t){function i(e){for(var t=e.toLowerCase(),i="",o=!1,r=0;r<6&&void 0!==t[r];r++){var n=t.charCodeAt(r);if(o=32===n,!(n>=97&&n<=102||n>=48&&n<=57))break;i+=t[r]}if(0!==i.length){var s=parseInt(i,16);return s>=55296&&s<=57343||0===s||s>1114111?["�",i.length+(o?1:0)]:[String.fromCodePoint(s),i.length+(o?1:0)]}}t.__esModule=!0,t.default=function(e){if(!o.test(e))return e;for(var t="",r=0;r<e.length;r++)if("\\"!==e[r])t+=e[r];else{var n=i(e.slice(r+1,r+7));if(void 0!==n){t+=n[0],r+=n[1];continue}if("\\"===e[r+1]){t+="\\",r++;continue}e.length===r+1&&(t+=e[r])}return t};var o=/\\/;e.exports=t.default})),ci=li((function(e,t){t.__esModule=!0,t.default=function(e){for(var t=arguments,i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=t[r];for(;o.length>0;){var n=o.shift();if(!e[n])return;e=e[n]}return e},e.exports=t.default})),ui=li((function(e,t){t.__esModule=!0,t.default=function(e){for(var t=arguments,i=arguments.length,o=new Array(i>1?i-1:0),r=1;r<i;r++)o[r-1]=t[r];for(;o.length>0;){var n=o.shift();e[n]||(e[n]={}),e=e[n]}},e.exports=t.default})),hi=li((function(e,t){t.__esModule=!0,t.default=function(e){var t="",i=e.indexOf("/*"),o=0;for(;i>=0;){t+=e.slice(o,i);var r=e.indexOf("*/",i+2);if(r<0)return t;o=r+2,i=e.indexOf("/*",o)}return t+=e.slice(o)},e.exports=t.default})),pi=li((function(e,t){t.__esModule=!0,t.unesc=t.stripComments=t.getProp=t.ensureObject=void 0;var i=s(di);t.unesc=i.default;var o=s(ci);t.getProp=o.default;var r=s(ui);t.ensureObject=r.default;var n=s(hi);function s(e){return e&&e.__esModule?e:{default:e}}t.stripComments=n.default})),fi=li((function(e,t){function i(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}t.__esModule=!0,t.default=void 0;var o=function e(t,i){if("object"!=typeof t||null===t)return t;var o=new t.constructor;for(var r in t)if(t.hasOwnProperty(r)){var n=t[r];"parent"===r&&"object"===typeof n?i&&(o[r]=i):o[r]=n instanceof Array?n.map((function(t){return e(t,o)})):e(n,o)}return o},r=function(){function e(e){void 0===e&&(e={}),ni(this,e),this.spaces=this.spaces||{},this.spaces.before=this.spaces.before||"",this.spaces.after=this.spaces.after||""}var t,r,n,s=e.prototype;return s.remove=function(){return this.parent&&this.parent.removeChild(this),this.parent=void 0,this},s.replaceWith=function(){var e=arguments;if(this.parent){for(var t in arguments)this.parent.insertBefore(this,e[t]);this.remove()}return this},s.next=function(){return this.parent.at(this.parent.index(this)+1)},s.prev=function(){return this.parent.at(this.parent.index(this)-1)},s.clone=function(e){void 0===e&&(e={});var t=o(this);for(var i in e)t[i]=e[i];return t},s.appendToPropertyAndEscape=function(e,t,i){this.raws||(this.raws={});var o=this[e],r=this.raws[e];this[e]=o+t,r||i!==t?this.raws[e]=(r||o)+i:delete this.raws[e]},s.setPropertyAndEscape=function(e,t,i){this.raws||(this.raws={}),this[e]=t,this.raws[e]=i},s.setPropertyWithoutEscape=function(e,t){this[e]=t,this.raws&&delete this.raws[e]},s.isAtPosition=function(e,t){if(this.source&&this.source.start&&this.source.end)return!(this.source.start.line>e)&&(!(this.source.end.line<e)&&(!(this.source.start.line===e&&this.source.start.column>t)&&!(this.source.end.line===e&&this.source.end.column<t)))},s.stringifyProperty=function(e){return this.raws&&this.raws[e]||this[e]},s.valueToString=function(){return String(this.stringifyProperty("value"))},s.toString=function(){return[this.rawSpaceBefore,this.valueToString(),this.rawSpaceAfter].join("")},t=e,(r=[{key:"rawSpaceBefore",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.before;return void 0===e&&(e=this.spaces&&this.spaces.before),e||""},set:function(e){(0,pi.ensureObject)(this,"raws","spaces"),this.raws.spaces.before=e}},{key:"rawSpaceAfter",get:function(){var e=this.raws&&this.raws.spaces&&this.raws.spaces.after;return void 0===e&&(e=this.spaces.after),e||""},set:function(e){(0,pi.ensureObject)(this,"raws","spaces"),this.raws.spaces.after=e}}])&&i(t.prototype,r),n&&i(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=r,e.exports=t.default})),bi=li((function(e,t){t.__esModule=!0,t.UNIVERSAL=t.TAG=t.STRING=t.SELECTOR=t.ROOT=t.PSEUDO=t.NESTING=t.ID=t.COMMENT=t.COMBINATOR=t.CLASS=t.ATTRIBUTE=void 0;t.TAG="tag";t.STRING="string";t.SELECTOR="selector";t.ROOT="root";t.PSEUDO="pseudo";t.NESTING="nesting";t.ID="id";t.COMMENT="comment";t.COMBINATOR="combinator";t.CLASS="class";t.ATTRIBUTE="attribute";t.UNIVERSAL="universal"})),gi=li((function(e,t){t.__esModule=!0,t.default=void 0;var i,o=(i=fi)&&i.__esModule?i:{default:i},r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=n(t);if(i&&i.has(e))return i.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=e[s]}o.default=e,i&&i.set(e,o);return o}(bi);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(n=function(e){return e?i:t})(e)}function s(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(i)return(i=i.call(e)).next.bind(i);if(Array.isArray(e)||(i=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=new Array(t);i<t;i++)o[i]=e[i];return o}function l(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var c=function(e){var t,i;function o(t){var i;return(i=e.call(this,t)||this).nodes||(i.nodes=[]),i}i=e,(t=o).prototype=Object.create(i.prototype),t.prototype.constructor=t,d(t,i);var n,a,c,u=o.prototype;return u.append=function(e){return e.parent=this,this.nodes.push(e),this},u.prepend=function(e){return e.parent=this,this.nodes.unshift(e),this},u.at=function(e){return this.nodes[e]},u.index=function(e){return"number"==typeof e?e:this.nodes.indexOf(e)},u.removeChild=function(e){var t;for(var i in e=this.index(e),this.at(e).parent=void 0,this.nodes.splice(e,1),this.indexes)(t=this.indexes[i])>=e&&(this.indexes[i]=t-1);return this},u.removeAll=function(){for(var e,t=s(this.nodes);!(e=t()).done;){e.value.parent=void 0}return this.nodes=[],this},u.empty=function(){return this.removeAll()},u.insertAfter=function(e,t){t.parent=this;var i,o=this.index(e);for(var r in this.nodes.splice(o+1,0,t),t.parent=this,this.indexes)o<=(i=this.indexes[r])&&(this.indexes[r]=i+1);return this},u.insertBefore=function(e,t){t.parent=this;var i,o=this.index(e);for(var r in this.nodes.splice(o,0,t),t.parent=this,this.indexes)(i=this.indexes[r])<=o&&(this.indexes[r]=i+1);return this},u._findChildAtPosition=function(e,t){var i=void 0;return this.each((function(o){if(o.atPosition){var r=o.atPosition(e,t);if(r)return i=r,!1}else if(o.isAtPosition(e,t))return i=o,!1})),i},u.atPosition=function(e,t){return this.isAtPosition(e,t)?this._findChildAtPosition(e,t)||this:void 0},u._inferEndPosition=function(){this.last&&this.last.source&&this.last.source.end&&(this.source=this.source||{},this.source.end=this.source.end||{},ni(this.source.end,this.last.source.end))},u.each=function(e){this.lastEach||(this.lastEach=0),this.indexes||(this.indexes={}),this.lastEach++;var t=this.lastEach;if(this.indexes[t]=0,this.length){for(var i,o;this.indexes[t]<this.length&&(i=this.indexes[t],!1!==(o=e(this.at(i),i)));)this.indexes[t]+=1;return delete this.indexes[t],!1!==o&&void 0}},u.walk=function(e){return this.each((function(t,i){var o=e(t,i);if(!1!==o&&t.length&&(o=t.walk(e)),!1===o)return!1}))},u.walkAttributes=function(e){var t=this;return this.walk((function(i){if(i.type===r.ATTRIBUTE)return e.call(t,i)}))},u.walkClasses=function(e){var t=this;return this.walk((function(i){if(i.type===r.CLASS)return e.call(t,i)}))},u.walkCombinators=function(e){var t=this;return this.walk((function(i){if(i.type===r.COMBINATOR)return e.call(t,i)}))},u.walkComments=function(e){var t=this;return this.walk((function(i){if(i.type===r.COMMENT)return e.call(t,i)}))},u.walkIds=function(e){var t=this;return this.walk((function(i){if(i.type===r.ID)return e.call(t,i)}))},u.walkNesting=function(e){var t=this;return this.walk((function(i){if(i.type===r.NESTING)return e.call(t,i)}))},u.walkPseudos=function(e){var t=this;return this.walk((function(i){if(i.type===r.PSEUDO)return e.call(t,i)}))},u.walkTags=function(e){var t=this;return this.walk((function(i){if(i.type===r.TAG)return e.call(t,i)}))},u.walkUniversals=function(e){var t=this;return this.walk((function(i){if(i.type===r.UNIVERSAL)return e.call(t,i)}))},u.split=function(e){var t=this,i=[];return this.reduce((function(o,r,n){var s=e.call(t,r);return i.push(r),s?(o.push(i),i=[]):n===t.length-1&&o.push(i),o}),[])},u.map=function(e){return this.nodes.map(e)},u.reduce=function(e,t){return this.nodes.reduce(e,t)},u.every=function(e){return this.nodes.every(e)},u.some=function(e){return this.nodes.some(e)},u.filter=function(e){return this.nodes.filter(e)},u.sort=function(e){return this.nodes.sort(e)},u.toString=function(){return this.map(String).join("")},n=o,(a=[{key:"first",get:function(){return this.at(0)}},{key:"last",get:function(){return this.at(this.length-1)}},{key:"length",get:function(){return this.nodes.length}}])&&l(n.prototype,a),c&&l(n,c),Object.defineProperty(n,"prototype",{writable:!1}),o}(o.default);t.default=c,e.exports=t.default})),mi=li((function(e,t){var i;function o(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}t.__esModule=!0,t.default=void 0;var n=function(e){var t,i;function n(t){var i;return(i=e.call(this,t)||this).type=bi.ROOT,i}i=e,(t=n).prototype=Object.create(i.prototype),t.prototype.constructor=t,r(t,i);var s,a,l,d=n.prototype;return d.toString=function(){var e=this.reduce((function(e,t){return e.push(String(t)),e}),[]).join(",");return this.trailingComma?e+",":e},d.error=function(e,t){return this._error?this._error(e,t):new Error(e)},s=n,(a=[{key:"errorGenerator",set:function(e){this._error=e}}])&&o(s.prototype,a),l&&o(s,l),Object.defineProperty(s,"prototype",{writable:!1}),n}(((i=gi)&&i.__esModule?i:{default:i}).default);t.default=n,e.exports=t.default})),yi=li((function(e,t){var i;function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).type=bi.SELECTOR,i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i),r}(((i=gi)&&i.__esModule?i:{default:i}).default);t.default=r,e.exports=t.default})),vi={}.hasOwnProperty,_i=/[ -,\.\/:-@\[-\^`\{-~]/,wi=/[ -,\.\/:-@\[\]\^`\{-~]/,xi=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,Ci=function e(t,i){"single"!=(i=function(e,t){if(!e)return t;var i={};for(var o in t)i[o]=vi.call(e,o)?e[o]:t[o];return i}(i,e.options)).quotes&&"double"!=i.quotes&&(i.quotes="single");for(var o="double"==i.quotes?'"':"'",r=i.isIdentifier,n=t.charAt(0),s="",a=0,l=t.length;a<l;){var d=t.charAt(a++),c=d.charCodeAt(),u=void 0;if(c<32||c>126){if(c>=55296&&c<=56319&&a<l){var h=t.charCodeAt(a++);56320==(64512&h)?c=((1023&c)<<10)+(1023&h)+65536:a--}u="\\"+c.toString(16).toUpperCase()+" "}else u=i.escapeEverything?_i.test(d)?"\\"+d:"\\"+c.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(d)?"\\"+c.toString(16).toUpperCase()+" ":"\\"==d||!r&&('"'==d&&o==d||"'"==d&&o==d)||r&&wi.test(d)?"\\"+d:d;s+=u}return r&&(/^-[-\d]/.test(s)?s="\\-"+s.slice(1):/\d/.test(n)&&(s="\\3"+n+" "+s.slice(1))),s=s.replace(xi,(function(e,t,i){return t&&t.length%2?e:(t||"")+i})),!r&&i.wrap?o+s+o:s};Ci.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},Ci.version="3.0.0";var Si=Ci,Oi=li((function(e,t){t.__esModule=!0,t.default=void 0;var i=o(Si);function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var s=function(e){var t,o,s,a,l;function d(t){var i;return(i=e.call(this,t)||this).type=bi.CLASS,i._constructed=!0,i}return o=e,(t=d).prototype=Object.create(o.prototype),t.prototype.constructor=t,n(t,o),d.prototype.valueToString=function(){return"."+e.prototype.valueToString.call(this)},s=d,(a=[{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=(0,i.default)(e,{isIdentifier:!0});t!==e?((0,pi.ensureObject)(this,"raws"),this.raws.value=t):this.raws&&delete this.raws.value}this._value=e}}])&&r(s.prototype,a),l&&r(s,l),Object.defineProperty(s,"prototype",{writable:!1}),d}(o(fi).default);t.default=s,e.exports=t.default})),ki=li((function(e,t){var i;function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).type=bi.COMMENT,i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i),r}(((i=fi)&&i.__esModule?i:{default:i}).default);t.default=r,e.exports=t.default})),Ei=li((function(e,t){var i;function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).type=bi.ID,i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i),r.prototype.valueToString=function(){return"#"+e.prototype.valueToString.call(this)},r}(((i=fi)&&i.__esModule?i:{default:i}).default);t.default=r,e.exports=t.default})),Ii=li((function(e,t){t.__esModule=!0,t.default=void 0;var i=o(Si);function o(e){return e&&e.__esModule?e:{default:e}}function r(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function n(e,t){return n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},n(e,t)}var s=function(e){var t,o;function s(){return e.apply(this,arguments)||this}o=e,(t=s).prototype=Object.create(o.prototype),t.prototype.constructor=t,n(t,o);var a,l,d,c=s.prototype;return c.qualifiedName=function(e){return this.namespace?this.namespaceString+"|"+e:e},c.valueToString=function(){return this.qualifiedName(e.prototype.valueToString.call(this))},a=s,l=[{key:"namespace",get:function(){return this._namespace},set:function(e){if(!0===e||"*"===e||"&"===e)return this._namespace=e,void(this.raws&&delete this.raws.namespace);var t=(0,i.default)(e,{isIdentifier:!0});this._namespace=e,t!==e?((0,pi.ensureObject)(this,"raws"),this.raws.namespace=t):this.raws&&delete this.raws.namespace}},{key:"ns",get:function(){return this._namespace},set:function(e){this.namespace=e}},{key:"namespaceString",get:function(){if(this.namespace){var e=this.stringifyProperty("namespace");return!0===e?"":e}return""}}],l&&r(a.prototype,l),d&&r(a,d),Object.defineProperty(a,"prototype",{writable:!1}),s}(o(fi).default);t.default=s,e.exports=t.default})),Ti=li((function(e,t){var i;function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).type=bi.TAG,i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i),r}(((i=Ii)&&i.__esModule?i:{default:i}).default);t.default=r,e.exports=t.default})),Mi=li((function(e,t){var i;function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).type=bi.STRING,i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i),r}(((i=fi)&&i.__esModule?i:{default:i}).default);t.default=r,e.exports=t.default})),Bi=li((function(e,t){var i;function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).type=bi.PSEUDO,i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i),r.prototype.toString=function(){var e=this.length?"("+this.map(String).join(",")+")":"";return[this.rawSpaceBefore,this.stringifyProperty("value"),e,this.rawSpaceAfter].join("")},r}(((i=gi)&&i.__esModule?i:{default:i}).default);t.default=r,e.exports=t.default})),Di=function(e,t){if(Pi("noDeprecation"))return e;var i=!1;return function(){if(!i){if(Pi("throwDeprecation"))throw new Error(t);Pi("traceDeprecation")?console.trace(t):console.warn(t),i=!0}return e.apply(this,arguments)}};function Pi(e){try{if(!si.localStorage)return!1}catch(e){return!1}var t=si.localStorage[e];return null!=t&&"true"===String(t).toLowerCase()}var Li=li((function(e,t){t.__esModule=!0,t.default=void 0,t.unescapeValue=p;var i,o=s(Si),r=s(di),n=s(Ii);function s(e){return e&&e.__esModule?e:{default:e}}function a(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var d=/^('|")([^]*)\1$/,c=Di((function(){}),"Assigning an attribute a value containing characters that might need to be escaped is deprecated. Call attribute.setValue() instead."),u=Di((function(){}),"Assigning attr.quoted is deprecated and has no effect. Assign to attr.quoteMark instead."),h=Di((function(){}),"Constructing an Attribute selector with a value without specifying quoteMark is deprecated. Note: The value should be unescaped now.");function p(e){var t=!1,i=null,o=e,n=o.match(d);return n&&(i=n[1],o=n[2]),(o=(0,r.default)(o))!==e&&(t=!0),{deprecatedUsage:t,unescaped:o,quoteMark:i}}var f=function(e){var t,i;function r(t){var i;return void 0===t&&(t={}),i=e.call(this,function(e){if(void 0!==e.quoteMark)return e;if(void 0===e.value)return e;h();var t=p(e.value),i=t.quoteMark,o=t.unescaped;return e.raws||(e.raws={}),void 0===e.raws.value&&(e.raws.value=e.value),e.value=o,e.quoteMark=i,e}(t))||this,i.type=bi.ATTRIBUTE,i.raws=i.raws||{},Object.defineProperty(i.raws,"unquoted",{get:Di((function(){return i.value}),"attr.raws.unquoted is deprecated. Call attr.value instead."),set:Di((function(){return i.value}),"Setting attr.raws.unquoted is deprecated and has no effect. attr.value is unescaped by default now.")}),i._constructed=!0,i}i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,l(t,i);var n,s,d,f=r.prototype;return f.getQuotedValue=function(e){void 0===e&&(e={});var t=this._determineQuoteMark(e),i=b[t];return(0,o.default)(this._value,i)},f._determineQuoteMark=function(e){return e.smart?this.smartQuoteMark(e):this.preferredQuoteMark(e)},f.setValue=function(e,t){void 0===t&&(t={}),this._value=e,this._quoteMark=this._determineQuoteMark(t),this._syncRawValue()},f.smartQuoteMark=function(e){var t=this.value,i=t.replace(/[^']/g,"").length,n=t.replace(/[^"]/g,"").length;if(i+n===0){var s=(0,o.default)(t,{isIdentifier:!0});if(s===t)return r.NO_QUOTE;var a=this.preferredQuoteMark(e);if(a===r.NO_QUOTE){var l=this.quoteMark||e.quoteMark||r.DOUBLE_QUOTE,d=b[l];if((0,o.default)(t,d).length<s.length)return l}return a}return n===i?this.preferredQuoteMark(e):n<i?r.DOUBLE_QUOTE:r.SINGLE_QUOTE},f.preferredQuoteMark=function(e){var t=e.preferCurrentQuoteMark?this.quoteMark:e.quoteMark;return void 0===t&&(t=e.preferCurrentQuoteMark?e.quoteMark:this.quoteMark),void 0===t&&(t=r.DOUBLE_QUOTE),t},f._syncRawValue=function(){var e=(0,o.default)(this._value,b[this.quoteMark]);e===this._value?this.raws&&delete this.raws.value:this.raws.value=e},f._handleEscapes=function(e,t){if(this._constructed){var i=(0,o.default)(t,{isIdentifier:!0});i!==t?this.raws[e]=i:delete this.raws[e]}},f._spacesFor=function(e){var t=this.spaces[e]||{},i=this.raws.spaces&&this.raws.spaces[e]||{};return ni({before:"",after:""},t,i)},f._stringFor=function(e,t,i){void 0===t&&(t=e),void 0===i&&(i=g);var o=this._spacesFor(t);return i(this.stringifyProperty(e),o)},f.offsetOf=function(e){var t=1,i=this._spacesFor("attribute");if(t+=i.before.length,"namespace"===e||"ns"===e)return this.namespace?t:-1;if("attributeNS"===e)return t;if(t+=this.namespaceString.length,this.namespace&&(t+=1),"attribute"===e)return t;t+=this.stringifyProperty("attribute").length,t+=i.after.length;var o=this._spacesFor("operator");t+=o.before.length;var r=this.stringifyProperty("operator");if("operator"===e)return r?t:-1;t+=r.length,t+=o.after.length;var n=this._spacesFor("value");t+=n.before.length;var s=this.stringifyProperty("value");return"value"===e?s?t:-1:(t+=s.length,t+=n.after.length,t+=this._spacesFor("insensitive").before.length,"insensitive"===e&&this.insensitive?t:-1)},f.toString=function(){var e=this,t=[this.rawSpaceBefore,"["];return t.push(this._stringFor("qualifiedAttribute","attribute")),this.operator&&(this.value||""===this.value)&&(t.push(this._stringFor("operator")),t.push(this._stringFor("value")),t.push(this._stringFor("insensitiveFlag","insensitive",(function(t,i){return!(t.length>0)||e.quoted||0!==i.before.length||e.spaces.value&&e.spaces.value.after||(i.before=" "),g(t,i)})))),t.push("]"),t.push(this.rawSpaceAfter),t.join("")},n=r,(s=[{key:"quoted",get:function(){var e=this.quoteMark;return"'"===e||'"'===e},set:function(e){u()}},{key:"quoteMark",get:function(){return this._quoteMark},set:function(e){this._constructed?this._quoteMark!==e&&(this._quoteMark=e,this._syncRawValue()):this._quoteMark=e}},{key:"qualifiedAttribute",get:function(){return this.qualifiedName(this.raws.attribute||this.attribute)}},{key:"insensitiveFlag",get:function(){return this.insensitive?"i":""}},{key:"value",get:function(){return this._value},set:function(e){if(this._constructed){var t=p(e),i=t.deprecatedUsage,o=t.unescaped,r=t.quoteMark;if(i&&c(),o===this._value&&r===this._quoteMark)return;this._value=o,this._quoteMark=r,this._syncRawValue()}else this._value=e}},{key:"insensitive",get:function(){return this._insensitive},set:function(e){e||(this._insensitive=!1,!this.raws||"I"!==this.raws.insensitiveFlag&&"i"!==this.raws.insensitiveFlag||(this.raws.insensitiveFlag=void 0)),this._insensitive=e}},{key:"attribute",get:function(){return this._attribute},set:function(e){this._handleEscapes("attribute",e),this._attribute=e}}])&&a(n.prototype,s),d&&a(n,d),Object.defineProperty(n,"prototype",{writable:!1}),r}(n.default);t.default=f,f.NO_QUOTE=null,f.SINGLE_QUOTE="'",f.DOUBLE_QUOTE='"';var b=((i={"'":{quotes:"single",wrap:!0},'"':{quotes:"double",wrap:!0}}).null={isIdentifier:!0},i);function g(e,t){return""+t.before+e+t.after}})),Ai=li((function(e,t){var i;function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).type=bi.UNIVERSAL,i.value="*",i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i),r}(((i=Ii)&&i.__esModule?i:{default:i}).default);t.default=r,e.exports=t.default})),Fi=li((function(e,t){var i;function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).type=bi.COMBINATOR,i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i),r}(((i=fi)&&i.__esModule?i:{default:i}).default);t.default=r,e.exports=t.default})),Ni=li((function(e,t){var i;function o(e,t){return o=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},o(e,t)}t.__esModule=!0,t.default=void 0;var r=function(e){var t,i;function r(t){var i;return(i=e.call(this,t)||this).type=bi.NESTING,i.value="&",i}return i=e,(t=r).prototype=Object.create(i.prototype),t.prototype.constructor=t,o(t,i),r}(((i=fi)&&i.__esModule?i:{default:i}).default);t.default=r,e.exports=t.default})),Ri=li((function(e,t){t.__esModule=!0,t.default=function(e){return e.sort((function(e,t){return e-t}))},e.exports=t.default})),qi=li((function(e,t){t.__esModule=!0,t.word=t.tilde=t.tab=t.str=t.space=t.slash=t.singleQuote=t.semicolon=t.plus=t.pipe=t.openSquare=t.openParenthesis=t.newline=t.greaterThan=t.feed=t.equals=t.doubleQuote=t.dollar=t.cr=t.comment=t.comma=t.combinator=t.colon=t.closeSquare=t.closeParenthesis=t.caret=t.bang=t.backslash=t.at=t.asterisk=t.ampersand=void 0;t.ampersand=38;t.asterisk=42;t.at=64;t.comma=44;t.colon=58;t.semicolon=59;t.openParenthesis=40;t.closeParenthesis=41;t.openSquare=91;t.closeSquare=93;t.dollar=36;t.tilde=126;t.caret=94;t.plus=43;t.equals=61;t.pipe=124;t.greaterThan=62;t.space=32;t.singleQuote=39;t.doubleQuote=34;t.slash=47;t.bang=33;t.backslash=92;t.cr=13;t.feed=12;t.newline=10;t.tab=9;t.str=39;t.comment=-1;t.word=-2;t.combinator=-3})),ji=li((function(e,t){t.__esModule=!0,t.FIELDS=void 0,t.default=function(e){var t,i,o,n,s,a,l,d,c,h,p,f,b=[],g=e.css.valueOf(),m=g,y=m.length,v=-1,_=1,w=0,x=0;function C(t,i){if(!e.safe)throw e.error("Unclosed "+t,_,w-v,w);d=(g+=i).length-1}for(;w<y;){switch((t=g.charCodeAt(w))===r.newline&&(v=w,_+=1),t){case r.space:case r.tab:case r.newline:case r.cr:case r.feed:d=w;do{d+=1,(t=g.charCodeAt(d))===r.newline&&(v=d,_+=1)}while(t===r.space||t===r.newline||t===r.tab||t===r.cr||t===r.feed);f=r.space,o=_,i=d-v-1,x=d;break;case r.plus:case r.greaterThan:case r.tilde:case r.pipe:d=w;do{d+=1,t=g.charCodeAt(d)}while(t===r.plus||t===r.greaterThan||t===r.tilde||t===r.pipe);f=r.combinator,o=_,i=w-v,x=d;break;case r.asterisk:case r.ampersand:case r.bang:case r.comma:case r.equals:case r.dollar:case r.caret:case r.openSquare:case r.closeSquare:case r.colon:case r.semicolon:case r.openParenthesis:case r.closeParenthesis:f=t,o=_,i=w-v,x=(d=w)+1;break;case r.singleQuote:case r.doubleQuote:p=t===r.singleQuote?"'":'"',d=w;do{for(n=!1,-1===(d=g.indexOf(p,d+1))&&C("quote",p),s=d;g.charCodeAt(s-1)===r.backslash;)s-=1,n=!n}while(n);f=r.str,o=_,i=w-v,x=d+1;break;default:t===r.slash&&g.charCodeAt(w+1)===r.asterisk?(0===(d=g.indexOf("*/",w+2)+1)&&C("comment","*/"),(a=(l=g.slice(w,d+1).split("\n")).length-1)>0?(c=_+a,h=d-l[a].length):(c=_,h=v),f=r.comment,_=c,o=c,i=d-h):t===r.slash?(f=t,o=_,i=w-v,x=(d=w)+1):(d=u(g,w),f=r.word,o=_,i=d-v),x=d+1}b.push([f,_,w-v,o,i,w,x]),h&&(v=h,h=null),w=x}return b};var i,o,r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=n(t);if(i&&i.has(e))return i.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=e[s]}o.default=e,i&&i.set(e,o);return o}(qi);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(n=function(e){return e?i:t})(e)}for(var s=((i={})[r.tab]=!0,i[r.newline]=!0,i[r.cr]=!0,i[r.feed]=!0,i),a=((o={})[r.space]=!0,o[r.tab]=!0,o[r.newline]=!0,o[r.cr]=!0,o[r.feed]=!0,o[r.ampersand]=!0,o[r.asterisk]=!0,o[r.bang]=!0,o[r.comma]=!0,o[r.colon]=!0,o[r.semicolon]=!0,o[r.openParenthesis]=!0,o[r.closeParenthesis]=!0,o[r.openSquare]=!0,o[r.closeSquare]=!0,o[r.singleQuote]=!0,o[r.doubleQuote]=!0,o[r.plus]=!0,o[r.pipe]=!0,o[r.tilde]=!0,o[r.greaterThan]=!0,o[r.equals]=!0,o[r.dollar]=!0,o[r.caret]=!0,o[r.slash]=!0,o),l={},d="0123456789abcdefABCDEF",c=0;c<22;c++)l[d.charCodeAt(c)]=!0;function u(e,t){var i,o=t;do{if(i=e.charCodeAt(o),a[i])return o-1;i===r.backslash?o=h(e,o)+1:o++}while(o<e.length);return o-1}function h(e,t){var i=t,o=e.charCodeAt(i+1);if(s[o]);else if(l[o]){var n=0;do{i++,n++,o=e.charCodeAt(i+1)}while(l[o]&&n<6);n<6&&o===r.space&&i++}else i++;return i}t.FIELDS={TYPE:0,START_LINE:1,START_COL:2,END_LINE:3,END_COL:4,START_POS:5,END_POS:6}})),Hi=li((function(e,t){t.__esModule=!0,t.default=void 0;var i,o,r=x(mi),n=x(yi),s=x(Oi),a=x(ki),l=x(Ei),d=x(Ti),c=x(Mi),u=x(Bi),h=w(Li),p=x(Ai),f=x(Fi),b=x(Ni),g=x(Ri),m=w(ji),y=w(qi),v=w(bi);function _(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(_=function(e){return e?i:t})(e)}function w(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=_(t);if(i&&i.has(e))return i.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var n in e)if("default"!==n&&Object.prototype.hasOwnProperty.call(e,n)){var s=r?Object.getOwnPropertyDescriptor(e,n):null;s&&(s.get||s.set)?Object.defineProperty(o,n,s):o[n]=e[n]}return o.default=e,i&&i.set(e,o),o}function x(e){return e&&e.__esModule?e:{default:e}}function C(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var S=((i={})[y.space]=!0,i[y.cr]=!0,i[y.feed]=!0,i[y.newline]=!0,i[y.tab]=!0,i),O=ni({},S,((o={})[y.comment]=!0,o));function k(e){return{line:e[m.FIELDS.START_LINE],column:e[m.FIELDS.START_COL]}}function E(e){return{line:e[m.FIELDS.END_LINE],column:e[m.FIELDS.END_COL]}}function I(e,t,i,o){return{start:{line:e,column:t},end:{line:i,column:o}}}function T(e){return I(e[m.FIELDS.START_LINE],e[m.FIELDS.START_COL],e[m.FIELDS.END_LINE],e[m.FIELDS.END_COL])}function M(e,t){if(e)return I(e[m.FIELDS.START_LINE],e[m.FIELDS.START_COL],t[m.FIELDS.END_LINE],t[m.FIELDS.END_COL])}function B(e,t){var i=e[t];if("string"==typeof i)return-1!==i.indexOf("\\")&&((0,pi.ensureObject)(e,"raws"),e[t]=(0,pi.unesc)(i),void 0===e.raws[t]&&(e.raws[t]=i)),e}function D(e,t){for(var i=-1,o=[];-1!==(i=e.indexOf(t,i+1));)o.push(i);return o}var P=function(){function e(e,t){void 0===t&&(t={}),this.rule=e,this.options=ni({lossy:!1,safe:!1},t),this.position=0,this.css="string"==typeof this.rule?this.rule:this.rule.selector,this.tokens=(0,m.default)({css:this.css,error:this._errorGenerator(),safe:this.options.safe});var i=M(this.tokens[0],this.tokens[this.tokens.length-1]);this.root=new r.default({source:i}),this.root.errorGenerator=this._errorGenerator();var o=new n.default({source:{start:{line:1,column:1}}});this.root.append(o),this.current=o,this.loop()}var t,i,o,_=e.prototype;return _._errorGenerator=function(){var e=this;return function(t,i){return"string"==typeof e.rule?new Error(t):e.rule.error(t,i)}},_.attribute=function(){var e=[],t=this.currToken;for(this.position++;this.position<this.tokens.length&&this.currToken[m.FIELDS.TYPE]!==y.closeSquare;)e.push(this.currToken),this.position++;if(this.currToken[m.FIELDS.TYPE]!==y.closeSquare)return this.expected("closing square bracket",this.currToken[m.FIELDS.START_POS]);var i=e.length,o={source:I(t[1],t[2],this.currToken[3],this.currToken[4]),sourceIndex:t[m.FIELDS.START_POS]};if(1===i&&!~[y.word].indexOf(e[0][m.FIELDS.TYPE]))return this.expected("attribute",e[0][m.FIELDS.START_POS]);for(var r=0,n="",s="",a=null,l=!1;r<i;){var d=e[r],c=this.content(d),u=e[r+1];switch(d[m.FIELDS.TYPE]){case y.space:if(l=!0,this.options.lossy)break;if(a){(0,pi.ensureObject)(o,"spaces",a);var p=o.spaces[a].after||"";o.spaces[a].after=p+c;var f=(0,pi.getProp)(o,"raws","spaces",a,"after")||null;f&&(o.raws.spaces[a].after=f+c)}else n+=c,s+=c;break;case y.asterisk:if(u[m.FIELDS.TYPE]===y.equals)o.operator=c,a="operator";else if((!o.namespace||"namespace"===a&&!l)&&u){n&&((0,pi.ensureObject)(o,"spaces","attribute"),o.spaces.attribute.before=n,n=""),s&&((0,pi.ensureObject)(o,"raws","spaces","attribute"),o.raws.spaces.attribute.before=n,s=""),o.namespace=(o.namespace||"")+c,((0,pi.getProp)(o,"raws","namespace")||null)&&(o.raws.namespace+=c),a="namespace"}l=!1;break;case y.dollar:if("value"===a){var b=(0,pi.getProp)(o,"raws","value");o.value+="$",b&&(o.raws.value=b+"$");break}case y.caret:u[m.FIELDS.TYPE]===y.equals&&(o.operator=c,a="operator"),l=!1;break;case y.combinator:if("~"===c&&u[m.FIELDS.TYPE]===y.equals&&(o.operator=c,a="operator"),"|"!==c){l=!1;break}u[m.FIELDS.TYPE]===y.equals?(o.operator=c,a="operator"):o.namespace||o.attribute||(o.namespace=!0),l=!1;break;case y.word:if(u&&"|"===this.content(u)&&e[r+2]&&e[r+2][m.FIELDS.TYPE]!==y.equals&&!o.operator&&!o.namespace)o.namespace=c,a="namespace";else if(!o.attribute||"attribute"===a&&!l){n&&((0,pi.ensureObject)(o,"spaces","attribute"),o.spaces.attribute.before=n,n=""),s&&((0,pi.ensureObject)(o,"raws","spaces","attribute"),o.raws.spaces.attribute.before=s,s=""),o.attribute=(o.attribute||"")+c,((0,pi.getProp)(o,"raws","attribute")||null)&&(o.raws.attribute+=c),a="attribute"}else if(!o.value&&""!==o.value||"value"===a&&!l&&!o.quoteMark){var g=(0,pi.unesc)(c),v=(0,pi.getProp)(o,"raws","value")||"",_=o.value||"";o.value=_+g,o.quoteMark=null,(g!==c||v)&&((0,pi.ensureObject)(o,"raws"),o.raws.value=(v||_)+c),a="value"}else{var w="i"===c||"I"===c;!o.value&&""!==o.value||!o.quoteMark&&!l?(o.value||""===o.value)&&(a="value",o.value+=c,o.raws.value&&(o.raws.value+=c)):(o.insensitive=w,w&&"I"!==c||((0,pi.ensureObject)(o,"raws"),o.raws.insensitiveFlag=c),a="insensitive",n&&((0,pi.ensureObject)(o,"spaces","insensitive"),o.spaces.insensitive.before=n,n=""),s&&((0,pi.ensureObject)(o,"raws","spaces","insensitive"),o.raws.spaces.insensitive.before=s,s=""))}l=!1;break;case y.str:if(!o.attribute||!o.operator)return this.error("Expected an attribute followed by an operator preceding the string.",{index:d[m.FIELDS.START_POS]});var x=(0,h.unescapeValue)(c),C=x.unescaped,S=x.quoteMark;o.value=C,o.quoteMark=S,a="value",(0,pi.ensureObject)(o,"raws"),o.raws.value=c,l=!1;break;case y.equals:if(!o.attribute)return this.expected("attribute",d[m.FIELDS.START_POS],c);if(o.value)return this.error('Unexpected "=" found; an operator was already defined.',{index:d[m.FIELDS.START_POS]});o.operator=o.operator?o.operator+c:c,a="operator",l=!1;break;case y.comment:if(a)if(l||u&&u[m.FIELDS.TYPE]===y.space||"insensitive"===a){var O=(0,pi.getProp)(o,"spaces",a,"after")||"",k=(0,pi.getProp)(o,"raws","spaces",a,"after")||O;(0,pi.ensureObject)(o,"raws","spaces",a),o.raws.spaces[a].after=k+c}else{var E=o[a]||"",T=(0,pi.getProp)(o,"raws",a)||E;(0,pi.ensureObject)(o,"raws"),o.raws[a]=T+c}else s+=c;break;default:return this.error('Unexpected "'+c+'" found.',{index:d[m.FIELDS.START_POS]})}r++}B(o,"attribute"),B(o,"namespace"),this.newNode(new h.default(o)),this.position++},_.parseWhitespaceEquivalentTokens=function(e){e<0&&(e=this.tokens.length);var t=this.position,i=[],o="",r=void 0;do{if(S[this.currToken[m.FIELDS.TYPE]])this.options.lossy||(o+=this.content());else if(this.currToken[m.FIELDS.TYPE]===y.comment){var n={};o&&(n.before=o,o=""),r=new a.default({value:this.content(),source:T(this.currToken),sourceIndex:this.currToken[m.FIELDS.START_POS],spaces:n}),i.push(r)}}while(++this.position<e);if(o)if(r)r.spaces.after=o;else if(!this.options.lossy){var s=this.tokens[t],l=this.tokens[this.position-1];i.push(new c.default({value:"",source:I(s[m.FIELDS.START_LINE],s[m.FIELDS.START_COL],l[m.FIELDS.END_LINE],l[m.FIELDS.END_COL]),sourceIndex:s[m.FIELDS.START_POS],spaces:{before:o,after:""}}))}return i},_.convertWhitespaceNodesToSpace=function(e,t){var i=this;void 0===t&&(t=!1);var o="",r="";return e.forEach((function(e){var n=i.lossySpace(e.spaces.before,t),s=i.lossySpace(e.rawSpaceBefore,t);o+=n+i.lossySpace(e.spaces.after,t&&0===n.length),r+=n+e.value+i.lossySpace(e.rawSpaceAfter,t&&0===s.length)})),r===o&&(r=void 0),{space:o,rawSpace:r}},_.isNamedCombinator=function(e){return void 0===e&&(e=this.position),this.tokens[e+0]&&this.tokens[e+0][m.FIELDS.TYPE]===y.slash&&this.tokens[e+1]&&this.tokens[e+1][m.FIELDS.TYPE]===y.word&&this.tokens[e+2]&&this.tokens[e+2][m.FIELDS.TYPE]===y.slash},_.namedCombinator=function(){if(this.isNamedCombinator()){var e=this.content(this.tokens[this.position+1]),t=(0,pi.unesc)(e).toLowerCase(),i={};t!==e&&(i.value="/"+e+"/");var o=new f.default({value:"/"+t+"/",source:I(this.currToken[m.FIELDS.START_LINE],this.currToken[m.FIELDS.START_COL],this.tokens[this.position+2][m.FIELDS.END_LINE],this.tokens[this.position+2][m.FIELDS.END_COL]),sourceIndex:this.currToken[m.FIELDS.START_POS],raws:i});return this.position=this.position+3,o}this.unexpected()},_.combinator=function(){var e=this;if("|"===this.content())return this.namespace();var t=this.locateNextMeaningfulToken(this.position);if(!(t<0||this.tokens[t][m.FIELDS.TYPE]===y.comma)){var i,o=this.currToken,r=void 0;if(t>this.position&&(r=this.parseWhitespaceEquivalentTokens(t)),this.isNamedCombinator()?i=this.namedCombinator():this.currToken[m.FIELDS.TYPE]===y.combinator?(i=new f.default({value:this.content(),source:T(this.currToken),sourceIndex:this.currToken[m.FIELDS.START_POS]}),this.position++):S[this.currToken[m.FIELDS.TYPE]]||r||this.unexpected(),i){if(r){var n=this.convertWhitespaceNodesToSpace(r),s=n.space,a=n.rawSpace;i.spaces.before=s,i.rawSpaceBefore=a}}else{var l=this.convertWhitespaceNodesToSpace(r,!0),d=l.space,c=l.rawSpace;c||(c=d);var u={},h={spaces:{}};d.endsWith(" ")&&c.endsWith(" ")?(u.before=d.slice(0,d.length-1),h.spaces.before=c.slice(0,c.length-1)):d.startsWith(" ")&&c.startsWith(" ")?(u.after=d.slice(1),h.spaces.after=c.slice(1)):h.value=c,i=new f.default({value:" ",source:M(o,this.tokens[this.position-1]),sourceIndex:o[m.FIELDS.START_POS],spaces:u,raws:h})}return this.currToken&&this.currToken[m.FIELDS.TYPE]===y.space&&(i.spaces.after=this.optionalSpace(this.content()),this.position++),this.newNode(i)}var p=this.parseWhitespaceEquivalentTokens(t);if(p.length>0){var b=this.current.last;if(b){var g=this.convertWhitespaceNodesToSpace(p),v=g.space,_=g.rawSpace;void 0!==_&&(b.rawSpaceAfter+=_),b.spaces.after+=v}else p.forEach((function(t){return e.newNode(t)}))}},_.comma=function(){if(this.position===this.tokens.length-1)return this.root.trailingComma=!0,void this.position++;this.current._inferEndPosition();var e=new n.default({source:{start:k(this.tokens[this.position+1])}});this.current.parent.append(e),this.current=e,this.position++},_.comment=function(){var e=this.currToken;this.newNode(new a.default({value:this.content(),source:T(e),sourceIndex:e[m.FIELDS.START_POS]})),this.position++},_.error=function(e,t){throw this.root.error(e,t)},_.missingBackslash=function(){return this.error("Expected a backslash preceding the semicolon.",{index:this.currToken[m.FIELDS.START_POS]})},_.missingParenthesis=function(){return this.expected("opening parenthesis",this.currToken[m.FIELDS.START_POS])},_.missingSquareBracket=function(){return this.expected("opening square bracket",this.currToken[m.FIELDS.START_POS])},_.unexpected=function(){return this.error("Unexpected '"+this.content()+"'. Escaping special characters with \\ may help.",this.currToken[m.FIELDS.START_POS])},_.unexpectedPipe=function(){return this.error("Unexpected '|'.",this.currToken[m.FIELDS.START_POS])},_.namespace=function(){var e=this.prevToken&&this.content(this.prevToken)||!0;return this.nextToken[m.FIELDS.TYPE]===y.word?(this.position++,this.word(e)):this.nextToken[m.FIELDS.TYPE]===y.asterisk?(this.position++,this.universal(e)):void this.unexpectedPipe()},_.nesting=function(){if(this.nextToken&&"|"===this.content(this.nextToken))return void this.position++;var e=this.currToken;this.newNode(new b.default({value:this.content(),source:T(e),sourceIndex:e[m.FIELDS.START_POS]})),this.position++},_.parentheses=function(){var e=this.current.last,t=1;if(this.position++,e&&e.type===v.PSEUDO){var i=new n.default({source:{start:k(this.tokens[this.position-1])}}),o=this.current;for(e.append(i),this.current=i;this.position<this.tokens.length&&t;)this.currToken[m.FIELDS.TYPE]===y.openParenthesis&&t++,this.currToken[m.FIELDS.TYPE]===y.closeParenthesis&&t--,t?this.parse():(this.current.source.end=E(this.currToken),this.current.parent.source.end=E(this.currToken),this.position++);this.current=o}else{for(var r,s=this.currToken,a="(";this.position<this.tokens.length&&t;)this.currToken[m.FIELDS.TYPE]===y.openParenthesis&&t++,this.currToken[m.FIELDS.TYPE]===y.closeParenthesis&&t--,r=this.currToken,a+=this.parseParenthesisToken(this.currToken),this.position++;e?e.appendToPropertyAndEscape("value",a,a):this.newNode(new c.default({value:a,source:I(s[m.FIELDS.START_LINE],s[m.FIELDS.START_COL],r[m.FIELDS.END_LINE],r[m.FIELDS.END_COL]),sourceIndex:s[m.FIELDS.START_POS]}))}if(t)return this.expected("closing parenthesis",this.currToken[m.FIELDS.START_POS])},_.pseudo=function(){for(var e=this,t="",i=this.currToken;this.currToken&&this.currToken[m.FIELDS.TYPE]===y.colon;)t+=this.content(),this.position++;return this.currToken?this.currToken[m.FIELDS.TYPE]!==y.word?this.expected(["pseudo-class","pseudo-element"],this.currToken[m.FIELDS.START_POS]):void this.splitWord(!1,(function(o,r){t+=o,e.newNode(new u.default({value:t,source:M(i,e.currToken),sourceIndex:i[m.FIELDS.START_POS]})),r>1&&e.nextToken&&e.nextToken[m.FIELDS.TYPE]===y.openParenthesis&&e.error("Misplaced parenthesis.",{index:e.nextToken[m.FIELDS.START_POS]})})):this.expected(["pseudo-class","pseudo-element"],this.position-1)},_.space=function(){var e=this.content();0===this.position||this.prevToken[m.FIELDS.TYPE]===y.comma||this.prevToken[m.FIELDS.TYPE]===y.openParenthesis||this.current.nodes.every((function(e){return"comment"===e.type}))?(this.spaces=this.optionalSpace(e),this.position++):this.position===this.tokens.length-1||this.nextToken[m.FIELDS.TYPE]===y.comma||this.nextToken[m.FIELDS.TYPE]===y.closeParenthesis?(this.current.last.spaces.after=this.optionalSpace(e),this.position++):this.combinator()},_.string=function(){var e=this.currToken;this.newNode(new c.default({value:this.content(),source:T(e),sourceIndex:e[m.FIELDS.START_POS]})),this.position++},_.universal=function(e){var t=this.nextToken;if(t&&"|"===this.content(t))return this.position++,this.namespace();var i=this.currToken;this.newNode(new p.default({value:this.content(),source:T(i),sourceIndex:i[m.FIELDS.START_POS]}),e),this.position++},_.splitWord=function(e,t){for(var i=this,o=this.nextToken,r=this.content();o&&~[y.dollar,y.caret,y.equals,y.word].indexOf(o[m.FIELDS.TYPE]);){this.position++;var n=this.content();if(r+=n,n.lastIndexOf("\\")===n.length-1){var a=this.nextToken;a&&a[m.FIELDS.TYPE]===y.space&&(r+=this.requiredSpace(this.content(a)),this.position++)}o=this.nextToken}var c=D(r,".").filter((function(e){var t="\\"===r[e-1],i=/^\d+\.\d+%$/.test(r);return!t&&!i})),u=D(r,"#").filter((function(e){return"\\"!==r[e-1]})),h=D(r,"#{");h.length&&(u=u.filter((function(e){return!~h.indexOf(e)})));var p=(0,g.default)(function(){var e=Array.prototype.concat.apply([],arguments);return e.filter((function(t,i){return i===e.indexOf(t)}))}([0].concat(c,u)));p.forEach((function(o,n){var a,h=p[n+1]||r.length,f=r.slice(o,h);if(0===n&&t)return t.call(i,f,p.length);var b=i.currToken,g=b[m.FIELDS.START_POS]+p[n],y=I(b[1],b[2]+o,b[3],b[2]+(h-1));if(~c.indexOf(o)){var v={value:f.slice(1),source:y,sourceIndex:g};a=new s.default(B(v,"value"))}else if(~u.indexOf(o)){var _={value:f.slice(1),source:y,sourceIndex:g};a=new l.default(B(_,"value"))}else{var w={value:f,source:y,sourceIndex:g};B(w,"value"),a=new d.default(w)}i.newNode(a,e),e=null})),this.position++},_.word=function(e){var t=this.nextToken;return t&&"|"===this.content(t)?(this.position++,this.namespace()):this.splitWord(e)},_.loop=function(){for(;this.position<this.tokens.length;)this.parse(!0);return this.current._inferEndPosition(),this.root},_.parse=function(e){switch(this.currToken[m.FIELDS.TYPE]){case y.space:this.space();break;case y.comment:this.comment();break;case y.openParenthesis:this.parentheses();break;case y.closeParenthesis:e&&this.missingParenthesis();break;case y.openSquare:this.attribute();break;case y.dollar:case y.caret:case y.equals:case y.word:this.word();break;case y.colon:this.pseudo();break;case y.comma:this.comma();break;case y.asterisk:this.universal();break;case y.ampersand:this.nesting();break;case y.slash:case y.combinator:this.combinator();break;case y.str:this.string();break;case y.closeSquare:this.missingSquareBracket();case y.semicolon:this.missingBackslash();default:this.unexpected()}},_.expected=function(e,t,i){if(Array.isArray(e)){var o=e.pop();e=e.join(", ")+" or "+o}var r=/^[aeiou]/.test(e[0])?"an":"a";return i?this.error("Expected "+r+" "+e+', found "'+i+'" instead.',{index:t}):this.error("Expected "+r+" "+e+".",{index:t})},_.requiredSpace=function(e){return this.options.lossy?" ":e},_.optionalSpace=function(e){return this.options.lossy?"":e},_.lossySpace=function(e,t){return this.options.lossy?t?" ":"":e},_.parseParenthesisToken=function(e){var t=this.content(e);return e[m.FIELDS.TYPE]===y.space?this.requiredSpace(t):t},_.newNode=function(e,t){return t&&(/^ +$/.test(t)&&(this.options.lossy||(this.spaces=(this.spaces||"")+t),t=!0),e.namespace=t,B(e,"namespace")),this.spaces&&(e.spaces.before=this.spaces,this.spaces=""),this.current.append(e)},_.content=function(e){return void 0===e&&(e=this.currToken),this.css.slice(e[m.FIELDS.START_POS],e[m.FIELDS.END_POS])},_.locateNextMeaningfulToken=function(e){void 0===e&&(e=this.position+1);for(var t=e;t<this.tokens.length;){if(!O[this.tokens[t][m.FIELDS.TYPE]])return t;t++}return-1},t=e,(i=[{key:"currToken",get:function(){return this.tokens[this.position]}},{key:"nextToken",get:function(){return this.tokens[this.position+1]}},{key:"prevToken",get:function(){return this.tokens[this.position-1]}}])&&C(t.prototype,i),o&&C(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=P,e.exports=t.default})),Vi=li((function(e,t){t.__esModule=!0,t.default=void 0;var i,o=(i=Hi)&&i.__esModule?i:{default:i};var r=function(){function e(e,t){this.func=e||function(){},this.funcRes=null,this.options=t}var t=e.prototype;return t._shouldUpdateSelector=function(e,t){return void 0===t&&(t={}),!1!==ni({},this.options,t).updateSelector&&"string"!=typeof e},t._isLossy=function(e){return void 0===e&&(e={}),!1===ni({},this.options,e).lossless},t._root=function(e,t){return void 0===t&&(t={}),new o.default(e,this._parseOptions(t)).root},t._parseOptions=function(e){return{lossy:this._isLossy(e)}},t._run=function(e,t){var i=this;return void 0===t&&(t={}),new Promise((function(o,r){try{var n=i._root(e,t);Promise.resolve(i.func(n)).then((function(o){var r=void 0;return i._shouldUpdateSelector(e,t)&&(r=n.toString(),e.selector=r),{transform:o,root:n,string:r}})).then(o,r)}catch(e){return void r(e)}}))},t._runSync=function(e,t){void 0===t&&(t={});var i=this._root(e,t),o=this.func(i);if(o&&"function"==typeof o.then)throw new Error("Selector processor returned a promise to a synchronous call.");var r=void 0;return t.updateSelector&&"string"!=typeof e&&(r=i.toString(),e.selector=r),{transform:o,root:i,string:r}},t.ast=function(e,t){return this._run(e,t).then((function(e){return e.root}))},t.astSync=function(e,t){return this._runSync(e,t).root},t.transform=function(e,t){return this._run(e,t).then((function(e){return e.transform}))},t.transformSync=function(e,t){return this._runSync(e,t).transform},t.process=function(e,t){return this._run(e,t).then((function(e){return e.string||e.root.toString()}))},t.processSync=function(e,t){var i=this._runSync(e,t);return i.string||i.root.toString()},e}();t.default=r,e.exports=t.default})),Ui=li((function(e,t){t.__esModule=!0,t.universal=t.tag=t.string=t.selector=t.root=t.pseudo=t.nesting=t.id=t.comment=t.combinator=t.className=t.attribute=void 0;var i=f(Li),o=f(Oi),r=f(Fi),n=f(ki),s=f(Ei),a=f(Ni),l=f(Bi),d=f(mi),c=f(yi),u=f(Mi),h=f(Ti),p=f(Ai);function f(e){return e&&e.__esModule?e:{default:e}}t.attribute=function(e){return new i.default(e)};t.className=function(e){return new o.default(e)};t.combinator=function(e){return new r.default(e)};t.comment=function(e){return new n.default(e)};t.id=function(e){return new s.default(e)};t.nesting=function(e){return new a.default(e)};t.pseudo=function(e){return new l.default(e)};t.root=function(e){return new d.default(e)};t.selector=function(e){return new c.default(e)};t.string=function(e){return new u.default(e)};t.tag=function(e){return new h.default(e)};t.universal=function(e){return new p.default(e)}})),zi=li((function(e,t){var i;t.__esModule=!0,t.isComment=t.isCombinator=t.isClassName=t.isAttribute=void 0,t.isContainer=function(e){return!(!r(e)||!e.walk)},t.isIdentifier=void 0,t.isNamespace=function(e){return s(e)||g(e)},t.isNesting=void 0,t.isNode=r,t.isPseudo=void 0,t.isPseudoClass=function(e){return h(e)&&!y(e)},t.isPseudoElement=y,t.isUniversal=t.isTag=t.isString=t.isSelector=t.isRoot=void 0;var o=((i={})[bi.ATTRIBUTE]=!0,i[bi.CLASS]=!0,i[bi.COMBINATOR]=!0,i[bi.COMMENT]=!0,i[bi.ID]=!0,i[bi.NESTING]=!0,i[bi.PSEUDO]=!0,i[bi.ROOT]=!0,i[bi.SELECTOR]=!0,i[bi.STRING]=!0,i[bi.TAG]=!0,i[bi.UNIVERSAL]=!0,i);function r(e){return"object"==typeof e&&o[e.type]}function n(e,t){return r(t)&&t.type===e}var s=n.bind(null,bi.ATTRIBUTE);t.isAttribute=s;var a=n.bind(null,bi.CLASS);t.isClassName=a;var l=n.bind(null,bi.COMBINATOR);t.isCombinator=l;var d=n.bind(null,bi.COMMENT);t.isComment=d;var c=n.bind(null,bi.ID);t.isIdentifier=c;var u=n.bind(null,bi.NESTING);t.isNesting=u;var h=n.bind(null,bi.PSEUDO);t.isPseudo=h;var p=n.bind(null,bi.ROOT);t.isRoot=p;var f=n.bind(null,bi.SELECTOR);t.isSelector=f;var b=n.bind(null,bi.STRING);t.isString=b;var g=n.bind(null,bi.TAG);t.isTag=g;var m=n.bind(null,bi.UNIVERSAL);function y(e){return h(e)&&e.value&&(e.value.startsWith("::")||":before"===e.value.toLowerCase()||":after"===e.value.toLowerCase()||":first-letter"===e.value.toLowerCase()||":first-line"===e.value.toLowerCase())}t.isUniversal=m})),$i=li((function(e,t){t.__esModule=!0,Object.keys(bi).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===bi[e]||(t[e]=bi[e]))})),Object.keys(Ui).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===Ui[e]||(t[e]=Ui[e]))})),Object.keys(zi).forEach((function(e){"default"!==e&&"__esModule"!==e&&(e in t&&t[e]===zi[e]||(t[e]=zi[e]))}))})),Wi=li((function(e,t){t.__esModule=!0,t.default=void 0;var i,o=(i=Vi)&&i.__esModule?i:{default:i},r=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var i=n(t);if(i&&i.has(e))return i.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var a=r?Object.getOwnPropertyDescriptor(e,s):null;a&&(a.get||a.set)?Object.defineProperty(o,s,a):o[s]=e[s]}o.default=e,i&&i.set(e,o);return o}($i);function n(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,i=new WeakMap;return(n=function(e){return e?i:t})(e)}var s=function(e){return new o.default(e)};ni(s,r),delete s.__esModule;var a=s;t.default=a,e.exports=t.default})),Qi=ai(Wi),Gi=Element.prototype.matches||Element.prototype.msMatchesSelector;var Ki=function(e){this._queue=[e],this.next()};function Yi(e){for(var t=[],i=e.length-1;i>=0;i--){var o=e[i];if("combinator"===o.type)break;t.push(o)}return t.reverse()}function Xi(e){if("function"!=typeof e.assignedElements&&e.assignedSlot&&e.assignedSlot.parentElement)return e.assignedSlot.parentElement;if(e.parentElement)return e.parentElement;var t=e.getRootNode();return t!==document?t.host:void 0}function Ji(e,t){for(var i=Xi(e);i;){if(eo(i,{nodes:t}))return i;i=Xi(i)}}function Zi(e,t){for(var i=e.previousElementSibling;i;){if(eo(i,{nodes:t}))return i;i=i.previousElementSibling}}function eo(e,t){for(var i=t.nodes,o=i.length-1;o>=0;o--){var r=i[o];if("id"===r.type){if(e.id!==r.value)return!1}else if("class"===r.type){if(!e.classList.contains(r.value))return!1}else if("tag"===r.type){if(e.tagName.toLowerCase()!==r.value.toLowerCase())return!1}else if("pseudo"===r.type||"attribute"===r.type){if(!Gi.call(e,r.sourceCode))return!1}else if("combinator"===r.type){if(" "===r.value){var n=Yi(i.slice(0,o));return to(e,n,i.slice(0,o-n.length))}if(">"===r.value){var s=Yi(i.slice(0,o)),a=Xi(e);if(!a||!eo(a,{nodes:s}))return!1;e=a,o-=1}else if("+"===r.value){var l=Yi(i.slice(0,o)),d=e.previousElementSibling;if(!d||!eo(d,{nodes:l}))return!1;o-=l.length}else if("~"===r.value){var c=Yi(i.slice(0,o));if(!Zi(e,c))return!1;o-=c.length}}}return!0}function to(e,t,i){var o=Ji(e,t);if(!o)return!1;for(;o;){if(eo(o,{nodes:i}))return!0;o=Ji(o,t)}return!1}function io(e,t){for(var i=0,o=e.nodes;i<o.length;i+=1){var r=o[i];if("pseudo"===r.type||"attribute"===r.type){for(var n=t.split("\n"),s=r.source,a=s.start,l=s.end,d="",c=a.line-1;c<l.line;c++){var u=n[c],h=c===a.line-1?a.column:0,p=c===l.line-1?l.column:u.length;d+=u.substring(h,p)}r.sourceCode=("pseudo"===r.type?":":"[")+d}r.nodes&&io(r,t)}}function oo(e){var t=Qi().astSync(e);return io(t,e),t}function ro(e,t,i){var o=oo(e);return function(e,t,i){for(var o,r=i?[]:null;o=e.next();)for(var n=0,s=t.nodes;n<s.length;n+=1)if(eo(o,s[n])){if(!i)return o;r.push(o)}return r}(new Ki(t),o,i)}function no(e,t){return void 0===t&&(t=document),ro(e,t,!1)}Ki.prototype.next=function(){var e=this._queue.pop();if(e){var t=function(e){return e.documentElement?[e.documentElement]:e.shadowRoot?e.shadowRoot.children:"function"==typeof e.assignedElements&&e.assignedNodes().length?e.assignedElements():e.children}(e);if(t)for(var i=t.length-1;i>=0;i--)this._queue.push(t[i])}return e};const so={INPUT:new Set([37,39]),TEXTAREA:new Set([37,39,38,40]),SELECT:new Set([38,40])},ao=(0,Qt.y)((e=>class extends e{getTemplateGenerator(e,t,i,r,n){return o.B.isMobile?new ti(e,t,i,r,n):new Xt(e,t,i,r,n)}_onFocusOut(e){let t=!1;if(null!=e.relatedTarget&&null!=e.relatedTarget.parentElement&&"SB-CUSTOM-ACTION"===e.relatedTarget.parentElement.tagName&&null!=e.relatedTarget.parentElement.customAction){let i=e.relatedTarget.parentElement.customAction.eventHandlerName;"onQuickSave"!==i&&"onSave"!==i&&"onFlagCalculate"!==i||(t=!0)}setTimeout((e=>{let t=null,i=!1,o=this._getActiveElement(document.activeElement);for(;o;){if(o.classList&&o.classList.contains("focusable"))t=o;else if("SF-STANDARD-TABLE"===o.tagName||"SF-SEGMENTED-TABLE"===o.tagName||"UBP-RATE-TABLE"===o.tagName){i=o===this;break}o=o.parentElement||(0,L.bv)(o)}null!==t&&i||this.removeCellFocus(this.focusedCell,e)}),5,t)}_getActiveElement(e){if(e.shadowRoot){const t=e.shadowRoot.activeElement?e.shadowRoot.activeElement:e;if(t!=e)return this._getActiveElement(t)}return e}_onKeyDown(e){switch(e.keyCode){case 13:this._onEnterKeyPress(e);break;case 32:this._onSpaceBarPress(e);break;case 27:this._onEscapePress(e);break;case 9:this._moveCellFocus(e,e.shiftKey?"left":"right");break;case 37:this._moveCellFocus(e,"left");break;case 38:this._moveCellFocus(e,"up");break;case 39:this._moveCellFocus(e,"right");break;case 40:this._moveCellFocus(e,"down")}}_onEscapePress(e){this._routeKeyEvent(e)||(this._toggleInlineEditIfFocused(e,!1),this._editOnFocus=!1,this.focusedCell&&this.applyCellFocus(this.focusedCell))}_onSpaceBarPress(e){this._routeKeyEvent(e)||(this._editOnFocus=!!this._toggleInlineEditIfFocused(e,!0))}_routeKeyEvent(e){let t=ho(e.target);if(t&&t.onKeyDown)return t.onKeyDown(e)}_onEnterKeyPress(e){let t=lo(e,this.getCellClass());if(this._isCellFocusedAndInteractive(t)){let i=t.classList.contains(F.classNames.EDIT_MODE),o=uo(t);if(o&&i&&("textarea"===o.type||"reference"===o.type||"id"===o.type))return;let r=this._getActiveElement(document.activeElement);i&&r&&r.blur(),this._editOnFocus=!!this._toggleInlineEditIfFocused(e,!i),i&&this.focusedCell&&this.applyCellFocus(this.focusedCell)}}_toggleTappableCell(e,t,i){return!!e.classList.contains(F.classNames.TAPPABLE)&&(t.hook_onTap(i,!1),!0)}_openLookupDialog(){this.keepEditableFocus=!0}_closeLookupDialog(){this.keepEditableFocus=!1}_toggleInlineEditIfFocused(e,t){let i=lo(e,this.getCellClass());if(this._isCellFocusedAndInteractive(i)){let o=ho(i);if(o)return!this._toggleTappableCell(i,o,e)&&(o.toggleInlineEdit(i,t),!0)}}_isCellFocusedAndInteractive(e){return e&&e.classList&&e.classList.contains(F.classNames.HAS_FOCUS)&&(e.classList.contains(F.classNames.EDITABLE)||e.classList.contains(F.classNames.TAPPABLE))}unfocus(){this.removeCellFocus(this.focusedCell)}removeCellFocus(e,t){if(e&&e.classList&&e.classList.contains(F.classNames.HAS_FOCUS)&&!this.keepEditableFocus){let i=ho(e);return i&&(i.toggleInlineEdit(e,!1,!1,t),i.toggleCellClass(F.classNames.HAS_FOCUS,!1,e,e.getAttribute("field"))),e===this.focusedCell&&(this.focusedCell=null),i}}applyCellFocus(e){e&&e.classList&&setTimeout((()=>{!e.classList.contains("focusable")&&no(".focusable",e)&&(e=no(".focusable",e)),this._isMobile()||e.focus();let t=ho(e);t&&t.toggleCellClass(F.classNames.HAS_FOCUS,!0,e,e.getAttribute("field")),this.focusedCell!==e&&this.focusedCell&&this.removeCellFocus(this.focusedCell),this.focusedCell=e}),10)}_isMobile(){return o.B.isMobile}setEditOnFocus(e){this._editOnFocus=e}_moveCellFocus(e,t){if(e&&t&&!function(e){let t=e.target&&e.target.tagName?e.target.tagName:"",i=so[t];return i&&i.has(e.keyCode)}(e)){let i=lo(e,"focusable");if(i){let o=ho(i),r=o,n=null;if(o){let s=o.getContentNode().querySelector("div");switch(t){case"up":case"down":let a="up"===t,l=i.classList.contains(F.classNames.EDIT_MODE),d=uo(i,o);if(d&&l&&("reference"===d.type||"id"===d.type||"date"===d.type||"datetime"===d.type))return;let c=co(o,a,this._rowHasParentDiv());if(c){r=c;let e=function(e,t){for(;t.parentElement!==e&&t.parentElement;)t=t.parentElement;return Array.from(e.children).indexOf(t)}(s,i);n=c.getCellByIndex(e)}break;case"left":case"right":if(9!=e.keyCode){if(function(e){switch(e&&e.tagName?e.tagName.toLowerCase():null){case"input":if(e.type&&"text"===e.type)return!0;break;case"textarea":return!0}return!1}(e&&e.target?this._getActiveElement(e.target):null))return}let u=function(e,t){return void 0===t&&(t=document),ro(e,t,!0)}(".focusable",s),h=Array.from(u).indexOf(i),p="left"==t,f=u.length;if(0==h&&p||!p&&h==f-1){let e=co(o,p,this._rowHasParentDiv());e&&(r=e,n=p?e.getCellByIndex(f-1):e.getCellByIndex(0))}else n=u[h+(p?-1:1)]}}n&&(this.applyCellFocus(n),this._editOnFocus&&r&&r.toggleInlineEdit(n,!0,!0))}}}_rowHasParentDiv(){return this.editorModel&&this.editorModel.largeQuoteExperienceEnabled}getCellClass(){return"sf-le-table-cell"}}));function lo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sf-le-table-cell";return e.composedPath().find((e=>{let i=e.classList;return i&&i.contains(t)}))}function co(e,t,i){if(e){let o=e.tagName,r=t?"previousElementSibling":"nextElementSibling";if(i){let i;if(null===e.dataIndex||void 0===e.dataIndex)i=e.parentElement[r];else{let r=parseInt(e.dataIndex,10),n=t?r-1:r+1;i=e.parentElement.parentElement.querySelector(`${o}[data-index="${n}"]`),i&&(i=i.parentElement)}for(;i;){for(let e of i.children)if(e&&e.tagName==o&&"none"!==e.style.display)return e;i=i[r]}}else{let t=e[r];for(;t;){if(t&&t.tagName==o)return t;t=t[r]}}return null}}function uo(e,t){let i=e?e.getAttribute("field"):null;return t||(t=e?ho(e):null),t&&i?t._getFieldMetadata(i):null}function ho(e){if(e)return"SF-LE-TABLE-ROW"===e.tagName||"UBP-RATE-ROW"===e.tagName?e:ho(e.parentElement||(0,L.bv)(e))}window.CommonBehaviors=window.CommonBehaviors||{},window.CommonBehaviors.SFAbstractTable=ao.prototype;i(9331);var po=i(3900);const fo=(0,Qt.y)((e=>class extends e{static get properties(){return{template:{type:Object,observer:"_templateChanged"},templateHTML:{type:String,observer:"_templateChanged"},templateInstance:{type:Object},uiData:{type:Object,observer:"_populateContent"}}}ready(){super.ready&&super.ready()}hydrateTemplate(e,t){let i=document.createElement("template");return i.innerHTML=this.isTemplatizeWithRootDivNode()?`<div>${e}</div>`:e,this._innerHydrateTemplate(i,t)}hydrateTemplateFromNode(e,t){let i=document.createElement("template");return i.content.appendChild(e),this._innerHydrateTemplate(i,t)}_innerHydrateTemplate(e,t){return e.__dataHost=(0,L.bv)(this),new((0,po.sm)(e,this))(t||{})}_templateChanged(){this.templateInstance&&(this.getContentNode().innerHTML="",this.templateInstance=null),this._populateContent()}_populateContent(){(this.template||this.templateHTML)&&this.uiData&&(this.templateInstance?Object.keys(this.uiData).forEach((e=>{this.templateInstance[e]=this.uiData[e]})):(this.template?this.templateInstance=this.hydrateTemplateFromNode(this.template.cloneNode(!0),this.uiData):this.templateInstance=this.hydrateTemplate(this.templateHTML,this.uiData),this.getContentNode().appendChild(this.templateInstance.root)),this.postPopulateContent())}getContentNode(){throw"getContentNode() must be implemented!"}postPopulateContent(){}isTemplatizeWithRootDivNode(){return!0}_restampField(e,t){this.templateInstance&&(null!=this.secondaryTemplateInstance&&(this.secondaryTemplateInstance[e]=t),this.templateInstance[e]=t,this.uiData[e]=t)}}));const bo=(0,Qt.y)((e=>class extends e{static get properties(){return{columnWidths:{type:Object,observer:"_columnsResized"},byOrder:{type:String,value:null},lastSortedByField:{type:String,value:null},fieldSetName:String}}startResize(e){if(o.B.isColumnResizingEnabled){e.preventDefault();let t=e.composedPath()[0],i=t.parentElement;if(t.classList.contains("col-adj-bar")&&null!=i.getAttribute("field")){let t=this.shadowRoot.querySelector("div#col-resize-indicator"),o=this.getBoundingClientRect().x;document._currentHeaderSource=this,this._currentHeaderCell=i,this._currentCellWidth=parseFloat(i.style.maxWidth.replace("px","")),this._mouseXStartPos=e.clientX-o,this._currOffset=-o,t.style.transform=`translate3d(${this._mouseXStartPos}px, 0px, 0px)`,t.style.visibility="visible",this._changeVisibilityOnColAdjBars(this,"hidden"),document.addEventListener("mousemove",this._onResize,!1),document.addEventListener("mouseup",this._stopResize,!1)}}}_onResize(e){let t=this._currentHeaderSource,i=t.shadowRoot.querySelector("div#col-resize-indicator"),o=e.clientX+t._currOffset,r=t._mouseXStartPos-o,n=t._currentCellWidth-r;n>67&&(t._currentCellWidth=n,t._mouseXStartPos=o,i.style.transform=`translate3d(${t._mouseXStartPos}px, 0px, 0px)`)}_stopResize(e){e.preventDefault();let t=this._currentHeaderSource,i=t._currentHeaderCell,o=t.shadowRoot.querySelector("div#col-resize-indicator");t._changeVisibilityOnColAdjBars(t,"visible"),o.style.visibility="hidden",this.removeEventListener("mousemove",t._onResize,!1),this.removeEventListener("mouseup",t._stopResize,!1),t.dispatchEvent((0,r.uv)("sf-col-size-adjusted",{fieldsWidth:t._currentCellWidth,field:i.getAttribute("field"),dimension:t.lineModels[0].dimensionType,fieldSet:t.fieldSetName})),t._wasColumnResizing=!0,delete this._currentHeaderSource}onHover(e){let t=this.findElementForEvent(e,"th");if(t){let e=t.getAttribute("field");if(e)return void this.showTooltip(t,this.getTooltipContent(e))}}showTooltip(e,t){if(!e.querySelector("paper-tooltip")){let i=document.createElement("paper-tooltip");i.position="bottom",i.animationDelay=0,i.fitToVisibleBounds="true",e.appendChild(i),i.textContent=t}}onTap(e){if(this.onTap_hook(e))return;if(this._wasColumnResizing)return void(this._wasColumnResizing=!1);let t=this.findElementForEvent(e,"checkboxcontainer");if(t)return void this.toggleSelection(t);let i=this.findElementForEvent(e,"sortable");i&&this.sortLines(i)}findElementForEvent(e,t){return e.composedPath().find((e=>{let i=e.classList;return i&&i.contains(t)}))}_columnsResized(e,t){null!=e&&null!=t&&Object.keys(e).forEach((t=>{let i=this.shadowRoot.querySelector(`div.th[field='${t}']`);i&&(i.style.minWidth=e[t]+"px",i.style.maxWidth=e[t]+"px")}))}_changeVisibilityOnColAdjBars(e,t){e.shadowRoot.querySelectorAll(".col-adj-bar").forEach((e=>{e.style.visibility=t}))}sortLines(e){this.lastSortedByField!==e.getAttribute("field")&&(this.byOrder=""),this.resetHeaderCellStyles(),this.updateSortColumnHeaderStyles(e,this._getNewByOrder(this.byOrder)),this._fireSortClickedEvent(e)}resetHeaderCellStyles(){let e=this.shadowRoot.querySelectorAll(".sortable");for(let t=0;t<e.length;t++)this._resetHeaderCellState(e[t])}_resetHeaderCellState(e){let t=e.querySelector(".arrow");t&&((0,L.p1)("sf-icon-arrowup",!1,t),(0,L.p1)("sf-icon-arrowdown",!1,t),(0,L.p1)("arrow-on-hover",!0,e),(0,L.p1)("column-selected",!1,e))}_fireSortClickedEvent(e){let t={lineSortField:e.getAttribute("field"),order:this.byOrder};this.dispatchEvent((0,r.uv)("table-header-sort-clicked",t))}_getNewByOrder(e){switch(e){case"asc":return"desc";case"desc":return"";default:return"asc"}}updateSortColumnHeaderStyles(e,t){let i=e.querySelector(".arrow");(0,L.p1)("column-selected",!0,e),(0,L.p1)("arrow-on-hover",!1,e),"asc"===t?((0,L.p1)("sf-icon-arrowup",!0,i),(0,L.p1)("sf-icon-arrowdown",!1,i)):"desc"===t?((0,L.p1)("sf-icon-arrowup",!1,i),(0,L.p1)("sf-icon-arrowdown",!0,i)):""===t&&this._resetHeaderCellState(e),this.lastSortedByField=e.getAttribute("field"),this.byOrder=t}toggleSelection(e){}onTap_hook(e){}getTooltipContent(e){return""}setSort(e,t){if(e===this.lastSortedByField&&t===this.byOrder)return;this.resetHeaderCellStyles();let i=this._getHeaderCell(e);i&&this.updateSortColumnHeaderStyles(i,t)}_getHeaderCell(e){return this.shadowRoot.querySelector("div[field='"+e+"']")}})),go=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
.checkboxcontainer {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  min-width: 16px;
  margin: initial;
  vertical-align: middle;
  background-color: transparent;
  cursor: pointer;
}
.checkboxcontainer.disabled {
  display: none;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {
  background-color: #1589ee;
  border-color: #1589ee;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}
.checkboxcontainer .paper-checkbox {
  border: solid 2px;
  border-color: #808080;
  border-width: 1px;
  border-radius: 2px;
  box-sizing: border-box;
  height: 100%;
  pointer-events: none;
  position: relative;
  -webkit-transition: background-color 140ms, border-color 140ms;
  transition: background-color 140ms, border-color 140ms;
}
.checkboxcontainer .paper-checkbox .checkmark {
  position: absolute;
  width: 36%;
  height: 70%;
  border-style: solid;
  border-top: none;
  border-left: none;
  border-right-width: calc(2 / 15 * 16px);
  border-bottom-width: calc(2 / 15 * 16px);
  border-color: #fff;
  -webkit-transform-origin: 97% 86%;
  transform-origin: 97% 86%;
  box-sizing: content-box;
  transform: scale(1, 1) rotate(45deg);
}
:host {
  display: table-row;
  background-color: var(--sbTableHeaderBgColor);
  color: var(--sbTableHeaderColor);
  font-family: var(--sbTableHeaderFontFamily);
  font-size: var(--sbTableHeaderFontSize);
  font-weight: var(--sbTableHeaderFontWeight);
  font-style: var(--sbTableHeaderFontStyle);
  text-decoration: var(--sbTableHeaderTextDecoration);
  border-bottom-width: var(--sbTableHeaderBorderBottomWidth);
  border-bottom-style: var(--sbTableHeaderBorderBottomStyle);
  border-bottom-color: var(--sbTableHeaderBorderBottomColor);
  padding-top: var(--sbTableCellPaddingTop);
  padding-right: var(--sbTableCellPaddingRight);
  padding-bottom: var(--sbTableCellPaddingBottom);
  padding-left: var(--sbTableCellPaddingLeft);
}
:host #content {
  position: relative;
}
:host .th {
  display: table-cell;
  height: 32px;
  padding-top: 2px;
  padding-right: 18px;
  padding-bottom: 0px;
  padding-left: 6px;
  vertical-align: middle;
  white-space: nowrap;
  text-transform: uppercase;
  overflow: hidden;
  text-overflow: ellipsis;
  position: relative;
}
:host .sortable {
  cursor: pointer;
}
:host .sortable:hover {
  color: var(--sbIconColor);
}
:host .column-selected {
  color: var(--sbIconColor);
}
:host .th.itemNumber {
  min-width: 40px;
  max-width: 40px;
}
:host .rightAligned {
  text-align: right;
}
:host .centerAligned {
  text-align: center;
}
:host .leftAligned {
  text-align: left;
}
:host .hidden {
  display: none;
}
:host .checkboxcontainer {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  min-width: 16px;
  margin: initial;
  vertical-align: middle;
  background-color: transparent;
  cursor: pointer;
}
:host .checkboxcontainer.disabled {
  display: none;
}
:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {
  background-color: #1589ee;
  border-color: #1589ee;
}
:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}
:host .checkboxcontainer .paper-checkbox {
  border: solid 2px;
  border-color: #808080;
  border-width: 1px;
  border-radius: 2px;
  box-sizing: border-box;
  height: 100%;
  pointer-events: none;
  position: relative;
  -webkit-transition: background-color 140ms, border-color 140ms;
  transition: background-color 140ms, border-color 140ms;
}
:host .checkboxcontainer .paper-checkbox .checkmark {
  position: absolute;
  width: 36%;
  height: 70%;
  border-style: solid;
  border-top: none;
  border-left: none;
  border-right-width: calc(2 / 15 * 16px);
  border-bottom-width: calc(2 / 15 * 16px);
  border-color: #fff;
  -webkit-transform-origin: 97% 86%;
  transform-origin: 97% 86%;
  box-sizing: content-box;
  transform: scale(1, 1) rotate(45deg);
}
:host #tooltip.paper-tooltip {
  padding: 5px;
  color: var(--sbFontColor);
  font-family: var(--sbFont);
  font-size: 14px;
  border-radius: 4px;
  z-index: 999;
  background-color: #fff;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  border: var(--sbBtnBorder);
  opacity: 1;
}
:host .sf-icon-arrowup,
:host .sf-icon-arrowdown {
  color: var(--sbIconColor);
  font-size: 13px;
  position: absolute;
  right: 0;
  padding-right: 2px;
}
:host .sf-icon-arrowup::before,
:host .sf-icon-arrowdown::before {
  vertical-align: center;
}
:host .arrow-on-hover > i {
  display: none;
}
:host .arrow-on-hover:hover > i {
  display: inline;
  position: absolute;
  right: 0;
  padding-right: 2px;
}
:host .col-adj-bar {
  position: absolute;
  padding: 16px 0 16px 0;
  cursor: col-resize;
  top: 0;
  right: 0;
  width: 1px;
  height: inherit;
  background-color: #d8dde6;
}
:host .th:hover .col-adj-bar {
  width: 4px;
  background-color: #706e6b;
}
:host .th:hover .col-adj-bar:hover {
  background-color: var(--sbIconColor);
}
:host #col-resize-indicator {
  background-color: var(--sbIconColor);
  width: 4px;
  height: 32px;
  position: absolute;
  cursor: col-resize;
  top: 0;
  visibility: hidden;
  display: block;
  z-index: 99999;
}
:host #col-resize-indicator #col-adj-divider {
  background-color: var(--sbIconColor);
  height: 70vh;
  width: 1px;
  float: right;
  z-index: 99999;
}
*,
*:before,
*:after {
  box-sizing: border-box;
}
:host .lineActions {
  min-width: 95px;
  max-width: 95px;
}
:host .th span.bundle-caret {
  font-family: sf-icons;
  margin-right: 5px;
}
:host .th.itemNumber .sf-icon-right:hover,
:host .th.itemNumber .sf-icon-down:hover {
  cursor: pointer;
}
:host .th.selection {
  min-width: 30px;
  max-width: 30px;
}
:host .th.drawerIcon {
  min-width: 40px;
  max-width: 40px;
  background-color: #eef1f6;
  color: #0070d2;
  font-weight: bold !important;
}
:host .th.drawerIcon:hover {
  cursor: pointer;
}
:host .th:hover {
  background-color: white;
}
:host .sf-icon-chevronright:before {
  font-weight: bold;
}
`;function mo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function yo(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?mo(Object(i),!0).forEach((function(t){vo(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):mo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function vo(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _o extends((0,bt.b)((0,Fe.g)(fo(bo((0,Ae.T)(Ve.Pu)))))){static get is(){return"sf-le-table-header"}static get properties(){return yo(yo({lineModels:{type:Object,notify:!0},eventListeners:{type:Object,value:{click:"onTap",mouseover:"onHover",mousedown:"startResize"}},fields:Object},fo.properties),bo.properties)}get events(){let e={};return e[r.sV.DESELECT_CHECKBOX]=this.deselectCheckbox,e}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,r.f3)(this,this.eventListeners)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,r.UQ)(this,this.eventListeners)}onTap_hook(e){let t=this.findElementForEvent(e,"bundle-caret");if(t)return this._toggleBundleExpansion(t),!0;let i=this.findElementForEvent(e,"drawerIcon");if(i)return this._toggleStandardDrawers(i),!0;let o=this.findElementForEvent(e,"segmentedDrawer");return o?(this._toggleSegmentedDrawers(o),!0):void 0}_toggleBundleExpansion(e){let t=this.uiData._caretContent===F.classNames.CHEVRON_DOWN_CONTENT;this._restampField("_caretContent",t?F.classNames.CHEVRON_RIGHT_CONTENT:F.classNames.CHEVRON_DOWN_CONTENT),this.dispatchEvent((0,r.uv)("bundle-toggled",{expanded:!t}))}toggleSelection(e){let t=e.querySelector("input[type=checkbox]");const i=this.lineModels&&this.lineModels.length>0&&this.lineModels[0].groupModel?this.lineModels[0].groupModel.quoteModel:null;if(t.checked=!t.checked,this.lineModels)for(let e=0;e<this.lineModels.length;e++)(0,z.N6)(this.lineModels[e],["selected"],t.checked),i&&!this.lineModels[e].hasParent&&(t.checked?i.selectedLinesByKey[this.lineModels[e].lineVO.key]=this.lineModels[e]:delete i.selectedLinesByKey[this.lineModels[e].lineVO.key])}deselectCheckbox(){let e=this.shadowRoot.querySelector("div.selection div.checkboxcontainer");if(e){e.querySelector("input[type=checkbox]").checked=!1}}_toggleStandardDrawers(e){let t=e.querySelector("span");t&&this._toggleDrawers(t,F.classNames.CHEVRON_RIGHT_ICON,F.classNames.CHEVRON_DOWN_ICON,"lineItemDrawerIconClass")}_toggleSegmentedDrawers(e){let t=e.querySelectorAll("span")[1];t&&this._toggleDrawers(t,F.classNames.RIGHT_ICON,F.classNames.DOWN_ICON,"expandedIconClass")}_toggleDrawers(e,t,i,o){let n=!e.classList.contains(t),s=n?t:i;if(e.classList.remove(t,i),e.classList.add(s),this.lineModels)for(let e=0,t=this.lineModels.length;e<t;e++)this.set(`lineModels.${e}.lineVO.expanded`,!n),this.set(`lineModels.${e}.${o}`,s);this.dispatchEvent((0,r.uv)("line-toggled"))}getContentNode(){return this.shadowRoot.querySelector("#content")}getTooltipContent(e){return this.uiData[e]||""}static get template(){return Ve.qy`
			<style>${go}</style>
			<style include="sb-icons-styles"></style>
			<div id="content" class$="tr">
			</div>
		`}}customElements.define(_o.is,_o);var wo=i(5849),xo=i(983);class Co{static getFieldComponent(e,t,i,r){let n=e.type,s=e.name||e.fieldPath;r=r||t.lineVO.record;let a=null,l=null;if("reference"===n)a={refDisplay:r&&e.relationshipName&&r[e.relationshipName]?r[e.relationshipName].Name:"",refDisplayName:"refDisplay",refTable:So(e),refObjects:[],record:r};else if("picklist"===n||"multipicklist"===n)if(e.controllerName){let t=r[e.controllerName];l=new xo.Q(e,t).build()}else l=e.picklistValues;const d=(0,wo.v)(n,t,r[s],!0,!1,!1,i,e,o.B.i18n,"richtextarea"===e.extraTypeInfo,l,a);let c=null;return"sb-input"===d.name||"sb-select"===d.name||"sb-datepicker"===d.name||"sb-lookup"===d.name||"sb-textarea"===d.name?c="inlineEdit":"sb-discount"===d.name&&(c="inlineEdit discount"),null!=c&&d.addAttribute("variant",2,"variant",c),d}}function So(e){if(void 0!==e)return e.referenceTable?e.referenceTable:e.referenceTo&&e.referenceTo.length>0?e.referenceTo[0]:null}const Oo=(0,Qt.y)((e=>class extends e{ready(){super.ready&&super.ready()}getCellByIndex(e){let t=this.getContentNode().querySelector("div");if(t){let i=Array.from(t.children);if(i)return i[e=Math.min(Math.max(0,e),i.length-1)]}}onHovered(e){(0,L.p1)("show",!0,this.getContentNode()),this.hook_onHovered(e)}onUnhovered(e){(0,L.p1)("show",!1,this.getContentNode()),this.hook_onUnhovered(e)}onTap(e){let t=!1,i=this.getTableComponent(e),o=lo(e,this.getCellClass()),r=o&&o.classList.contains(F.classNames.EDITABLE),n=o&&o.classList.contains(F.classNames.BOOLEAN),s=o&&o.classList.contains(F.classNames.HAS_FOCUS),a=o&&o.classList.contains(F.classNames.EDIT_MODE);i&&!s&&(i.applyCellFocus(o),i.setEditOnFocus(!1)),r&&!a&&(s&&!n||function(e){let t=e.composedPath();if(t&&t.length>0&&t[0].classList.contains(F.classNames.EDIT_ICON))return t[0]}(e))&&(this.toggleInlineEdit(o,!0),i&&i.setEditOnFocus(!0),t=!0),this.hook_onTap(e,t,r)}getTableComponent(e){return e.composedPath().find((e=>{let t=e&&e.tagName?e.tagName.toUpperCase():"";return"SF-STANDARD-TABLE"===t||"SF-SEGMENTED-TABLE"===t||"UBP-RATE-TABLE"===t}))}getContentNode(){return this.querySelector("#content")}findElementForEvent(e,t){return e.composedPath().find((e=>{let i=e.classList;return i&&i.contains(t)}))}getCellClass(){throw new Error("getCellClass must be implemented by row element")}hook_onHovered(e){}hook_onUnhovered(e){}hook_onTap(e,t){}toggleInlineEdit(e,t){}}));var ko=i(2841),Eo=i(3188);const Io=(0,Qt.y)((e=>class extends e{ready(){super.ready&&super.ready()}toggleInlineEdit(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!e||!e.classList.contains("editable"))return;let r=e.getAttribute("field"),n=this._getFieldMetadataForInlineEdit(r);"boolean"!==n.type&&"checkbox"!==n.type&&(t&&i&&"richtextarea"===n.extraTypeInfo||this.toggleInlineEditForDeviceDelegate(e,t,r,n,o))}setDiscardPendingEdit(e){this._discardPendingEdit=e}commitPendingEdit(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=!1;if(this._pendingEdit&&!this._discardPendingEdit){let i=this._pendingEdit.field,o=this._pendingEdit.eventDetail,r=this._pendingEdit.eventType,n=this._getFieldMetadataForInlineEdit(i),s=this._parseFieldData(n,o.value);this.commitInlineEdit(i,s),n&&this.handleControllingPicklistAndFields(n,i,r,o),t=!0,!1===e&&this.fireCalculateImmediately(i)}return this._discardPendingEdit=!1,this._pendingEdit=null,t}commitInlineEdit(e,t){this._getRecord()[e]=t}_parseFieldData(e,t){if((""===t||null===t)&&"picklist"!==e.type&&"multipicklist"!==e.type)return null;switch(e.type){case"currency":case"double":case"percent":return(new Eo.d).parse(t,!1,e.scale);case"date":case"datetime":let i=(new ko.i).parse(t);return null!==i?"date"===e.type?ae.Z.toApexDate(i):ae.Z.toApexDateTime(i):t;case"time":return o.B.i18n.parseTime(t);default:return t}}_createWritableElement(e,t){let i=document.createElement("div");i.className="w";let o=t.getAttribute("index");return this._createEditField(i,o,e),t.appendChild(i),L.J0.horizontalBound(i),i}_createEditField(e,t,i){let o=this._getFieldMetadataForInlineEdit(i),r=this._getEditField(o,t),n={};r.attachTo(n);let s=this.hydrateTemplate(r.html,n);e.appendChild(s.root)}_toggleDirtyClass(e,t,i){if(i){let o=this._getOriginalRecord();if(o){if(this.checkIsDirty(e,o,t)){if(!this._isEditable(t))return;i.classList.contains(F.classNames.DIRTY)||i.classList.add(F.classNames.DIRTY),this.isDirty=!0}else i.classList.remove(F.classNames.DIRTY)}}}_refreshDirtyIndicators(){this.isDirty&&(Array.from(this.shadowRoot.querySelectorAll("div.r")).forEach((e=>{e.classList.toggle("dirty",!1)})),this.isDirty=!1);let e=this._getOriginalRecord(),t=this._getRecord();t&&e&&Object.keys(t).forEach((i=>{let o=t[i];if(this.checkIsDirty(o,e,i)){if(!this._isEditable(i))return;let e=this.shadowRoot.querySelector(`div.td[field='${i}'] div.r`);this._enableDirtyClass(e)}}))}_enableDirtyClass(e){e&&(e.classList.toggle("dirty",!0),this.isDirty=!0)}_handleEditableCellsHover(e){if(!this._pencilLoaded||e){let e=this.shadowRoot.querySelectorAll(".container.editable");if(e&&e.length>0){let t=Array.from(e),i=!1;t.forEach((e=>{if(!e.querySelector("span.pencil")){i=!0;let t=document.createElement("span");if(t.classList.add(F.classNames.EDIT_ICON),e.classList.contains(F.classNames.RIGHT)||e.classList.contains(F.classNames.CENTER)){let i=e.querySelector("div.r");i.insertBefore(t,i.firstChild)}else e.querySelector("div.r").appendChild(t)}})),setTimeout((()=>{this.dispatchEvent(new CustomEvent("line-toggled",{detail:{index:this.dataIndex}}))}))}this._pencilLoaded=!0}}_resetPencilLoaded(){if(this._pencilLoaded){Array.from(this.shadowRoot.querySelectorAll(".container.editable span.pencil")).forEach((function(e){e.parentNode.removeChild(e)})),this._pencilLoaded=!1}}onChange(e){let t=lo(e,this.getCellClass());if(t){let i=t.getAttribute("field"),r=this._getFieldMetadata(i);if(e.detail){this._pendingEdit={field:i,eventDetail:e.detail,eventType:e.type};const n=t.querySelector(".w");"richtextarea"===r.extraTypeInfo?(this.toggleInlineEdit(t,!1),t.removeChild(n),this._applyFocus(t,e)):o.B.isMobile&&(0,Ne.m)(this,(function(){this.commitPendingEdit(),n&&this._deviceDelegate&&this._deviceDelegate._updateEditableField&&this._deviceDelegate._updateEditableField(t,this,i,r,n)}))}}}toggleInlineEditForDeviceDelegate(e,t,i,o,r){}handleControllingPicklistAndFields(e,t,i,o){}fireCalculateImmediately(e){}_getFieldMetadataForInlineEdit(e){throw new Error("Must implement method _getFieldMetadataForInlineEdit for SFInlineEditBehavior.")}_getEditField(e,t){throw new Error("Must implement method _getEditField for SFInlineEditBehavior.")}_getOriginalRecord(){throw new Error("Must implement method _getOriginalRecord for SFInlineEditBehavior.")}_isEditable(e){throw new Error("Must implement method _isEditable for SFInlineEditBehavior.")}_getRecord(){throw new Error("Must implement method _getRecord for SFInlineEditBehavior.")}checkIsDirty(e,t,i){throw new Error("Must implement method checkIsDirty for SFInlineEditBehavior.")}_formatNewValue(e,t){throw new Error("Must implement _formatNewValue for SFInlineEditBehavior")}}));class To{initListeners(e){}onTap(e,t){}expansionChanged(e,t,i){}toggleInlineEdit(e,t,i,o,r,n){}onKeyDown(e,t){}applyFocus(e,t,i){}}class Mo extends To{toggleInlineEdit(e,t,i,o,n,s){let a=e.querySelector(".w"),l=e.querySelector(".r"),d="richtextarea"===o.extraTypeInfo;if(n.toggleCellClass("hidden",t&&!d,l,i),n.toggleCellClass(F.classNames.EDIT_MODE,t&&!d,e,i),t){a||(a=n._createWritableElement(i,e));let t=no('input:not([type="hidden"]), checkbox, select, textarea, sb-rte',a);t&&setTimeout((()=>{t.focus()}),10)}else if(a&&(d||e.removeChild(a),n.commitPendingEdit(s))){let e=n._formatNewValue(i,o);setTimeout((()=>{n.dispatchEvent((0,r.uv)("line-toggled",{index:n.dataIndex}))})),n._toggleDirtyClass(e,i,l)}}onKeyDown(e,t){let i=!1;switch(e.keyCode){case 27:i=this._onEscapePress(e,t);break;case 32:i=this._onSpaceBarPress(e,t)}return i}_onSpaceBarPress(e,t){let i=e.composedPath()[0];if(i.classList.contains(F.classNames.EDITABLE)&&i.classList.contains(F.classNames.BOOLEAN)||i.classList.contains(F.classNames.SELECTION)){let e=i.querySelector(".checkboxcontainer");if(e)return t.toggleCheckbox(e),!0}return!1}_onEscapePress(e,t){let i=t.findElementForEvent(e,F.classNames.EDIT_MODE);if(i&&i.getAttribute("field"))if(t._getEditorModel&&i.getAttribute("field")===t._getEditorModel().constants.ADDITIONAL_DISCOUNT_FIELD){let e=i.querySelector("sb-discount");e&&e.resetToOriginal()}else t.setDiscardPendingEdit(!0);return!1}applyFocus(e,t,i){let o=i.getTableComponent(t);o&&o.applyCellFocus(e)}updateTemplate(){}_updateEditableField(){}}class Bo extends Mo{static getInstance(){return this._instance||(this._instance=new Bo),this._instance}initListeners(e){(0,r.f3)(e,{mouseover:"onHovered",mouseout:"onUnhovered","rte-esc":"onRteCancel"})}expansionChanged(e,t,i){if(i.isSegmented){let t=i.shadowRoot.querySelector(".segmentedContainer");t&&(t.classList.toggle(F.classNames.DOWN_ICON,e),t.classList.toggle(F.classNames.RIGHT_ICON,!e),i.uiData&&i.uiData._cellClasses&&(i.uiData._cellClasses._expansionIcon=e?F.classNames.DOWN_ICON:F.classNames.RIGHT_ICON))}else{let t=i.shadowRoot.querySelector(".drawerContainer span");t&&(t.classList.toggle(F.classNames.CHEVRON_DOWN_ICON,e),t.classList.toggle(F.classNames.CHEVRON_RIGHT_ICON,!e))}}}class Do extends To{static getInstance(){return this._instance||(this._instance=new Do),this._instance}initListeners(e){(0,r.f3)(e,{"row-swiped":"onRowSwiped"})}onTap(e,t){if(e&&!t.expansionDisabled&&t.findElementForEvent(e,"primary")){var i=t.toggleExpanded(),o=t.shadowRoot.querySelector("sb-swipe-container");null!==o&&(o.groupExpanded=i)}}onRowSwiped(e,t){e&&e.detail&&(t.expansionDisabled=e.detail.isOpen)}expansionChanged(e,t,i){if(!i.expansionDisabled){let t=i.shadowRoot.querySelector(".container.first");if(t){let o=i.shadowRoot.querySelector(".secondary");o||(this._loadSecondaryFields(i),o=i.shadowRoot.querySelector(".secondary")),t.classList.toggle(F.classNames.EXPANDED,e),o.classList.toggle(F.classNames.EXPANDED,e)}}}updateTemplate(e){e.secondaryTemplateInstance&&Object.keys(e.uiData).forEach((t=>{e.secondaryTemplateInstance[t]=e.uiData[t]}))}_loadSecondaryFields(e){e.secondaryTemplateInstance=e.hydrateTemplateFromNode(e.secondaryRowTemplate.cloneNode(!0),e.uiData),e.$.content.appendChild(e.secondaryTemplateInstance.root),Array.from(e.shadowRoot.querySelector(".secondary").children).forEach((t=>{if(t.classList.contains(F.classNames.EDITABLE)&&!t.classList.contains(F.classNames.BOOLEAN)){let i=t.querySelector(".r");i&&(0,L.p1)("hidden",!0,i),e.toggleInlineEdit(t,!0)}}))}toggleInlineEdit(e,t,i,o,r,n){let s=e.querySelector(".w");r.toggleCellClass(F.classNames.EDIT_MODE,t,e,i),t?s||r._createWritableElement(i,e):s&&r.commitPendingEdit(n)}_updateEditableField(e,t,i,o,r){if(t._formatNewValue(i,o),r.firstChild)try{r.removeChild(r.firstChild),t._createEditField(r,e.getAttribute("index"),i)}catch(e){if(!(e instanceof DOMException&&"NotFoundError"===e.name))throw e}}}class Po{getFieldName(){}updateControlledFields(e,t){}}class Lo extends Po{updateControlledFields(e,t){let i=!1;this._getEditableFieldValues().includes(t)?(this._getControlledFields().forEach((t=>{if(e.lineModel.isFieldRendered(t)&&e.lineModel.isEditable(t)){var o=e.shadowRoot.querySelector("div[field='"+t+"']");if(o){let e=o.classList;e.contains("editable")||(i=!0,e.add("editable"))}}})),i&&e._handleEditableCellsHover(!0)):(this._getControlledFields().forEach((t=>{if(e.lineModel.isFieldRendered(t)){var i=e.shadowRoot.querySelector("div[field='"+t+"']");i&&i.classList.remove("editable"),this._shouldClearFieldValue()&&e._clearFieldValue(t)}})),i=!0),this._getControlledFields().forEach((o=>{let r=this._getControlledFieldValue(o,t,i);void 0!==r&&e._updateFieldValue(o,r)}))}_getControlledFields(){return[]}_getEditableFieldValues(){return[]}_getControlledFieldValue(e,t,i){}_shouldClearFieldValue(){return!0}}class Ao extends Lo{getFieldName(){return P.q.constants.PRICING_METHOD_FIELD}_getControlledFields(){return[P.q.constants.MARKUP_FIELD,P.q.constants.MARKUP_AMOUNT_FIELD,P.q.constants.MARKUP_RATE_FIELD]}_getEditableFieldValues(){return["Cost"]}}class Fo extends Lo{getFieldName(){return P.q.constants.NON_DISCOUNTABLE_FIELD}_getControlledFields(){return[P.q.constants.ADDITIONAL_DISCOUNT_FIELD,P.q.constants.ADDITIONAL_DISCOUNT_RATE_FIELD,P.q.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]}_getEditableFieldValues(){return[!1]}}class No extends Lo{getFieldName(){return P.q.constants.PRICING_METHOD_EDITABLE_FIELD}_getControlledFields(){return[P.q.constants.PRICING_METHOD_FIELD]}_getEditableFieldValues(){return[!0]}_shouldClearFieldValue(){return!1}}class Ro extends Lo{getFieldName(){return P.q.constants.PRICE_EDITABLE_FIELD}_getControlledFields(){return[P.q.constants.LIST_PRICE_FIELD]}_getEditableFieldValues(){return[!0]}_shouldClearFieldValue(){return!1}}class qo extends Lo{getFieldName(){return P.q.constants.SUBSCRIPTION_TYPE_FIELD}_getControlledFields(){return[P.q.constants.SUBSCRIPTION_TERM_FIELD,P.q.constants.END_DATE_FIELD,P.q.constants.EFFECTIVE_END_DATE_FIELD]}_getEditableFieldValues(){return["","Renewable","One-time"]}_getControlledFieldValue(e,t,i){if(e===P.q.constants.SUBSCRIPTION_TERM_FIELD){if("Evergreen"===t)return 1;if(i)return null}}_shouldClearFieldValue(){return!0}}const jo=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
.checkboxcontainer {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  min-width: 16px;
  margin: initial;
  vertical-align: middle;
  background-color: transparent;
  cursor: pointer;
}
.checkboxcontainer.disabled {
  display: none;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {
  background-color: #1589ee;
  border-color: #1589ee;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}
.checkboxcontainer .paper-checkbox {
  border: solid 2px;
  border-color: #808080;
  border-width: 1px;
  border-radius: 2px;
  box-sizing: border-box;
  height: 100%;
  pointer-events: none;
  position: relative;
  -webkit-transition: background-color 140ms, border-color 140ms;
  transition: background-color 140ms, border-color 140ms;
}
.checkboxcontainer .paper-checkbox .checkmark {
  position: absolute;
  width: 36%;
  height: 70%;
  border-style: solid;
  border-top: none;
  border-left: none;
  border-right-width: calc(2 / 15 * 16px);
  border-bottom-width: calc(2 / 15 * 16px);
  border-color: #fff;
  -webkit-transform-origin: 97% 86%;
  transform-origin: 97% 86%;
  box-sizing: content-box;
  transform: scale(1, 1) rotate(45deg);
}
:host {
  display: flex;
  background-color: var(--sbTableRowBgColor);
  color: var(--sbTableRowColor);
  font-family: var(--sbTableRowFontFamilly);
  font-size: var(--sbTableRowFontSize);
  font-weight: var(--sbTableRowFontWeight);
  font-style: var(--sbTableRowFontStyle);
  text-decoration: var(--sbTableRowTextDecoration);
  border-bottom: 1px solid #D8DDE6;
  line-height: var(--sbTableRowLineHeight);
  padding-top: var(--sbTableRowPaddingTop);
  padding-bottom: var(--sbTableRowPaddingBottom);
}
:host ul > li {
  list-style: disc;
  list-style-position: inside;
}
:host ol > li {
  list-style: decimal;
  list-style-position: inside;
}
:host ul,
:host ol {
  padding-left: 25px;
}
:host .tr div.row {
  display: block !important;
}
:host .tr:hover {
  background-color: var(--sbTableRowHoverColor);
}
:host .tr > div > .td {
  outline: none;
}
:host .tr > div > .td > .sf-icon-right {
  padding-left: var(--segmented-icon-padding);
}
:host .tr .container {
  /* div.w styling is under .device-desktop */
}
:host .tr .container.td input#dateInput.sb-datepicker {
  width: var(--datePickerWidth, 120px);
}
:host .tr .container.td.editMode {
  position: relative;
  overflow-x: visible;
}
:host .tr .container.td.hideCheckbox {
  visibility: hidden;
}
:host .tr .container.td span.bundle-caret {
  font-family: sf-icons;
  margin-right: 5px;
}
:host .tr .container.td span.bundle-caret.collapsible-bundle {
  cursor: pointer;
}
:host .tr .container.td span.bundle-caret + div.r {
  display: inline;
}
:host .tr .container div.r {
  word-wrap: break-word;
  white-space: pre-line;
}
:host .tr .container div.r.hidden {
  display: none;
}
:host .tr .container div.r.dirty {
  color: #F88962;
}
:host .tr .container div.r div.htmlField {
  display: inline;
  overflow: hidden;
  width: 100%;
}
:host .tr .container.editable span.pencil {
  cursor: pointer;
  padding: 0 3px 0 3px;
  display: inline-block;
}
:host .tr .container.editable span.pencil:after {
  content: '\\e847';
  color: var(--sbFieldEditableIconColor);
  font-family: 'sf-icons';
  display: none;
}
:host .tr.show .container:not(.editable):hover.right div.r:before,
:host .tr .container.sf-has-focus:not(.editable).right div.r:before,
:host .tr.show .container:not(.editable):hover.center div.r:before,
:host .tr .container.sf-has-focus:not(.editable).center div.r:before,
:host .tr.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,
:host .tr .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {
  color: var(--sbFieldEditableIconColor) !important;
  display: inline;
}
:host .tr #tooltip.paper-tooltip {
  padding: 5px;
  color: var(--sbFontColor);
  font-family: var(--sbFont);
  font-size: 14px;
  border-radius: 4px;
  z-index: 999;
  background-color: #fff;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  border: var(--sbBtnBorder);
  opacity: 1;
}
:host .tr.show .container.editable span.pencil:after,
:host .tr .container.editable.sf-has-focus span.pencil:after {
  color: var(--sbFieldEditableIconColor) !important;
  display: inline-block;
}
:host .tr.show .container.editable.right div.r.dirty:before,
:host .tr .container.editable.sf-has-focus.right div.r.dirty:before,
:host .tr.show .container.editable.center div.r.dirty:before,
:host .tr .container.editable.sf-has-focus.center div.r.dirty:before,
:host .tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,
:host .tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {
  color: #F88962 !important;
}
:host .sb-pricebook-warning {
  position: relative;
  display: inline-block;
  white-space: normal;
}
:host .lineActions {
  white-space: nowrap;
  text-align: left;
  color: var(--sbBtnColor);
}
:host .checkboxcontainer {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  min-width: 16px;
  margin: initial;
  vertical-align: middle;
  background-color: transparent;
  cursor: pointer;
}
:host .checkboxcontainer.disabled {
  display: none;
}
:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {
  background-color: #1589ee;
  border-color: #1589ee;
}
:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}
:host .checkboxcontainer .paper-checkbox {
  border: solid 2px;
  border-color: #808080;
  border-width: 1px;
  border-radius: 2px;
  box-sizing: border-box;
  height: 100%;
  pointer-events: none;
  position: relative;
  -webkit-transition: background-color 140ms, border-color 140ms;
  transition: background-color 140ms, border-color 140ms;
}
:host .checkboxcontainer .paper-checkbox .checkmark {
  position: absolute;
  width: 36%;
  height: 70%;
  border-style: solid;
  border-top: none;
  border-left: none;
  border-right-width: calc(2 / 15 * 16px);
  border-bottom-width: calc(2 / 15 * 16px);
  border-color: #fff;
  -webkit-transform-origin: 97% 86%;
  transform-origin: 97% 86%;
  box-sizing: content-box;
  transform: scale(1, 1) rotate(45deg);
}
:host([class*='--mobile']) {
  /* Secondary Fields */
}
:host .tr[class*='--mobile'] {
  display: inline-block;
  width: 100%;
  border-bottom: 1px solid #D8DDE6;
}
:host .tr[class*='--mobile'] .td.selection {
  position: absolute;
  padding: 15px;
}
:host .tr[class*='--mobile'] .td.container {
  text-align: left;
  font-size: 1.1rem;
  font-weight: 400;
  position: inherit;
}
:host .tr[class*='--mobile'] .td.container.primary {
  background-color: #f4f6f9;
  padding: 5px 0 5px 45px;
  outline: none;
}
:host .tr[class*='--mobile'] .td.container.primary.sbBundleOption {
  color: #696969;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent1 {
  padding-left: 60px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent1.option {
  padding-left: 80px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent2 {
  padding-left: 80px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent2.option {
  padding-left: 100px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent3 {
  padding-left: 100px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent3.option {
  padding-left: 120px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent4 {
  padding-left: 120px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent4.option {
  padding-left: 140px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent5 {
  padding-left: 140px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent5.option {
  padding-left: 160px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent6 {
  padding-left: 160px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent6.option {
  padding-left: 180px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent7 {
  padding-left: 200px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent7.option {
  padding-left: 220px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent8 {
  padding-left: 220px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent8.option {
  padding-left: 240px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent9 {
  padding-left: 240px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent9.option {
  padding-left: 260px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent10 {
  padding-left: 260px;
}
:host .tr[class*='--mobile'] .td.container.primary.sbIndent10.option {
  padding-left: 280px;
}
:host .tr[class*='--mobile'] .lineActions {
  display: inline-block;
  position: relative;
}
:host .tr[class*='--mobile'] sb-swipe-container {
  min-width: 100%;
}
:host .tr[class*='--mobile'] sb-swipe-container div#swipe-header {
  min-width: 100%;
}
:host .secondary[class*='--mobile'] {
  padding: 10px;
}
:host .secondary[class*='--mobile'] .hiddenInMobile {
  display: none;
}
:host .secondary[class*='--mobile'] .field-label {
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
:host([class*='--mobile']) {
  /* Secondary Fields */
}
:host [class*='--mobile'] .tr {
  display: inline-block;
  width: 100%;
  border-bottom: 1px solid #D8DDE6;
}
:host [class*='--mobile'] .tr .td.selection {
  position: absolute;
  padding: 15px;
}
:host [class*='--mobile'] .tr .td.container {
  text-align: left;
  font-size: 1.1rem;
  font-weight: 400;
  position: inherit;
}
:host [class*='--mobile'] .tr .td.container.primary {
  background-color: #f4f6f9;
  padding: 5px 0 5px 45px;
  outline: none;
}
:host [class*='--mobile'] .tr .td.container.primary.sbBundleOption {
  color: #696969;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent1 {
  padding-left: 60px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent1.option {
  padding-left: 80px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent2 {
  padding-left: 80px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent2.option {
  padding-left: 100px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent3 {
  padding-left: 100px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent3.option {
  padding-left: 120px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent4 {
  padding-left: 120px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent4.option {
  padding-left: 140px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent5 {
  padding-left: 140px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent5.option {
  padding-left: 160px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent6 {
  padding-left: 160px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent6.option {
  padding-left: 180px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent7 {
  padding-left: 200px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent7.option {
  padding-left: 220px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent8 {
  padding-left: 220px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent8.option {
  padding-left: 240px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent9 {
  padding-left: 240px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent9.option {
  padding-left: 260px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent10 {
  padding-left: 260px;
}
:host [class*='--mobile'] .tr .td.container.primary.sbIndent10.option {
  padding-left: 280px;
}
:host [class*='--mobile'] .tr .lineActions {
  display: inline-block;
  position: relative;
}
:host [class*='--mobile'] .tr sb-swipe-container {
  min-width: 100%;
}
:host [class*='--mobile'] .tr sb-swipe-container div#swipe-header {
  min-width: 100%;
}
:host [class*='--mobile'] .secondary {
  padding: 10px;
}
:host [class*='--mobile'] .secondary .hiddenInMobile {
  display: none;
}
:host [class*='--mobile'] .secondary .field-label {
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
:host #content sb-lookup {
  --sbTypeaheadSelectorWidth: 97.5%;
}
#root[class*='--desktop'] {
  position: relative;
  display: inherit;
}
.tr[class*='--desktop'] > div > .td:hover {
  background-color: var(--sbTableRowBgColor);
}
.tr[class*='--desktop'] > div > .td.sf-has-focus {
  box-shadow: #0070d2 0 0 0 1px inset;
}
.tr[class*='--desktop'] .container.right {
  text-align: right;
  padding-right: 18px;
}
.tr[class*='--desktop'] .container.center.boolean div.r {
  text-align: right;
  padding-right: calc(50% - 8px);
}
.tr[class*='--desktop'] .container div.w {
  display: flex;
  position: absolute;
  top: -1px;
  left: -1px;
  min-height: 50px;
  width: 17rem;
  background-color: #FFF;
  border-radius: 0.25rem;
  border: 1px solid #dddbda;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  z-index: 9001;
}
.tr[class*='--desktop'] .container div.w > div {
  width: 100%;
  vertical-align: middle;
  text-align: center;
  padding: 0.25rem 0.25rem 0.25rem 0.25rem;
  min-height: 50px;
}
.tr[class*='--desktop'] .container:not(.editable).right div.r:before,
.tr[class*='--desktop'] .container:not(.editable).center div.r:before,
.tr[class*='--desktop'] .container:not(.editable):not(.right):not(.center) div.r:after {
  content: '\\e874';
  color: var(--sbFieldEditableIconColor);
  font-family: 'sf-icons';
  display: none;
}
div.sf-standard-table.sf-le-table-row[class*='--desktop']:last-child div.w {
  left: -110px;
}
.tr.focused[class*='--desktop'] {
  background-color: var(--sbTableRowHoverColor);
}
.tr.focused[class*='--desktop']:not(.largeQuote) {
  cursor: all-scroll;
}
.td[class*='--desktop'] {
  overflow-x: hidden;
  padding-left: 5px;
  border-bottom: none;
}
.td.top-level[class*='--desktop'] {
  padding-left: 25px;
}
.td.sbBundleOption[class*='--desktop'] {
  color: #696969;
}
.td.sbIndent1[class*='--desktop'] {
  padding-left: 25px;
}
.td.sbIndent1.option[class*='--desktop'] {
  padding-left: 40px;
}
.td.sbIndent2[class*='--desktop'] {
  padding-left: 40px;
}
.td.sbIndent2.option[class*='--desktop'] {
  padding-left: 60px;
}
.td.sbIndent3[class*='--desktop'] {
  padding-left: 60px;
}
.td.sbIndent3.option[class*='--desktop'] {
  padding-left: 80px;
}
.td.sbIndent4[class*='--desktop'] {
  padding-left: 80px;
}
.td.sbIndent4.option[class*='--desktop'] {
  padding-left: 100px;
}
.td.sbIndent5[class*='--desktop'] {
  padding-left: 100px;
}
.td.sbIndent5.option[class*='--desktop'] {
  padding-left: 120px;
}
.td.sbIndent6[class*='--desktop'] {
  padding-left: 120px;
}
.td.sbIndent6.option[class*='--desktop'] {
  padding-left: 140px;
}
.td.sbIndent7[class*='--desktop'] {
  padding-left: 140px;
}
.td.sbIndent7.option[class*='--desktop'] {
  padding-left: 160px;
}
.td.sbIndent8[class*='--desktop'] {
  padding-left: 160px;
}
.td.sbIndent8.option[class*='--desktop'] {
  padding-left: 180px;
}
.td.sbIndent9[class*='--desktop'] {
  padding-left: 180px;
}
.td.sbIndent9.option[class*='--desktop'] {
  padding-left: 200px;
}
.td.sbIndent10[class*='--desktop'] {
  padding-left: 200px;
}
.td.sbIndent10.option[class*='--desktop'] {
  padding-left: 220px;
}
.lineActions[class*='--desktop'] {
  min-width: 95px;
  max-width: 95px;
  overflow-x: visible;
}
.lineActions[class*='--desktop'] .sb-icon-info-circled {
  color: var(--sbIconColor);
  cursor: default;
}
.lineActions[class*='--desktop'] .sb-icon-info-circled:hover {
  color: var(--sbIconHoverColor);
}
#itemNumber[class*='--desktop'] {
  min-width: 40px;
  max-width: 40px;
}
#itemNumber[class*='--desktop'] #expandCollapseIcon:hover {
  cursor: pointer;
}
#itemNumber[class*='--desktop'] #expandCollapseIcon.segmentedContainer.sf-icon-down {
  padding-left: 6px;
}
.td.selection[class*='--desktop'],
.td.boolean[class*='--desktop'] {
  min-width: 30px;
  max-width: 30px;
}
.imgFormula[class*='--desktop'] {
  display: inline-block;
}
.imgFormula[class*='--desktop'] img {
  max-width: 150px;
}
.td.boolean[class*='--desktop'] div.r:before {
  padding-right: 1px;
}
.drawerContainer[class*='--desktop'] {
  min-width: 40px;
  max-width: 40px;
  background-color: #eef1f6;
  color: #0070d2;
}
.drawerContainer[class*='--desktop']:hover {
  cursor: pointer;
}
.sf-icon-chevronright[class*='--desktop']:before {
  font-weight: bold;
}
.swipeContainer[class*='--desktop'] {
  display: table-cell;
}
.tr.placeholder[class*='--desktop'] {
  color: #d8dde6;
  opacity: 0;
  cursor: copy;
}
.tr.placeholder[class*='--desktop'] sb-field {
  cursor: copy;
}
@-webkit-keyframes checkmark-expand {
  0% {
    -webkit-transform: scale(0, 0) rotate(45deg);
  }
  100% {
    -webkit-transform: scale(1, 1) rotate(45deg);
  }
}
@keyframes checkmark-expand {
  0% {
    transform: scale(0, 0) rotate(45deg);
  }
  100% {
    transform: scale(1, 1) rotate(45deg);
  }
}
[class*='--desktop'] #root {
  position: relative;
  display: inherit;
}
[class*='--desktop'] .tr > div > .td:hover {
  background-color: var(--sbTableRowBgColor);
}
[class*='--desktop'] .tr > div > .td.sf-has-focus {
  box-shadow: #0070d2 0 0 0 1px inset;
}
[class*='--desktop'] .tr .container.right {
  text-align: right;
  padding-right: 18px;
}
[class*='--desktop'] .tr .container.center.boolean div.r {
  text-align: right;
  padding-right: calc(50% - 8px);
}
[class*='--desktop'] .tr .container div.w {
  display: flex;
  position: absolute;
  top: -1px;
  left: -1px;
  min-height: 50px;
  width: 17rem;
  background-color: #FFF;
  border-radius: 0.25rem;
  border: 1px solid #dddbda;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  z-index: 9001;
}
[class*='--desktop'] .tr .container div.w > div {
  width: 100%;
  vertical-align: middle;
  text-align: center;
  padding: 0.25rem 0.25rem 0.25rem 0.25rem;
  min-height: 50px;
}
[class*='--desktop'] .tr .container:not(.editable).right div.r:before,
[class*='--desktop'] .tr .container:not(.editable).center div.r:before,
[class*='--desktop'] .tr .container:not(.editable):not(.right):not(.center) div.r:after {
  content: '\\e874';
  color: var(--sbFieldEditableIconColor);
  font-family: 'sf-icons';
  display: none;
}
[class*='--desktop'] div.sf-standard-table.sf-le-table-row:last-child div.w {
  left: -110px;
}
[class*='--desktop'] .tr.focused {
  background-color: var(--sbTableRowHoverColor);
}
[class*='--desktop'] .tr.focused:not(.largeQuote) {
  cursor: all-scroll;
}
[class*='--desktop'] .td {
  overflow-x: hidden;
  padding-left: 5px;
  border-bottom: none;
}
[class*='--desktop'] .td.top-level {
  padding-left: 25px;
}
[class*='--desktop'] .td.sbBundleOption {
  color: #696969;
}
[class*='--desktop'] .td.sbIndent1 {
  padding-left: 25px;
}
[class*='--desktop'] .td.sbIndent1.option {
  padding-left: 40px;
}
[class*='--desktop'] .td.sbIndent2 {
  padding-left: 40px;
}
[class*='--desktop'] .td.sbIndent2.option {
  padding-left: 60px;
}
[class*='--desktop'] .td.sbIndent3 {
  padding-left: 60px;
}
[class*='--desktop'] .td.sbIndent3.option {
  padding-left: 80px;
}
[class*='--desktop'] .td.sbIndent4 {
  padding-left: 80px;
}
[class*='--desktop'] .td.sbIndent4.option {
  padding-left: 100px;
}
[class*='--desktop'] .td.sbIndent5 {
  padding-left: 100px;
}
[class*='--desktop'] .td.sbIndent5.option {
  padding-left: 120px;
}
[class*='--desktop'] .td.sbIndent6 {
  padding-left: 120px;
}
[class*='--desktop'] .td.sbIndent6.option {
  padding-left: 140px;
}
[class*='--desktop'] .td.sbIndent7 {
  padding-left: 140px;
}
[class*='--desktop'] .td.sbIndent7.option {
  padding-left: 160px;
}
[class*='--desktop'] .td.sbIndent8 {
  padding-left: 160px;
}
[class*='--desktop'] .td.sbIndent8.option {
  padding-left: 180px;
}
[class*='--desktop'] .td.sbIndent9 {
  padding-left: 180px;
}
[class*='--desktop'] .td.sbIndent9.option {
  padding-left: 200px;
}
[class*='--desktop'] .td.sbIndent10 {
  padding-left: 200px;
}
[class*='--desktop'] .td.sbIndent10.option {
  padding-left: 220px;
}
[class*='--desktop'] .lineActions {
  min-width: 95px;
  max-width: 95px;
  overflow-x: visible;
}
[class*='--desktop'] .lineActions .sb-icon-info-circled {
  color: var(--sbIconColor);
  cursor: default;
}
[class*='--desktop'] .lineActions .sb-icon-info-circled:hover {
  color: var(--sbIconHoverColor);
}
[class*='--desktop'] #itemNumber {
  min-width: 40px;
  max-width: 40px;
}
[class*='--desktop'] #itemNumber #expandCollapseIcon:hover {
  cursor: pointer;
}
[class*='--desktop'] #itemNumber #expandCollapseIcon.segmentedContainer.sf-icon-down {
  padding-left: 6px;
}
[class*='--desktop'] .td.selection,
[class*='--desktop'] .td.boolean {
  min-width: 30px;
  max-width: 30px;
}
[class*='--desktop'] .imgFormula {
  display: inline-block;
}
[class*='--desktop'] .imgFormula img {
  max-width: 150px;
}
[class*='--desktop'] .td.boolean div.r:before {
  padding-right: 1px;
}
[class*='--desktop'] .drawerContainer {
  min-width: 40px;
  max-width: 40px;
  background-color: #eef1f6;
  color: #0070d2;
}
[class*='--desktop'] .drawerContainer:hover {
  cursor: pointer;
}
[class*='--desktop'] .sf-icon-chevronright:before {
  font-weight: bold;
}
[class*='--desktop'] .swipeContainer {
  display: table-cell;
}
[class*='--desktop'] .tr.placeholder {
  color: #d8dde6;
  opacity: 0;
  cursor: copy;
}
[class*='--desktop'] .tr.placeholder sb-field {
  cursor: copy;
}
@-webkit-keyframes checkmark-expand {
  0% {
    -webkit-transform: scale(0, 0) rotate(45deg);
  }
  100% {
    -webkit-transform: scale(1, 1) rotate(45deg);
  }
}
@keyframes checkmark-expand {
  0% {
    transform: scale(0, 0) rotate(45deg);
  }
  100% {
    transform: scale(1, 1) rotate(45deg);
  }
}
`;class Ho extends Ve.Pu{static get is(){return"sf-line-warning"}static get properties(){return{key:String,message:String}}static get template(){return Ve.qy`
			<style include="sb-icons-styles"></style>
			<style>${jo}</style>
			
			<i class="sf-icon-warning"></i>
			<paper-tooltip position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
			<sb-i18n key="[[key]]">[[message]]</sb-i18n>
			</paper-tooltip>
		`}}customElements.define(Ho.is,Ho);const Vo=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host table th {
  text-align: left;
  font-weight: normal;
  padding: 10px 5px 5px 15px;
}
:host table td {
  padding: 10px 15px 5px 15px;
}
`;class Uo extends(Oo(fo(Ve.Pu))){static get is(){return"sf-segmented-cell-tooltip"}static get properties(){return{lineModel:Object,field:String}}static get observers(){return["_initObserver(lineModel, field)"]}_initObserver(e,t){if(void 0!==e&&void 0!==t)return this._init(e,t)}_init(){if(this.lineModel&&this.field){let e=this._getSegmentedLine(),t=this.lineModel.editorModel,i=t.data.multiSegmentLineFieldNames,o=t.md.fieldsMap[t.data.quoteLineObjectName],r=t.md.fieldLabelsMap,n=this._prepareLineData(e,i,o),s=(new F).generateSegmentedTooltipFieldSetTemplate(i,r,t);this.templateInstance=this.hydrateTemplate(s,n),this.shadowRoot.querySelector("#content").appendChild(this.templateInstance.root)}}_prepareLineData(e,t,i){return de.prepareLineData([e],t,i)[0]}_getSegmentedLine(){let e=this.lineModel;if(this.lineModel&&null!=this.lineModel.segmentsByLabel){let t=Object.keys(this.lineModel.segmentsByLabel).find((e=>(/^\d/.test(e)&&(e="_"+e),this.field===e.replace(/\W/g,""))));t&&(e=this.lineModel.segmentsByLabel[t])}return e}static get template(){return Ve.qy`
			<style>${Vo}</style>
			<style include="sb-common-styles"></style>
			<div id="content"></div>
		`}}function zo(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function $o(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}customElements.define(Uo.is,Uo);class Wo extends((0,Fe.g)(Io(Oo(fo((0,bt.b)(Ve.Pu)))))){static get is(){return"sf-le-table-row"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?zo(Object(i),!0).forEach((function(t){$o(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):zo(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({lineModel:{type:Object,notify:!0,observer:"_modelChanged"},isSegmented:{type:Boolean,value:!1},columnWidths:{type:Object,observer:"_columnsResized"},secondaryRowTemplate:{type:Object,observer:"_secondaryRowTemplateChanged"},isDirty:Boolean,dataIndex:{type:Number,reflectToAttribute:!0},expansionDisabled:{type:Boolean,value:!1},eventListeners:{type:Object,value:{click:"onTap",change:"onChange","selected-date-changed":"onChange","rte-value-changed":"onChange","lookup-value-changed":"onChange"}}},fo.properties)}constructor(){super(),this._deviceDelegate=o.B.isMobile?Do.getInstance():Bo.getInstance(),this._deviceDelegate.initListeners(this)}static get observers(){return["_recordChanged(lineModel.lineVO.record.*)","_expansionChanged(lineModel.lineVO.expanded)","_selectionChanged(lineModel.selected)","_bundleExpansionChanged(lineModel.bundleCollapsed)"]}ready(){super.ready(),this.deviceClasses="";let e=(0,Le.j)();for(let t of e)this.deviceClasses+=t+" "}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,r.f3)(this,this.eventListeners)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,r.UQ)(this,this.eventListeners)}getContentNode(){return this.shadowRoot.querySelector("#content")}getControllingFields(){return[new Ao,new Fo,new No,new Ro,new qo]}postPopulateContent(){this._deviceDelegate.updateTemplate(this),this._resetPencilLoaded(),this._refreshDirtyIndicators(),this.uiData.hasLineWarning&&this._loadLineWarning()}_loadLineWarning(){let e=this.shadowRoot.querySelector("#itemNumber .warning");if(e&&!e.hasChildNodes()){let t=document.createElement("sf-line-warning");t.key=this.uiData.lineWarningKey,t.message=this.uiData.lineWarningMsg,t.style.display="revert",t.style.borderBottomWidth="0px",e.appendChild(t)}}_recordChanged(e,t){if(this.templateInstance){let t=e.path;if(t!==U.recordPath){let i=t.substring(U.recordPath.length+1),o=e.value,r=this._getFieldMetadata(i);if(r){let t=ae.Z.formatFieldData(this.lineModel,o,r,this._getRecord());this._restampField(i,t),this._handleChangeControllingField(r.name,e.value);const n=this.shadowRoot.querySelector(`div.td[field="${i}"] div.w`);n&&this._deviceDelegate._updateEditableField(n.parentElement,this,i,r,n)}}else this.templateInstance.lineModel=this.lineModel}}onRteCancel(e){let t=lo(e);this.toggleInlineEdit(t,!1),t.removeChild(t.querySelector(".w")),this._applyFocus(t,e)}_updateDependentPicklist(e){let t=this._getEditorModel().getDependentFields(e);t&&t.length>0&&t.forEach((t=>{let i=this._getFieldValue(t);if(null!==i){let o=this._getFieldMetadata(t),r=new xo.Q(o,this._getFieldValue(e)).build();("multipicklist"===o.type?i.split(";"):[i]).some((e=>!r.some((t=>t.value===e))&&(this._clearFieldValue(t),this._updateDependentPicklist(t),!0)))}}))}_handleChangeControllingField(e,t){this.getControllingFields().forEach((i=>{i.getFieldName()==e&&i.updateControlledFields(this,t)}))}_formatNewValue(e,t){let i,o=this._getFieldValue(e);e===P.q.constants.QUANTITY_FIELD&&t.scale!==this.lineModel.lineVO.productQuantityScale&&null!=this.lineModel.lineVO.productQuantityScale&&(i=JSON.parse(JSON.stringify(t)),i.scale=this.lineModel.lineVO.productQuantityScale);let r=i||t,n=ae.Z.formatFieldData(this.lineModel,o,r,this._getRecord());return this._restampField(e,n),o}hook_onHovered(e){this.isSegmented&&this._handleSegmentedCellHover(e),this._handleEditableCellsHover()}hook_onTap(e,t,i){let r=this._getEditorModel();this._deviceDelegate.onTap(e,this);let n=this.findElementForEvent(e,"checkboxcontainer");if(n&&this.toggleCheckbox(n),!t){if(r.hasDrawerFields()){this.findElementForEvent(e,"drawerContainer")&&this.toggleDrawer()}if(this.lineModel.segments){this.findElementForEvent(e,"segmentedContainer")&&this.toggleDrawer()}if(o.B.isBundleCollapsible(this._getEditorModel())){this.findElementForEvent(e,"collapsible-bundle")&&this.toggleBundleExpansion()}}}onKeyDown(e){this._deviceDelegate.onKeyDown(e,this)}onRowSwiped(e){this._deviceDelegate.onRowSwiped(e,this)}toggleCheckbox(e){if(e&&e.parentElement){let t=e.parentElement.parentElement,i=e.querySelector("input[type=checkbox]");if(t&&i)if(t.classList.contains(F.classNames.EDITABLE)){let e=t.getAttribute("field");e&&(this.set(`lineModel.lineVO.record.${e}`,!i.checked),this._calculateImmediately(e)&&this.dispatchEvent((0,r.uv)("calculate-immediately")))}else e.parentElement.classList.contains(F.classNames.SELECTION)&&this._getEditorModel().data.settings.multiLineDeleteEnabled&&(this.set("lineModel.selected",!i.checked),i.checked?this.lineModel.groupModel.quoteModel.selectedLinesByKey[this.lineModel.lineVO.key]=this.lineModel:delete this.lineModel.groupModel.quoteModel.selectedLinesByKey[this.lineModel.lineVO.key])}}toggleDrawer(){this.toggleExpanded(),this._getEditorModel().largeQuoteExperienceEnabled&&this.dispatchEvent((0,r.uv)("line-toggled",{index:this._getLineNumber()-1}))}toggleExpanded(){let e=!this.lineModel.lineVO.expanded;return this.set("lineModel.lineVO.expanded",e),e}_expansionChanged(e,t){this._deviceDelegate.expansionChanged(e,t,this)}toggleBundleExpansion(){const e=!this.lineModel.bundleCollapsed;this.set("lineModel.bundleCollapsed",e)}_bundleExpansionChanged(e){if(void 0===e)return;const t="l"+this.lineModel.lineVO.key;(0,R.Jt)("BundleCollapsed",[t])!==e&&(this._restampField("_caretContent",e?F.classNames.CHEVRON_RIGHT_CONTENT:F.classNames.CHEVRON_DOWN_CONTENT),setTimeout((()=>{this.dispatchEvent((0,r.uv)("bundle-toggled",{key:this.lineModel.lineVO.key,expanded:!e}))})),(0,R.yJ)("BundleCollapsed",["l"+this.lineModel.lineVO.key],e))}_selectionChanged(){this._getEditorModel().isMultiLineDeleteEnabled()&&this._applySelectionCheckboxStatus()}_applySelectionCheckboxStatus(){let e=this.shadowRoot.querySelector(".checkboxcontainer");if(e&&!e.classList.contains(F.classNames.DISABLED)){e.querySelector("input[type=checkbox]").checked=this.lineModel.selected}}_getFieldMetadata(e,t){return this._getEditorModel().getFieldMetadata(e,t)}_getEditorModel(){return this.lineModel.editorModel}_getLineNumber(){return this.uiData.lineNumber}_getRecord(){return this.uiData.lineModel.lineVO.record}_getOriginalRecord(){return this.uiData.lineModel.lineVO.ui_original_record}_isEditable(e){return this.uiData.lineModel.isEditable(e)}_getFieldValue(e){return this._getRecord()[e]}_clearFieldValue(e){this.set(`lineModel.lineVO.record.${e}`,null),this.templateInstance&&this._restampField(e,null)}_updateFieldValue(e,t){this.set(`lineModel.lineVO.record.${e}`,t)}_modelChanged(){(0,z.Nj)(this,"lineModel"),this.listenedOnTrackHandler&&(0,gt.pQ)(this,"track",this.listenedOnTrackHandler),this._isDragAndDropEnabled()&&(this.listenedOnTrackHandler=this.listenedOnTrackHandler||this.onTrack.bind(this),(0,gt.ch)(this,"track",this.listenedOnTrackHandler))}_isDragAndDropEnabled(){return o.B.isDesktop&&!this.lineModel.editorModel.largeQuoteExperienceEnabled}_handleSegmentedCellHover(e){let t=this.findElementForEvent(e,"container");if(t){let e=t.getAttribute("field");if(e&&!e.endsWith("__c")&&"total"!==e&&!t.querySelector("paper-tooltip")){let i=document.createElement("paper-tooltip");i.position="bottom",i.animationDelay=0,t.appendChild(i);let o=document.createElement("sf-segmented-cell-tooltip");o.lineModel=this.lineModel,o.field=e,i.appendChild(o)}}}_handleEditableCellsHover(e){if(!this._pencilLoaded||e){let e=this.shadowRoot.querySelectorAll(".container.editable");if(e&&e.length>0){let t=Array.from(e),i=!1;t.forEach((e=>{if(!e.querySelector("span.pencil")){i=!0;let t=document.createElement("span");if(t.classList.add(F.classNames.EDIT_ICON),e.classList.contains(F.classNames.RIGHT)||e.classList.contains(F.classNames.CENTER)){let i=e.querySelector("div.r");i.insertBefore(t,i.firstChild)}else e.querySelector("div.r").appendChild(t)}})),setTimeout((()=>{this.dispatchEvent((0,r.uv)("line-toggled",{index:this.dataIndex}))}))}this._pencilLoaded=!0}}_isAdditionalDiscountUpdated(e,t){let i={editorModel:this._getEditorModel(),constants:this.uiData.lineModel.constants,lineVO:this.uiData.lineModel.lineVO,getField:t=>e[t],getLineVOProperty:t=>e[t]};const o=(0,V.$t)(i,t),r=(0,V.$t)(this.uiData.lineModel,t);return o.displayValue!==r.displayValue||o.unit!==r.unit}_columnsResized(e,t){null!=e&&null!=t&&Object.keys(e).forEach((t=>{let i=this.shadowRoot.querySelector(`div.container[field='${t}']`);i&&(i.style.minWidth=e[t]+"px",i.style.maxWidth=e[t]+"px")}))}onTrack(e){if(e){if(this.shadowRoot.querySelector("div.w"))return;let t=e.composedPath();for(let e=0,i=t.length;e<i;e++){let i=t[e].nodeName;if("SB-DIALOG"===i||"TEXTAREA"===i)return}(0,L.bv)(this).onTrack(e)}}deepCloneNode(){return(0,L.mk)(this)}_applyFocus(e,t){this._deviceDelegate.applyFocus(e,t,this)}_calculateImmediately(e){return P.q.shouldCalulateImmediately(e,o.B.org.calculateImmediately,this.lineModel.quoteModel)}toggleCellClass(e,t,i,o){if((0,L.p1)(e,t,i),this.lineModel){const i=this.lineModel.cellClasses[o]||{};i[e]=t,this.lineModel.cellClasses[o]=i}}_getFieldMetadataForInlineEdit(e){return this._getFieldMetadata(e,this.lineModel.quoteModel.quoteVO.record)}toggleInlineEditForDeviceDelegate(e,t,i,o,r){this._deviceDelegate.toggleInlineEdit(e,t,i,o,this,r)}fireCalculateImmediately(e){this._calculateImmediately(e)&&this.dispatchEvent((0,r.uv)("calculate-immediately"))}checkIsDirty(e,t,i){return P.q.isDiscountField(i)?this._isAdditionalDiscountUpdated(t,i):e!==t[i]}handleControllingPicklistAndFields(e,t,i,o){e.controllingPicklist?this._updateDependentPicklist(t):e.relationshipName&&"lookup-value-changed"===i?this._getRecord()[e.relationshipName]=null==o.value?void 0:{Id:o.value,Name:o.refDisplay}:this._handleChangeControllingField(e.name,o.value)}_getEditField(e,t){return Co.getFieldComponent(e,this.lineModel,t)}getCellClass(){return"sf-le-table-cell"}_secondaryRowTemplateChanged(){o.B.isMobile&&this._deviceDelegate&&this.lineModel&&this.lineModel.lineVO&&this.lineModel.lineVO.expanded&&this._deviceDelegate.expansionChanged(!0,!1,this)}static get template(){return Ve.qy`
			<style>${jo}</style>
			<style include="sb-common-styles sb-tables-styles sb-icons-styles 
				sb-forms-styles"></style>
			<div id="content" class$="tr [[deviceClasses]]">
			</div>
		`}}customElements.define(Wo.is,Wo);var Qo=i(7189),Go=i(9815);class Ko{constructor(e){this.model=e,this.indexes={}}isSourceLine(){return this.model.existing}getLine(){return this.model.lineVO}getLines(){return this.model.groupModel.standardLines}getSourceOrUpgrade(e){let t;if(this.model.editorModel.data.settings.bundleKeptTogether)t=this._findLineWithTargetAssetId(e,this.model.groupModel);else{let i=this.model.groupModel.quoteModel.lineGroups;for(let o=0,r=i.length;o<r&&!t;o++)t=this._findLineWithTargetAssetId(e,i[o])}return t}_findLineWithTargetAssetId(e,t){let i,o=!e,r=this.model.lineVO.record[this.constants.UPGRADED_ASSET_FIELD];for(let e=0,n=t.standardLines.length;e<n;e++){let n=t.standardLines[e];if(n.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]===r&&n.lineVO.record[this.constants.EXISTING_FIELD]===o){let t=o?"sourceIndex":"upgradeIndex";this.indexes[t]=e,i=n.lineVO}if(this.model.lineVO.key===n.lineVO.key){let t=!this.indexes.sourceIndex&&this.model.existing?"sourceIndex":"upgradeIndex";this.indexes[t]=e}}return i}setSourceAndUpgrade(e,t){this.sourceLineVO=e,this.upgradeLineVO=t}getSourceIdField(){return this.constants.PRODUCT}getUpgradeConversionRateField(){return this.constants.UPGRADE_CONVERSION_RATE}getSourceCurrentQuantityField(e){return e.record[this.constants.QUANTITY_FIELD]}getUpgradeCurrentQuantityField(e){return e.record[this.constants.QUANTITY_FIELD]}getSourcePriorQuantity(e){return e.record[this.constants.PRIOR_QUANTITY_FIELD]}didSourceQuantityChange(e){return e}didUpgradeQuantityChange(e){return!e}isSelected(){return!0}setUpdatedQuantity(e,t,i,o){e.record[this.constants.QUANTITY_FIELD]=i,t.record[this.constants.QUANTITY_FIELD]=o}getIndexes(){return this.indexes}getSourceLineVO(){return this.sourceLineVO}getUpgradeLineVO(){return this.upgradeLineVO}get constants(){return this.model.fieldNames}}var Yo=i(3218);const Xo=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  width: 100%;
  height: var(--sbTableCellHeight);
  table-layout: auto;
  font-family: var(--sbTableHeaderFontFamily);
  font-size: var(--sbTableHeaderFontSize);
  font-weight: var(--sbTableHeaderFontWeight);
  font-style: var(--sbTableHeaderFontStyle);
  text-decoration: var(--sbTableHeaderTextDecoration);
  padding-top: var(--sbTableCellPaddingTop);
  padding-right: var(--sbTableCellPaddingRight);
  padding-bottom: var(--sbTableCellPaddingBottom);
  padding-left: var(--sbTableCellPaddingLeft);
  text-transform: uppercase;
}
:host .sf-icon-arrowup,
:host .sf-icon-arrowdown {
  visibility: hidden;
  color: var(--sbIconColor);
  font-size: 13px;
}
:host .sf-icon-arrowup::before,
:host .sf-icon-arrowdown::before {
  vertical-align: center;
}
:host .asc,
:host .desc {
  color: var(--sbIconColor);
}
:host .asc > span > .sf-icon-arrowup {
  visibility: visible;
}
:host .desc > span > .sf-icon-arrowdown {
  visibility: visible;
}
:host .desc > span > .sf-icon-arrowup {
  visibility: hidden !important;
}
:host .bundlesVisualized {
  padding-left: 20px;
}
:host .column-header {
  padding-right: 3px;
}
:host .column-header:hover {
  color: var(--sbIconColor);
  cursor: pointer;
}
:host .column-header:hover > span > .sf-icon-arrowup {
  visibility: visible;
}
:host div#header span {
  padding: 2px 0;
}
:host .right[class*='--desktop'] {
  text-align: right;
}
:host .unsortable-header[class*='--desktop'] {
  padding-right: 15px;
}
:host [class*='--desktop'] .right {
  text-align: right;
}
:host [class*='--desktop'] .unsortable-header {
  padding-right: 15px;
}
:host([class*='--desktop'].innerTh) {
  padding-left: 5px;
}
:host([class*='--desktop'] .innerTh) {
  padding-left: 5px;
}
:host(.innerTh) #header {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
:host(.detailFieldName) {
  padding: 3px;
  white-space: nowrap;
}
:host(.detailFieldName) span {
  display: inline-block;
}
@media screen and (min-width: 480px) {
  :host(.center) {
    text-align: center;
  }
}
:host([class*='--desktop'].detailFieldName.hiddenInDesktop) {
  display: none;
}
:host([class*='--desktop'] .detailFieldName.hiddenInDesktop) {
  display: none;
}
:host([class*='--desktop'].hoverFieldHeader) {
  text-transform: capitalize;
  height: 100%;
  display: block;
  padding: 5px;
}
:host([class*='--desktop'] .hoverFieldHeader) {
  text-transform: capitalize;
  height: 100%;
  display: block;
  padding: 5px;
}
paper-tooltip[class*='--desktop'] {
  text-transform: capitalize;
}
[class*='--desktop'] paper-tooltip {
  text-transform: capitalize;
}
`;class Jo extends((0,Yo.N)((0,Le.$)(Ve.Pu))){static get is(){return"sb-le-table-header-cell"}static get properties(){return{byOrder:String,model:{type:Object,observer:"_modelChanged"},showSortableHeader:{type:Boolean,computed:"_showSortableHeader(model)"},constants:{type:Object,value:function(){return new Y.Y(o.B.org.prefix+"__")}},overflowTrue:{type:Boolean,value:!1}}}_modelChanged(){this.observeNode(this.$.headerCell,function(){let e=this.shadowRoot.querySelector("#header");(0,L.p1)("right",this.model[this.value],e);let t=this.model.settings&&this.model.settings.productHierarchyVisualized&&this.model.isStandard&&this.getAttribute("item")===this.constants.PRODUCT_NAME_FIELD;(0,L.p1)("bundlesVisualized",t,e)}.bind(this))}sortLines(e){let t="",i=this.parentElement.children;for(let e=0;e<i.length;e++)(0,L.p1)("asc",!1,i[e].shadowRoot.querySelector("#header")),(0,L.p1)("desc",!1,i[e].shadowRoot.querySelector("#header")),i[e].shadowRoot.querySelector("#arrow")&&(0,L.p1)("sf-icon-arrowup",!0,i[e].shadowRoot.querySelector("#arrow")),i[e].shadowRoot.querySelector("#arrow")&&(0,L.p1)("sf-icon-arrowdown",!1,i[e].shadowRoot.querySelector("#arrow")),i[e].classList.remove("column-selected");this.byOrder?"asc"===this.byOrder?(t="desc",(0,L.p1)("sf-icon-arrowup",!1,this.shadowRoot.querySelector("#arrow")),(0,L.p1)("sf-icon-arrowdown",!0,this.shadowRoot.querySelector("#arrow"))):"desc"===this.byOrder&&(t=""):(t="asc",(0,L.p1)("sf-icon-arrowup",!0,this.shadowRoot.querySelector("#arrow"))),this.sortByField=t?this._getKeyByValue(this.value,this.data):null,(0,L.p1)("column-selected",!0,this.shadowRoot.querySelector("#header")),this.byOrder=t,t&&(0,L.p1)(t,!0,this.shadowRoot.querySelector("#header")),this.dispatchEvent((0,r.uv)("table-header-sort-clicked",{order:this.byOrder,field:this.sortByField}))}_showSortableHeader(){return!this.model.lineVO&&this.getAttribute("item")!==this.constants.ADDITIONAL_DISCOUNT_FIELD&&!this.classList.contains("hoverFieldHeader")}_getKeyByValue(e,t){for(let i in t)if(t.hasOwnProperty(i)&&t[i]===e)return i}getHeader(){return this.shadowRoot.querySelector("#header")}static get template(){return Ve.qy`
		<style>${Xo}</style>
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<div device class="th" id="headerCell">
				<template is="dom-if" if="[[showSortableHeader]]">
					<div id="header" class="td column-header">
						<span id="header-span" class="header-text" on-click="sortLines">
							[[value]]
							<i id="arrow" class="sf-icon-arrowup"></i>
						</span>
						<paper-tooltip for="header" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
							[[value]]
						</paper-tooltip>
					</div>
				</template>
				<template is="dom-if" if="[[!showSortableHeader]]">
					<div id="header" class="td unsortable-header">
						<span>[[value]]</span>
					</div>
					<template is="dom-if" if="[[overflowTrue]]">
						<paper-tooltip for="header" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
							[[value]]
						</paper-tooltip>
					</template>
				</template>
			</div>
		`}}customElements.define(Jo.is,Jo);const Zo=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host(.detailField) {
  padding: 3px;
}
:host(.hiddenInDesktop.drawerCell) #field[class*='--desktop'] {
  visibility: hidden;
}
:host([class*='--desktop'] .hiddenInDesktop.drawerCell) #field {
  visibility: hidden;
}
:host([class*='--desktop'].hiddenInDesktop:not(.drawerCell)) {
  visibility: hidden;
}
:host([class*='--desktop'] .hiddenInDesktop:not(.drawerCell)) {
  visibility: hidden;
}
:host(.drawerCell) .container {
  display: table-cell;
  padding: 6px 0;
  width: 100%;
  font-size: 14px;
  font-weight: 400;
  text-align: left;
}
:host(.drawerCell) .container .label {
  display: block;
  text-transform: uppercase;
  text-align: left;
  width: 100%;
  padding-right: 10px;
  min-width: 50%;
}
:host(.drawerCell) .container #field {
  display: block;
  min-height: 25px;
  text-align: left;
  width: 60%;
}
:host([class*='--desktop'].hoverField) {
  height: 100%;
  display: block;
  padding: 5px;
}
:host([class*='--desktop'] .hoverField) {
  height: 100%;
  display: block;
  padding: 5px;
}
:host([class*='--desktop'].innerTd) {
  padding-left: 5px;
  overflow-x: hidden;
}
:host([class*='--desktop'] .innerTd) {
  padding-left: 5px;
  overflow-x: hidden;
}
:host ul > li {
  list-style: disc;
}
:host ol > li {
  list-style: decimal;
}
:host ul,
:host ol {
  padding-left: 25px;
}
:host .container {
  display: flex;
  flex-direction: row;
  word-wrap: break-word;
  white-space: normal;
}
:host .container select {
  min-width: initial;
}
:host .container .label {
  display: none;
}
:host .container.overridden > #field {
  display: none;
}
:host .container.overridden > #overrideField {
  width: 100%;
}
:host .container:not(.overridden) > #field {
  width: 100%;
}
:host .container:not(.overridden) > #overrideField {
  display: none;
}
:host([class*='--desktop']) {
  -ms-overflow-style: none;
}
:host paper-tooltip[class*='--desktop'] .anchor {
  display: none;
}
:host paper-tooltip[class*='--desktop'] table tbody tr td {
  padding: 10px 0 5px 0;
}
:host paper-tooltip[class*='--desktop'] table tbody tr td:first-of-type {
  padding-left: 15px;
}
:host .right[class*='--desktop'] {
  text-align: right;
  padding-right: 18px;
}
:host .center[class*='--desktop'] {
  text-align: center;
}
:host .overridden[class*='--desktop'] {
  /* Not editable fields have lock icon hidden in desktop (shows on hover) */
}
:host .overridden.right[class*='--desktop']:hover > #overrideField::before,
:host .overridden[class*='--desktop']:not(.right):hover > #overrideField::after {
  content: '\\e874';
  color: #9faab5;
  font-family: 'sf-icons';
  padding: 0 5px;
}
:host([class*='--desktop']) {
  -ms-overflow-style: none;
}
:host [class*='--desktop'] paper-tooltip .anchor {
  display: none;
}
:host [class*='--desktop'] paper-tooltip table tbody tr td {
  padding: 10px 0 5px 0;
}
:host [class*='--desktop'] paper-tooltip table tbody tr td:first-of-type {
  padding-left: 15px;
}
:host [class*='--desktop'] .right {
  text-align: right;
  padding-right: 18px;
}
:host [class*='--desktop'] .center {
  text-align: center;
}
:host [class*='--desktop'] .overridden {
  /* Not editable fields have lock icon hidden in desktop (shows on hover) */
}
:host [class*='--desktop'] .overridden.right:hover > #overrideField::before,
:host [class*='--desktop'] .overridden:not(.right):hover > #overrideField::after {
  content: '\\e874';
  color: #9faab5;
  font-family: 'sf-icons';
  padding: 0 5px;
}
:host .sf-icon-chevrondown:before {
  line-height: 1.3em;
  padding-top: 2px;
  padding-right: 5px;
  color: gray;
}
:host .top-level {
  padding-left: 20px;
}
:host .sbIndent1 {
  padding-left: 20px;
}
:host .sbIndent1.option {
  padding-left: 40px;
}
:host .sbIndent2 {
  padding-left: 40px;
}
:host .sbIndent2.option {
  padding-left: 60px;
}
:host .sbIndent3 {
  padding-left: 60px;
}
:host .sbIndent3.option {
  padding-left: 80px;
}
:host .sbIndent4 {
  padding-left: 80px;
}
:host .sbIndent4.option {
  padding-left: 100px;
}
:host .sbIndent5 {
  padding-left: 100px;
}
:host .sbIndent5.option {
  padding-left: 120px;
}
:host .sbIndent6 {
  padding-left: 120px;
}
:host .sbIndent6.option {
  padding-left: 140px;
}
:host .sbIndent7 {
  padding-left: 140px;
}
:host .sbIndent7.option {
  padding-left: 160px;
}
:host .sbIndent8 {
  padding-left: 160px;
}
:host .sbIndent8.option {
  padding-left: 180px;
}
:host .sbIndent9 {
  padding-left: 180px;
}
:host .sbIndent9.option {
  padding-left: 200px;
}
:host .sbIndent10 {
  padding-left: 200px;
}
:host .sbIndent10.option {
  padding-left: 220px;
}
:host([class*='--mobile'].detailField) {
  padding-left: 25px;
}
:host([class*='--mobile'].detailField.primary.first) {
  display: inline-block;
  padding-top: 10px;
}
:host([class*='--mobile'].detailField.primary.multi) {
  display: inline-block;
  padding-bottom: 10px;
  border-top: 1px solid #f4f6f9;
}
:host([class*='--mobile'].detailField.secondary) {
  padding: 5px 0 5px 25px;
}
:host([class*='--mobile'].primary.multi) {
  border-bottom: 1px solid #d8dde6 !important;
}
:host([class*='--mobile'].secondary.expanded.hiddenInMobile) {
  display: none;
}
:host([class*='--mobile'].secondary) div[class*='sbIndent'] {
  padding-left: 0;
}
:host([class*='--mobile'].secondary) div.sb-icon-level-down:before {
  display: none;
}
:host([class*='--mobile'] .detailField) {
  padding-left: 25px;
}
:host([class*='--mobile'] .detailField.primary.first) {
  display: inline-block;
  padding-top: 10px;
}
:host([class*='--mobile'] .detailField.primary.multi) {
  display: inline-block;
  padding-bottom: 10px;
  border-top: 1px solid #f4f6f9;
}
:host([class*='--mobile'] .detailField.secondary) {
  padding: 5px 0 5px 25px;
}
:host([class*='--mobile'] .primary.multi) {
  border-bottom: 1px solid #d8dde6 !important;
}
:host([class*='--mobile'] .secondary.expanded.hiddenInMobile) {
  display: none;
}
:host([class*='--mobile'] .secondary) div[class*='sbIndent'] {
  padding-left: 0;
}
:host([class*='--mobile'] .secondary) div.sb-icon-level-down:before {
  display: none;
}
`;let er="sf-icon-chevrondown",tr="top-level",ir="option",or="sbIndent",rr="right",nr="center",sr="overridden";class ar extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-le-table-cell"}static get properties(){return{item:String,value:{notify:!0},model:{type:Object,notify:!0},fieldClass:String,data:Object,display:String,index:Number,detailsOnHover:{type:Boolean,value:!1},renderTooltip:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return j.L.getViewport()}},editable:Boolean,calculateImmediately:{type:Object,value:function(){return o.B.org.calculateImmediately}}}}_onTap(){}static get observers(){return["_modelIsChangedObserver(model, index, viewport)","_displayChanged(display)","_dataOrValueChangedObserver(data, value, item)","_updateOriginalValueObserver(model, item)","_editableChangedObserver(editable, model, item)"]}ready(){super.ready(),Object.entries({click:"_onTap","datepicker-opened":"_datePickerOpened","sb-field-on-change-field":"_handleFieldValueChanged"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])}))}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.wasModelIsChangedCalledBeforeAttached&&this._modelIsChanged(),this.model&&this.model.lineVO&&this.model.lineVO.record[this.constants.UPGRADED_ASSET_FIELD]&&this.model.groupModel&&this.model.groupModel.quoteModel.isAmendmentOrChangeQuote&&this.item===this.constants.QUANTITY_FIELD&&(this.quoteLineUpgradeHandler=new Ko(this.model),this.quoteLineUpgradeHandler.getSourceLineVO()&&this.quoteLineUpgradeHandler.getUpgradeLineVO()&&(this.addEventListener("value-changed",this._quantityChanged),this.assetUpgradeQuantityCalculator=new Go.K(this.quoteLineUpgradeHandler)))}_datePickerOpened(e){let t=e.detail.dateContainer,i=e.detail.datepicker,o=i.offsetParent.getBoundingClientRect(),r=t.getBoundingClientRect(),n=this.model.groupModel.quoteModel;!n.grouped&&n.editorModel.largeQuoteExperienceEnabled&&(i.style.left=`${-o.left+r.left}px`,i.style.top=r.bottom-o.top+"px"),r.left+i.offsetWidth>window.innerWidth&&(i.style.left="",i.style.right=o.right-r.right+17+"px"),e.stopPropagation()}_modelIsChangedObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this._modelIsChanged(e,t,i)}_modelIsChanged(){if(this.wasModelIsChangedCalledBeforeAttached=!this.isAttached,!this.isAttached||!this.model)return;if(this.item===this.constants.SUBSCRIPTION_SCOPE_FIELD&&!this.model.subscriptionScopeEditable)return void(this.fieldClass+=` ${sr}`);this.isMobile=this.viewport&&this.viewport.isMobile(),this.overrideEditable=this.classList.contains("mdqSummaryRow")||this.classList.contains("primary");let e=this._setEditable(),t=this._setFieldMD();this._setFieldClassAndFieldContent(t)||(!t.defaultValue||null!=this.value||t.controllingPicklist||t.dependentPicklist||(this.value=t.defaultValue),this.data&&this.value!=this.data[this.item]&&(this.value=this.data[this.item]),void 0===this.value&&(this.value=null),this.label=t.label,this.$.field.editing=e,this.$.field.md=t,this.$.field.property=this.item,this.model.segmented&&!/__c$/.test(this.item)&&"total"!=this.item&&(this.removeEventListener("mouseenter",this._showDetails),this.removeEventListener("mouseleave",this._showDetails),this.renderTooltip=!0,this.addEventListener("mouseenter",this._showDetails),this.addEventListener("mouseleave",this._showDetails)))}_updateOriginalValueObserver(e,t){if(void 0!==e&&void 0!==t)return this._updateOriginalValue(e,t)}_updateOriginalValue(){this.model.lineVO&&(this.model.lineVO.ui_original_record=this.model.lineVO.ui_original_record||JSON.parse(JSON.stringify(this.model.lineVO.record)));const e=this.get("model.lineVO.ui_original_record");this.$.field.originalValue=e[this.item]}_dataOrValueChangedObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this._dataOrValueChanged(e,t,i)}_dataOrValueChanged(e,t,i){this.internal=!0,this.userChangedLookupValue?this._updateRelationshipName():this._updateLookupDisplayValue(),this.$.field.value=this.model&&(0,V.ZO)(this.model,i)?(0,V.$t)(this.model,i).displayValue:t,this.internal=!1,this.userChangedLookupValue=!1}_updateRelationshipName(){if(!this.model)return;new Tt.u(this.item,this.data).addRelationshipName(this.value,this.display,this.model.getFieldMD(this.item).referenceTo[0])}_updateLookupDisplayValue(){let e=new Tt.u(this.item,this.data);e.hasRelationship()?this.display=e.getRelationshipName():this.display=void 0}_displayChanged(){this.userChangedLookupValue=!this.internal}_setEditable(){return!this.overrideEditable&&this.model.isEditable(this.item)}_editableChangedObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this._editableChanged(e,t,i)}_editableChanged(){this.$.field.editing=!this.overrideEditable&&this.model.isEditable(this.item)}_setFieldMD(){let e=this.model.getFieldMD(this.item)?this.model.getFieldMD(this.item):this.model.getFieldMD(this.constants.NET_TOTAL_FIELD);return e.CurrencyIsoCode=this.model.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode,this.constants.QUANTITY_FIELDS&&this.constants.QUANTITY_FIELDS.has(this.item)&&null!=this.model.lineVO.productQuantityScale&&(e=Object.assign({},e,{scale:this.model.lineVO.productQuantityScale})),e}_setFieldClassAndFieldContent(e){let t="";if(this.model.editorModel.data.settings.productHierarchyVisualized&&!this.model.segmented&&(this.isMobile?this.item!==this.constants.PRODUCT_NAME_FIELD&&this.item!==this.constants.NET_TOTAL_FIELD||(t+=`${or}${this.record[this.constants.OPTION_LEVEL_FIELD]}`):this.item===this.constants.PRODUCT_NAME_FIELD&&(this.model.isBundle?t+=`${er} `:this.model.component||(t+=`${tr} `),this.model.component&&(this.model.isBundle||(t+=`${ir} `),t+=`${or}${this.record[this.constants.OPTION_LEVEL_FIELD]}`))),(this._isSegmentedDrawer()||"number"==e.type||"double"==e.type||"percent"==e.type||"currency"==e.type)&&(t+=` ${rr}`,this.classList.contains("drawerCell")&&this._togglePreventNumericAlignment(),this._isSegmentedDrawer()&&this._toggleSegmentedAlignment()),this._isSegmentedDrawer()||"boolean"!==e.type||(t+=` ${nr}`),this.model.bundled&&this.item===this.constants.LIST_PRICE_FIELD)return this.overrideValue=o.B.properties.i18n.value().l("Included"),t+=` ${sr}`,this.fieldClass=t,!0;let i=le.getLocalizedValue(this.model,this.item);return i?(this.overrideValue=i,t+=` ${sr}`,this.fieldClass=t,!0):(this.fieldClass=t,!1)}_togglePreventNumericAlignment(){this.$.field.preventNumericAlignment=!this.$.field.preventNumericAlignment}_toggleSegmentedAlignment(){this.$.field.segmentedAlignment=!0}_isSegmentedDrawer(){return"mdqSummaryRow"===this.model.itemClassMap.attributes&&!this.classList.contains("mdqSummaryRow")}_quantityChanged(e){if(this.model.internalUpdate)return;this.assetUpgradeQuantityCalculator.setQuantitiesByRatio();let t=this.quoteLineUpgradeHandler.getIndexes(),i=this.quoteLineUpgradeHandler.getSourceLineVO(),o=this.quoteLineUpgradeHandler.getUpgradeLineVO();this.dispatchEvent((0,r.uv)("upgrade-asset-quantity-changed",{sourceIndex:t.sourceIndex,upgradeIndex:t.upgradeIndex,sourceLineVO:i,upgradeLineVO:o}))}_handleFieldValueChanged(e){!e.detail.suppressImmediateCalculation&&this.calculateImmediately&&this.dispatchEvent((0,r.uv)("calculate-immediately"));let t={value:this.item};this.dispatchEvent((0,r.uv)("field-updated",t))}_showDetails(e){let t=e.type;this.detailsOnHover="mouseenter"==t}_getLineModel(){if("total"!=this.item&&null!=this.model.segmentsByLabel){let e=Object.keys(this.model.segmentsByLabel),t=e.length;for(let i=0;i<t;i++){if(e[i].replace(/\W/g,"")==this.item)return this.model.segmentsByLabel[e[i]]}}return this.model}_getRecord(){return this._getLineModel().lineVO.record}get constants(){return this.model.editorModel.constants}get record(){return this.model.lineVO.record}set record(e){this.model.lineVO.record=e}static get template(){return Ve.qy`
				<style include="sb-common-styles"></style>
				<style include="sb-icons-styles"></style>
				<style include="sb-forms-styles"></style>
				<style>${Zo}</style>
				<div device>
					<div id="fieldContainer" class$="container [[fieldClass]]">
						<div class="label">[[label]]</div>
						<sb-field id="field" model="[[model]]" record="[[data]]" ref-display="{{display}}" render-read-only="true" signaler="[[signaler]]"></sb-field>
						<span id="overrideField">[[overrideValue]]</span>
					</div>
					<template is="dom-if" if="[[renderTooltip]]">
						<paper-tooltip for="fieldContainer" position="bottom" animation-delay="0">
							<template is="dom-if" if="[[detailsOnHover]]">
								<!--paper tooltip needs a text inside otherwise will not render the table (it's hidden in the UI)-->
								<span class="anchor">[[model.lineVO.dimensionType]]</span>
								<table>
									<tbody>
										<tr>
											<td>
												<sb-group id="labels"
													item="sb-le-table-header-cell"
													model="{}"
													group="[[model.groupModel.quoteModel.editorModel.data.multiSegmentLineFieldNames]]"
													data="[[model.groupModel.quoteModel.editorModel.md.fieldLabelsMap]]"
													item-class="hoverFieldHeader">
												</sb-group>
											</td>
											<td>
												<sb-group id="values"
													item="sb-le-table-cell"
													group="[[model.groupModel.quoteModel.editorModel.data.multiSegmentLineFieldNames]]"
													data="[[_getRecord()]]"
													data="[[_getRecord()]]"
													model="[[_getLineModel()]]"
													item-class="hoverField">
												</sb-group>
											</td>
										</tr>
									</tbody>
								</table>
							</template>
						</paper-tooltip>
					</template>
				</div>
		`}}customElements.define(ar.is,ar);const lr=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host([class*='--mobile'].innerTd.right) {
  text-align: left !important;
  padding: 0 !important;
}
:host([class*='--mobile'] .innerTd.right) {
  text-align: left !important;
  padding: 0 !important;
}
:host([class*='--mobile'].desktopOnly) {
  display: none !important;
}
:host([class*='--mobile'] .desktopOnly) {
  display: none !important;
}
:host([class*='--mobile']) {
  overflow-x: hidden !important;
  --primary-multi-padding-top: 2px;
}
:host([class*='--mobile']) {
  overflow-x: hidden !important;
  --primary-multi-padding-top: 2px;
}
`;class dr extends((0,Fe.g)((0,Le.$)(Ve.Pu))){static get is(){return"sb-segmented-detail-row"}static get properties(){return{lineModel:{type:Object,notify:!0},viewport:{type:Object,value:function(){return j.L.getViewport()}},columnName:String,itemClassMap:{type:Object,value:{}},highlightRowOnFocus:{type:Boolean,observer:"_highlightRowOnFocus"},index:{type:Number,reflectToAttribute:!0},segmentRecord:Object}}static get observers(){return["_lineRecordChanged(lineModel.segments.*)","_lineModelChanged(lineModel, columnName)","_setGroupObserver(detailFieldNames, segmentRecord, segmentModel, mobileCols, fieldLabelsMap)"]}get constants(){return this.lineModel.editorModel.constants}get selector(){return this.signaler?this.signaler.selector:null}get isMobile(){this.viewport&&this.viewport.isMobile()}ready(){super.ready(),this.expanded=!1}expand(e){this.isMobile&&this.enableEditableFields(),this.$.column.dispatchEvent((0,r.uv)("group-expanded",{path:e.composedPath()}))}enableEditableFields(){let e=this.$.column.shadowRoot.querySelectorAll("sb-le-table-cell");for(var t of e)t.shadowRoot.querySelector("sb-field").renderReadOnly=!1}_lineRecordChanged(e){if(!e.path)return;const t=e.path.indexOf(".",19),i=e.path.substring(19,t);if(!this._pathRefersToMySegmentRecord(i))return;let o=e.path.split("."),n=o[o.length-1];"fieldEditability"==n?this._editabilityChanged():"fieldVisibility"==n?this._visibilityChanged():(this.set(`segmentRecord.${n}`,e.value),this.notifyPath(`segmentRecord.${n}`,e.value),this.dispatchEvent((0,r.uv)("line-record-changed",{property:n})))}_lineModelChanged(){this.dimension=this.lineModel.lineVO.dimensionType,this.segmentModel=this.lineModel.segmentsByLabel[this.columnName]?this.lineModel.segmentsByLabel[this.columnName]:new U({key:null,record:{}},this.lineModel.groupModel);let e=this.shadowRoot.querySelector("#column");if(this.isMobile&&e&&(this.lineModel.lineVO.expanded||!1)!=(this.expanded||!1)){let t=new CustomEvent("click",!0,!1),i=e.shadowRoot.querySelectorAll("sb-le-table-cell")[0];i&&i.dispatchEvent(t)}}_setGroupObserver(e,t,i,o,r){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r)return this._setGroup(e,t,i,o,r)}_setGroup(){this.$.column.group||(this._initializeFieldVisibility(),this.$.column.group=this.detailFieldNames)}_initializeFieldVisibility(){let e={};this.detailFieldNames.forEach((t=>{this.segmentModel.isFieldRendered(t,this.isMobile)||(e[t]=this.isMobile?"hiddenInMobile":"hiddenInDesktop")})),this.$.column.itemClassMap=e}_visibilityChanged(){this.segmentModel.lineVO.fieldVisibility&&this.detailFieldNames.forEach((e=>{let t=this.segmentModel.isFieldRendered(e,this.isMobile),i=[{class:"hiddenInMobile",value:!t},{class:"hiddenInDesktop",value:!t}];this.$.column.set("itemClassMap."+e,i)}))}_editabilityChanged(){if(!this.segmentModel.lineVO.fieldEditability||!this.detailFieldNames)return;let e={};this.detailFieldNames.forEach((t=>{this.segmentModel.lineVO.fieldEditability.hasOwnProperty(t)&&(e[t]=this.lineModel.isEditable(t,this.segmentModel.lineVO.fieldEditability))})),this.$.column.itemEditableMap=e}_pathRefersToMySegmentRecord(e){if(!this.segmentRecord)return!1;if(null==this.lineModel.segments)return!1;if(!this.lineModel.segments[e])return!1;var t=this.lineModel.segments[e].lineVO,i=t.record[this.constants.SEGMENT_KEY_FIELD],o=t.record[this.constants.SEGMENT_INDEX_FIELD],r=t.record[this.constants.SEGMENT_LABEL_FIELD],n=this.segmentRecord[this.constants.SEGMENT_KEY_FIELD],s=this.segmentRecord[this.constants.SEGMENT_INDEX_FIELD],a=this.segmentRecord[this.constants.SEGMENT_LABEL_FIELD];return i===n&&o===s&&r===a}_highlightRowOnFocus(){this.signaler=this.signaler||new Qo.C(this,"column","sb-le-table-cell",null,this.index),this.signaler.signalOnFocus("sb-row-focus-signal",!this.highlightRowOnFocus)}static get template(){return Ve.qy`
			<style>${lr}</style>
			<style include="sb-common-styles"></style>
			
			<sb-group id="column"
					item="sb-le-table-cell"
					data="{{segmentRecord}}"
					model="{{segmentModel}}"
					group-class="tgroup details"
					class="innerTd"
					item-class="detailField"
					primary-items="[[mobileCols]]"
					group-display="[[fieldLabelsMap]]"
					item-class-map="[[itemClassMap]]"
					signaler="[[signaler]]"
					on-click="expand"
					device
			></sb-group>
		`}}customElements.define(dr.is,dr);const cr=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  display: table-row-group;
  word-break: break-word;
}
:host div#detailFieldNames {
  vertical-align: top;
}
:host([class*='--desktop']) {
  background-color: var(--sbDrawerBgColor);
}
:host #selection[class*='--desktop'] {
  width: 30px;
}
:host #itemNumber[class*='--desktop'] {
  width: 40px;
}
:host .lineActions[class*='--desktop'] {
  width: 95px;
}
:host([class*='--desktop']) {
  background-color: var(--sbDrawerBgColor);
}
:host [class*='--desktop'] #selection {
  width: 30px;
}
:host [class*='--desktop'] #itemNumber {
  width: 40px;
}
:host [class*='--desktop'] .lineActions {
  width: 95px;
}
:host sb-group.detailFieldNames[class*='--mobile'],
:host .empty[class*='--mobile'] {
  display: none;
}
:host [class*='--mobile'] sb-group.detailFieldNames,
:host [class*='--mobile'] .empty {
  display: none;
}
`;class ur extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-segmented-line-details"}static get properties(){return{lineModel:{type:Object,notify:!0},groupModel:{type:Object,notify:!0},fieldNames:Array,detailFieldNames:Array,fieldLabelsMap:Object,columnNames:Array,itemClassMap:{type:Object,value:{}},viewport:{type:Object,value:function(){return j.L.getViewport()}},tabIndex:{type:Number,computed:"_initTabIndex(viewport)"},eventListeners:{type:Object,value:{change:"_onChange","rte-value-changed":"_onChange","line-record-changed":"_onLineRecordChange"}}}}static get observers(){return["_buildRowObserver(detailFieldNames, fieldNames, lineModel, columnWidths)","_columnWidthsChanged(columnWidths)"]}connectedCallback(){super.connectedCallback(),(0,r.f3)(this,this.eventListeners),(0,Ne.m)(this,(()=>{this.detailFieldNames.forEach((e=>{this._adjustDetailFieldHeights(e)}))}))}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,r.UQ)(this,this.eventListeners)}_adjustDetailFieldHeights(e){const t=this.lineModel.getFieldMD(e);if(t&&("textarea"===t.type||"string"===t.type||"currency"===t.type)){const t=this._pierceShadowRootToGetFieldElements(this,e);if(t){const i=Array.from(t),o=Math.max(...i.map((e=>e.scrollHeight)));i.forEach((e=>{e.offsetHeight<o&&(e.style.height=o+"px")}));const r=this.$.header.shadowRoot.querySelector(`sb-le-table-header-cell[item='${e}']`),n=r?r.getHeader():null;n&&n.offsetHeight<o&&(n.style.height=o+"px")}}}_pierceShadowRootToGetFieldElements(e,t){const i=Array.from(e.shadowRoot.querySelectorAll("sb-segmented-detail-row")),o=Array.from(i.map((e=>e.shadowRoot.querySelector("sb-group").shadowRoot.querySelector(`sb-le-table-cell[item="${t}"]`))));return Array.from(o.map((e=>e.shadowRoot.querySelector("sb-field#field"))))}_onLineRecordChange(e){e.detail&&this._adjustDetailFieldHeights(e.detail.property)}_onChange(e){if(e.detail){const t=e.composedPath();(0,Ne.m)(this,(e=>{const t=e.find((e=>"SB-LE-TABLE-CELL"===e.tagName));t&&this._adjustDetailFieldHeights(t.item)}),[t])}}isMobile(){return this.viewport&&this.viewport.isMobile()}getSegmentRecord(e){return this.lineModel.segmentsByLabel[e]?this.lineModel.segmentsByLabel[e].lineVO.record:new U({key:null,record:{}},this.lineModel.groupModel).lineVO.record}segmentExists(e){return this.lineModel.segmentsByLabel[e]?"":"desktopOnly"}forwardFocusDown(e){9!==e.keyCode||e.shiftKey||Qo.C.signalFirstEditableTargetFirstRow(this,"sb-segmented-detail-row","index")}forwardFocusUp(e){9===e.keyCode&&e.shiftKey&&Qo.C.signalLastEditableTargetLastRow(this,"sb-segmented-detail-row",this.columnNames.length,"index")}_buildRowObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this._buildRow(e,t,i,o)}_buildRow(){this._setColumnWidths(),this.$.header.itemClassMap=this.itemClassMap,this.detailFieldNamesWithLabel=this.isMobile()?[this.lineModel.editorModel.constants.SEGMENT_LABEL_FIELD].concat(this.detailFieldNames):this.detailFieldNames,this.$.header.group||(this.$.header.group=this.detailFieldNamesWithLabel)}_isActionsOnTheLeft(e){return e.actionsOnTheLeft}_setColumnWidths(){if(this.isMobile())return;let e=this.columnWidths;if(!e||!this.columnNames)return;let t=0;for(let i=0,o=this.fieldNames.length;i<o;i++){t+=e[this.fieldNames[i]]}this.fieldNamesColWidth=t+"px",this.totalColWidth=e.total+"px"}_segDetailColWidth(e,t){return t[(0,L.BX)(e)]+"px"}_columnWidthsChanged(){this._setColumnWidths()}_initTabIndex(){return this.isMobile()?-1:0}static get template(){return Ve.qy`
			<style>${cr}</style>
				<style include="sb-common-styles sb-tables-styles"></style>
			<div device class="tr">
				<div class="leGroup">
					<!--placeholder for line actions column on the right-->
					<template is="dom-if" if="[[_isActionsOnTheLeft(lineModel.editorModel)]]">
						<div class="td lineActions"></div>
					</template>
					<!--placeholder for selection column-->
					<template is="dom-if" if="[[lineModel.editorModel.data.settings.multiLineDeleteEnabled]]">
						<div id="selection" class="td"></div>
					</template>
					<!--placeholder for number column-->
					<div id="itemNumber" class="td"></div>
					<div tabindex$="[[tabIndex]]" on-keyup="forwardFocusDown" on-keydown="forwardFocusDown"></div>
					<div class="td">
						<!--detail field names column-->
						<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
						<div id="detailFieldNames" class="innerTd empty"  style$="min-width:[[fieldNamesColWidth]];max-width:[[fieldNamesColWidth]];">
							<sb-group id="header"
								item="sb-le-table-header-cell"
								model="[[lineModel]]"
								data="[[fieldLabelsMap]]"
								group-class="tgroup"
								class="innerTd detailFieldNames right"
								item-class-map="[[itemClassMap]]"
								item-class="detailFieldName">

							</sb-group>
						</div>
						<!--segments-->
						<template is="dom-repeat" items="{{columnNames}}" as="columnName">
							<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
							<sb-segmented-detail-row 
								id="column"
								line-index="[[lineIndex]]"
								detail-field-names="[[detailFieldNamesWithLabel]]"
								segment-record="{{getSegmentRecord(columnName, lineModel)}}"
								column-name="[[columnName]]"
								line-model="{{lineModel}}"
								index="[[index]]"
								class$="innerTd right [[segmentExists(columnName)]] column [[deviceClasses]]"
								field-labels-map="[[fieldLabelsMap]]"
								mobile-cols="[[mobileCols]]"
								style$="min-width:[[_segDetailColWidth(columnName, columnWidths)]];max-width:[[_segDetailColWidth(columnName, columnWidths)]];"
								highlight-row-on-focus="[[!isMobile()]]"
							></sb-segmented-detail-row>
						</template>
					</div>
					<!--totals column-->
					<div class="td empty total" style$="min-width:[[totalColWidth]];max-width:[[totalColWidth]];"></div>
					<!--placeholder for line actions column on the right-->
					<template is="dom-if" if="[[!_isActionsOnTheLeft(lineModel.editorModel)]]">
						<div class="td lineActions"></div>
					</template>
					<div tabindex$="[[tabIndex]]" on-keyup="forwardFocusUp" on-keydown="forwardFocusUp"></div>
				</div>
			</div>
		`}}customElements.define(ur.is,ur);const hr=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  /* add padding for expand icon when only 1 digit row index number */
}
:host sf-le-table-row:nth-of-type(-n+10) {
  --segmented-icon-padding: 6px !important;
}
:host(.largeQuote) {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host(.largeQuote) #tableContainer {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host(.largeQuote) #tableContainer #datatable {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host(.largeQuote) #tableContainer #datatable .listContainer {
  position: relative;
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 100px;
}
:host(.largeQuote) #tableContainer #datatable .tbody {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host(.largeQuote) #tableContainer #datatable iron-list {
  flex: 1;
  overflow-x: hidden !important;
  border-top-width: var(--sbTableRowBorderBottomWidth);
  border-top-style: var(--sbTableRowBorderBottomStyle);
  border-top-color: var(--sbTableRowBorderBottomColor);
}
:host(.largeQuote) #subtotalContainer.tfoot .td {
  color: var(--sbFontColor);
  font-size: 16px;
  font-weight: normal;
  text-transform: none;
  background-color: var(--sbPageHeaderBgColor);
  border-top-width: var(--sbPageHeaderBorderBottomWidth);
  border-top-style: var(--sbPageHeaderBorderBottomStyle);
  border-top-color: var(--sbPageHeaderBorderBottomColor);
}
:host(.largeQuote) #subtotalContainer.tfoot .td.lineActions {
  min-width: 95px;
  max-width: 95px;
}
:host(.largeQuote) #subtotalContainer.tfoot .td.colSubtotal {
  border-top-width: 0;
}
:host(.largeQuote) #subtotalContainer #subtotal {
  padding-right: 24px;
}
:host .tfoot {
  color: var(--sbGroupHeaderFontColor);
  display: block;
  will-change: transform;
}
:host .tfoot #mdqSubtotal {
  --sbFieldWhiteSpace: normal;
  --sbFieldWordWrap: break-word;
}
:host .tfoot .td {
  border-bottom: none;
}
:host .tfoot .td.subtotal {
  padding-right: 24px;
}
:host .tfoot #subtotalLabel {
  text-transform: uppercase;
}
:host .right[class*='--desktop'] {
  text-align: right;
  padding-right: 18px;
}
:host [class*='--desktop'] .right {
  text-align: right;
  padding-right: 18px;
}
:host([class*='--mobile']) {
  --sb-le-table-cell-border-bottom: 1px solid #d8dde6;
}
:host .datatable[class*='--mobile'] .tfoot {
  display: block;
  padding: 5px 0;
}
:host .datatable[class*='--mobile'] .tfoot .subtotal,
:host .datatable[class*='--mobile'] .tfoot .subtotalLabel {
  display: inline-block;
  font-size: 1rem;
  font-weight: bold;
  color: var(--sbFontColor);
}
:host .subtotalLabel[class*='--mobile'] {
  padding-left: 25px;
  padding-right: 0;
}
:host .hiddenInMobile[class*='--mobile'] {
  display: none;
}
:host([class*='--mobile']) {
  --sb-le-table-cell-border-bottom: 1px solid #d8dde6;
}
:host [class*='--mobile'] .datatable .tfoot {
  display: block;
  padding: 5px 0;
}
:host [class*='--mobile'] .datatable .tfoot .subtotal,
:host [class*='--mobile'] .datatable .tfoot .subtotalLabel {
  display: inline-block;
  font-size: 1rem;
  font-weight: bold;
  color: var(--sbFontColor);
}
:host [class*='--mobile'] .subtotalLabel {
  padding-left: 25px;
  padding-right: 0;
}
:host [class*='--mobile'] .hiddenInMobile {
  display: none;
}
:host .emptyTableMessage {
  padding: 15px 30px;
}
:host .hoverover {
  cursor: all-scroll;
  background-color: #d8edff;
  border: 1px solid #5eb4ff;
}
`;class pr extends((0,Fe.g)((0,Le.$)(ao(Gt((0,Ae.T)(Ve.Pu)))))){get events(){let e={};return e[r.sV.GROUP_PANEL_CREATED]=this.groupPanelCreated,e[r.sV.GROUP_PANEL_TOGGLED]=this.groupPanelToggled,e[r.sV.GROUP_TOGGLED]=this.groupToggled,e[r.sV.TOGGLE_OPTIONAL_CLICKED]=this.toggleOptional,e[r.sV.OPEN_LOOKUP_DIALOG]=this._openLookupDialog,e[r.sV.CLOSE_LOOKUP_DIALOG]=this._closeLookupDialog,e[r.sV.REFRESH_TABLE]=this._prepareUIData,e[r.sV.RESET_ON_ACTION]=this._resetOnAction,e[r.sV.LINE_SPLICE_COMPLETE]=this.postLineSplice,e[r.sV.SORT_LINES_REQUIRED]=this.sortLinesRequired,e[r.sV.COL_WIDTHS_CHANGED]=this.colWidthsChanged,e[r.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get is(){return"sf-segmented-table"}static get properties(){return(0,L.X$)({rowTemplate:{type:Object},secondaryRowTemplate:Object,uiData:Object,originalFieldValues:{type:Object,value:{}},expansionIconClass:{type:String}},Gt.properties)}static get observers(){return["_modelReady(groupModel)"]}ready(){super.ready(),this.addEventListener("le-action-tapped",this.unfocus),this.addEventListener("table-header-sort-clicked",this._onSortLinesByHeader),this.addEventListener("line-toggled",(e=>{this.editorModel.largeQuoteExperienceEnabled&&this._onUpdateSizeForItem(e)}))}_modelReady(e){e&&!this._initialized&&(this._initialized=!0,this.editorModel.largeQuoteExperienceEnabled&&(0,Ne.m)(this,(function(){this.shadowRoot.querySelector("iron-list").dispatchEvent((0,r.uv)("iron-resize",void 0))})),P.q.constants=this.editorModel.constants,this._resetHeaderTemplate(),this._prepareUIData(),this.rowTemplate=this.getTemplateGenerator(this.editorModel,e,this.columnNames,this.dimension).generateRowNode(this._getFieldsForTemplate()),this.editorModel.deviceContext.isMobile&&(this.secondaryRowTemplate=this.getTemplateGenerator(this.editorModel,e,null,null,!0).generateRowNode(this._getFields(),{class:F.classNames.SECONDARY+" "+F.classNames.EXPANDED})))}_prepareUIData(){let e=o.B.isMobile?this._getAllFields():this._getFields();this.uiData=de.prepareLineData(this.groupModel.segmentedLinesByDimension[this.dimension],e,this.quoteLineFields)}getUIData(e){return this.uiData[e]}_segmentedLinesByDimensionChanged(e){let t,i;if(t=e.path.split("."),i=t.indexOf(this.dimension)>=0,this.lineModels=this.groupModel.segmentedLinesByDimension[this.dimension],"splices"==t[t.length-1]&&i){let t=e.value.indexSplices;t[0].removed&&0===t[0].object.length?this.hasVisibleSegmentedLines=!1:t[0].addedCount>0&&(this.hasVisibleSegmentedLines=!0),this._prepareUIData()}}_render(){if(!this.groupModel)return;(0,L.p1)("largeQuote",this.editorModel.largeQuoteExperienceEnabled,this),this.dimension=this.attributes.key.value,this.hasVisibleSegmentedLines=this.groupModel.hasVisibleSegmentedLines[this.dimension],this.fieldNames=this._getFields(),this.lineModels=this.groupModel.segmentedLinesByDimension[this.dimension],this.linkPaths(`groupModel.segmentedLinesByDimension.${this.dimension}`,"lineModels");let e={};for(let t in this.editorModel.md.fieldLabelsMap)e[(0,L.BX)(t)]=this.editorModel.md.fieldLabelsMap[t];this.fieldLabelsMap=e,this.quoteLineFields=this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName],this.settings=this.editorModel.data.settings,this.detailFieldNames=this.editorModel.fieldsetMap.multiSegmentLineFieldNames;let t=this.groupModel.groupVO.multiSegmentColumns;t&&Object.keys(t).length>0?(this.columnNames=t[this.dimension],this.headerColumnNames=this.groupModel.groupVO.localizedMultiSegmentColumns[this.dimension]):(this.columnNames=this.groupModel.quoteModel.quoteVO.multiSegmentColumns[this.dimension],this.headerColumnNames=this.editorModel.quoteModel.quoteVO.localizedMultiSegmentColumns[this.dimension]),this.netMultiSegmentTotalField=this.editorModel.constants.NET_TOTAL_FIELD,this.columnWidths={},this._setColumnWidths(),this.expansionIconClass="sf-icon-right"}_getFieldsForTemplate(){return this.editorModel.deviceContext.isMobile?this.editorModel.segmentedPrimaryMobileCols:this._getFields()}_getFieldSetName(){return this.editorModel.fieldSetNames.multiSegmentLineSummaryFieldNames}sortLines(e,t,i,o,r){let n;if(t&&this.settings.lineLookups&&this.settings.lineLookups[t]){let e=RelationshipFieldManager.getRelationshipField(t,this.settings.lineLookups[t]).split(".");n=e[1],t=e[0]}let s=zt(e,t,i,o,n);r?(this.unfocus(),this.set(`groupModel.segmentedLinesByDimension.${this.dimension}`,s.slice()),this.notifyPath("lineModels",s.slice()),this._prepareUIData(),this.rowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,this.columnNames,this.dimension).generateRowNode(this._getFields())):this.groupModel.segmentedLinesByDimension[this.dimension]=s}columnNamesChanged(e,t){t&&this.editorModel&&this.editorModel.largeQuoteExperienceEnabled&&(this._prepareUIData(),this.rowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,this.columnNames,this.dimension).generateRowNode(this._getFields()),this._resetHeaderTemplate())}_resetHeaderTemplate(){if(!this.editorModel.deviceContext.isMobile){var e=new Wt(this.editorModel,this.columnWidths,this.columnNames);this.headerTemplate=e.generateHeaderNode(this._getFieldsForTemplate())}}_getAllFields(){let e=this._getFields();return this.editorModel.segmentedPrimaryMobileCols&&(e=e.concat(this.editorModel.segmentedPrimaryMobileCols)),[...new Set(e)]}static get template(){return Ve.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style include="sb-tables-styles"></style>
		<style include="iron-positioning"></style>
		<style>${hr}</style>
		
	    <div id="tableContainer" device>
			<template is="dom-if" if="[[hasVisibleSegmentedLines]]">
				<!--iron-list-->
				<template is="dom-if" if="[[groupModel.editorModel.largeQuoteExperienceEnabled]]">
					<div id="datatable" tabindex="0" on-focusout="_onFocusOut" on-keydown="_onKeyDown">
						<div class="theader">
                            <sf-le-table-header id="header"
                                                column-widths="[[columnWidths]]"
                                                template="[[headerTemplate]]"
                                                ui-data="[[fieldLabelsMap]]"
                                                line-models="{{lineModels}}"
												fields="[[quoteLineFields]]"
												field-set-name="[[_getFieldSetName()]]"></sf-le-table-header>
						</div>
						<div class="listContainer">
							<div class="tbody fit vertical layout">
								<iron-list items="{{lineModels}}" as="lineModel">
									<template>
										<div style$="z-index:[[getZIndex(index, lineModels.length)]]">
											<template is="dom-if" if="[[lineModel.visible]]">
												<sf-le-table-row line-model="{{lineModel}}"
																 column-widths="[[columnWidths]]"
																 ui-data="[[getUIData(index, uiData)]]"
																 template="[[rowTemplate]]"
                                                                 secondary-row-template="[[secondaryRowTemplate]]"
																 is-segmented="true"
																 original-field-values="{{originalFieldValues}}"
																 data-index="[[index]]"
																 hidden$="{{lineModel.hidden}}"></sf-le-table-row>
												<template is="dom-if" if="[[lineModel.lineVO.expanded]]">
														<sb-segmented-line-details line-model="{{lineModel}}"
																		   field-names="[[fieldNames]]"
																		   detail-field-names="[[detailFieldNames]]"
																		   column-names="[[columnNames]]"
																		   column-widths="[[columnWidths]]"
																		   field-labels-map="[[fieldLabelsMap]]"
																		   line-index="[[index]]"
																		   mobile-cols="[[groupModel.editorModel.segmentedDetailsPrimaryMobileCols]]"
																		   hidden$="{{lineModel.hidden}}"></sb-segmented-line-details>
												</template>
											</template>
										</div>
									</template>
								</iron-list>
								<template is="dom-if" if="[[showSubtotal]]">
									<div id="subtotalContainer" class="tfoot">
										<div id="subtotalLabel" class="td right subtotalLabel" style$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"><sb-i18n>Subtotal</sb-i18n>:</div>
										<div class="td hiddenInMobile">
											<template is="dom-repeat" items="[[columnNames]]" as="columnName">
												<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
												<div class="td colSubtotal right" style$="min-width:[[_setSubtotalColWidth(columnName, columnWidths)]];max-width:[[_setSubtotalColWidth(columnName, columnWidths)]];">
													<sb-field id="mdqSubtotal" value="[[getMultiSegmentColumnTotal(columnName, groupModel.multiSegmentColumnTotals.*)]]" property="[[columnName]]" md="[[currencyMd]]"></sb-field>
												</div>
											</template>
										</div>
										<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
										<div class="td right subtotal" style$="min-width:[[totalColWidth]];max-width:[[totalColWidth]];">
											<sb-field id="mdqTotal" value="[[getMultiSegmentTotalField(dimension, groupModel.netMultiSegmentTotal.*)]]" property="[[netMultiSegmentTotalField]]" md="[[currencyMd]]"></sb-field>
										</div>
										<template is="dom-if" if="[[!groupModel.editorModel.actionsOnTheLeft]]">
											<div class="td lineActions"></div>
										</template>
									</div>
								</template>
							</div>
						</div>
					</div>
				</template>

				<!--regular table-->
				<template is="dom-if" if="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]">
					<div class="datatable leTable" tabindex="0" on-focusout="_onFocusOut" on-keydown="_onKeyDown">
						<div class="tbody sb-droppable-mdqRows">
							<!--header row-->
                            <sf-le-table-header id="header"
                                                column-widths="[[columnWidths]]"
                                                template="[[headerTemplate]]"
                                                ui-data="[[fieldLabelsMap]]"
                                                line-models="{{lineModels}}"
												fields="[[quoteLineFields]]"
												field-set-name="[[_getFieldSetName()]]"></sf-le-table-header>
							<!--table rows-->
							<template is="dom-repeat" items="{{lineModels}}" as="lineModel">
								<template is="dom-if" if="[[lineModel.visible]]">
									<sf-le-table-row line-model="{{lineModel}}"
													 column-widths="[[columnWidths]]"
													 ui-data="[[getUIData(index, uiData)]]"
													 template="[[rowTemplate]]"
                                                     secondary-row-template="[[secondaryRowTemplate]]"
													 is-segmented="true"
													 original-field-values="{{originalFieldValues}}"
													 data-index="[[index]]"
													 hidden$="{{lineModel.hidden}}"></sf-le-table-row>
									<template is="dom-if" if="[[lineModel.lineVO.expanded]]">
										<sb-segmented-line-details line-model="{{lineModel}}"
																   field-names="[[fieldNames]]"
																   detail-field-names="[[detailFieldNames]]"
																   column-names="[[columnNames]]"
																   column-widths="[[columnWidths]]"
																   field-labels-map="[[fieldLabelsMap]]"
																   line-index="[[index]]"
																   mobile-cols="[[groupModel.editorModel.segmentedDetailsPrimaryMobileCols]]"
																   hidden$="{{lineModel.hidden}}"></sb-segmented-line-details>
									</template>
								</template>
							</template>
							<template is="dom-if" if="[[showSubtotal]]">
								<div class="tfoot">
									<div id="subtotalLabel" class="td right subtotalLabel" style$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"><sb-i18n>Subtotal</sb-i18n>:</div>
									<div class="td hiddenInMobile">
										<template is="dom-repeat" items="[[columnNames]]" as="columnName">
											<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
											<div class="td colSubtotal right" style$="min-width:[[_setSubtotalColWidth(columnName, columnWidths)]];max-width:[[_setSubtotalColWidth(columnName, columnWidths)]];">
												<sb-field id="mdqSubtotal" value="[[getMultiSegmentColumnTotal(columnName, groupModel.multiSegmentColumnTotals.*)]]" property="[[columnName]]" md="[[currencyMd]]"></sb-field>
											</div>
										</template>
									</div>
									<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
									<div class="td right subtotal" style$="min-width:[[totalColWidth]];max-width:[[totalColWidth]];">
										<sb-field id="mdqTotal" value="[[getMultiSegmentTotalField(dimension, groupModel.netMultiSegmentTotal.*)]]" property="[[netMultiSegmentTotalField]]" md="[[currencyMd]]"></sb-field>
									</div>
								</div>
							</template>
						</div>
					</div>
				</template>

			</template>
		</div>
	    `}}customElements.define(pr.is,pr);const fr=(0,Qt.y)((e=>class extends e{static get properties(){return{groupModel:{type:Object,notify:!0},settings:Object,fieldNames:Array,quoteLineFields:Object,fieldLabelsMap:{type:Object,notify:!0},subtotal:{type:Number},subtotalMd:Object,dragDrop:Object,viewport:{type:Object,value:function(){return j.L.getViewport()}},visibleLines:{type:Array,computed:"_initVisibleLines(groupModel)"},tabIndex:{type:Number,computed:"_initTabIndex(viewport)"}}}init(){this.groupModel&&(this.addEventListener("table-header-sort-clicked",this._onSortLinesByHeader),this.summaries=this.groupModel.quoteModel.grouped?this.groupModel.groupVO.summaries:this.groupModel.quoteModel.quoteVO.summaries,P.q.constants=this.editorModel.constants)}static get observers(){return["_buildRows(groupModel)","_updatePrimaryMobileColumnsObserver(fieldSet, groupModel.editorModel.standardPrimaryMobileCols)","_lineSplicesListener(groupModel.standardLines.splices)","_showSubtotal(groupModel.*)","_updateDragDropParentKey(groupModel.editorModel.quoteModel.linesByParentItemKey)"]}get editorModel(){return this.groupModel.quoteModel.editorModel}get md(){return this.editorModel.md}get prefix(){return this.editorModel.data.developerPrefix}_buildRows(){this.groupModel&&this.groupModel.quoteModel&&this.groupModel.quoteModel.editorModel&&this.editorModel.fieldsetMap&&((0,L.p1)("largeQuote",this.editorModel.largeQuoteExperienceEnabled,this),this.actionsOnTheLeft=this.editorModel.actionsOnTheLeft,this.multiLineDeleteEnabled=this.editorModel.data.settings.multiLineDeleteEnabled,this.fieldSetHandler=new H.V(this.editorModel.fieldsetMap,"lineFieldNames","lineFieldNamesTablet","lineFieldNamesPhone"),this._setFieldNames(),this.columnWidths={},this._setColumnWidths(),this.columnNames=null,this.fieldLabelsMap=this.editorModel.md.fieldLabelsMap[this.prefix+"QuoteLine__c"],this.quoteLineFields=this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName],this._setDrawerFields(),this.settings=this.editorModel.data.settings,this.postBuildRowRefresh(),this.shadowRoot.querySelector("iron-list")&&this.groupModel.groupKey&&1==this.editorModel.quoteModel.quoteVO.lineItemGroups.length&&this.shadowRoot.querySelector("iron-list").notifyResize())}_setColumnWidths(e){let t=null;!this.editorModel.deviceContext.isMobile&&this.editorModel.layout&&(t=this.groupModel.colWidth.Standard,this._setSubtotalColumnWidth(t,this.editorModel.layout.leftOffset)),this.set("columnWidths",t),this._ironListResize(e)}_setSubtotalColumnWidth(e,t){let i=t,o=this.fieldNames.length;for(let t=0;t<o-1;t++){i+=e[this.fieldNames[t]]}this.labelColWidth=i+6+"px";let r=e[this.fieldNames[this.fieldNames.length-1]];this.subtotalColWidth=r+6+"px"}colWidthsChanged(e){this._setColumnWidths(e)}_ironListResize(e){this.shadowRoot.querySelector("iron-list")&&e&&e.detail&&e.detail.groupKey===this.groupModel.groupKey&&this.shadowRoot.querySelector("iron-list").dispatchEvent((0,r.uv)("iron-resize"))}_setDrawerFields(){let e=this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames,t=this.editorModel.deviceContext.isMobile;e&&!t?this.drawerFieldNames=e:e&&t&&(this.fieldNames=this.fieldNames.concat(e))}_showSubtotal(){if(!(this.groupModel&&this.groupModel.quoteModel&&this.groupModel.quoteModel.editorModel&&this.editorModel.md))return;let e=this.editorModel.data.settings;this.subtotalMd||(this.subtotalMd={type:"currency",scale:this._getPriceScale(),CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}),"doNotDisplay"!=e.lineEditorSubtotalsField&&this.groupModel.standardLines.length>0?(this._getSubtotal(),this.showSubtotal=!0):this.showSubtotal=!1}_getPriceScale(){let e=this.editorModel.data.settings,t=e.lineEditorSubtotalsField;return e.isMultiCurrencyOrg?this.groupModel.quoteModel.quoteVO.currencyDecimalScale:"Default"==t||"doNotDisplay"==t||null==t?this.editorModel.md.fieldsMap[this.prefix+"QuoteLine__c"][this.editorModel.constants.NET_TOTAL_FIELD].scale:this.editorModel.md.fieldsMap[this.prefix+"QuoteLine__c"][t].scale}_getSubtotal(){let e,t,i=this.editorModel.data.settings,o=this.groupModel.standardLines;e="Default"==i.lineEditorSubtotalsField||null==i.lineEditorSubtotalsField?this.editorModel.constants.NET_TOTAL_FIELD:i.lineEditorSubtotalsField,t=0;for(let i=0,r=o.length;i<r;i++){let r=o[i];isNaN(r.lineVO.record[e])||(t+=r.lineVO.record[e])}this.subtotal=t}onTrack(e){this.removeCellFocus&&this.removeCellFocus(this.focusedCell),this.dragDrop._onTrack(e)}dragFunc(e){let t=this.dragDrop;t.ghost=t.lineEditor.$.ghost,this.lineModelsByKey=this.groupModel.quoteModel.lineModelsByKey,t.dragKeys=[],t.dragStandardIndexes=[],t.dragMdqIndexesByDim={},t.dragLineModels=[],t.dragGroupModel=e.lineModel.groupModel,t.dragKeys.push(e.lineModel.lineVO.key),t.keepBundleTogether&&this._getBundleWithChildren(t.dragKeys[0],t.dragKeys),t.dragKeys.forEach(function(e){let i=this.lineModelsByKey[e];t.dragLineModels.push(i),this.lineModelsByKey[e].segmented?t.dragMdqIndexesByDim[i.dimensionType]?t.dragMdqIndexesByDim[i.dimensionType].push(this._getLineIndexFromKey(this.groupModel.segmentedLinesByDimension[i.dimensionType],e)):t.dragMdqIndexesByDim[i.dimensionType]=[this._getLineIndexFromKey(this.groupModel.segmentedLinesByDimension[i.dimensionType],e)]:t.dragStandardIndexes.push(this._getLineIndexFromKey(this.groupModel.standardLines,e))}.bind(this)),t.dragTargetElementIndex=this._getLineIndexFromKey(this.groupModel.standardLines,e.lineModel.lineVO.key);for(let e,i=0;i<t.dragStandardIndexes.length;i++)e=t.dragStandardIndexes[i],this.set(`groupModel.standardLines.${e}.hidden`,!0);if(0!=Object.keys(t.dragMdqIndexesByDim).length)for(let e in t.dragMdqIndexesByDim)for(let i,o=0;o<t.dragMdqIndexesByDim[e].length;o++)i=t.dragMdqIndexesByDim[e][o],this.set(`groupModel.segmentedLinesByDimension.${e}.${i}.hidden`,!0);t.ghostField=e.lineModel.lineVO.record[this.editorModel.constants.PRODUCT_CODE_FIELD]}trackFunc(e){let t=this.dragDrop,i=this.groupModel.editorModel.data.settings.bundleKeptTogether;this.groupModel.standardLines.length;if(e=t._findTableRowValidTarget(e))switch(t.targetClass){case"sb-droppable-standardRows":if(t.updateTableRowHoverOverObject(e),!t.hoverOver)return;t.targetHost=(0,L.bv)(t.hoverOver.comp),t.usePlaceholder=!0,t.enableHighLight=!0;break;case"sb-droppable-emptyTable":i&&t.sourceElement.lineModel.hasParent?t.hoverOver=null:t.hoverOver={comp:e},t.usePlaceholder=!1,t.enableHighLight=!0;break;case"sb-droppable-sidePanelGroups":i&&t.sourceElement.lineModel.hasParent?t.hoverOver=null:t.hoverOver={comp:e},t.targetHost=t.hoverOver.comp.parentNode.parentNode,t.usePlaceholder=!1,t.enableHighLight=!0}else t.hoverOver=null}_removeLinesByIndex(e){e.sort(((e,t)=>e-t));for(let t=0;t<e.length;t++)this.splice("groupModel.standardLines",e[t],1),e=e.map((e=>--e))}_getBundleWithChildren(e,t){let i;if(this.dragDrop.linesByParentKey[e]){i=this.dragDrop.linesByParentKey[e].length;for(let o=0;o<i;o++){let i=this.dragDrop.linesByParentKey[e][o].lineVO.key;t.push(i),this.dragDrop.linesByParentKey[i]&&this._getBundleWithChildren(i,t)}}}_getLineIndexFromKey(e,t){let i;for(let o=0;o<e.length;o++)if(e[o].lineVO.key===t)return i=o,i}_getStandardLineIndexesFromKeys(e,t){let i=[];for(let o=0;o<t.length;o++)i.push(this._getStandardLineIndexFromKey(e,t[o]));return i}_setFieldNames(){this.fieldSet=this.fieldSetHandler.getByViewport(this.viewport),this.fieldSetName!=this.fieldSet.name&&(this.fieldSetName=this.fieldSet.name),this.fieldNames=this._getFields()}_getFields(){return this.groupModel.standardSubscriptionScopeEditable?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(this.fieldSet.fields):this.fieldSet.fields}viewportChanged(e){this.viewport=e.detail.viewport,this._setFieldNames()}groupPanelToggled(e){this.drawerState=e.detail.drawerState,this._setColumnWidths(e)}groupPanelCreated(e){this._setColumnWidths(e)}groupToggled(e){this._ironListResize(e),this._prepareUIData(),setTimeout((()=>{this._onUpdateSizeForItem(e)}))}_prepareUIData(){}toggleOptional(e){if(!e.detail.groupKey||e.detail.groupKey==this.groupModel.groupVO.key)for(let t=0,i=this.groupModel.standardLines.length;t<i;t++)this.set(`groupModel.standardLines.${t}.lineVO.record.${this.editorModel.constants.OPTIONAL_FIELD}`,e.detail.toggleOptionalBoolean)}getZIndex(e){return this.groupModel.standardLines.length+10-e}sortLinesRequired(e){let t=e.detail.notify,i=e.detail.lineSortField;this.sortLines(this.groupModel.standardLines,i,"asc",!1,t)}_updatePrimaryMobileColumnsObserver(e,t){if(void 0!==e&&void 0!==t)return this._updatePrimaryMobileColumns(e,t)}_updatePrimaryMobileColumns(){this.groupModel.editorModel.standardPrimaryMobileCols&&this.groupModel.editorModel.standardPrimaryMobileCols.length>0&&this.fieldSet.name.endsWith("Phone")&&(this.groupModel.editorModel.standardPrimaryMobileCols[0]=this.fieldSet.fields[0])}_onUpdateSizeForItem(e){if(e.detail.index)this.shadowRoot.querySelector("iron-list").updateSizeForItem(e.detail.index);else for(let e=0,t=this.groupModel.standardLines.length;e<t;e++)this.shadowRoot.querySelector("iron-list").updateSizeForItem(e)}_initVisibleLines(){return this.groupModel.standardLines.filter(function(e){return e.visible}.bind(this))}_initTabIndex(){return this.viewport&&this.viewport.isMobile()?-1:0}_updateDragDropParentKey(e){this.dragDrop&&e&&(this.dragDrop.linesByParentKey=e)}forwardFocusDown(e){9!==e.keyCode||e.shiftKey||Qo.C.signalFirstEditableTargetFirstRow(this,this.getRowComponentName(),"data-index")}forwardFocusUp(e){9===e.keyCode&&e.shiftKey&&Qo.C.signalLastEditableTargetLastRow(this,this.getRowComponentName(),this.visibleLines.length,"data-index")}dropFunc(e,t,i,o){let n,s=(0,L.bv)((0,L.bv)(e)),a=this.dragDrop;a.dropKey=null,a.dropIndex=null,a.dropGroupModel=null;for(let e,t=0,i=a.dragStandardIndexes?a.dragStandardIndexes.length:0;t<i;t++)e=a.dragStandardIndexes[t],this.set(`groupModel.standardLines.${e}.hidden`,!1);if(0!=Object.keys(a.dragMdqIndexesByDim).length)for(let e in a.dragMdqIndexesByDim)for(let t,i=0;i<a.dragMdqIndexesByDim[e].length;i++)t=a.dragMdqIndexesByDim[e][i],this.set(`groupModel.segmentedLinesByDimension.${e}.${t}.hidden`,!1);if(t){switch(e.lineModel.subscriptionScopeEditable&&((0,L.bv)(t).groupModel.colWidth=e.lineModel.groupModel.colWidth,a.dragGroupModel._updateStandardSubscriptionScopeEditable(e.lineModel),this._setFieldNames(),this._setColumnWidths()),this._removeLinesByIndex(a.dragStandardIndexes),i){case"sb-droppable-standardRows":a.dropKey=t.lineModel.lineVO.key,a.dropGroupModel=t.lineModel.groupModel,a.dropIndex=this._getLineIndexFromKey(a.dropGroupModel.standardLines,a.dropKey),n=(0,L.bv)((0,L.bv)(t)),o?a.dropIndex=a.dropIndex>=0?a.dropIndex:0:++a.dropIndex;break;case"sb-droppable-emptyTable":case"emptyTableMessage":n=(0,L.bv)(t),a.dropGroupModel=n.groupModel;break;case"sb-droppable-sidePanelGroups":let e="Group"+t.getAttribute("id"),i=a._findParentCustomElement(t,"groupContainer","id");n=i.querySelector(`#${e}`),a.dropGroupModel=n.groupModel}for(let e=0;e<a.dragLineModels.length;e++)if(a.dragLineModels[e].segmented){if(a.dragGroupModel.groupKey===a.dropGroupModel.groupKey)continue;a.dropGroupModel.dimensions.includes(a.dragLineModels[e].segmentType)?n.addSegmentedLineToExistingTab(a.dragLineModels[e]):n.addSegmentedLineToEmptyTable(a.dragLineModels[e])}else{if(a.dragLineModels[e].subscriptionScopeEditable&&(a.dropGroupModel.standardSubscriptionScopeEditable=a.dragLineModels[e].quoteModel.grouped,(0,Ne.m)(n.shadowRoot.querySelector("#standardLines"),(()=>{n.shadowRoot.querySelector("#standardLines")._setFieldNames(),n.shadowRoot.querySelector("#standardLines")._setColumnWidths()}))),a.dragLineModels[e].visible)switch(i){case"sb-droppable-standardRows":(0,L.bv)(t).splice("groupModel.standardLines",a.dropIndex,0,a.dragLineModels[e]);break;case"sb-droppable-emptyTable":case"emptyTableMessage":case"sb-droppable-sidePanelGroups":n.push("groupModel.standardLines",a.dragLineModels[e])}else n.push("groupModel.standardLines",a.dragLineModels[e]);a.dragLineModels[e].groupModel=a.dropGroupModel,a.dragLineModels[e].lineVO.parentGroupKey=a.dropGroupModel.groupKey,a.dropIndex++}if(0!=Object.keys(a.dragMdqIndexesByDim).length)for(let e in a.dragMdqIndexesByDim){a.dragMdqIndexesByDim[e].reverse();for(let t,i=0;i<a.dragMdqIndexesByDim[e].length;i++)if(t=a.dragMdqIndexesByDim[e][i],this.set(`groupModel.segmentedLinesByDimension.${e}.${t}.hidden`,!1),a.dragGroupModel.groupKey!==a.dropGroupModel.groupKey){let i=s.groupModel.segmentedLinesByDimension[e][t];s.removeSegmentedLine(i)}}this.dispatchEvent((0,r.uv)("renumber-lines")),this.editorModel.data.settings.usesClientCalculator&&this.editorModel.quoteModel.renumberIndexes(!0),this.postDrop(e,t)}}_lineSplicesListener(e){e&&(this.set("groupModel.hasVisibleStandardLines",this.groupModel._groupHasStandardProducts()),this._showSubtotal())}postDrop(e,t){}postBuildRowRefresh(){}}));i(9630);const br=je.b`
:host .actionsOnTheLeft {
  padding-left: 95px;
}
:host .multiDeleteEnabled {
  padding-left: 35px;
  width: calc(100% - 35px);
}
:host .actionsOnTheLeft.multiDeleteEnabled {
  padding-left: 130px;
}
`;class gr extends Ve.Pu{static get is(){return"sb-le-drawer"}static get properties(){return{lineModel:{type:Object,notify:!0},fieldNames:Array,richTextFields:Array,dataIndex:{type:Number,reflectToAttribute:!0}}}static get observers(){return["_initObserver(fieldNames, lineModel)","_lineRecordChanged(lineModel.*)"]}_initObserver(e,t){if(void 0!==e&&void 0!==t)return this.init(e,t)}init(){this._visibilityChanged(),this._editabilityChanged();let e=[];for(let t of this.fieldNames)this._isRichTextField(t)&&e.push(t);this.richTextFields=e}_isRichTextField(e){return"richtextarea"===this.lineModel.getFieldMD(e).extraTypeInfo}_lineRecordChanged(e){"lineModel.lineVO.fieldVisibility"===e.path?this._visibilityChanged():"lineModel.lineVO.fieldEditability"===e.path&&this._editabilityChanged()}_visibilityChanged(){this.lineModel.setItemClassMap(),this.itemClassMap=this.lineModel.itemClassMap}_editabilityChanged(){if(!this.fieldNames||!this.lineModel.lineVO.fieldEditability||0==Object.keys(this.lineModel.lineVO.fieldEditability).length)return;let e={};for(let t of this.fieldNames)this.lineModel.lineVO.fieldEditability.hasOwnProperty(t)&&(e[t]=this.lineModel.isEditable(t));this.itemEditableMap=e}_showLineMultiActions(e){return(e.actionsOnTheLeft?"actionsOnTheLeft ":"")+(e.data.settings.multiLineDeleteEnabled?"multiDeleteEnabled":"")}_isListMode(){return!!o.B.isCompactModeEnabled}static get template(){return Ve.qy`
			<style>${br}</style>
			
			<sb-row-drawer
				class$="[[_showLineMultiActions(lineModel.editorModel)]]"
				item="sb-le-table-cell"
				model="[[lineModel]]"
				data="{{lineModel.lineVO.record}}"
				field-names="[[fieldNames]]"
				rich-text-fields="[[richTextFields]]"
				highlight-on-focus="true"
				item-class-map="[[itemClassMap]]"
				item-editable-map="[[itemEditableMap]]"
				list-mode="[[_isListMode()]]"
			></sb-row-drawer>
		`}}customElements.define(gr.is,gr);const mr=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  display: table-row-group;
}
:host .largeQuote {
  border-top: 1px solid #D8DDE6;
}
:host .largeQuote .td {
  height: 38px;
}
:host .td {
  border-bottom: none;
}
:host .td.lineActions {
  min-width: 95px;
  max-width: 95px;
}
:host .td#itemNumber {
  min-width: 40px;
  max-width: 40px;
}
:host .td#selection {
  min-width: 30px;
  max-width: 30px;
}
:host([class*='--mobile']) {
  display: none;
}
:host([class*='--mobile']) {
  display: none;
}
`,yr=je.b`
:host {
  display: table-cell;
  text-align: right;
  padding-right: 18px !important;
  font-weight: bold;
}
`;class vr extends Ve.Pu{static get is(){return"sb-le-summary-cell"}static get properties(){return{model:Object,item:String,summaries:Object}}static get observers(){return["_setWidthStyleObserver(model.colWidth, item)","_updateField(model.editorModel, item, summaries)"]}_updateField(e,t,i){if(null==e||null==t||null==i)return;let o=i[t.toLowerCase()];if(void 0!==o){const i=e.md.fieldsMap[e.data.quoteLineObjectName][t];i.CurrencyIsoCode=this.model.quoteModel.quoteVO.record.CurrencyIsoCode,this.$.field.md=i,this.$.field.value=o}}_setWidthStyleObserver(e,t){if(null!=e&&null!=t)return this._setWidthStyle(e,t)}_setWidthStyle(e,t){this.style.minWidth=`${e.Standard[t]}px`,this.style.maxWidth=this.style.minWidth}static get template(){return Ve.qy`
		<style>${yr}</style>
		<sb-field id="field" property="[[item]]"></sb-field>
		`}}customElements.define(vr.is,vr);class _r extends((0,Le.$)((0,Ae.T)(Ve.Pu))){static get is(){return"sb-le-summary-row"}static get properties(){return{model:{type:Object,observer:"_modelChanged"},fieldNames:Array,summaries:Object}}get events(){let e={};return e[r.sV.COL_WIDTHS_CHANGED]=this._colWidthsChanged,e}_modelChanged(e){(0,L.p1)("largeQuote",e.editorModel.largeQuoteExperienceEnabled,this.$.container)}_colWidthsChanged(e){this.notifyPath("model")}static get template(){return Ve.qy`
		<style>${mr}</style>
		<style include="sb-common-styles"></style>
		<style include="sb-tables-styles"></style>
		<div id="container" device>
			<template is="dom-if" if="[[model.editorModel.actionsOnTheLeft]]">
				<div class="td lineActions"></div>
			</template>
			<template is="dom-if" if="[[model.editorModel.data.settings.multiLineDeleteEnabled]]">
				<div class="td" id="selection"></div>
			</template>
			<div class="td" id="itemNumber"></div>
			<div class="td groupDetails">
				<template is="dom-repeat" items="[[fieldNames]]" as="fieldName">
					<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
					<sb-le-summary-cell summaries="[[summaries]]" item="[[fieldName]]" model="[[model]]">
					</sb-le-summary-cell>
				</template>
			</div>

			<template is="dom-if" if="[[!model.editorModel.actionsOnTheLeft]]">
				<div class="td lineActions"></div>
			</template>
		</div>
		`}}customElements.define(_r.is,_r);const wr=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host([class*='--mobile']#mobileStandardLines) {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
:host([class*='--mobile'] #mobileStandardLines) {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
:host(.largeQuote) {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host(.largeQuote) #tableContainer {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host(.largeQuote) #tableContainer #datatable {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host(.largeQuote) #tableContainer #datatable .listContainer {
  position: relative;
  flex: 1;
  display: flex;
  flex-direction: column;
  min-height: 100px;
}
:host(.largeQuote) #tableContainer #datatable .tbody {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host(.largeQuote) #tableContainer #datatable iron-list {
  flex: 1;
  overflow-x: hidden !important;
  border-top-width: var(--sbTableRowBorderBottomWidth);
  border-top-style: var(--sbTableRowBorderBottomStyle);
  border-top-color: var(--sbTableRowBorderBottomColor);
}
:host(.largeQuote) #subtotalContainer.tfoot .td {
  font-size: 16px;
  font-weight: normal;
  color: var(--sbFontColor);
  text-transform: none;
  background-color: var(--sbPageHeaderBgColor);
  border-top-width: var(--sbPageHeaderBorderBottomWidth);
  border-top-style: var(--sbPageHeaderBorderBottomStyle);
  border-top-color: var(--sbPageHeaderBorderBottomColor);
}
:host(.largeQuote) #subtotalContainer.tfoot .td.lineActions {
  min-width: 95px;
  max-width: 95px;
}
:host(.largeQuote) #subtotalContainer.tfoot .td.drawerIcon {
  min-width: 40px;
  max-width: 40px;
}
:host(.largeQuote) #subtotalContainer #subtotal {
  padding-right: 24px;
}
:host .tfoot .td {
  font-weight: var(--sbGroupHeaderFontWeight);
  color: var(--sbGroupHeaderFontColor);
  will-change: transform;
  text-transform: uppercase;
  border-bottom: none;
}
:host #subtotal {
  padding-right: 24px;
}
:host #subtotalLabel {
  padding-right: 0;
}
:host .row {
  transition: all 0.4s ease-out;
}
:host .drawer {
  background-color: var(--sbPageHeaderBgColor);
  border-bottom: 1px solid #d0d0d0;
}
:host .datatable[class*='--mobile'] .tfoot {
  display: block;
  color: var(--sbFontColor);
  font-size: 1rem;
  text-align: left;
  padding: 10px 0 10px 25px;
}
:host .datatable[class*='--mobile'] .tfoot #subtotal,
:host .datatable[class*='--mobile'] .tfoot #subtotalLabel {
  display: inline-block;
  padding: 0;
}
:host [class*='--mobile'] .datatable .tfoot {
  display: block;
  color: var(--sbFontColor);
  font-size: 1rem;
  text-align: left;
  padding: 10px 0 10px 25px;
}
:host [class*='--mobile'] .datatable .tfoot #subtotal,
:host [class*='--mobile'] .datatable .tfoot #subtotalLabel {
  display: inline-block;
  padding: 0;
}
`;function xr(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Cr(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Sr extends((0,Fe.g)((0,Le.$)(ao(fr((0,Ae.T)(Ve.Pu)))))){static get is(){return"sf-standard-table"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xr(Object(i),!0).forEach((function(t){Cr(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xr(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({headerTemplate:{type:Object},rowTemplate:{type:Object},secondaryRowTemplate:Object,uiData:Object,originalFieldValues:{type:Object,value:{}}},fr.properties)}get events(){let e={};return e[r.sV.GROUP_PANEL_CREATED]=this.groupPanelCreated,e[r.sV.GROUP_PANEL_TOGGLED]=this.groupPanelToggled,e[r.sV.GROUP_TOGGLED]=this.groupToggled,e[r.sV.SORT_LINES_REQUIRED]=this.sortLinesRequired,e[r.sV.TOGGLE_OPTIONAL_CLICKED]=this.toggleOptional,e[r.sV.QUOTE_SAVED]=this.clearOriginalFieldValues,e[r.sV.ROWS_RENUMBERED]=this.onRowsRenumbered,e[r.sV.OPEN_LOOKUP_DIALOG]=this._openLookupDialog,e[r.sV.CLOSE_LOOKUP_DIALOG]=this._closeLookupDialog,e[r.sV.REFRESH_TABLE]=this._prepareUIData,e[r.sV.LINE_SPLICE_COMPLETE]=this.postLineSplice,e[r.sV.COL_WIDTHS_CHANGED]=this.colWidthsChanged,e[r.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}ready(){if(super.ready(),Object.entries({"le-action-tapped":"unfocus"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),!this.groupModel)return;this.init();let e=new Set(["sb-droppable-standardRows","sb-droppable-emptyTable","sb-droppable-sidePanelGroups","emptyTableMessage"]);this.editorModel.largeQuoteExperienceEnabled?(this.addEventListener("bundle-toggled",this._toggleBundleLines),this.addEventListener("line-toggled",this._onUpdateSizeForItem),this._resizeIronList()):this.dragDrop=new lt(this,this.editorModel.data.settings.bundleKeptTogether,"sf-le-table-row",e,this.dragFunc.bind(this),this.trackFunc.bind(this),this.dropFunc.bind(this),9,147),this._prepareUIData(),this._prepareTemplates(!0)}_prepareUIData(){let e=o.B.isMobile?this._getAllFields(!0):this._getFields();this.uiData=de.prepareLineData(this.groupModel.standardLines,e,this.quoteLineFields)}_prepareTemplates(e){if(this.rowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,null).generateRowNode(this._getFieldsForTemplate(),{class:"row"}),o.B.isMobile)this.secondaryRowTemplate=this.getTemplateGenerator(this.editorModel,this.groupModel,null,null,!0).generateRowNode(this._getAllFields(!1),{class:F.classNames.SECONDARY+" "+F.classNames.EXPANDED});else if(e){var t=new Wt(this.editorModel,this.columnWidths,null,!0);this.headerTemplate=t.generateHeaderNode(this._getFieldsForTemplate(),{class:"header"})}}getUIData(e){return this.uiData[e]}_getAllFields(e){let t=this._getFields();return this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames&&(t=t.concat(this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames)),e&&this.editorModel.standardPrimaryMobileCols&&(t=t.concat(this.editorModel.standardPrimaryMobileCols)),[...new Set(t)]}_getFieldSetName(){if(this.editorModel&&this.editorModel.fieldSetNames)return this.editorModel.fieldSetNames.lineFieldNames}postDrop(e,t){var i=(0,L.bv)(e),o=(0,L.bv)(t);i&&"SF-STANDARD-TABLE"===i.tagName&&i._prepareUIData(),o&&"SF-STANDARD-TABLE"===o.tagName&&i!==o&&o._prepareUIData()}_getFieldsForTemplate(){return this.editorModel.deviceContext.isMobile?this.groupModel.editorModel.standardPrimaryMobileCols:this._getFields()}_onSortLinesByHeader(e){this.sortLines(this.groupModel.standardLines,e.detail.lineSortField,e.detail.order,this.settings.bundleKeptTogether,!0)}sortLines(e,t,i,o,r){let n;if(t&&this.settings.lineLookups&&this.settings.lineLookups[t]){let e=Tt.u.getRelationshipField(t,this.settings.lineLookups[t]).split(".");n=e[1],t=e[0]}this._hasNumberField()&&this._preserveNumberValues(e);let s=zt(e,t,i,o,n);r?(this.unfocus(),this.set("groupModel.standardLines",s.slice()),this._prepareUIData(),this._prepareTemplates(!1)):this.groupModel.standardLines=s,this._resizeIronList()}_resizeIronList(){this.editorModel.largeQuoteExperienceEnabled&&(0,Ne.m)(this,(function(){this.shadowRoot.querySelector("iron-list")&&this.shadowRoot.querySelector("iron-list").dispatchEvent((0,r.uv)("iron-resize",void 0))}))}onRowsRenumbered(){this._prepareUIData(),this._resizeIronList()}_preserveNumberValues(e){e.forEach((e=>{let t=e.lineVO.record,i=t.Id||t[this.editorModel.constants.SOURCE_FIELD],o=this.editorModel.constants.NUMBER_FIELD;this.originalFieldValues[i]||(this.originalFieldValues[i]={}),this.originalFieldValues[i].hasOwnProperty(o)||(this.originalFieldValues[i][o]=t[o])}))}_hasNumberField(){return this._getFields().indexOf(this.editorModel.constants.NUMBER_FIELD)>-1}postLineSplice(){this._hasNumberField()&&this._preserveNumberValues(this.groupModel.standardLines),this._prepareTemplates(!1)}clearOriginalFieldValues(){this.originalFieldValues&&Object.keys(this.originalFieldValues).forEach((e=>{delete this.originalFieldValues[e]}))}getRowComponentName(){return"sf-le-table-row"}postBuildRowRefresh(){this.uiData&&(this._prepareUIData(),this._prepareTemplates(!0))}colWidthsChanged(e){this._isMobile()||(this._setColumnWidths(e),this._prepareTemplates(!1))}_toggleBundleLines(e){if(e.detail.key){let t=this.groupModel.standardLines.find((t=>t.lineVO.key===e.detail.key));t&&(this._innerToggleBundleLines(t,e.detail.expanded),this._resizeIronList())}else(0,R.yJ)("BundleCollapsed","h"+this.groupModel.groupVO.key,!e.detail.expanded),this.groupModel.standardLines.forEach(((t,i)=>{t.isBundle&&this.set(`groupModel.standardLines.${i}.bundleCollapsed`,!e.detail.expanded)}))}_innerToggleBundleLines(e,t){let i=e&&e.isBundle;if(i){if(t&&e.bundleCollapsed)return;i.forEach((e=>{let i=this._getLineIndexFromKey(this.groupModel.standardLines,e.lineVO.key);this.set(`groupModel.standardLines.${i}.bundleVisible`,t),this._innerToggleBundleLines(e,t)}))}}_isLineVisible(e,t){return e&&t}_getHeaderUIData(e){if(o.B.isBundleCollapsible(this.editorModel)){const e=(0,R.Jt)("BundleCollapsed","h"+this.groupModel.groupVO.key)||"Collapsed"===o.B.defaultBundleSetting?F.classNames.CHEVRON_RIGHT_CONTENT:F.classNames.CHEVRON_DOWN_CONTENT;return Object.assign({_caretContent:e},this.fieldLabelsMap)}return this.fieldLabelsMap}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style include="sb-tables-styles"></style>
			<style include="iron-positioning"></style>
			<style>${wr}</style>

			<div id="tableContainer" device>
				<template
					is="dom-if"
					if="[[groupModel.hasVisibleStandardLines]]"
				>
					<!--infinite scroll-->
					<template
						is="dom-if"
						if="[[groupModel.editorModel.largeQuoteExperienceEnabled]]"
					>
						<div
							id="datatable"
							on-focusout="_onFocusOut"
							on-keydown="_onKeyDown"
						>
							<div class="theader">
								<sf-le-table-header
									id="header"
									column-widths="[[columnWidths]]"
									template="[[headerTemplate]]"
									ui-data="[[_getHeaderUIData(fieldLabelsMap)]]"
									line-models="{{groupModel.standardLines}}"
									fields="[[quoteLineFields]]"
									field-set-name="[[_getFieldSetName()]]"
								></sf-le-table-header>
							</div>

							<!-- Setting min-height on the list container so that if vertical space decreases in LQE, the lines do not disappear -->
							<div class="listContainer">
								<div
									id="list"
									class="tbody fit vertical layout"
								>
									<div
										on-keyup="forwardFocusDown"
										on-keydown="forwardFocusDown"
									></div>
									<iron-list
										items="{{groupModel.standardLines}}"
										as="lineModel"
									>
										<template>
											<div style$="z-index:[[getZIndex(index, groupModel.standardLines.length)]]">
												<template
													is="dom-if"
													if="[[_isLineVisible(lineModel.visible, lineModel.bundleVisible)]]"
												>
													<sf-le-table-row
														class="row"
														ui-data="[[getUIData(index, uiData)]]"
														line-model="{{lineModel}}"
														column-widths="[[columnWidths]]"
														template="[[rowTemplate]]"
														hidden$="{{lineModel.hidden}}"
														secondary-row-template="[[secondaryRowTemplate]]"
														original-field-values="{{originalFieldValues}}"
														data-index="[[index]]"
													></sf-le-table-row>
													<template
														is="dom-if"
														if="[[lineModel.hasStandardLineItemDrawer]]"
													>
														<template
															is="dom-if"
															if="[[lineModel.lineVO.expanded]]"
														>
															<div class="drawer">
																<sb-le-drawer
																	line-model="[[lineModel]]"
																	field-names="[[drawerFieldNames]]"
																	item-class="drawerCell"
																	highlight-on-focus="true"
																	data-index="[[index]]"
																></sb-le-drawer>
															</div>
														</template>
													</template>
												</template>
											</div>
										</template>
									</iron-list>
									<div
										tabindex$="[[tabIndex]]"
										on-keyup="forwardFocusUp"
										on-keydown="forwardFocusUp"
									></div>
								</div>
							</div>
							<template
								is="dom-if"
								if="[[groupModel.editorModel.summarized]]"
							>
								<sb-le-summary-row
									model="[[groupModel]]"
									summaries="[[groupModel.summaries]]"
									field-names="[[fieldNames]]"
								></sb-le-summary-row>
							</template>
							<template is="dom-if" if="[[showSubtotal]]">
								<div
									id="subtotalContainer"
									class="tfoot subtotal"
								>
									<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
									<div
										id="subtotalLabel"
										class="td right"
										style$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"
									>
										<sb-i18n>Subtotal</sb-i18n>:
									</div>
									<div
										id="subtotal"
										class="td right"
										style$="min-width:[[subtotalColWidth]];max-width:[[subtotalColWidth]];"
									>
										<sb-field
											property="currency"
											value="[[subtotal]]"
											md="[[subtotalMd]]"
										></sb-field>
									</div>
									<template
										is="dom-if"
										if="[[!groupModel.editorModel.actionsOnTheLeft]]"
									>
										<div class="td lineActions"></div>
									</template>
									<template
										is="dom-if"
										if="[[groupModel.standardLines.0.hasStandardLineItemDrawer]]"
									>
										<div class="td drawerIcon"></div>
									</template>
								</div>
							</template>
						</div>
					</template>

					<!--regular table-->
					<template
						is="dom-if"
						if="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]"
					>
						<div
							id="datatable"
							class="datatable leTable"
							on-focusout="_onFocusOut"
							on-keydown="_onKeyDown"
						>
							<div
								id="droppableStandardRows"
								class="tbody sb-droppable-standardRows"
							>
								<!--header row-->
								<sf-le-table-header
									id="header"
									column-widths="[[columnWidths]]"
									template="[[headerTemplate]]"
									ui-data="[[fieldLabelsMap]]"
									line-models="{{groupModel.standardLines}}"
									fields="[[quoteLineFields]]"
									field-set-name="[[_getFieldSetName()]]"
								></sf-le-table-header>
								<!--table rows-->
								<div
									on-keyup="forwardFocusDown"
									on-keydown="forwardFocusDown"
								></div>
								<template
									is="dom-repeat"
									items="{{groupModel.standardLines}}"
									as="lineModel"
									initial-count="10"
									target-framerate="10"
								>
									<template
										is="dom-if"
										if="[[lineModel.visible]]"
									>
										<sf-le-table-row
											class="row"
											ui-data="[[getUIData(index, uiData)]]"
											line-model="{{lineModel}}"
											hidden$="{{lineModel.hidden}}"
											column-widths="[[columnWidths]]"
											template="[[rowTemplate]]"
											secondary-row-template="[[secondaryRowTemplate]]"
											original-field-values="{{originalFieldValues}}"
											data-index="[[index]]"
										></sf-le-table-row>
										<template
											is="dom-if"
											if="[[lineModel.hasStandardLineItemDrawer]]"
										>
											<template
												is="dom-if"
												if="[[lineModel.lineVO.expanded]]"
											>
												<div class="drawer">
													<sb-le-drawer
														line-model="{{lineModel}}"
														field-names="[[drawerFieldNames]]"
														item-class="drawerCell"
														highlight-on-focus="true"
														data-index="[[index]]"
													></sb-le-drawer>
												</div>
											</template>
										</template>
									</template>
								</template>
								<!-- Summary Lines -->
								<template
									is="dom-if"
									if="[[groupModel.editorModel.summarized]]"
								>
									<sb-le-summary-row
										model="[[groupModel]]"
										summaries="[[groupModel.summaries]]"
										field-names="[[fieldNames]]"
									></sb-le-summary-row>
								</template>
								<div
									tabindex$="[[tabIndex]]"
									on-keyup="forwardFocusUp"
									on-keydown="forwardFocusUp"
								></div>

								<!--subtotal-->
								<template is="dom-if" if="[[showSubtotal]]">
									<div class="tfoot subtotal">
										<!--Setting min-width and max-width instead of width because otherwise browser overwrites our value with its own and that breaks the overall alignment-->
										<div
											id="subtotalLabel"
											class="td right"
											style$="min-width:[[labelColWidth]];max-width:[[labelColWidth]];"
										>
											<sb-i18n>Subtotal</sb-i18n>:
										</div>
										<div
											id="subtotal"
											class="td right"
											style$="min-width:[[subtotalColWidth]];max-width:[[subtotalColWidth]];"
										>
											<sb-field
												property="currency"
												value="[[subtotal]]"
												md="[[subtotalMd]]"
											></sb-field>
										</div>
									</div>
								</template>
							</div>
						</div>
					</template>
				</template>
			</div>
		`}}customElements.define(Sr.is,Sr);const Or=je.b`
:host {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host #tabContainer.largeQuote {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host #tabContainer.largeQuote sb-tabs {
  flex: 1;
  display: flex;
  flex-direction: column;
}
`;class kr extends Ve.Pu{static get is(){return"sb-group-tabs"}static get properties(){return{isGroupFieldPage:{type:Boolean,computed:"_setIsGroupFieldPage(pageType)"},isSegmentedLinesPage:{type:Boolean,computed:"_setIsSegmentedLinesPage(pageType)"},isStandardLinesPage:{type:Boolean,computed:"_setIsStandardLinesPage(pageType)"},editorModel:{notify:!0,type:Object}}}static get observers(){return["buildPage(groupModel)"]}buildPage(){this.groupModel&&(this.pageType=this.attributes.label.value,this.pageComponent="sf-segmented-table",this.groupObjectName=this.groupModel.groupObjectName,this.groupModel.groupMDQTabs&&(this.tabs=this.groupModel.groupMDQTabs),this.hideTabs=!!this.tabs&&(1==this.tabs.length&&"Custom"!=this.tabs[0].key),this.containerClass||(this.containerClass=this.groupModel.editorModel.largeQuoteExperienceEnabled?"largeQuote":"",this.containerClass+=" sbGroupTabs"))}_setIsGroupFieldPage(e){return"details"===e}_setIsStandardLinesPage(e){return"standard"===e}_setIsSegmentedLinesPage(e){return"segmented"===e}static get template(){return Ve.qy`
		<style>${Or}</style>
		<template is="dom-if" if="[[isGroupFieldPage]]">
			<sb-field-set-table editor-model="[[editorModel]]"
								num-columns="1"
								object-name="[[groupObjectName]]"
								data="{{groupModel.groupVO.record}}"
								model="{{groupModel}}"></sb-field-set-table>
		</template>

		<template is="dom-if" if="[[isStandardLinesPage]]">
			<sf-standard-table group-model="{{groupModel}}"></sf-standard-table>
		</template>

        <template is="dom-if" if="[[isSegmentedLinesPage]]">
            <div id="tabContainer" class$="[[containerClass]]">
                <sb-tabs tabs="[[tabs]]"
                         page-component="[[pageComponent]]"
                         group-model="{{groupModel}}"
                         content-container-class="[[containerClass]]"
                         tab-container-class="[[containerClass]]"
                         hide-tabs="[[hideTabs]]"></sb-tabs>
            </div>
        </template>
	    `}}customElements.define(kr.is,kr);const Er=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host(.largeQuote) {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host([class*='--desktop']) {
  --paper-content-container-border-top: 1px solid #d8dde6;
}
:host([class*='--desktop']) {
  --paper-content-container-border-top: 1px solid #d8dde6;
}
:host .sbGroup {
  margin-top: 10px;
  border: 1px solid #d0d0d0;
  box-sizing: border-box;
}
:host .virtualGroup {
  position: relative;
}
:host .group,
:host .virtualGroup {
  width: inherit;
}
:host .group:not(.hiddenGroup),
:host .virtualGroup:not(.hiddenGroup) {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host .group[class*='--mobile'],
:host .virtualGroup[class*='--mobile'] {
  overflow-x: hidden;
}
:host [class*='--mobile'] .group,
:host [class*='--mobile'] .virtualGroup {
  overflow-x: hidden;
}
:host .group #tabContainer.largeQuote,
:host .virtualGroup #tabContainer.largeQuote {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host .group #tabContainer.largeQuote sb-tabs,
:host .virtualGroup #tabContainer.largeQuote sb-tabs {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host .sbGrouped {
  background: var(--sbGroupHeaderBgColor);
  padding-left: 10px;
  color: #16325c;
  font-family: inherit;
  cursor: pointer;
  margin: 10px 0 9px;
}
:host .sbGrouped[class*='--mobile'] {
  margin: 0;
  background-color: #fff;
}
:host [class*='--mobile'] .sbGrouped {
  margin: 0;
  background-color: #fff;
}
:host .sbGroupHeader {
  height: 60px;
}
:host .groupNameInput {
  display: inline-block;
  margin-top: 5px;
  margin-bottom: 5px;
  padding: 5px 15px 5px;
  font-size: 15px;
  color: #16325c;
  border-width: 2px;
  height: 32px;
  vertical-align: middle;
}
:host .groupNameInput[class*='--mobile'] {
  margin: 0 0 0 10px;
  padding: 0;
}
:host [class*='--mobile'] .groupNameInput {
  margin: 0 0 0 10px;
  padding: 0;
}
:host #groupHeaderName {
  font-size: var(--sbGroupHeaderFontSize);
  font-weight: var(--sbGroupHeaderFontWeight);
  color: var(--sbGroupHeaderFontColor);
  vertical-align: middle;
}
:host #groupHeaderName[class*='--desktop'] {
  margin: 5px 0;
  padding: 7px;
}
:host [class*='--desktop'] #groupHeaderName {
  margin: 5px 0;
  padding: 7px;
}
:host #groupHeaderName[class*='--mobile'] {
  margin-top: 4px;
  margin-bottom: 4px;
}
:host [class*='--mobile'] #groupHeaderName {
  margin-top: 4px;
  margin-bottom: 4px;
}
:host .groupDescription {
  white-space: normal;
  padding-top: 5px;
  color: #6b6d70;
  overflow-x: hidden;
  text-overflow: ellipsis;
  font-size: var(--sbProductFeatureHeaderInstructionsFontSize);
}
:host .groupTotal {
  text-align: right;
  padding-right: 10px;
}
:host .group {
  margin: 10px 15px 15px;
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbGroupBorderColor);
  border-radius: 4px;
  min-height: 146px;
  display: inline-block;
}
:host .group[class*='--mobile'] {
  display: block;
  border-top: 1px solid #d8dee6;
  border-bottom: 1px solid #d8dee6;
  border-right: none;
  border-left: none;
  border-radius: none;
  margin: 0;
  min-height: 62px;
  height: inherit;
  overflow: inherit;
}
:host [class*='--mobile'] .group {
  display: block;
  border-top: 1px solid #d8dee6;
  border-bottom: 1px solid #d8dee6;
  border-right: none;
  border-left: none;
  border-radius: none;
  margin: 0;
  min-height: 62px;
  height: inherit;
  overflow: inherit;
}
:host .group > header {
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
  background-color: var(--sbGroupHeaderBgColor);
  font-family: var(--sbGroupHeaderFontFamily);
  font-size: var(--sbGroupHeaderFontSize);
  color: var(--sbGroupHeaderFontColor);
  font-weight: var(--sbGroupHeaderFontWeight);
  font-style: var(--sbGroupHeaderFontStyle);
  text-decoration: var(--sbGroupHeaderTextDecoration);
  display: block;
  margin: 0;
  border: 0;
  padding: 10px 15px 5px;
  border-bottom-color: var(--sbGroupHeaderBorderBottomColor);
  border-bottom-style: solid;
  border-bottom-width: var(--sbGroupHeaderBorderBottomWidth);
}
:host .group .emptyTableMessage {
  padding: 15px;
}
:host .emptyTableMessage[class*='--mobile'] {
  border-top: 1px solid #d8dee6;
}
:host [class*='--mobile'] .emptyTableMessage {
  border-top: 1px solid #d8dee6;
}
:host .tableSectionHeader {
  padding: 20px 0 0 15px;
  font-weight: 300;
}
:host .tableSectionHeader.standard {
  padding-top: 40px;
}
:host .sbGrouped .sf-icon-edit {
  visibility: hidden;
}
:host .sbGrouped .sf-icon-edit[class*='--mobile'] {
  visibility: visible;
}
:host [class*='--mobile'] .sbGrouped .sf-icon-edit {
  visibility: visible;
}
:host .sbGrouped:hover .sf-icon-edit {
  visibility: visible;
}
:host .desktopSubtotal {
  display: block;
  text-align: right;
  margin: 10px 0;
  padding-right: 24px;
  text-transform: uppercase;
  font-size: 16px;
  font-weight: var(--sbGroupHeaderFontWeight);
  color: var(--sbGroupHeaderFontColor);
}
:host .desktopSubtotal span {
  display: inline-block;
}
:host .desktopSubtotal.largeQuote {
  display: none;
}
:host .desktopSubtotal.right {
  padding-right: 15px;
}
:host .desktopSubtotal[class*='--mobile'] {
  display: none;
}
:host [class*='--mobile'] .desktopSubtotal {
  display: none;
}
:host .groupActionBtns {
  position: relative;
  float: right;
  margin-right: 10px;
  margin-top: 5px;
}
:host .loadingSpinner {
  position: relative;
  float: right;
  margin-right: 20px;
  margin-top: 20px;
}
:host .groupActions {
  position: absolute;
  background-color: #ffffff;
  z-index: 4;
  border-radius: 4px;
  border: 1px solid #d8dde6;
  padding: 0px;
  margin: 0px;
  top: 35px;
  right: 0;
}
:host .groupHeaderRight {
  width: 50%;
  padding: 0px 10px 0px 10px;
  border-bottom: none !important;
  white-space: normal;
}
:host .groupHeaderLeft {
  width: 50%;
  border-right: 2px solid #d8dde6;
  border-bottom: none !important;
}
:host .groupHeaderLeft[class*='--mobile'] {
  border-right: none;
  width: 100%;
}
:host [class*='--mobile'] .groupHeaderLeft {
  border-right: none;
  width: 100%;
}
:host .groupHeaderLeft .container {
  overflow: hidden;
}
:host .groupHeaderLeft h2 {
  display: inline-block;
}
:host .groupHeaderLeft .sb-icon-star-empty,
:host .groupHeaderLeft .sb-icon-star {
  font-size: 20px;
  float: left;
  margin-top: 9px;
}
:host .groupHeaderLeft .sb-icon-star-empty:hover,
:host .groupHeaderLeft .sb-icon-star:hover {
  cursor: pointer;
}
:host .groupNameLeft {
  display: inline-block;
  float: left;
}
:host .groupFieldsContainer {
  width: 100%;
}
:host .groupHeaderRight[class*='--mobile'],
:host #addProducts[class*='--mobile'] {
  display: none;
}
:host [class*='--mobile'] .groupHeaderRight,
:host [class*='--mobile'] #addProducts {
  display: none;
}
:host #mobileAddProducts {
  display: none;
}
:host #mobileAddProducts[class*='--mobile'] {
  display: block;
}
:host [class*='--mobile'] #mobileAddProducts {
  display: block;
}
:host #groupActionBtn[class*='--mobile'] {
  border-left: 1px solid #d8dde6;
  border-radius: 4px;
}
:host [class*='--mobile'] #groupActionBtn {
  border-left: 1px solid #d8dde6;
  border-radius: 4px;
}
:host header {
  position: relative;
}
:host header[class*='--mobile'] {
  display: block;
  margin: 0;
  border: 0;
  padding: 10px 15px 5px;
  background-color: #fff;
  min-height: 62px;
}
:host [class*='--mobile'] header {
  display: block;
  margin: 0;
  border: 0;
  padding: 10px 15px 5px;
  background-color: #fff;
  min-height: 62px;
}
:host .subtotalInHeader {
  display: none;
}
:host .subtotalInHeader.largeQuote {
  display: block;
  font-size: 16px;
  font-weight: normal;
  color: var(--sbGroupHeaderFontColor);
}
:host .subtotalInHeader.largeQuote > h4 {
  font-size: 16px;
}
:host .subtotalInHeader[class*='--mobile'] {
  display: block;
  padding-left: 30px;
  color: #16325c;
}
:host .subtotalInHeader .subtotalLabel[class*='--mobile'] {
  display: none;
}
:host [class*='--mobile'] .subtotalInHeader {
  display: block;
  padding-left: 30px;
  color: #16325c;
}
:host [class*='--mobile'] .subtotalInHeader .subtotalLabel {
  display: none;
}
:host #groupExpandIcon {
  display: none;
}
:host #groupExpandIcon[class*='--mobile'] {
  display: inline-block;
}
:host [class*='--mobile'] #groupExpandIcon {
  display: inline-block;
}
:host .hidden {
  display: none !important;
}
:host .hoverover {
  background-color: #d8edff;
  border: 1px solid #5eb4ff;
}
:host .mobileHidden[class*='--mobile'] {
  display: none;
}
:host [class*='--mobile'] .mobileHidden {
  display: none;
}
`;class Ir extends((0,Fe.g)((0,Le.$)((0,Ae.T)(Ve.Pu)))){static get is(){return"sb-le-group"}static get properties(){return{groupModel:{type:Object,notify:!0,observer:"_groupModelChanged"},groupClass:{type:String},subtotal:Number,subtotalMd:Object,value:{notify:!0,observer:"_descriptionChanged"},descriptionMd:Object,groupLevelTabs:{type:Array,value:[]},isMobile:{type:Boolean,value:!1},editorModel:{type:Object,notify:!0},viewport:{type:Object,value:function(){return j.L.getViewport()}},favorited:Boolean,i18n:{type:Object,value:function(){return o.B.properties.i18n.value()}}}}get events(){let e={};return e[r.sV.COL_WIDTHS_CHANGED]=this.colWidthsChanged,e[r.sV.RENDER_NEW_TAB]=this.renderNewTab,e[r.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get observers(){return["_groupRecordChanged(groupModel.groupVO.record.*)","_toggleGrouping(groupModel.groupVO)","_segmentedPrimaryMobileColsChanged(groupModel.editorModel.segmentedPrimaryMobileCols)","_linesChanged(groupModel.standardLines.splices)","_linesChanged(groupModel.segmentedLinesByDimension.*)","_createDragDropModel(editorModel)","_groupCustomActionsChanged(groupModel.editorModel.groupCustomActions)","_showSubtotal(groupModel.groupVO.record.*)","_updateColumnWidths(groupHasSegmentedProducts)"]}ready(){super.ready(),Object.entries({"cseDialog-tapped":"_handleCSEDialogTapped","segmented-changed":"_customSegmentedUpdated","upgrade-asset-quantity-changed":"_setUpgradeQuantity"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.groupExpanded=!1,this.showSpinner=!1}_updateColumnWidths(){!this.groupHasSegmentedProducts&&o.B.isColumnResizingEnabled&&(0,r.rC)(r.sV.MDQ_LINE_DELETED)}_createDragDropModel(){let e=new Set(["sb-droppable-mdqRows","sb-droppable-emptyTable","sb-droppable-emptyMDQTable","sb-droppable-emptyMDQSegmentTab","sb-droppable-sidePanelGroups","emptyTableMessage"]);this.dragDrop=new lt(this,this.editorModel.data.settings.bundleKeptTogether,"sf-le-table-row",e,this.dragFunc.bind(this),this.trackFunc.bind(this),this.dropFunc.bind(this),8,150)}_groupModelChanged(){this.editorModel=this.groupModel.quoteModel.editorModel,this._updateTableProperties(),this._updatePageData(this._getTabs(this.groupModel)),this._setIsButton(),this.isMobile=!!this.viewport&&this.viewport.isMobile(),(this.isMobile||this.editorModel.largeQuoteExperienceEnabled)&&(this.set("groupModel.groupExpanded",this.groupExpanded),this.buildGroupTabs()),this.viewport&&!this.viewport.isMobile()&&(this.set("groupModel.groupExpanded",!0),this._setTotalWidth()),this.containerClass=this.editorModel.largeQuoteExperienceEnabled?"largeQuote":""}_setIsButton(){this.isButton=!this.viewport||this.viewport.isDesktop()&&this.viewport.M.up}_setTotalWidth(){this.editorModel.layout&&!this.editorModel.deviceContext.isMobile&&(this.totalWidth=this.editorModel.layout.totalWidth+2+"px")}colWidthsChanged(){this._setTotalWidth()}_linesChanged(){this._updateTableProperties();const e=this._getTabs(this.groupModel);e.length!==this.tabs.length&&this._updatePageData(e)}_updateTableProperties(){this.groupHasStandardProducts=this.groupModel._groupHasStandardProducts(),this.groupHasSegmentedProducts=this.groupModel._groupHasSegmentedProducts(),this.groupedAndHasNoLineItems=this.groupModel.quoteModel.grouped&&!this._groupHasLineItems(),this.groupHasBothProducts=this._groupHasBothProducts(),this._showSubtotal(),this._setGroupDescription()}_segmentedPrimaryMobileColsChanged(){this._updatePageData(this._getTabs(this.groupModel))}_updatePageData(e){this.shadowRoot.querySelector("#leGroupTabs")&&this.shadowRoot.querySelector("#leGroupTabs").destroyTabs(),this.tabs=e,this.groupMDQTabs||(this.groupMDQTabs=e)}_getTabs(e){const t=[],i=e.dimensions;for(let o=0,r=i.length;o<r;o++){let r=i[o];if(e.hasVisibleSegmentedLines[r]){let i="t"+o,n={name:i,key:r,label:e.quoteModel.quoteVO.localizedDimensionNames[r],bind:["groupModel"]};"Custom"==r&&(n.iconId=i+"-"+e.groupKey,n.iconClass="sb-icon-pencil",n.iconEvent="cseDialog"),t.push(n)}}return t}_handleCSEDialogTapped(e){this.dispatchEvent((0,r.uv)("cse-tapped",{dialog:"cseDialog",groupModelKey:this.groupModel.groupKey}))}_groupHasBothProducts(){return this.groupModel._groupHasStandardProducts()&&this.groupModel._groupHasSegmentedProducts()}_groupHasLineItems(){return this.groupModel._groupHasStandardProducts()||this.groupModel._groupHasSegmentedProducts()}_groupRecordChanged(e){e.path==`groupModel.groupVO.record.${this.editorModel.constants.OPTIONAL_FIELD}`&&(0,r.rC)(r.sV.TOGGLE_OPTIONAL_CLICKED,{toggleOptionalBoolean:e.value,groupKey:this.groupModel.groupKey});let t=this.groupModel.groupVO.record;this.favorited=!(!t||!t[this.editorModel.constants.FAVORITE_ID_FIELD])}_setGroupDescription(){this.groupModel.groupVO.record&&(this.value=this.groupModel.groupVO.record[this.editorModel.constants.DESCRIPTION_FIELD],this.groupModel&&this.editorModel.md&&this.editorModel.constants&&this._getDescriptionMd(),this.value||(this.value=o.B.properties.i18n.value().l("Click to edit description")))}_descriptionChanged(){let e=o.B.properties.i18n.value().l("Click to edit description");this.value!==e&&(this.groupModel.groupVO.record[this.editorModel.constants.DESCRIPTION_FIELD]=this.value)}_getDescriptionMd(){let e=this.editorModel.md.fieldsMap[this.groupModel.groupObjectName];this.descriptionMd=e[this.editorModel.constants.DESCRIPTION_FIELD]}_getSegmentKeys(){return Object.keys(this.groupModel.segmentedLinesBySegmentKey)}triggerCustomAction(e){this.dispatchEvent((0,r.uv)("le-action-tapped",{customAction:{eventHandlerName:e.currentTarget.attributes.eventHandlerName.value},model:this.groupModel}))}showGroupNameEditor(e){this.isMobile||(e.stopPropagation(),(0,L.p1)("hidden",!0,this.shadowRoot.querySelector("#groupHeaderName")),(0,L.p1)("hidden",!1,this.shadowRoot.querySelector("#groupNameInput")),this.shadowRoot.querySelector("#groupNameInput").focus(),this.shadowRoot.querySelector("#groupNameInput").setSelectionRange(0,this.groupModel.groupVO.record.Name.length))}checkInputValue(e){e.stopPropagation(),""!=e.target.value&&this.set("groupModel.groupVO.record.Name",e.target.value),(0,L.p1)("hidden",!1,this.shadowRoot.querySelector("#groupHeaderName")),(0,L.p1)("hidden",!0,this.shadowRoot.querySelector("#groupNameInput"))}closeGroupNameEditor(e){e.stopPropagation(),"13"==e.keyCode&&this.shadowRoot.querySelector("#groupNameInput").blur()}_showSubtotal(){if(!this.groupModel.groupVO.record)return;let e=this.groupModel.quoteModel.editorModel.data.settings;this.groupModel.quoteModel.grouped&&"doNotDisplay"!=e.lineEditorGroupSubtotalsField&&(this.groupModel.segmentedLines.length>0&&this.groupModel._groupHasStandardProducts()||this.viewport&&this.viewport.isMobile()||this.groupModel.editorModel.largeQuoteExperienceEnabled)?(this._getSubtotal(),this.showSubtotal=!0):this.showSubtotal=!1}_getSubtotal(){if(!this.groupModel.quoteModel.grouped)return;let e,t,i=this.groupModel.quoteModel.editorModel,o=i.data.settings,r=o.lineEditorGroupSubtotalsField;"Default"==r||null==r?(e=o.isMultiCurrencyOrg?this.groupModel.quoteModel.quoteVO.currencyDecimalScale:i.md.fieldsMap[o.developerPrefix+"QuoteLineGroup__c"][i.constants.NET_TOTAL_FIELD].scale,t=this.groupModel.groupVO.record[i.constants.NET_TOTAL_FIELD]||0):(e=o.isMultiCurrencyOrg?this.groupModel.quoteModel.quoteVO.currencyDecimalScale:i.md.fieldsMap[o.developerPrefix+"QuoteLineGroup__c"][r].scale,t=this.groupModel.groupVO.record[o.lineEditorGroupSubtotalsField]||0),this.subtotalMd||(this.subtotalMd={type:"currency",scale:e,CurrencyIsoCode:this.groupModel.quoteModel.quoteVO.record.CurrencyIsoCode}),this.subtotal=t}_toggleGrouping(){this.notifyPath("groupModel.quoteModel.grouped",this.groupModel.quoteModel.grouped),this.set("groupClass",this.groupModel.quoteModel.grouped?"group":"virtualGroup")}buildGroupTabs(){if(!this.editorModel)return;let e=[];this.editorModel.fieldsetMap.groupFieldNames.length>0&&this._groupHasLineItems()&&!this.editorModel.largeQuoteExperienceEnabled&&e.push("details"),this.groupModel._groupHasSegmentedProducts()&&e.push("segmented"),this.groupModel._groupHasStandardProducts()&&e.push("standard");let t=[];if(this.groupModel.groupMDQTabs=this.tabs,this._renderTabs(e)){this.shadowRoot.querySelector("#groupTabs")&&this.shadowRoot.querySelector("#groupTabs").destroyTabs();for(let i=0,o=e.length;i<o;i++){let o="t"+i,r=e[i];t.push({name:o,label:r})}this.groupLevelTabs=void 0,this.bind=["groupModel","editorModel"],this.groupMDQTabs=this.groupModel.groupMDQTabs,this.selectedTabIndex=0,this.hideTabs=1==t.length,this.groupLevelTabs=t}}_renderTabs(e){if(this.groupLevelTabs.length!==e.length)return!0;if(this.groupModel.groupMDQTabs&&this.groupMDQTabs.length!==this.groupModel.groupMDQTabs.length)return!0;for(let t=0,i=this.groupLevelTabs.length;t<i;t++)if(this.groupLevelTabs[t].label!==e[t])return!0;return!1}expandGroup(e){e.target.hasAttribute("triggersExpandGroup")&&this.isMobile&&!this.showSpinner&&(this.shadowRoot.querySelector("#mobileGroupTabs")||(this.showSpinner=!0),(0,Ne.m)(this,(()=>{this.set("groupModel.groupExpanded",!this.groupModel.groupExpanded),this.groupExpanded=this.groupModel.groupExpanded,(0,Ne.m)(this,(()=>{this.showSpinner=!1}))})))}viewportChanged(e){this.viewport=e.detail.viewport,this._setIsButton(),this.viewport&&this.viewport.isMobile()?this.isMobile=!0:this.isMobile=!1}renderNewTab(e){e.detail.groupKey===this.groupModel.groupKey&&(this._updatePageData(this._getTabs(this.groupModel)),(this.isMobile||this.editorModel.largeQuoteExperienceEnabled)&&this.buildGroupTabs())}_setUpgradeQuantity(e){let t=e.detail.sourceIndex,i=e.detail.upgradeIndex,o=e.detail.sourceLineVO,r=e.detail.upgradeLineVO;this._setUpgradeQuantityDebouncer=Re.aq.debounce(this._setUpgradeQuantityDebouncer,qe.EV.after(10),(()=>{o.invalidQuantity?this._notifyQuantityChanged(t,i,o,!0):r.invalidQuantity?this._notifyQuantityChanged(i,t,r,!0):this._notifyQuantityChanged(t,i),o.invalidQuantity=null,r.invalidQuantity=null}))}_notifyQuantityChanged(e,t,i,o){let n,s;this.groupModel.standardLines[e].internalUpdate=!0,this.groupModel.standardLines[t].internalUpdate=!0,o&&(n=i.invalidQuantity,s=i.validQuantity,i.record[this.editorModel.constants.QUANTITY_FIELD]=i.invalidQuantity,this.notifyPath(`groupModel.standardLines.${e}.lineVO.record.${this.editorModel.constants.QUANTITY_FIELD}`,this.groupModel.standardLines[e].lineVO.record[this.editorModel.constants.QUANTITY_FIELD]),i.record[this.editorModel.constants.QUANTITY_FIELD]=i.validQuantity),this.notifyPath(`groupModel.standardLines.${e}.lineVO.record.${this.editorModel.constants.QUANTITY_FIELD}`,this.groupModel.standardLines[e].lineVO.record[this.editorModel.constants.QUANTITY_FIELD]),this.groupModel.standardLines[e].internalUpdate=!1,this.notifyPath(`groupModel.standardLines.${t}.lineVO.record.${this.editorModel.constants.QUANTITY_FIELD}`,this.groupModel.standardLines[t].lineVO.record[this.editorModel.constants.QUANTITY_FIELD]),this.groupModel.standardLines[t].internalUpdate=!1,this.dispatchEvent((0,r.uv)("validate-quantity-changed",{invalidQuantity:n,validQuantity:s}))}addSegmentedLineToEmptyTable(e){let t=e.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD],i=this.groupModel.quoteModel.quoteVO.multiSegmentKeys?this.groupModel.quoteModel.quoteVO.multiSegmentKeys[t]:null;this.groupModel.hasVisibleSegmentedLines||(this.groupModel.hasVisibleSegmentedLines={}),this.groupModel.setDimensionProperties(i),this.groupModel.segmentedLines.push(e),this.groupModel.groupVO.multiSegmentColumns[i]=e.editorModel.data.quote.multiSegmentColumns[i],this.groupModel.groupVO.localizedMultiSegmentColumns[i]=e.editorModel.data.quote.localizedMultiSegmentColumns[i],this.groupModel.colWidth[i]=e.groupModel.colWidth[i],e.groupModel=this.groupModel,e.lineVO.parentGroupKey=this.groupModel.groupKey;for(let t=0,i=e.segments.length;t<i;t++)e.segments[t].lineVO.parentGroupKey=this.groupModel.groupKey;this.groupModel.segmentedLinesBySegmentKey[t]=e,this.push(`groupModel.segmentedLinesByDimension.${i}`,e),this._updatePageData(this._getTabs(this.groupModel))}addSegmentedLineToExistingTab(e){let t=e.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD],i=this.groupModel.quoteModel.quoteVO.multiSegmentKeys?this.groupModel.quoteModel.quoteVO.multiSegmentKeys[t]:null;this.groupModel.segmentedLines.push(e),e.groupModel=this.groupModel,e.lineVO.parentGroupKey=this.groupModel.groupKey;for(let t=0,i=e.segments.length;t<i;t++)e.segments[t].lineVO.parentGroupKey=this.groupModel.groupKey;this.groupModel.segmentedLinesBySegmentKey[t]=e,this.push(`groupModel.segmentedLinesByDimension.${i}`,e)}removeSegmentedLine(e){let t=e.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD],i=this.groupModel.quoteVO.multiSegmentKeys?this.groupModel.quoteVO.multiSegmentKeys[t]:null;this.groupModel.segmentedLines.splice(this.groupModel.segmentedLines.indexOf(e),1),delete this.groupModel.segmentedLinesBySegmentKey[t],this.splice(`groupModel.segmentedLinesByDimension.${i}`,this.groupModel.segmentedLinesByDimension[i].indexOf(e),1),0===this.groupModel.segmentedLinesByDimension[i].length&&(this.groupModel.removeDimensionProperties(i),delete this.groupModel.groupVO.localizedMultiSegmentColumns[i],delete this.groupModel.groupVO.multiSegmentColumns[i],this.shadowRoot.querySelector("#leGroupTabs")&&this.shadowRoot.querySelector("#leGroupTabs").destroyTabs(),this._updatePageData(this._getTabs(this.groupModel)))}_onTrack(e){this.dragDrop._onTrack(e)}dragFunc(e){this.dragDrop.ghost=this.dragDrop.lineEditor.$.ghost,this.linesByParentKey=this.editorModel.quoteModel.linesByParentItemKey,this.indexByGroupKey=this.groupModel.quoteModel.indexByGroupKey,this.lineModelsByKey=this.groupModel.quoteModel.lineModelsByKey,this.dragDrop.dragLineModel=[],this.dragDrop.dragGroupModel=e.lineModel.groupModel,this.dragDrop.dragKey=e.lineModel.lineVO.key,this.dragDrop.dragLineModel=e.lineModel,this.dragDrop.segment=(0,L.bv)(e).dimension,this.dragDrop.dragIndex=this.groupModel.segmentedLinesByDimension[this.dragDrop.segment].indexOf(e.lineModel),this.set(`groupModel.segmentedLinesByDimension.${this.dragDrop.segment}.${this.dragDrop.dragIndex}.hidden`,!0)}trackFunc(e){let t=this.dragDrop;if(e=t._findTableRowValidTarget(e))switch("placeholder"===e.id&&(e="before"===e.getAttribute("ref")?e.previousElementSibling:e.nextElementSibling),t.targetClass){case"sb-droppable-mdqRows":if(t._updateMDQTableRowHoverOverObject(t.sourceElement,e),!t.hoverOver)return;t.targetHost=(0,L.bv)(t.hoverOver.comp),t.usePlaceholder=!0,t.enableHighLight=!1;break;case"sb-droppable-emptyTable":case"sb-droppable-sidePanelGroups":t.keepBundleTogether&&t.sourceElement.lineModel.hasParent?t.hoverOver=null:t.hoverOver={comp:e},t.usePlaceholder=!1,t.enableHighLight=!0}}dropFunc(e,t,i,o){this.dragDrop.dropKey=null,this.dragDrop.dropIndex=null,this.dragDrop.dropGroupModel=null;let n,s,a=this.dragDrop.segment,l=this.dragDrop.dragLineModel;if(this.set(`groupModel.segmentedLinesByDimension.${a}.${this.dragDrop.dragIndex}.hidden`,!1),!t)return;const d=(0,L.bv)(e),c=(0,L.bv)(t);switch(e.lineModel.subscriptionScopeEditable&&(this.dragDrop.dragGroupModel._updateSegmentedSubscriptionScopeEditable(e.lineModel),d.fieldNames=d._getFields(),d._setColumnWidths()),i){case"sb-droppable-mdqRows":let e=t.lineModel.groupModel;n=(0,L.bv)((0,L.bv)(c)),s=c,this.dragDrop.dropGroupModel=e,l.subscriptionScopeEditable&&(this.dragDrop.dropGroupModel.segmentedSubscriptionScopeEditable=!0);let i=e.segmentedLinesByDimension[a].indexOf(t.lineModel);o?i=i>=0?i:0:++i,l.groupModel=e,l.lineVO.parentGroupKey=e.groupKey,l.segments.forEach(function(t){t.lineVO.parentGroupKey=e.groupKey,t.groupModel=e}.bind(this)),this.removeSegmentedLine(this.dragDrop.dragLineModel);const r=l.lineVO.record[this.groupModel.constants.SEGMENT_KEY_FIELD];this.groupModel.segmentedLinesBySegmentKey[r]=l,this.groupModel.segmentedLines.splice(i,0,l),n.splice(`groupModel.segmentedLinesByDimension.${a}`,i,0,l);break;case"sb-droppable-emptyTable":case"emptyTableMessage":n=(0,L.bv)(t),s=void 0,this.dragDrop.dropGroupModel=n.groupModel,l.subscriptionScopeEditable&&(this.dragDrop.dropGroupModel.segmentedSubscriptionScopeEditable=!0),this.removeSegmentedLine(this.dragDrop.dragLineModel),n.addSegmentedLineToEmptyTable(l);break;case"sb-droppable-sidePanelGroups":let d="Group"+t.getAttribute("id");n=this.dragDrop._findParentCustomElement(t,"groupContainer","id").querySelector(`#${d}`),s=void 0,this.dragDrop.dropGroupModel=n.groupModel,l.subscriptionScopeEditable&&(this.dragDrop.dropGroupModel.segmentedSubscriptionScopeEditable=!0),this.removeSegmentedLine(this.dragDrop.dragLineModel),this.dragDrop.dropGroupModel.dimensions.includes(this.dragDrop.segment)?n.addSegmentedLineToExistingTab(l):n.addSegmentedLineToEmptyTable(l)}if("sb-droppable-mdqRows"===i){let e=n.groupModel.segmentedLinesByDimension[a];c.notifyPath(`groupModel.segmentedLinesByDimension.${a}`,e.slice()),c.notifyPath("lineModels",e.slice())}this.dispatchEvent((0,r.uv)("renumber-lines",void 0)),this.editorModel.data.settings.usesClientCalculator&&this.editorModel.quoteModel.renumberIndexes(!0),d&&"SF-SEGMENTED-TABLE"===d.tagName&&d._prepareUIData(),c&&"SF-SEGMENTED-TABLE"===c.tagName&&d!==c&&c._prepareUIData()}_groupCustomActionsChanged(e){let t=e?e.length:0;for(let e=0;e<t;e++)this.notifyPath(`editorModel.groupCustomActions.${e}.children`)}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style include="sb-tables-styles"></style>
			<style>${Er}</style>

			<div device class$="[[groupClass]]" style$="width:[[totalWidth]]">
				<template is="dom-if" if="[[groupModel.quoteModel.grouped]]">
					<header on-click="expandGroup" triggersExpandGroup>
						<div class="groupFieldsContainer datatable">
							<div class="tr">
								<div class="groupHeaderLeft td">
									<div class="container" triggersExpandGroup>
										<div class="groupNameLeft">
											<template
												is="dom-if"
												if="[[favorited]]"
											>
												<span
													id="unfavoriteBtn"
													class="sb-icon-star"
													on-click="triggerCustomAction"
													eventHandlerName="onRemoveFromFavorites"
												></span>
												<paper-tooltip
													for="unfavoriteBtn"
													position="bottom"
													animation-delay="0"
													offset="10"
													fit-to-visible-bounds="true"
													><sb-i18n
														>Remove From
														Favorites</sb-i18n
													></paper-tooltip
												>
											</template>
											<template
												is="dom-if"
												if="[[!favorited]]"
											>
												<span
													id="favoriteBtn"
													class="sb-icon-star-empty"
													on-click="triggerCustomAction"
													eventHandlerName="onAddToFavorites"
												></span>
												<paper-tooltip
													for="favoriteBtn"
													position="bottom"
													animation-delay="0"
													offset="10"
													fit-to-visible-bounds="true"
													><sb-i18n
														>Add To
														Favorite</sb-i18n
													></paper-tooltip
												>
											</template>
											<h2
												id="groupHeaderName"
												class="sbGrouped"
												on-click="showGroupNameEditor"
												triggersExpandGroup
											>
												{{groupModel.groupVO.record.Name}}
												<i
													class="sf-icon-edit"
													hidden$="[[isMobile]]"
												></i>
											</h2>
											<input
												value="{{groupModel.groupVO.record.Name}}"
												id="groupNameInput"
												class="groupNameInput hidden"
												type="text"
												on-blur="checkInputValue"
												on-keydown="closeGroupNameEditor"
											/>
											<div class$="subtotalInHeader [[containerClass]]">
												<template
													is="dom-if"
													if="[[showSubtotal]]"
												>
													<span class="subtotalLabel"
														><sb-i18n
															>Subtotal</sb-i18n
														>:</span
													>
													<h4 class="subtotal">
														<sb-field
															property="currency"
															value="[[subtotal]]"
															md="[[subtotalMd]]"
														></sb-field>
													</h4>
												</template>
											</div>
										</div>
										<div
											id="groupActions"
											class="buttons groupActionBtns"
											hidden$="[[!groupModel.groupExpanded]]"
										>
											<template
												is="dom-repeat"
												items="[[editorModel.groupCustomActions]]"
											>
												<sb-custom-action
													name$="[[item.name]]"
													custom-action="[[item]]"
													model="[[groupModel]]"
													button="[[isButton]]"
													group-action="[[groupModel.quoteModel.grouped]]"
												></sb-custom-action>
											</template>
										</div>
										<!-- Toggling the display property (show) stops the animation in Safari and IOS. Toggling the visibility property (invisibility) does not -->
										<sf-loading-spinner
											class="loadingSpinner"
											show="truthy"
											invisible$="[[!showSpinner]]"
											position="relative"
											size="small"
										></sf-loading-spinner>
									</div>
									<!--desktop group description-->
									<template is="dom-if" if="[[!isMobile]]">
										<div class="groupDescription">
											<sb-field
												class="rte"
												property="[[editorModel.constants.DESCRIPTION_FIELD]]"
												value="{{value}}"
												md="[[descriptionMd]]"
												editing="true"
												render-read-only="true"
											></sb-field>
										</div>
									</template>
								</div>
								<div class="groupHeaderRight td">
									<sb-field-set-table
										editor-model="{{editorModel}}"
										num-columns="2"
										object-name="[[groupModel.groupObjectName]]"
										data="{{groupModel.groupVO.record}}"
										model="{{groupModel}}"
									></sb-field-set-table>
								</div>
							</div>
						</div>
					</header>
				</template>

				<!--Tabs for Mobile Group-->
				<template is="dom-if" if="[[isMobile]]">
					<template is="dom-if" if="[[groupModel.groupExpanded]]">
						<div id="mobileGroupTabs">
							<template
								is="dom-if"
								if="[[groupedAndHasNoLineItems]]"
							>
								<div
									id="emptyLinesMsg"
									class="emptyTableMessage"
								>
									<sb-i18n key="mobileEmptyLinesMsg"
										>This group has no line items. Click on
										Add Products button to add a
										product.</sb-i18n
									>
								</div>
							</template>
							<template
								is="dom-if"
								if="[[!groupedAndHasNoLineItems]]"
							>
								<sb-tabs
									id="groupTabs"
									tabs="[[groupLevelTabs]]"
									editor-model="{{editorModel}}"
									group-model="{{groupModel}}"
									page-component="sb-group-tabs"
									bind="[[bind]]"
									hide-tabs="[[hideTabs]]"
									selected-tab-index="[[selectedTabIndex]]"
									secondary-tabs
								></sb-tabs>
							</template>
						</div>
					</template>
				</template>

				<!--Desktop Groups-->
				<template is="dom-if" if="[[!isMobile]]">
					<template is="dom-if" if="[[groupedAndHasNoLineItems]]">
						<div class="sb-droppable-emptyTable">
							<div class="emptyTableMessage">
								<template
									is="dom-if"
									if="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]"
								>
									<sb-i18n key="emptyLinesMsg"
										>This group has no line items. Click on
										Add Products button or drag lines from
										other groups.</sb-i18n
									>
								</template>
								<template
									is="dom-if"
									if="[[groupModel.editorModel.largeQuoteExperienceEnabled]]"
								>
									<sb-i18n key="mobileEmptyLinesMsg"
										>This group has no line items. Click on
										Add Products button to add a
										product.</sb-i18n
									>
								</template>
							</div>
						</div>
					</template>

					<!--use tabs if large quote experience is enabled-->
					<template
						is="dom-if"
						if="[[groupModel.editorModel.largeQuoteExperienceEnabled]]"
					>
						<div id="tabContainer" class$="[[containerClass]]">
							<sb-tabs
								id="groupTabs"
								tabs="[[groupLevelTabs]]"
								editor-model="{{editorModel}}"
								group-model="{{groupModel}}"
								page-component="sb-group-tabs"
								bind="[[bind]]"
								hide-tabs="[[hideTabs]]"
								content-container-class="[[containerClass]]"
								tab-container-class="[[containerClass]]"
								selected-tab-index="[[selectedTabIndex]]"
								secondary-tabs
							></sb-tabs>
						</div>
					</template>

					<!--regular tables-->
					<template
						is="dom-if"
						if="[[!groupModel.editorModel.largeQuoteExperienceEnabled]]"
					>
						<!-- Segmented Products Section -->
						<template
							is="dom-if"
							if="[[groupHasSegmentedProducts]]"
							restamp
						>
							<h2
								class="segmented tableSectionHeader"
								hidden$="[[!groupHasBothProducts]]"
							>
								<sb-i18n>Segmented Products</sb-i18n>
							</h2>
							<div id="tabContainer" class$="[[containerClass]]">
								<sb-tabs
									id="leGroupTabs"
									tabs="{{tabs}}"
									page-component="sf-segmented-table"
									content-container-class="[[containerClass]]"
									tab-container-class="[[containerClass]]"
									group-model="{{groupModel}}"
								></sb-tabs>
							</div>
						</template>

						<!-- Standard Products Section -->
						<template is="dom-if" if="[[groupHasStandardProducts]]" restamp>
							<h2
								class="standard tableSectionHeader"
								hidden$="[[!groupHasBothProducts]]"
							>
								<sb-i18n>Standard Products</sb-i18n>
							</h2>
							<sf-standard-table
								id="standardLines"
								group-model="{{groupModel}}"
							></sf-standard-table>
						</template>
					</template>

					<!--Subtotal-->
					<template is="dom-if" if="[[showSubtotal]]">
						<h4 class$="desktopSubtotal [[containerClass]]">
							<span class="subtotal"
								>[[groupModel.groupVO.record.Name]]
								<sb-i18n>Subtotal</sb-i18n>:</span
							>
							<span
								><sb-field
									id="desktopSubtotal"
									property="currency"
									value="[[subtotal]]"
									md="[[subtotalMd]]"
								></sb-field
							></span>
						</h4>
					</template>
				</template>
			</div>
		`}}customElements.define(Ir.is,Ir);var Tr=i(9023),Mr=(i(4196),i(479));class Br{constructor(e,t,i,o,r,n,s,a,l,d,c,u){let h=arguments.length>12&&void 0!==arguments[12]&&arguments[12];this.parentElWidth=e,this.md=i,this.columns=t,this.actionsOnTheLeft=o,this.hasSelection=r,this.hasStandardDrawer=n,this.columnMetadata=s,this.columnConstants=a,this.isColumnResizingEnabled=l,this.fieldsetName=d,this.newColumnMdSizesMap=c,this.dimensionType=u,this.isResetAction=h}build(){this.layout={},this.availableWidth=this._getAvailableWidth(),this.totalColsWidth=0;let e=0,t=150,i=this.columns.length,o=this.availableWidth/i,r=[],n=this._buildLayoutWithColumnSizing(L.J0.deepClone(this.columns));if(i===n.length){for(let s=0;s<i;s++){let i=n[s],a=t,l=new Mr.jy(this.md[i],0).getImageWidth(25);l>t?(a=l,r.push(i)):o>t&&(a=Math.ceil(o*this._getMultiplier(i))),this.layout[i]=a,e+=a}if(this.totalColsWidth+=e,o>t){let t=e-this.availableWidth,o=i-r.length,s=0;this.totalColsWidth=0;for(let e=0;e<i;e++){let a=n[e],l=-1!==r.indexOf(a)?this.layout[a]:Math.ceil(this.layout[a]-t/o);s+=l,e==i-1&&(l-=s-this.availableWidth),this.layout[a]=l,this.totalColsWidth+=l}}}return this.layout}_buildLayoutWithColumnSizing(e){if(this.isColumnResizingEnabled&&!this.isResetAction){let t={};const i=150;this.columnMetadata&&this.columnMetadata.length>0&&null==this.newColumnMdSizesMap?this.columnMetadata.forEach((e=>{e[this.columnConstants.FieldSetMasterDetail][this.columnConstants.FieldSet]===this.fieldsetName&&(t[e[this.columnConstants.FieldName]]=e[this.columnConstants.FieldColumnSize])})):null!=this.newColumnMdSizesMap&&this.newColumnMdSizesMap[this.dimensionType]&&(t=L.J0.deepClone(this.newColumnMdSizesMap[this.dimensionType])),Object.keys(t).length>0&&(e.forEach((e=>{t[e]?(this.layout[e]=t[e],this.totalColsWidth+=t[e]):(this.layout[e]=i,this.totalColsWidth+=i)})),e=e.filter((e=>!t[e])))}return e}_getAvailableWidth(){return this.parentElWidth-this._getStaticColsWidth()-12}getTotalWidth(){return this.totalColsWidth+this._getStaticColsWidth()+10}_getStaticColsWidth(){let e=135;return this.hasSelection&&(e+=30),this.hasStandardDrawer&&(e+=40),e}getLeftOffset(){let e=40;return this.actionsOnTheLeft&&(e+=95),this.hasSelection&&(e+=30),e}_getMultiplier(e){switch((this.md[e]?this.md[e].type:"currency").toUpperCase()){case"STRING":return 1.5;case"BOOLEAN":return 1;case"DATE":return 1.3;case"DOUBLE":case"CURRENCY":case"PERCENT":case"NUMBER":case"REFERENCE":case"TEXTAREA":default:return 1.6;case"PICKLIST":case"MULTIPICKLIST":return 1.4}}}const Dr="columnSizeSaved",Pr="columnSizeReset";function Lr(){(0,R.yJ)("TestOnlyStates",[Pr],!1),(0,R.yJ)("TestOnlyStates",[Dr],!1)}function Ar(e,t,i,o,n){return e.then((e=>{if((0,R.yJ)("TestOnlyStates",n,!0),e.isSuccessful){const e=new Pe;e.log(null,o,{field:e.maskCustomerData(i)})}else(0,r.rC)(r.sV.COL_SIZE_ERR,{errorMessage:e.errorMessage})}),(e=>{(0,R.yJ)("TestOnlyStates",n,!0),(0,r.rC)(r.sV.COL_SIZE_ERR,{errorMessage:e})}))}const Fr=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  height: inherit;
  display: flex;
  flex-direction: column;
}
:host #groupContainer {
  height: inherit;
  position: relative;
  display: flex;
  flex-direction: column;
}
:host #groupContainer #groups sb-le-group.largeQuote {
  height: inherit;
}
:host #mainPanel {
  width: 100%;
  height: 100%;
  display: flex;
  position: relative;
  flex-direction: column;
  overflow-y: auto;
  will-change: transform;
}
:host #mainPanel[class*='--mobile'] {
  overflow-x: hidden;
}
:host [class*='--mobile'] #mainPanel {
  overflow-x: hidden;
}
:host #mainPanel #groups.largeQuote {
  flex: 1;
  display: flex;
  flex-direction: column;
}
:host #mainPanel #groups.largeQuote .hiddenGroup {
  display: none;
}
:host #drawerPanel {
  z-index: 9999;
  position: absolute;
  width: 256px;
  height: 100%;
  top: 0;
  left: -256px;
  bottom: 0;
  background-color: #fff;
}
:host #drawerPanel.open {
  width: 280px;
}
:host #drawerPanel[class*='--mobile'] {
  border-right: 1px solid #d8dde6;
  left: 0px;
  display: none;
}
:host [class*='--mobile'] #drawerPanel {
  border-right: 1px solid #d8dde6;
  left: 0px;
  display: none;
}
:host .nav-item {
  background-color: var(--sbNavigationDrawerRowColor);
  border-bottom: 1px solid #d8dde6;
  padding: 15px;
  text-transform: uppercase;
}
:host .nav-item:hover {
  cursor: pointer;
  background-color: var(--sbNavigationDrawerRowHoverColor);
}
:host .hoverover {
  cursor: copy;
  background-color: #0070d2;
}
:host .selected-tab {
  background-color: var(--sbNavigationDrawerRowSelectedColor);
}
:host #placeholder {
  background-color: #d8dde6;
  cursor: copy;
}
:host .droppableTopBorder {
  border-top: 4.5px solid #005fb2;
}
:host .droppableBottomBorder {
  border-bottom: 4.5px solid #005fb2;
}
:host .loadingSpinner {
  float: right;
  margin: 9px;
}
`;var Nr=i(1924);const Rr="Standard";class qr extends((0,Fe.g)((0,Le.$)((0,Ae.T)((0,bt.b)(Ve.Pu))))){static get is(){return"sb-le-group-layout"}static get properties(){return{addedIndex:Number,addedKey:Number,dragDrop:Object,drawerState:String,editorModel:Object,fieldSetName:String,groupModels:{type:Array,notify:!0,observer:"_modelChanged"},lastSelectedGroup:Object,layoutLeft:{type:String,value:"24px"},layoutLink:String,layoutWidth:Number,noHeader:{type:Boolean,value:!1},observersAttached:Boolean,rightSideButton:Boolean,selectedGroupKey:{type:Number,notify:!0},tableLayoutBuilder:Object}}get events(){let e={};return e[r.sV.TOGGLE_PANEL_CLICKED]=this.toggle,e[r.sV.CLOSE_GROUP_PANEL]=this.closePanel,e[r.sV.GROUP_PANEL_CREATED]=this.groupPanelCreated,e[r.sV.BUILD_LAYOUT]=this.buildLayout,e[r.sV.GROUP_ADDED]=this.groupAdded,e[r.sV.GROUP_DELETED]=this.groupDeleted,e[r.sV.PAGE_RESIZED]=this.pageResized,e[r.sV.RESET_COL_SIZES]=this.resetToDefault,e[r.sV.MDQ_LINE_DELETED]=this.resizeColumnsOnLineItemDelete,e}static get observers(){return["_groupModelsAreChangedObserver(editorModel, groupModels, rightSideButton)","_spliceObserver(groupModels.splices)","_createDragDropModel(groupModels)"]}ready(){super.ready(),Object.entries({"side-toggle-clicked":"toggle","sf-col-size-adjusted":"sizeAdjusted","sf-reset-col-sizes":"resetToDefault"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),(0,Ne.m)(this,(function(){this._resize=function(){this._resizeDebouncer=Re.aq.debounce(this._resizeDebouncer,qe.EV.after(200),(()=>{this.buildLayout(),(0,Ne.m)(this,(()=>{(0,r.rC)(r.sV.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout,groupKey:this.selectedGroupKey})}))}))}.bind(this),window.addEventListener("resize",this._resize)}))}disconnectedCallback(){super.disconnectedCallback(),window.removeEventListener("resize",this._resize)}isMobile(){return this.editorModel.deviceContext.isMobile}_spliceObserver(e){e&&0!=e.indexSplices[0].addedCount&&(this.addedIndex=e.indexSplices[0].index,this.addedKey=e.indexSplices[0].object[this.addedIndex].groupVO.key,this.observersAttached||this._attachObservers())}sizeAdjusted(e){if(e.detail&&e.detail.field&&e.detail.fieldsWidth&&e.detail.fieldSet){const t=e.detail.fieldSet,i=e.detail.field,n=e.detail.dimension?e.detail.dimension:Rr;if(this.editorModel&&this.editorModel.quoteModel&&this.editorModel.quoteModel.lineGroups){this.editorModel.quoteModel.lineGroups.forEach((t=>{t.colWidth&&t.colWidth[n]&&t.colWidth[n][i]&&(t.colWidth[n][i]=e.detail.fieldsWidth,(0,R.yJ)("columnSizes",[],t.colWidth))}));!function(e,t){Lr(),Ar((new ce.N).save(o.B.org.prefix,"ColumnSizingServiceProvider.SaveColumnSizes",e),0,t,Me,[Dr])}({fieldSetName:t,columnSizes:(0,R.Jt)("columnSizes")[n],shouldBeDefault:!1,objectType:this.editorModel.constants.QUOTE_LINE},e.detail.field),this.buildLayout(),(0,Ne.m)(this,(()=>{(0,r.rC)(r.sV.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout})}))}}}resetToDefault(e){if(this.editorModel&&this.editorModel.layout&&e.detail&&e.detail.fieldSet){(0,R.yH)("columnSizes");let t=ue.l.get("LineEditor",this.editorModel.quoteModel.quoteVO.record.Id.substring(0,15));t&&t.columnMetadata&&(t.columnMetadata=[]),this.editorModel.columnMetadata=[];!function(e){Lr(),Ar((new ce.N).save(o.B.org.prefix,"ColumnSizingServiceProvider.ResetColumnSizes",e),0,"",Be,[Pr])}({fieldSetName:e.detail.fieldSet,shouldBeDefault:!1,objectType:this.editorModel.constants.QUOTE_LINE}),this.buildLayout(null,!0),(0,Ne.m)(this,(()=>{(0,r.rC)(r.sV.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout})}))}}getGroupClass(e){if(!this.editorModel)return;let t="";return this.selectedGroupKey!=e&&(t+="hiddenGroup"),this.editorModel.largeQuoteExperienceEnabled&&(t+=" largeQuote"),t}getContainerClass(){return this.editorModel.largeQuoteExperienceEnabled?"largeQuote":""}toggle(){"open"==this.drawerState?this.closePanel():this.openPanel(),(0,Ne.m)(this,(()=>{(0,r.rC)(r.sV.GROUP_PANEL_TOGGLED,{drawerState:this.drawerState,groupKey:this.selectedGroupKey})}))}openPanel(){this.isMobile()?this.$.drawerPanel.style.display="block":(this.$.drawerPanel.style.left="0px",this.$.mainPanel.style.paddingLeft="280px"),this.drawerState="open"}closePanel(){this.isMobile()?this.$.drawerPanel.style.display="none":this.$.drawerPanel.style.left="-256px",this.$.mainPanel.style.paddingLeft=!this.isMobile()&&this.rightSideButton?"24px":"0px",this.drawerState="closed"}groupPanelCreated(){this.isMobile()||(this._resizeDebouncer=Re.aq.debounce(this._resizeDebouncer,qe.EV.after(50),(()=>{this.buildLayout(),(0,Ne.m)(this,(()=>{(0,r.rC)(r.sV.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout})}))})))}groupAdded(e){this.navTo(e)}groupDeleted(e){this.navTo(e)}pageResized(e){e.detail.isFullScreenToggleEvent&&(this.buildLayout(),(0,r.rC)(r.sV.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout,groupKey:this.selectedGroupKey}))}resizeColumnsOnLineItemDelete(){this.buildLayout(),(0,r.rC)(r.sV.COL_WIDTHS_CHANGED,{layout:this.editorModel.layout})}_hasSegmentedProduct(e){return void 0!==e.find((e=>e._groupHasSegmentedProducts()))}_groupModelsAreChangedObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this._groupModelsAreChanged(e,t,i)}_groupModelsAreChanged(){this.drawerState?"closed"==this.drawerState&&(this.$.mainPanel.style.paddingLeft=!this.isMobile()&&this.rightSideButton?"24px":"0px"):this.closePanel(),this.buildLayout(),(0,Ne.m)(this,(()=>{this.observersAttached||this._attachObservers()}))}_getGroupsLabel(){return Nr.F.localize("lbl_groups")}buildLayout(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.isMobile())return;let i=e?e.detail.group:null,r={},n=this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName],s=this.editorModel.actionsOnTheLeft,a=this.editorModel.data.settings.multiLineDeleteEnabled,l=this.editorModel.quoteModel.quoteVO.lineItems.length>0,d=this.editorModel.fieldsetMap.standardLineItemDrawerFieldNames.length>0,c=this.editorModel.columnMetadata,u=this.editorModel.constants.COLUMN_METADATA,h=o.B.isColumnResizingEnabled;r.totalWidth=l?this._getMaxTableWidth(this._getAvailableWidth(),n,s,a,d,c,u,h,t):this._getAvailableWidth(),i?i.colWidth=this._calculateGroupWidth(r,n,s,a,i,d,c,u,h,t):(this.editorModel.quoteModel.lineGroups.forEach((e=>{e.colWidth=this._calculateGroupWidth(r,n,s,a,e,d,c,u,h,t)})),this.set("editorModel.layout",r))}_getAvailableWidth(){let e=document.getElementById("sbPageContainer");if(!e)return;const t=e.shadowRoot.querySelector("sb-line-editor");if(!e||!t)return;let i=t.clientWidth;return this.editorModel.quoteModel.grouped&&(i-=32,this.editorModel.quoteModel.lineGroups.length>1&&(i-=24,this.drawerState&&"open"==this.drawerState&&(i-=256))),i}_getMaxTableWidth(e,t,i,o,r,n,s,a,l){const d=(0,R.Jt)("columnSizes");this.tableLayoutBuilder=new Br(e,this._getQuoteStandardFields(),t,i,o,r,n,s,a,this.fieldSetName,d,Rr,l),this.tableLayoutBuilder.build();let c=this.tableLayoutBuilder.getTotalWidth();const u=this._hasSegmentedProduct(this.groupModels)?this.editorModel.quoteModel.quoteVO.multiSegmentColumns:[];let h=this._getQuoteSegmentedFields();for(let p in u){if(!u.hasOwnProperty(p))continue;let f=h.concat(u[p]).concat("total");this.tableLayoutBuilder=new Br(e,f,t,i,o,r,n,s,a,this.fieldSetName,d,p,l),this.tableLayoutBuilder.build();let b=this.tableLayoutBuilder.getTotalWidth();b>c&&(c=b)}return c}_calculateGroupWidth(e,t,i,o,r,n,s,a,l,d){const c=(0,R.Jt)("columnSizes");let u=r.groupKey,h=r.quoteModel.grouped?r.groupVO.multiSegmentColumns:r.quoteModel.quoteVO.multiSegmentColumns,p={};this._hasSegmentedProduct(this.groupModels)||(h=[]),this.tableLayoutBuilder=new Br(e.totalWidth,this._getGroupStandardFields(u),t,i,o,n,s,a,l,this.fieldSetName,c,Rr,d),e.leftOffset=this.tableLayoutBuilder.getLeftOffset(),p.Standard=this.tableLayoutBuilder.build(),this._updateMaxWidth(e,this.tableLayoutBuilder.getTotalWidth());for(let n in h)h.hasOwnProperty(n)&&(this.tableLayoutBuilder=new Br(e.totalWidth,this._getSegmentedFieldNames(r,h[n]),t,i,o,!1,s,a,l,this.fieldSetName,c,n,d),p[n]=this.tableLayoutBuilder.build(),this._updateMaxWidth(e,this.tableLayoutBuilder.getTotalWidth()));return p}_updateMaxWidth(e,t){t>e.totalWidth&&(e.totalWidth=t)}_getQuoteStandardFields(){let e=!1,t=this.editorModel.quoteModel.lineGroups;for(var i=0,o=t.length;i<o;i++)if(t[i].standardSubscriptionScopeEditable){e=!0;break}return this._getStandardFields(e)}_getGroupStandardFields(e){let t=this.editorModel.quoteModel.groupsByKey[e];return this._getStandardFields(t.standardSubscriptionScopeEditable)}_getStandardFields(e){let t="lineFieldNames";this._updateFieldSetName(t);let i=this.editorModel.fieldsetMap[t];return e&&(i=[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(i)),i}_getQuoteSegmentedFields(){let e=!1,t=this.editorModel.quoteModel.lineGroups,i="multiSegmentLineSummaryFieldNames";for(var o=0,r=t.length;o<r;o++)if(t[o].segmentedSubscriptionScopeEditable){e=!0;break}this._updateFieldSetName(i);let n=this.editorModel.data[i];return e?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(n):n}_getSegmentedFieldNames(e,t){let i="multiSegmentLineSummaryFieldNames";this._updateFieldSetName(i);let o=this.editorModel.data[i],r=e.segmentedSubscriptionScopeEditable?[this.editorModel.constants.SUBSCRIPTION_SCOPE_FIELD].concat(o):o.slice();for(let e=0,i=t.length;e<i;e++)r.push(t[e].replace(/\W/g,""));return r.push("total"),r}_updateFieldSetName(e){this.editorModel.fieldSetNames&&this.editorModel.fieldSetNames[e]?this.fieldSetName=this.editorModel.fieldSetNames[e]:this.fieldSetName=null}_attachObservers(){(this.rightSideButton||this.isMobile())&&(this.observersAttached=!0,this._observeNodes=new Tr.b(this.shadowRoot.querySelector("#groups"),function(e){let t=e.addedNodes.filter(function(e){return"SB-LE-GROUP"===e.nodeName&&e.groupModel.groupVO.key==this.addedKey}.bind(this)),i=e.removedNodes.filter((function(e){return"SB-LE-GROUP"===e.nodeName}));t[0]!==i[0]&&(this.processNewGroups(t),this.processRemovedGroups(i))}.bind(this)))}processNewGroups(e){if(this.addedKey&&e.length>0){let e=this.addedKey;this.isMobile()&&this.closePanel(),this.toggleSelectedAndScroll(e),this._observeNodes.disconnect(),this.observersAttached=!1,this.addedKey=null}}processRemovedGroups(e){this.lastSelectedGroup&&1==e.length&&((0,L.p1)("selected-tab",!1,this.lastSelectedGroup),this.lastSelectedGroup=void 0,this._observeNodes.disconnect(),this.observersAttached=!1)}toggleSelectedAndScroll(e){let t=this.shadowRoot.querySelector("#_"+e);this.lastSelectedGroup&&(0,L.p1)("selected-tab",!1,this.lastSelectedGroup),"open"==this.drawerState&&((0,L.p1)("selected-tab",!0,t),this.lastSelectedGroup=t),this.shadowRoot.querySelector("#Group_"+e)&&(this._scrollIntoView(this.shadowRoot.querySelector("#Group_"+e)),this.shadowRoot.querySelector("#_"+e).scrollIntoView(!1))}_scrollIntoView(e){this.shadowRoot.querySelector("#mainPanel").scrollTop=this.isMobile()?e.offsetTop:e.offsetTop-15}navTo(e){if(e.stopPropagation(),this.isMobile()){var t=e.target.querySelector(".loadingSpinner");t.toggleClass("invisible",!1)}const i=e.composedPath();(0,Ne.m)(this,(()=>{let o=i&&i[0]?i[0].id:e.path[0].id,n=e.detail.groupKey||o.split("_")[1];if(this.toggleSelectedAndScroll(n),this.editorModel.largeQuoteExperienceEnabled){let e=this.selectedGroupKey,t=parseInt(n);this.set("selectedGroupKey",t),t!=e&&(0,r.rC)(r.sV.GROUP_TOGGLED,{groupKey:this.selectedGroupKey})}this.isMobile()&&((0,Ne.m)(this,(()=>{t.toggleClass("invisible",!0)})),this.toggle())}))}_modelChanged(){(0,z.Nj)(this,"groupModels")}_createDragDropModel(){if(!this.editorModel||this.isMobile()||this.editorModel.largeQuoteExperienceEnabled)return;let e=new Set(["sb-droppable-sidePanelGroups"]);this.dragDrop=new lt(this,this.editorModel.data.settings.bundleKeptTogether,"div",e,this.dragFunc.bind(this),this.trackFunc.bind(this),this.dropFunc.bind(this),8,150)}onTrack(e){this.isMobile()||this.editorModel.largeQuoteExperienceEnabled||this.dragDrop._onTrack(e)}dragFunc(e){let t=this.dragDrop;t.ghost=this.dragDrop.lineEditor.$.ghost,t.dragIndex=e.dataIndex,t.dragGroupModel=this.groupModels[t.dragIndex],e.style.display="none"}trackFunc(e){let t=this.dragDrop;(e=this.dragDrop._findSidePanelGroupValidTarget(e))?("placeholder"===e.id&&(e="before"===e.ref?e.previousElementSibling:e.nextElementSibling),t.hoverOver={comp:e,phLoc:"both"},t.targetHost=this,t.highlightableElements=[],t.highlightableElements.push(t.hoverOver.comp),t.usePlaceholder=!0,t.enableHighLight=!1):t.hoverOver=null}dropFunc(e,t,i,o){let r=this.dragDrop;if(e.style.display="block",!t)return;let n=this.$.sbDroppableSidePanelGroups.querySelectorAll(".nav-item").length-1;r.dropIndex=t.dataIndex,o?r.dropIndex=r.dropIndex>=0?r.dropIndex:0:r.dropIndex++,ut(t),this.groupModels.splice(r.dragIndex,1),r.dropIndex<n?this.groupModels.splice(r.dropIndex,0,r.dragGroupModel):this.groupModels.push(r.dragGroupModel);let s=this.groupModels;this.groupModels=[],(0,Ne.m)(this,(()=>{this.groupModels=s})),r.lineEditor.renumber(),this.editorModel.data.settings.usesClientCalculator&&r.lineEditor.editorModel.quoteModel.renumberIndexes(!0)}computeDrawerPanelClass(e){return e?"open":""}static get template(){return Ve.qy`
		<style include="sb-common-styles"></style>
		<style>${Fr}</style>
		<div device id="groupContainer">
			<div id="mainPanel" tabindex="-1">
				<div>
					<slot name="quoteInformation"></slot>
					<slot name="emptyQuote"></slot>
					<slot name="emptyGroupedQuote"></slot>
				</div>
				<template is="dom-if" if="[[editorModel]]">
					<div id="groups" class$="[[getContainerClass()]]">
						<template is="dom-repeat" items="{{groupModels}}" as="groupModel" initialCount="5" targetFramerate="1">
							<sb-le-group class$="group [[getGroupClass(groupModel.groupVO.key, selectedGroupKey)]] [[deviceClasses]]" id$="Group_[[groupModel.groupVO.key]]" group-model="{{groupModel}}"></sb-le-group>
						</template>
					</div>
					<div>
						<slot name="footer"></slot>
					</div>
				</template>
			</div>

			<div id="drawerPanel" class$="{{computeDrawerPanelClass(rightSideButton)}}">
				<sb-side-panel id="panel" side-text="[[_getGroupsLabel()]]" render-header="[[noHeader]]" right-side-button="[[rightSideButton]]" is-open="[[drawerState]]">
					<div id = "sbDroppableSidePanelGroups" slot="panel-actions" class="panel-actions sb-droppable-sidePanelGroups">
						<template is="dom-repeat" items="[[groupModels]]" as="groupModel">
							<div on-click="navTo"
								 class="nav-item"
								 id$="_[[groupModel.groupVO.key]]"
								 on-track="onTrack"
								 data-index="[[index]]">[[groupModel.groupVO.record.Name]]
								<sf-loading-spinner class="loadingSpinner invisible" show="truthy" position="relative" size="small"></sf-loading-spinner>
							</div>
						</template>
					</div>
				</sb-side-panel>
			</div>
		</div>
		`}}customElements.define(qr.is,qr);class jr extends Ve.Pu{static get is(){return"sb-le-field-md"}static get properties(){return{data:{type:Object},md:{type:Object,notify:!0},error:{type:Object,notify:!0}}}static get observers(){return["getFieldNames(data)"]}get prefix(){return o.B.org.prefix?o.B.org.prefix+"__":""}ready(){super.ready(),this.$.describe.addEventListener("describe-changed",function(e){let t=e.detail.value.md,i={},o={};this.constants||(this.constants=new Y.Y(this.prefix));let r=this.constants.UNIT_PRICE_FIELDS,n=this.constants.QUANTITY_FIELDS;for(let e in t){let s=e.split("."),a=s[0],l=s[1];i[a]||(i[a]={}),o[a]||(o[a]={}),r.has(t[e].name)?t[e].scale=this.settings.priceScale:"currency"==t[e].type&&this.settings.isMultiCurrencyOrg?t[e].scale=this.currencyDecimalScale:n.has(t[e].name)&&(t[e].scale=this.settings.quantityScale||0===this.settings.quantityScale?this.settings.quantityScale:t[e].scale),i[a][l]=t[e],a===this.prefix+"QuoteLine__c"&&(o[a][l]=t[e].label),o[l]=t[e].label}this.md={fieldsMap:i,fieldLabelsMap:o}}.bind(this)),this.$.describe.addEventListener("error-changed",function(e){this.error=e.detail.value}.bind(this))}getFieldNames(){let e=[];for(let o in this.data)for(var t=0,i=this.data[o].length;t<i;t++){let i=this.data[o][t];e.push(o+"."+i)}this.$.describe.fields=e}static get template(){return Ve.qy`
			<sb-describe
				id="describe"
				objects="[[objects]]"
			></sb-describe>
		`}}customElements.define(jr.is,jr);var Hr=i(8449),Vr=i(3613),Ur=i(2573);class zr{constructor(e,t){this.quoteModel=e,this.constants=t}validateAssetQuantityChanges(){let e=this.quoteModel.record[this.constants.TYPE_FIELD];return"Renewal"===e?this._validateAssetQuantityChangeForRenewal():"Amendment"===e?this._validateAssetQuantityChangeForAmendment():[]}_validateAssetQuantityChangeForRenewal(){var e=[],t=(0,o.L)("msg_qty_cannot_decrease_on_renewal");return this.quoteModel.lineItems.forEach((function(i){let o=i.record[this.constants.RENEWAL_CHECKBOX],r=i.record[this.constants.EXISTING_FIELD],n=i.record[this.constants.PRIOR_QUANTITY_FIELD];if(o&&r&&null!=n){let o=i.record[this.constants.QUANTITY_FIELD];if(0!=o&&o<n){let o=t.replace("{0}",i.record[this.constants.NUMBER_FIELD]).replace("{1}",n);e.push(o)}}}),this),e}_validateAssetQuantityChangeForAmendment(){var e=[],t=[],i=[],r=[],n=e=>{let t=e.record[this.constants.QUANTITY_FIELD],i=e.record[this.constants.PRIOR_QUANTITY_FIELD]||0,o=e.record[this.constants.UPGRADED_QUANTITY]||0,r=e.record[this.constants.EXISTING_FIELD],n=e.record[this.constants.CARRYOVER_LINE_FIELD];return r||n?t-i+o:t};if(this.quoteModel.lineItems.forEach((function(e){if(null!=e.record[this.constants.UPGRADED_ASSET_FIELD]){if(e.record[this.constants.QUANTITY_FIELD]<0)e.record[this.constants.EXISTING_FIELD]&&e.record[this.constants.RENEWAL_CHECKBOX]&&t.push(e);else if(e.record[this.constants.EXISTING_FIELD]||e.record[this.constants.CARRYOVER_LINE_FIELD]){e.record[this.constants.UPGRADED_QUANTITY]>e.record[this.constants.PRIOR_QUANTITY_FIELD]?i.push(e):!e.record[this.constants.ALLOW_ASSET_REFUND_FIELD]&&n(e)<0&&r.push(e)}}}),this),t.length>0){let i=(0,o.L)("msg_qty_no_negative_on_amend"),r="";t.forEach((function(e){r+=e.record[this.constants.NUMBER_FIELD]+", "}),this),r=r.substr(0,r.lastIndexOf(",")),e.push(i.replace("{0}",r))}if(i.length>0){let t=(0,o.L)("msg_qty_of_upgrade_exceeds_source_prior");i.forEach((function(i){let o=i.record[this.constants.NUMBER_FIELD],r=i.record[this.constants.PRIOR_QUANTITY_FIELD],n=t.replace("{0}",o).replace("{1}",r);e.push(n)}),this)}if(r.length>0){let t=(0,o.L)("msg_qty_of_source_too_low");r.forEach((function(i){let o=i.record[this.constants.PRODUCT_NAME_FIELD],r=i.record[this.constants.NUMBER_FIELD],n=t.replace("{0}",o).replace("{1}",r);e.push(n)}),this)}return e}}class $r{constructor(e){for(var t of(this.lineEditorComponent=e,this.editorModel=this.lineEditorComponent.editorModel,this.indexByGroupKey=this.editorModel.quoteModel.indexByGroupKey,this.fieldNameSet=this.lineEditorComponent.editorModel.fieldNameSet,this.propertyNameSet=new Set,this.propertyNameSet.add("multiSegmentRowTotals"),this.propertyNameSet.add("multiSegmentColumnTotals"),this.propertyNameSet.add("netMultiSegmentTotal"),this.propertyNameSet.add("summaries"),this.propertyNameSet.add("fieldVisibility"),this.propertyNameSet.add("fieldEditability"),this.pathNameSet=new Set(this.fieldNameSet),this.propertyNameSet))this.pathNameSet.has(t)||this.pathNameSet.add(t);this.constants=this.editorModel.constants,this.pathsToNotify={},this.originalPathValues={},this.pathsToSet={},this.groupModels=this.editorModel.quoteModel.lineGroups,this.quoteVO=this.editorModel.quoteModel.quoteVO}notify(e,t,i,o,r){let n,s;if(this.pathNameSet.has(t.split(".").pop()))if("QuoteModel"==e){if(this.notifyPath(`editorModel.quoteModel.quoteVO.${t}`,i,r,e),"multiSegmentRowTotals"==t){if(!i)return;for(let t=0,o=this.groupModels.length;t<o;t++){let o=this.groupModels[t].dimensions;for(let n=0,s=o.length;n<s;n++)for(let s=0,a=this.groupModels[t].segmentedLinesByDimension[o[n]].length;s<a;s++){let a=this.groupModels[t].segmentedLinesByDimension[o[n]][s].lineVO.record[this.constants.SEGMENT_KEY_FIELD];this.notifyPath(`groupModels.${t}.segmentedLinesByDimension.${o[n]}.${s}.total`,i[a],r,e)}}}if(o.grouped)return;let n=this.indexByGroupKey[this.groupModels[0].groupVO.key].index;this.notifySpecificPath(n,t,o,i,r,e)}else if("QuoteLineGroupModel"==e)null!=this.indexByGroupKey[o.key]&&null!=this.indexByGroupKey[o.key].index&&(n=this.indexByGroupKey[o.key].index,this.notifyPath(`groupModels.${n}.groupVO.${t}`,i,r,e),this.notifySpecificPath(n,t,o,i,r,e));else if("QuoteLineModel"==e)if(n=this.indexByGroupKey[o.parentGroupKey].index,s=this.indexByGroupKey[o.parentGroupKey].indexByLineKey[o.key],o.record[this.constants.SEGMENT_KEY_FIELD]){var a=o.parentQuote.multiSegmentKeys[o.record[this.constants.SEGMENT_KEY_FIELD]];let l=this.indexByGroupKey[o.parentGroupKey].indexBySegmentKey[o.record[this.constants.SEGMENT_KEY_FIELD]];this.notifyPath(`groupModels.${n}.segmentedLinesByDimension.${a}.${l}.segments.${s}.lineVO.${t}`,i,r,e),t=="record."+[this.constants.NET_TOTAL_FIELD]&&this.notifyPath(`groupModels.${n}.segmentedLinesByDimension.${a}.${l}.`+o.record[this.constants.SEGMENT_LABEL_FIELD].replace(/\W/g,""),i,r,e)}else this.notifyPath(`groupModels.${n}.standardLines.${s}.lineVO.${t}`,i,r,e)}notifySpecificPath(e,t,i,o,r,n){if("multiSegmentColumnTotals"==t||"netMultiSegmentTotal"==t||"summaries"==t)if("summaries"!=t){if(o){var s=i.localizedMultiSegmentColumns?Object.keys(i.localizedMultiSegmentColumns):Object.keys(i.multiSegmentColumnTotals);for(let a=0,l=s.length;a<l;a++){let l="netMultiSegmentTotal"==t?i.netMultiSegmentTotal[s[a]]:i.multiSegmentColumnTotals[s[a]];if("netMultiSegmentTotal"==t)this.set(`groupModels.${e}.netMultiSegmentTotal.${s[a]}`,o[s[a]],r,n);else{let t=Object.keys(l);for(let i=0,l=t.length;i<l;i++)this.set(`groupModels.${e}.multiSegmentColumnTotals.${s[a]}.${t[i]}`,o[s[a]][t[i]],r,n)}}}}else this.set(`groupModels.${e}.summaries`,o,r,n)}notifyPath(e,t,i,o){this.originalPathValues.hasOwnProperty(e)||(this.originalPathValues[e]=i),this.pathsToNotify[e]={value:t,root:o}}set(e,t,i,o){this.originalPathValues.hasOwnProperty(e)||(this.originalPathValues[e]=i),this.pathsToSet[e]={value:t,root:o}}fireEvent(e,t){this.lineEditorComponent.dispatchEvent((0,r.uv)(e,t))}}class Wr{constructor(e,t){this.MONTHLY_DIM="Month",this.YEARLY_DIM="Year",this.QUARTERLY_DIM="Quarter",this.editorModel=e,this.groupModelsByKey=t,this.prefix=e.developerPrefix,this.START_DATE_FIELD=this.prefix+"StartDate__c",this.END_DATE_FIELD=this.prefix+"EndDate__c",this.SUBSCRIPTION_TERM_FIELD=this.prefix+"SubscriptionTerm__c",this.LINES_GROUPED_FIELD=this.prefix+"LineItemsGrouped__c",this.SEGMENT_KEY_FIELD=this.prefix+"SegmentKey__c",this.SEGMENT_INDEX_FIELD=this.prefix+"SegmentIndex__c",this.SEGMENT_LABEL_FIELD=this.prefix+"SegmentLabel__c",this.FIRST_SEGMENT_END_DATE_FIELD=this.prefix+"FirstSegmentTermEndDate__c",this.TYPE_FIELD=this.prefix+"Type__c",this.EXISTING_FIELD=this.prefix+"Existing__c",this.PREVIOUS_SEGMENT_PRICE_FIELD=this.prefix+"PreviousSegmentPrice__c",this.PREVIOUS_SEGMENT_UPLIFT_FIELD=this.prefix+"PreviousSegmentUplift__c",this._segmentsChanged=!1}updateSegments(){var e=this.editorModel.quote;return this._hasMultiSegmentLines(e)&&(e.grouped||e.record[this.LINES_GROUPED_FIELD]?e.lineItemGroups.forEach((function(t){this._adjustSegments(e,t)}),this):this._adjustSegments(e,null)),this._segmentsChanged}_hasMultiSegmentLines(e){for(var t=e.lineItems.length,i=0;i<t;i++)if(null!=e.lineItems[i].record[this.SEGMENT_KEY_FIELD])return!0;return!1}_adjustSegments(e,t){var i=this._calculateSubscriptionTerm(e,t),o=t?e.lineItems.filter((e=>e.parentGroupKey===t.key)):e.lineItems;this._calculateSegmentDeltasAndModifySegments(e,t,o,i,this.YEARLY_DIM),this._calculateSegmentDeltasAndModifySegments(e,t,o,i,this.MONTHLY_DIM),this._calculateSegmentDeltasAndModifySegments(e,t,o,i,this.QUARTERLY_DIM)}_calculateSubscriptionTerm(e,t){var i=t&&t.record[this.START_DATE_FIELD]||e.record[this.START_DATE_FIELD],o=t&&t.record[this.END_DATE_FIELD]||e.record[this.END_DATE_FIELD],r=t&&null!=t.record[this.SUBSCRIPTION_TERM_FIELD]?t.record[this.SUBSCRIPTION_TERM_FIELD]:e.record[this.SUBSCRIPTION_TERM_FIELD],n=i?new Date(i):null,s=o?new Date(o):null,a=e.record[this.FIRST_SEGMENT_END_DATE_FIELD],l=a?new Date(a):null;if(l){n=n||new Date,s||(s=new Date(n.getTime()),this.editorModel.settings.subscriptionTermUnitIsDay?s.setUTCDate(s.getUTCDate()+r-1):(SB.addMonths(s,r),s.setUTCDate(s.getUTCDate()-1)));var d=new Date(l.getTime());return d.setUTCDate(d.getUTCDate()+1),s.setDate(s.getDate()+1),this.editorModel.settings.subscriptionTermUnitIsDay?SB.daysBetween(d,s):SB.monthsBetweenRoundPartialUp(d,s)}return n&&s?(s.setDate(s.getDate()+1),this.editorModel.settings.subscriptionTermUnitIsDay?SB.daysBetween(n,s):SB.monthsBetweenRoundPartialUp(n,s)):r}_calculateSegmentDeltasAndModifySegments(e,t,i,o,r){var n=this._calculateSegmentDeltas(e,i,o,r);0!=n.size&&this._modifySegmentsBasedOnDelta(e,t,n,r)}_calculateSegmentDeltas(e,t,i,o){var r=this.editorModel.settings.subscriptionTermUnitIsDay;i=null==i?r?365:12:i;var n=function(){var e=new Map,i=t.length;for(let r=0;r<i;r++){let i=t[r];if(i.dimensionType==o){let t=i.record[this.SEGMENT_KEY_FIELD],o=e.get(t)||0;e.set(t,o+1)}}return e}.bind(this)(),s=function(){var t=0,n=e.record[this.FIRST_SEGMENT_END_DATE_FIELD],s=n?new Date(n):null;if(s){t=1;var a=new Date(s.getTime());a.setUTCDate(a.getUTCDate()+1)}if(r){let e=a||new Date(this.editorModel.quote.record[this.START_DATE_FIELD]),t=this.editorModel.quote.record[this.END_DATE_FIELD]?new Date(this.editorModel.quote.record[this.END_DATE_FIELD]):new Date(e.setUTCDate(e.getUTCDate()+i));i=SB.monthsBetween(e,t),e.setUTCMonth(e.getUTCMonth()+i),e.setUTCDate(e.getUTCDate()-1),e<t&&(i+=1)}switch(o){case this.YEARLY_DIM:t+=Math.ceil(i/12);break;case this.QUARTERLY_DIM:t+=Math.ceil(i/3);break;case this.MONTHLY_DIM:t+=i}return t}.bind(this)(),a=new Map;return n.forEach((function(e,t){a.set(t,s-e)})),a}_modifySegmentsBasedOnDelta(e,t,i,o){i.forEach((function(t,i){let r=this._getLastSegmentFromQuote(e,i,o);var n=0===t,s="Amendment"===e.record[this.TYPE_FIELD]&&r.record[this.EXISTING_FIELD],a=r.record[this.START_DATE_FIELD],l=r.record[this.END_DATE_FIELD],d=a?new Date(a):null,c=l?new Date(l):null;if(!n&&!s)if(t>0&&c>=d){this._segmentsChanged=!0;for(let i=1;i<=t;i++){var u=this._createNewSegment(e,r,i);e.lineItems.push(u),this.groupModelsByKey&&this.groupModelsByKey[u.parentGroupKey].processQuoteLines(u)}}else if(t<0){this._segmentsChanged=!0;for(let r=0;r>t;r--){let t=this._getLastSegmentFromQuote(e,i,o);if(this._removeSegment(e,t),this.groupModelsByKey){let e=this.groupModelsByKey[t.parentGroupKey].segmentedLinesBySegmentKey[i];e.segments.splice(e.segments.length-1,1)}}}}),this)}_getLastSegmentFromQuote(e,t,i){var o=null,r=null;return e.lineItems.forEach((function(e){if(e.record[this.SEGMENT_KEY_FIELD]===t&&e.dimensionType===i){let t=e.record[this.SEGMENT_INDEX_FIELD];null!=t&&(null==r||r<t)&&(r=t,o=e)}}),this),o}_createNewSegment(e,t,i){var o=JSON.parse(JSON.stringify(t));o.key=++e.nextKey,o.record.Id=null,o.record[this.SEGMENT_KEY_FIELD]=t.record[this.SEGMENT_KEY_FIELD],o.record[this.SEGMENT_INDEX_FIELD]=t.record[this.SEGMENT_INDEX_FIELD]+i;var r=o.record[this.SEGMENT_INDEX_FIELD]<10?"  ":" ";return o.record[this.SEGMENT_LABEL_FIELD]=t.dimensionType+r+o.record[this.SEGMENT_INDEX_FIELD],o.record[this.PREVIOUS_SEGMENT_PRICE_FIELD]=null,o.record[this.PREVIOUS_SEGMENT_UPLIFT_FIELD]=null,o}_removeSegment(e,t){var i=e.lineItems.length;for(let r=0;r<i;r++){var o=e.lineItems[r];if(o.key===t.key)return e.lineItems=e.lineItems.slice(0,r).concat(e.lineItems.slice(r+1,i)),void(e.deletedLineIds&&o.record&&o.record.Id&&e.deletedLineIds.push(o.record.Id))}}}class Qr{constructor(e,t){this.editorModel=e,this.targetRecord=t}getRequest(){return{target:this.targetRecord,quote:this.editorModel.quoteModel.quoteVO.record,lines:[],actions:[]}}getResponse(e){if(e)switch(e.actions[0].toLowerCase().replace(" ","")){case"save":return{lines:e.lines,action:"save"};case"quicksave":return{lines:e.lines,action:"quicksave"};case"reload":return{lines:e.lines,action:"reload"};default:return{lines:e.lines,action:"none"}}}}class Gr{constructor(e){this.constants=new Y.Y(e)}sortLineItems(e,t){return e.sort(function(e,i){if(e.lineSortValue=e.record[t],i.lineSortValue=i.record[t],null!=e.lineSortValue&&null!=i.lineSortValue&&e.lineSortValue!=i.lineSortValue){var o=e.lineSortValue-i.lineSortValue;return o==o?o:e.lineSortValue<i.lineSortValue?-1:1}if(e.lineSortValue==i.lineSortValue){var r=e.record[this.constants.SEGMENT_INDEX_FIELD],n=i.record[this.constants.SEGMENT_INDEX_FIELD];return r==n?e.record[this.constants.NUMBER_FIELD]-i.record[this.constants.NUMBER_FIELD]:null==r?-1:null==n?1:r-n}return null==e.lineSortValue?-1:null==i.lineSortValue?1:e.record[this.constants.NUMBER_FIELD]-i.record[this.constants.NUMBER_FIELD]}.bind(this)),e}}i(53),i(9185);const Kr=je.b`
:host {
  --sbMultiSelectMinWidth: 250px;
  --sbSelectMinHeight: 210px;
  --sbSelectOptionPadding: 5px;
}
:host i {
  font-size: 20px;
}
:host .selectArea {
  width: 250px;
}
:host .selectTitle {
  padding: 5px;
}
:host .arrows {
  width: 30px;
  margin-left: 30px;
  margin-right: 20px;
  margin-top: 50px;
}
:host .arrows :hover {
  cursor: pointer;
}
:host #container {
  display: flex;
  margin-top: 10px;
}
`;class Yr extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-dual-list-box"}static get properties(){return{options:Array,availableOptions:Array,availableTitle:String,chosenOptions:Array,chosenTitle:String,value:{type:Array,notify:!0}}}static get observers(){return["_buildOptions(options)"]}_buildOptions(){this.value=[],this.chosenOptions=[];let e=[];this._clearSelected(),this.options.forEach(function(t){t.available=!0,e.push(t)}.bind(this)),this.availableOptions=e}_onAvailableChange(e){this.availableOptionsSelected=e.detail.value}_onChosenChange(e){this.chosenOptionsSelected=e.detail.value}_updateOptions(e){let t=e.currentTarget.getAttribute("data-index"),i=new Set("right"===t?this.availableOptionsSelected.split(";"):this.chosenOptionsSelected.split(";"));this.availableOptionsSelected="",this.chosenOptionsSelected="";let o=[],r=[];this.options.forEach(function(e){"right"===t?i.has(e.value.toString())||!e.available?(e.available=!1,r.push(e)):o.push(e):i.has(e.value.toString())||e.available?(e.available=!0,o.push(e)):r.push(e)}.bind(this)),this._clearSelected(),this.availableOptions=o,this.chosenOptions=r,this.value=this.chosenOptions}_clearSelected(){this.$.available.value=null,this.$.chosen.value=null}static get template(){return Ve.qy`
		<style include="sb-common-styles sb-forms-styles sb-icons-styles"></style>
		<style>${Kr}</style>

		<div id="container">
			<div class="selectArea">
				<div class="selectTitle">{{availableTitle}}</div>
				<sb-select device id="available" multi-select="true" options="[[availableOptions]]" on-change="_onAvailableChange" is-required="true"></sb-select>
			</div>
			<div class="arrows">
				<i class="icon sf-icon-right" on-click="_updateOptions" data-index="right"></i>
				<i class="icon sf-icon-left" on-click="_updateOptions" data-index="left"></i>
			</div>
			<div class="selectArea">
				<div class="selectTitle">{{chosenTitle}}</div>
				<sb-select device id="chosen" multi-select="true" options="[[chosenOptions]]" on-change="_onChosenChange" is-required="true"></sb-select>
			</div>
		</div>
		`}}customElements.define(Yr.is,Yr);const Xr=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host .content {
  text-align: var(--sbDialogContentTextAlign, left);
  font-size: var(--sbDialogContentFontSize, 14px);
}
:host([class*='--mobile']) {
  padding-top: 60px;
  text-align: center;
}
:host .groupContainer[class*='--mobile'] {
  width: 100%;
}
:host .selectionMessageContainer[class*='--mobile'] {
  width: 100%;
  padding: 10px;
  border-bottom: 2px solid #d8dde6;
}
:host .selectionMessage[class*='--mobile'] {
  font-size: 18px;
  padding-left: 20px;
  margin-top: 80px;
}
:host .label[class*='--mobile'] {
  display: inline-block;
  font-size: 18px;
  padding-left: 5px;
  margin-top: 8px;
}
:host .selectBox[class*='--mobile'] {
  font-size: 20px;
  margin-left: 5px;
  float: left;
  padding: 5px;
}
:host .selectionContainer[class*='--mobile'] {
  width: 100%;
  overflow: hidden;
  padding: 10px 15px 5px;
  display: block;
  margin: 0;
  border-bottom: 2px solid #d8dde6;
  min-height: 62px;
  box-sizing: border-box;
}
:host .backgroundContainer[class*='--mobile'] {
  background-color: #eef1f6;
}
:host .backgroundContainer[class*='--mobile'] span {
  color: #16325C;
  font-weight: bold;
}
:host .backgroundContainer[class*='--mobile'] .sf-icon-check {
  color: #16325C;
}
:host .backgroundContainer[class*='--mobile'] .check {
  float: left;
  padding-top: 10px;
}
:host([class*='--mobile']) {
  padding-top: 60px;
  text-align: center;
}
:host [class*='--mobile'] .groupContainer {
  width: 100%;
}
:host [class*='--mobile'] .selectionMessageContainer {
  width: 100%;
  padding: 10px;
  border-bottom: 2px solid #d8dde6;
}
:host [class*='--mobile'] .selectionMessage {
  font-size: 18px;
  padding-left: 20px;
  margin-top: 80px;
}
:host [class*='--mobile'] .label {
  display: inline-block;
  font-size: 18px;
  padding-left: 5px;
  margin-top: 8px;
}
:host [class*='--mobile'] .selectBox {
  font-size: 20px;
  margin-left: 5px;
  float: left;
  padding: 5px;
}
:host [class*='--mobile'] .selectionContainer {
  width: 100%;
  overflow: hidden;
  padding: 10px 15px 5px;
  display: block;
  margin: 0;
  border-bottom: 2px solid #d8dde6;
  min-height: 62px;
  box-sizing: border-box;
}
:host [class*='--mobile'] .backgroundContainer {
  background-color: #eef1f6;
}
:host [class*='--mobile'] .backgroundContainer span {
  color: #16325C;
  font-weight: bold;
}
:host [class*='--mobile'] .backgroundContainer .sf-icon-check {
  color: #16325C;
}
:host [class*='--mobile'] .backgroundContainer .check {
  float: left;
  padding-top: 10px;
}
sb-dialog {
  --sbDialogMaxHeight: none;
  --sbDialogContainerWidth: 65%;
}
`;class Jr extends((0,Fe.g)((0,Le.$)(Ve.Pu))){static get is(){return"sb-clone-to-group-dialog"}static get properties(){return(0,L.X$)({quoteModel:Object},s.YW.properties)}ready(){super.ready(),(0,Ne.m)(this,(()=>{this.addEventListener("sb-cancel-clone-to-group",this.onCancel)}))}open(){this.lineGroups=this.quoteModel.lineGroups,this.$.dialog.toggle();let e=[];for(let t=0,i=this.lineGroups.length;t<i;t++)e.push({value:this.lineGroups[t].groupKey,label:this.lineGroups[t].groupVO.record.Name,selected:!1});this.groups=e,this.isMobile||(this.availableGroupTitle=o.B.properties.i18n.value().l("Available Groups"),this.chosenGroupTitle=o.B.properties.i18n.value().l("Selected Groups"))}onSave(){this.isMobile?(this.selectedGroups=this._getSelectedGroups(),this.dispatchEvent((0,r.uv)("sb-clone-to-group-selected",this.selectedGroups)),this.groups=void 0):this.dispatchEvent((0,r.uv)("sb-clone-to-group-selected",this.selectedGroups)),this.$.dialog.toggle()}onCancel(){this.$.dialog.toggle(),this.isMobile&&(this.groups=void 0)}_getSelectedGroups(){let e=[];for(let t=0,i=this.groups.length;t<i;t++)this.groups[t].selected&&e.push(this.groups[t]);return e}toggleSelectedClass(e){let t=e.currentTarget,i=t.classList.contains("backgroundContainer"),o=t.dataIndex;this.set(`groups.${o}.selected`,!i),(0,L.p1)("backgroundContainer",!i,t)}static get template(){return Ve.qy`
			<style include="sb-common-styles sb-dialog-styles"></style>
			<style>${Xr}</style>

			
			<div device>
				<sb-dialog
					id="dialog"
					modal="true"
					close-dialog="sb-cancel-clone-to-group"
				>
					<div slot="title" class="title">
						<sb-i18n>Clone To Group(s)</sb-i18n>
					</div>
					<paper-button
						slot="paper-button"
						noink
						class="primary"
						on-click="onSave"
						><sb-i18n>Save</sb-i18n></paper-button
					>
					<div slot="content" class="content">
						<div class="selectionMessageContainer">
							<sb-i18n class="selectionMessage">Select one or more group(s):</sb-i18n>
						</div>

						<!--desktop fields-->
						<template is="dom-if" if="[[!isMobile]]">
							<sb-dual-list-box
								id="dualListBox"
								value="{{selectedGroups}}"
								options="[[groups]]"
								available-title="[[availableGroupTitle]]"
								chosen-title="[[chosenGroupTitle]]"
							></sb-dual-list-box>
						</template>

						<!--mobile fields-->
						<template is="dom-if" if="[[isMobile]]">
							<div class="groupContainer datatable">
								<template
									is="dom-repeat"
									items="[[groups]]"
									as="group"
								>
									<div class="tr">
										<div class="td">
											<div
												class="selectionContainer"
												on-click="toggleSelectedClass"
												data-index="[[index]]"
											>
												<div class="check">
													<template
														is="dom-if"
														if="[[group.selected]]"
													>
														<i class="sf-icon-check"></i>
													</template>
												</div>
												<span class="label">[[group.label]]</span>
											</div>
										</div>
									</div>
								</template>
							</div>
						</template>
					</div>
				</sb-dialog>
			</div>
		`}}customElements.define(Jr.is,Jr);class Zr{constructor(e,t){this.template=e,this.discountSchedule=t,this.selected=!1,this.hidden=!1,this.disabled=!1,this.tiers=[]}}class en{constructor(e,t){this.schedule=e,this.editorModel=t,this.constants=t.constants,this.unitPriceScale=t.data.settings.priceScale,this.isMultiCurrencyOrg=t.data.settings.isMultiCurrencyOrg}validate(e){let t=new Map,i=null,o=this.editorModel.data.customLabels,r=this.schedule;return e.forEach(function(e){let n=null,s=e.template[this.constants.NUMBER_FIELD],a=e.template[this.constants.LOWER_BOUND_FIELD],l=e.template[this.constants.UPPER_BOUND_FIELD],d=null!=i?i[this.constants.UPPER_BOUND_FIELD]:null,c=r[this.constants.DISCOUNT_UNIT_FIELD],u=e.template[this.constants.ADDITIONAL_DISCOUNT_RATE_FIELD];delete e.template.Price,null==a?n=this.formatLabel(o.msg_missing_lower_bound_tier,[s]):null!=i&&a!=d?n=this.formatLabel(o.msg_unequal_lower_upper_bounds_tier,[s]):null!=u||null!=c&&"PERCENT"!==c.toUpperCase()?null!=l&&""!=l&&l<=a?n=this.formatLabel(o.msg_upper_greater_tier,[s]):c&&"AMOUNT"===c.toUpperCase()?e.tiers.forEach(function(t){null===this.discountFormatted(t)&&(n=this.isMultiCurrencyOrg?this.formatLabel(o.msg_missing_discount_amount_tier_currency,[s,e.CurrencyIsoCode]):this.formatLabel(o.msg_missing_discount_amount_tier,[s]))}.bind(this)):null!=l&&""!=l&&l<=a&&(n=this.formatLabel(o.msg_upper_greater_tier,[s])):n=this.formatLabel(o.msg_missing_discount_tier,[s]),null!=n&&t.set(Number(s),n),i=e.template}.bind(this)),t}discountFormatted(e){return null==e[this.constants.DISCOUNT_AMOUNT_FIELD]?null:Number(e[this.constants.DISCOUNT_AMOUNT_FIELD]).toFixed(this.unitPriceScale)}formatLabel(e,t){for(let i=0,o=t.length;i<o;i++)e=e.replace("{"+i+"}",t[i].toString());return e}}const tn=je.b`
:host {
  width: 100%;
}
:host .table {
  padding: 10px 0;
}
:host .tr {
  text-align: center;
  vertical-align: top;
  display: flex;
}
:host .td1 {
  width: 100%;
}
:host .td2 {
  width: 50%;
}
:host .td3 {
  width: 33%;
}
:host .header-attributes {
  padding: 0 30px 0 30px;
}
`,on=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host .td {
  display: flex;
  padding: 6px 0;
  width: 100%;
  font-size: 14px;
  font-weight: 400;
}
:host .td > .label {
  text-align: right;
  padding-right: 10px;
  min-width: 50%;
  align-self: center;
  white-space: nowrap;
}
:host .td > .field {
  text-align: left;
  padding-left: 10px;
  width: 60%;
}
:host .td > .sb-icon-help-circled {
  font-size: var(--sbFontSizeDefault);
}
:host .td[class*='--mobile'] {
  flex-direction: column;
  padding: 10px 0 5px 25px;
  width: 90%;
}
:host .td[class*='--mobile'] .helpText {
  display: none;
}
:host .td[class*='--mobile'] .label {
  text-align: left;
  align-self: flex-start;
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
:host .td[class*='--mobile'] .field {
  width: 110%;
  padding-left: 0;
}
:host [class*='--mobile'] .td {
  flex-direction: column;
  padding: 10px 0 5px 25px;
  width: 90%;
}
:host [class*='--mobile'] .td .helpText {
  display: none;
}
:host [class*='--mobile'] .td .label {
  text-align: left;
  align-self: flex-start;
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
:host [class*='--mobile'] .td .field {
  width: 110%;
  padding-left: 0;
}
`;class rn extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-field-item"}static get properties(){return{value:{notify:!0},item:String,model:Object,md:Object,data:Object}}static get observers(){return["_setFieldDataObserver(item, model)","_dataChangedObserver(data, item)"]}_setFieldDataObserver(e,t){if(void 0!==e&&void 0!==t)return this._setFieldData(e,t)}_setFieldData(){this.md=this.model[this.item],this.label=this.md.label,this.helpText=this.md.inlineHelpText,this.$.field.editing=this.md.updateable,this.$.field.md=this.md,this.$.field.property=this.item;let e={};e[this.item]=this.value,this.$.field.obj=e}_dataChangedObserver(e,t){if(void 0!==e&&void 0!==t)return this._dataChanged(e,t)}_dataChanged(){let e=new Tt.u(this.item,this.data);e.hasRelationship()&&(this.display=e.getRelationshipName())}static get template(){return Ve.qy`
		<style>${on}</style>
		<style include="sb-common-styles sb-icons-styles"></style>

		<div device class="td">
		<div class="label">[[label]]</div>
		<template is="dom-if" if="[[md.inlineHelpText]]">
			<div class="helpText">
				<span class="sb-icon-help-circled"></span>
				<paper-tooltip position="top" animation-delay="0">[[helpText]]</paper-tooltip>
			</div>
		</template>
		<div class="field"><sb-field id="field" value="{{value}}" record="[[data]]" md="[[md]]" disabled="[[disabled]]"></sb-field></div>
		</div>
		`}}customElements.define(rn.is,rn);class nn extends Ve.Pu{static get is(){return"sb-field-table"}static get properties(){return{numColumns:{type:Number,value:1},data:{type:Object,notify:!0},fieldNames:String,md:Object,disabled:Boolean}}static get observers(){return["_generateColumnsObserver(md, fieldNames)"]}_generateColumnsObserver(e,t){if(void 0!==e&&void 0!==t)return this.generateColumns(e,t)}generateColumns(){let e=[],t=[],i=[],o=this.fieldNames.length;for(let r=0;r<o;r++)r%this.numColumns==0?e.push(this.fieldNames[r]):r%this.numColumns==1?t.push(this.fieldNames[r]):i.push(this.fieldNames[r]);1==this.numColumns?this.columnOneWidth="td1":2==this.numColumns?(this.columnOneWidth="td2",this.columnTwoWidth="td2"):(this.columnOneWidth="td3",this.columnTwoWidth="td3",this.columnThreeWidth="td3"),this.setColumns(e,t,i)}setColumns(e,t,i){e.length>0&&(this.$.firstColumn.model=this.md,this.$.firstColumn.group=e),t.length>0&&(this.$.secondColumn.model=this.md,this.$.secondColumn.group=t),i.length>0&&(this.$.thirdColumn.model=this.md,this.$.thirdColumn.group=i)}static get template(){return Ve.qy`
		<style>${tn}</style>
		<style include="sb-common-styles"></style>

		<div id="table" class="table">
			<div class="tr">
				<div class$="td [[columnOneWidth]]"><sb-group id="firstColumn" disabled="[[disabled]]" item="sb-field-item" data="{{data}}"></sb-group></div>
				<div class$="td [[columnTwoWidth]]"><sb-group id="secondColumn" disabled="[[disabled]]" item="sb-field-item" data="{{data}}"></sb-group></div>
				<div class$="td [[columnThreeWidth]]"><sb-group id="thirdColumn" disabled="[[disabled]]" item="sb-field-item" data="{{data}}"></sb-group></div>
			</div>
		</div>
		`}}customElements.define(nn.is,nn);const sn=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host([class*='--mobile']) {
  min-height: 53px;
}
:host([class*='--mobile']) {
  min-height: 53px;
}
:host([class*='--mobile'].primary) {
  border-bottom: 1px solid #d8dde6 !important;
  padding-top: 16px !important;
  display: flex !important;
}
:host([class*='--mobile'] .primary) {
  border-bottom: 1px solid #d8dde6 !important;
  padding-top: 16px !important;
  display: flex !important;
}
:host([class*='--mobile'].primary.first):after {
  position: relative !important;
  left: 0 !important;
  margin-top: 0 !important;
}
:host([class*='--mobile'] .primary.first):after {
  position: relative !important;
  left: 0 !important;
  margin-top: 0 !important;
}
`;class an extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-ds-table-cell"}static get properties(){return{item:String,disabled:Boolean,hidden:Boolean,value:{notify:!0},data:{type:Object,value:null},model:{type:Object,value:null},index:Number,viewport:{type:Object,value:function(){return j.L.getViewport()}}}}static get observers(){return["_buildCellObserver(item, model, data, index, viewport)"]}get constants(){return this.model.constants}_buildCellObserver(e,t,i,o,r){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r)return this.buildCell(e,t,i,o,r)}buildCell(){let e=this.model.md.fieldsMap[this.constants.DISCOUNT_TIER_FIELD],t=this.item.replace("template.","");this.handleOriginalValues(),this.editing=this.isEditable(t,e);let i=e[t];i.CurrencyIsoCode=this.model.quoteModel.quoteVO.record.CurrencyIsoCode,this.md=i}isEditable(e,t){return e!==this.constants.NUMBER_FIELD&&((e!==this.constants.LOWER_BOUND_FIELD||this.data.template[this.constants.NUMBER_FIELD]!==this.model.disabledDiscountTier)&&((0!==this.index||!this.viewport||!this.viewport.isMobile())&&t[e].updateable))}handleOriginalValues(){!this.data.original&&this.data.template&&(this.data.original={},this.data.original.template=JSON.parse(JSON.stringify(this.data.template))),this.data.original&&(this.$.field.originalValue=this.get("data.original."+this.item))}static get template(){return Ve.qy`
			<style include="sb-common-styles sb-icons-styles sb-forms-styles"></style>
			<style>${sn}</style>
			
			<sb-field
				device
				id="field"
				value="{{value}}"
				property="[[item]]"
				render-read-only="true"
				editing="[[editing]]"
				md="[[md]]"
				disabled="[[disabled]]"
				record="[[data.template]]"
			></sb-field>
		`}}customElements.define(an.is,an);const ln=je.b`
`;class dn extends((0,Le.$)((0,Ae.T)(Ve.Pu))){static get is(){return"sb-ds-tiers"}static get properties(){return{discountTiers:{type:Array,notify:!0},model:{type:Object,notify:!0},discountSchedule:Object,editorModel:Object}}get events(){let e={};return e[r.sV.DELETE_GROUPS]=this._deleteGroups,e}_hideSelection(e){return 0===e&&this.model.fieldsEditable?{hidden:!0,type:"invisible"}:null}_deleteGroups(){this.$.header.$.header.destroyGroup(),this.$.tbody.querySelectorAll("sb-table-row").forEach(function(e){e.cols=void 0,e.$.row.destroyGroup()}.bind(this))}static get template(){return Ve.qy`
				<style include="sb-tables-styles"></style>
				<style>${ln}</style>

				<div device class="datatable">
					<div class="thead">
						<sb-table-header id="header"
										selectable="[[model.fieldsEditable]]"
										selected="{{model.selected}}"
										cols="[[model.fieldLabels]]"
										header-class-map="[[model.headerClassMap]]"
										header-actions="[[model.headerActions]]"
										hide-hidden-selectable="[[!model.fieldsEditable]]">
						</sb-table-header>
					</div>
					<div class="tbody" id="tbody">
						<template is="dom-repeat" items="{{discountTiers}}" as="tier">
							<sb-table-row 
										cell="sb-ds-table-cell"
										row-data="[[tier]]"
										cols="[[model.recordKeys]]"
										cols-display="[[model.fieldLabelMap]]"
										model="[[editorModel]]"
										selected="{{tier.selected}}"
										selectable="[[model.fieldsEditable]]"
										hide-selection="[[_hideSelection(index, model.fieldsEditable)]]"
										primary-mobile-cols='["template.Name"]'
										repeat-primary-mobile-cols="true"
										row-class-map="[[model.rowClassMap]]"
										selection-id-data-path="template.Id"
										row-actions="[[tier.rowActions]]"
										index="[[index]]"
										route-source="lineEditor"
										path-prefix="template."
										disabled="[[tier.disabled]]"
										selection-class="zone">
							</sb-table-row>
						</template>
					</div>
			</div>
		`}}customElements.define(dn.is,dn);const cn=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  --sbDialogContentHeight: 300px;
}
:host .fieldItem {
  width: 50%;
}
:host #fieldItemRow {
  display: flex;
}
:host .hidden {
  display: none;
}
:host #deleteLines {
  margin: 0;
  border-left: none;
}
sb-field-table {
  --sbInputwidth: 95%;
  --sbInputborder: 1px solid #d8dde6 !important;
}
sb-dialog {
  --sbDialogContainerWidth: 80%;
  --sbDialogContentOverflowX: hidden;
  --sbDialogContentHeight: initial;
}
sb-dialog[class*='--mobile'] {
  --sbDialogContainerDisplay: flex;
  --sbDialogContainerOverflow: hidden;
  --sbDialogContainerFlexDirection: column;
  --sbDialogContainerHeight: 100%;
  --sbDialogContentHeight: 100%;
  --sbDialogContentMarginBottom: 0;
}
[class*='--mobile'] sb-dialog {
  --sbDialogContainerDisplay: flex;
  --sbDialogContainerOverflow: hidden;
  --sbDialogContainerFlexDirection: column;
  --sbDialogContainerHeight: 100%;
  --sbDialogContentHeight: 100%;
  --sbDialogContentMarginBottom: 0;
}
`;class un extends((0,Fe.g)((0,Le.$)((0,Ae.T)(Ve.Pu)))){static get is(){return"sb-discount-schedule-dialog"}static get properties(){return{discountSchedule:{type:Object},discountUnit:{type:String},editorModel:Object,lineModel:Object,schedule:{type:Object,notify:!0},error:{type:Object,notify:!0},model:{type:Object,value:{}},viewport:{type:Object,value:function(){return j.L.getViewport()}},isMobile:{type:Boolean,value:!1},dialogTapped:{type:Boolean,value:!1}}}get events(){let e={};return e[r.sV.SCHEDULE_ACTION]=this._handleIconAction,e[r.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get observers(){return["_retrieveSchedule(discountScheduleId)","_buildDialog(schedule)","_discountScheduleResponseChanged(discountScheduleResponse)","_discountScheduleChanged(discountSchedule.*)","_createErrorHandler(error)","_toggleEditableClasses(dialogTapped)","_selectCheckboxes(model.selected)"]}get constants(){return this.editorModel.constants}ready(){super.ready(),Object.entries({"delete-tapped":"onDeleteLines","add-tapped":"onAddLine"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.addEventListener("sb-cancel-ds",this.onCancel),this.addEventListener("data-changed",function(e){e.detail&&e.detail.path==`data.${this.discountUnitField}`&&this.discountUnit!=e.detail.value&&(this.discountUnit=e.detail.value,this._calculateDiscountAmounts(this.discountTiers),this.buildRowData())}.bind(this)),this._handleDialogTap(),this._handleDialogMouseEvents()}_createErrorHandler(){this.error&&(this.errors=this.error.validations?this.error.validations:[this.error.message])}_retrieveSchedule(e){e&&(this.showSpinner=!0,this.context={currencyCode:this.editorModel.quoteModel.quoteVO.record.CurrencyIsoCode,fieldSetName:"DiscountScheduleModal"},this.$.loadDiscountScheduleService.uid=void 0,this.$.loadDiscountScheduleService.context=this.context,this.$.loadDiscountScheduleService.uid=e,this.$.loadDiscountScheduleService.spinner=!1)}_buildDialog(){if(!this.schedule)return;this._setConstants(this.constants),this.discountTiers=void 0,this.currencyCode=this.editorModel.quoteModel.quoteVO.record.CurrencyIsoCode,this.editable=!!this.schedule[this.overrideBehaviorField],this.savedTiers=[],this.discountSchedule=JSON.parse(JSON.stringify(this.schedule)),this.data=this.discountSchedule,this.discountSchedule[this.discountUnitField]=this.discountSchedule[this.usePriceForAmountField]?"Price":this.discountSchedule[this.discountUnitField],this._setDSFields(),this.showRevertBtn=!!this.discountSchedule[this.originalScheduleField],this.discountUnit=this.discountSchedule[this.usePriceForAmountField]?"Price":this.discountSchedule[this.discountUnitField],this.buildRowData();let e=this.buildTiers();this._calculateDiscountAmounts(e),this.buildFieldData(),this.discountTiers=e,this._createActions(),this._toggleEditableClasses(),this.isMobile&&this._buildTabData(),this.showSpinner=!1}_discountScheduleResponseChanged(){let e=this.discountScheduleResponse.Id;if(this.lineModel.lineVO.record[this.discountScheduleField]=e,this.lineModel.lineVO.record[this.segmentKeyField]){let t=this.lineModel.segments;for(let i=0,o=t.length;i<o;i++)t[i].lineVO.record[this.discountScheduleField]=e}"save"===this.action?this.onCancel():(this.schedule=this.discountScheduleResponse,this.showRevertBtn=this.discountScheduleResponse[this.originalScheduleField]),(0,L.bv)(this).onFlagCalculate()}_discountScheduleChanged(e){e.path==`discountSchedule.${this.discountUnitField}`&&(this.discountUnit=e.value,this._calculateDiscountAmounts(this.discountTiers),this.buildRowData())}buildTiers(){let e=[],t=this._retrieveRecords();return this.previousLowerBound=void 0,t.forEach(function(t){if(null!=t[this.lowerBoundField]){if("Percent"==this.discountUnit&&this.previousLowerBound!=t[this.lowerBoundField])this.previousLowerBound=t[this.lowerBoundField];else if("Percent"==this.discountUnit||t.CurrencyIsoCode!=this.currencyCode)return;e.push(new Zr(t,this.discountSchedule))}else e.push(new Zr(t,this.discountSchedule))}.bind(this)),e}buildFieldData(){if(this.fieldNames)return;let e=this.editorModel.md.fieldsMap[this.discountScheduleField];e[this.discountUnitField].required=!0,this.fieldTableData=e,this.fieldNames=["Name",this.discountUnitField]}buildRowData(){this.fieldsArray&&(0,r.rC)(r.sV.DELETE_GROUPS);let e=this.editorModel.data.discountScheduleModalFieldNames,t=this.editorModel.md.fieldsMap[this.tierField],i=[],o={},n={},s={},a=this.editorModel.data.customLabels.lbl_price,l={};e.forEach(function(e){l[e]="template."+e}.bind(this)),"Price"===this.discountUnit&&(l[a]="template."+a,t[a]=JSON.parse(JSON.stringify(t[this.discountAmountField])),t[a].label=a+"("+(this.currencyCode||this.editorModel.data.currencySymbol)+")",t[a].name=a),this.fieldsArray=Object.keys(l);let d=[];this.fieldsArray.forEach(function(e){if(this._isFieldShown(e)){var r,a=t[e],c=a.name;"currency"===a.type&&(a.scale=this._getPriceScale()),e===this.numberField?r="#":e===this.discountAmountField?(r=a.label.replace("{0}",this.currencyCode||this.editorModel.data.currencySymbol),a.label=r):r=a.label,d.push(l[e]),i.push(r),o[c]=a.label,n[a.label.replace(/\W/g,"")]=a.type,s[l[e]]=a.type}}.bind(this)),this.set("model.fieldsMD",t),this.isMobile||(this.set("model.selected",!1),this.set("model.headerClassMap",new ft.u(Object.keys(n),"Th",n,null,!0).build()),this.set("model.fieldLabels",i)),this.set("model.rowClassMap",new ft.u(d,"Td",s).build()),this.set("model.fieldLabelMap",o),this.set("model.recordKeys",d)}onRevert(){this._retrieveSchedule(this.discountSchedule[this.originalScheduleField])}onAddLine(e){let t=this._createBlankTierRecord(),i=new Zr(t,this.discountSchedule);i.rowActions=this._createRowActions(),e.detail&&void 0!==e.detail.index?this.splice("discountTiers",e.detail.index+1,0,i):this.push("discountTiers",i),this._renumberLines(this.discountTiers,!0)}onDeleteLines(e){if(e.detail&&e.detail.index)this.splice("discountTiers",e.detail.index,1);else{for(let e=0,t=this.discountTiers.length;e<t&&this.discountTiers[e];e++)this.discountTiers[e].selected&&(this.splice("discountTiers",e,1),e--);this.set("model.selected",!1)}this._selectCheckboxes(!1),this._renumberLines(this.discountTiers,!0)}onSave(e){if(this.errors=void 0,this.tiers=this._processForSaving(),!this.tiers)return;let t;this.errors=void 0,this.action=e.currentTarget.attributes.id.value,this.discountSchedule[this.userDefinedField]&&this.lineModel.lineVO.record.Id===this.discountSchedule[this.quoteLineField]?(t={discountScheduleJSON:JSON.stringify(this.discountSchedule),tiersJSON:JSON.stringify(this.tiers),ignoreValidate:!0,context:JSON.stringify(this.context)},this.$.discountScheduleUpdaterService.uid=this.discountSchedule.Id,this.$.discountScheduleUpdaterService.model=t):(this.discountSchedule[this.quoteLineField]=this.lineModel.lineVO.record.Id,this.discountSchedule[this.userDefinedField]=!0,this.discountSchedule[this.originalScheduleField]=this.discountSchedule.Id,t={discountScheduleJSON:JSON.stringify(this.discountSchedule),tiersJSON:JSON.stringify(this.tiers),ignoreValidate:!0,context:JSON.stringify(this.context)},this.$.discountScheduleClonerService.model=t)}onCancel(){(0,r.rC)(r.sV.DELETE_GROUPS),this.dialogTapped=!1,this.dialogOverlapping=!1,this.set("model.fieldsEditable",!1),this.errors=void 0,this.schedule=void 0,this.discountSchedule=void 0,this.discountTiers=void 0,this.discountScheduleId=void 0,this.$.dialog.close()}_processForSaving(){let e=this._sortTiers(this.savedTiers),t=this._sortTiers(this.discountTiers);if(!e||!t)return null;let i=e.concat(t);this._renumberLines(i,!1),this.set("discountTiers",t),this._updateActions(),this._calculateDiscountAmounts(i),this._createTiers(i);let o=new en(this.discountSchedule,this.editorModel).validate(i);if(o.size>0)return this._createError(o),null;let r=[];return i.forEach(function(e){e.tiers.forEach(function(e){r.push(e)}.bind(this))}.bind(this)),this.discountSchedule[this.tiersField].records=r,this.discountSchedule[this.tiersField].totalSize=r.length,"Price"===this.discountUnit?(this.discountSchedule[this.discountUnitField]="amount",this.discountSchedule[this.usePriceForAmountField]=!0):this.discountSchedule[this.usePriceForAmountField]=!1,r}_setConstants(e){this.discountAmountField=e.DISCOUNT_AMOUNT_FIELD,this.discountScheduleField=e.DISCOUNT_SCHEDULE_FIELD,this.discountRateField=e.ADDITIONAL_DISCOUNT_RATE_FIELD,this.discountUnitField=e.DISCOUNT_UNIT_FIELD,this.lowerBoundField=e.LOWER_BOUND_FIELD,this.numberField=e.NUMBER_FIELD,this.originalScheduleField=e.ORIGINAL_SCHEDULE_FIELD,this.overrideBehaviorField=e.OVERRIDE_BEHAVIOR_FIELD,this.quantityField=e.QUANTITY_FIELD,this.quoteLineField=e.QUOTE_LINE,this.segmentKeyField=e.SEGMENT_KEY_FIELD,this.specialPriceField=e.SPECIAL_PRICE_FIELD,this.tierField=e.DISCOUNT_TIER_FIELD,this.tiersField=e.DISCOUNT_TIERS_FIELD,this.upperBoundField=e.UPPER_BOUND_FIELD,this.usePriceForAmountField=e.USE_PRICE_FOR_AMOUNT_FIELD,this.userDefinedField=e.USER_DEFINED_FIELD}_createError(e){let t=[];for(let i=0,o=this.discountTiers.length;i<o;i++){let o=this.discountTiers[i].template[this.numberField];e&&e.get(o)&&t.push(e.get(o))}t.length>0&&(this.errors=t)}_createActions(){if(!this.discountTiers)return;let e=[];for(let e=0,t=this.discountTiers.length;e<t;e++){let t=this._createRowActions(e);this.set(`discountTiers.${e}.rowActions`,t)}e.push({icon:"sb-icon-plus",position:"right",hidden:!0,invisible:!0}),e.push({icon:"sf-icon-delete",position:"right",hidden:!0,invisible:!0}),this.isMobile||this.set("model.headerActions",e)}_createRowActions(){return[{icon:"sb-icon-plus",title:"Add",position:"right",invisible:!1,hidden:!1,onTapFunction:function(){this.dispatchEvent((0,r.uv)("add-tapped",{index:this.index}))}},{icon:"sf-icon-delete",title:"Delete",position:"right",invisible:0==(arguments.length>0&&void 0!==arguments[0]?arguments[0]:1),hidden:!1,onTapFunction:function(){this.dispatchEvent((0,r.uv)("delete-tapped",{index:this.index}))}}]}_retrieveVisibleRecords(e){let t=[],i=this.lineModel.lineVO.record[this.quantityField];if(e.forEach(function(e){let o=e[this.lowerBoundField],r=e[this.upperBoundField],n=this.discountSchedule[this.userDefinedField];if(!r)return i>=o||n?t.push(e):t;i>=o&&i>=r?this.savedTiers.push(new Zr(e,this.discountSchedule)):(o<=i&&i<r||n&&o>i)&&t.push(e)}.bind(this)),0==t.length&&e.length>0){let o=e.length-1,r=e[0][this.lowerBoundField],n=e[o][this.upperBoundField],s=this._createBlankTierRecord();i<r?s[this.numberField]=1:i>=n&&(s[this.numberField]=e[o][this.numberField]+1,s[this.lowerBoundField]=n),t.push(s)}return t}_retrieveRecords(){let e=[];if(this.discountSchedule[this.tiersField])e=this.discountSchedule[this.tiersField].records,"Current Tier Only"===this.discountSchedule[this.overrideBehaviorField]?(e=this._retrieveVisibleRecords(e),this.savedTiers.length>0&&(this.editorModel.disabledDiscountTier=e[0][this.numberField])):this.editorModel.disabledDiscountTier=void 0;else{let t=this._createBlankTierRecord();t[this.numberField]=1,e.push(t)}return e}_calculateDiscountAmounts(e){if(!e)return;let t=this.lineModel.lineVO.record[this.specialPriceField];e.forEach(function(e){let i=e.template;"Price"===this.discountUnit?(i.Price=i.Price||0===i.Price?i.Price:t-i[this.discountAmountField],i[this.discountAmountField]=t-i.Price):(i[this.discountRateField]=i[this.discountRateField]||0,i[this.discountAmountField]=i[this.discountAmountField]||0),i[this.constants.UPPER_BOUND_FIELD]||0==i[this.constants.UPPER_BOUND_FIELD]||(i[this.constants.UPPER_BOUND_FIELD]=null)}.bind(this))}_renumberLines(e,t){let i="Current Tier Only"===this.discountSchedule[this.overrideBehaviorField]&&this.savedTiers.length>0?e[0].template[this.numberField]:1;for(let o=0,r=e.length;o<r;o++)e[o].template[this.numberField]!=i&&(t?this.set(`discountTiers.${o}.template.${this.numberField}`,i):e[o].template[this.numberField]=i),i++}_sortTiers(e){let t=[],i={},o=[];return e.forEach(function(e){let o=e.template[this.lowerBoundField];if(i[o])return this.errors=[this.editorModel.data.customLabels.msg_identical_lower_bounds],null;t.push(o),i[o]=e}.bind(this)),t.sort((function(e,t){return e-t})),t.forEach(function(e){let t=i[e];o.push(t)}.bind(this)),o}_createTiers(e){let t=this.editorModel.data.settings.currencyIsoCodes;e.forEach(function(e){e.tiers=[],t?t.forEach(function(t){if(t==this.currencyCode)return e.template.CurrencyIsoCode=t,void e.tiers.push(e.template);"Percent"!==this.discountUnit&&e.tiers.push(this._createMultiCurrencyRecord(e.template,t))}.bind(this)):e.tiers.push(e.template)}.bind(this))}_selectCheckboxes(e){if(this.discountTiers)for(let t=1,i=this.discountTiers.length;t<i;t++)this.discountTiers[t]&&this.set(`discountTiers.${t}.selected`,e)}_createMultiCurrencyRecord(e,t){let i=JSON.parse(JSON.stringify(e));return i.CurrencyIsoCode=t,i[this.discountAmountField]=0,i[this.discountRateField]=i[this.discountRateField]||0,delete i.Price,i}_createBlankTierRecord(){let e={};return this.fieldsArray.forEach(function(t){e[t]=null,e.CurrencyIsoCode=this.currencyCode,e[this.discountAmountField]=0,e[this.discountRateField]=0}.bind(this)),e}_handleIconAction(e){let t=e.detail.event.type,i=e.detail.model;switch(this.lineModel=this.editorModel.quoteModel.lineModelsByKey[i.serviceModel.keys[0]],this.discountScheduleId=i.serviceModel.scheduleId,t){case"mouseenter":this.isMobile||this.dialogTapped||(this._toggleDialogClasses(!0),this.$.dialog.open());break;case"mouseleave":this._closeDialogDebouncer=Re.aq.debounce(this._closeDialogDebouncer,qe.EV.after(1),(()=>{this.isMobile||this.dialogTapped||this.dialogOverlapping||this.onCancel()}));break;case"click":this._openDialog()}}_openDialog(){this.dialogTapped||(this.dialogTapped=!0,this.$.dialog.open(),this._toggleDialogClasses(!1))}_toggleDialogClasses(e){let t=this.$.dialog.shadowRoot,i=t.querySelector(".sbDialog");(0,L.p1)("boxShadow",e,i),(0,L.p1)("noMarginBottom",e,t.querySelector("#content"))}_handleDialogTap(){this.addEventListener("sb-tap-ds",function(){!this.isMobile&&this.dialogOverlapping&&this._openDialog()}.bind(this))}_handleDialogMouseEvents(){if(this.isMobile)return;let e=this.$.dialog.shadowRoot.querySelector(".sbDialog");e.addEventListener("mouseenter",function(){this.dialogTapped||(this.dialogOverlapping=!0)}.bind(this)),e.addEventListener("mouseleave",function(){!this.dialogTapped&&this.dialogOverlapping&&this.onCancel()}.bind(this))}_toggleEditableClasses(){this.set("model.fieldsEditable",this.editable&&this.dialogTapped),this.discountTiers&&(this._setDisabled(),this._updateActions())}_updateActions(){for(let e=0,t=this.discountTiers.length;e<t;e++){let t=this.discountTiers[e].rowActions;if(t)for(let i=0,o=t.length;i<o;i++){let o=0==e&&"sf-icon-delete"==t[i].icon;this.set(`discountTiers.${e}.rowActions.${i}.hidden`,!this.model.fieldsEditable),this.set(`discountTiers.${e}.rowActions.${i}.invisible`,o)}}if(!this.isMobile&&this.model.headerActions)for(let e=0,t=this.model.headerActions.length;e<t;e++)this.set(`model.headerActions.${e}.hidden`,!this.model.fieldsEditable)}_setDisabled(){for(let e=0,t=this.discountTiers.length;e<t;e++)this.set(`discountTiers.${e}.disabled`,!this.model.fieldsEditable)}_setDSFields(){let e,t=this.editorModel.quoteModel.quoteVO;this.discountSchedule[this.constants.QUOTE]=t.record.Id,t.record[this.constants.ACCOUNT_FIELD]?e=t.record[this.constants.ACCOUNT_FIELD].Id:t.record[this.constants.OPPORTUNITY_FIELD]&&(e=t.record[this.constants.OPPORTUNITY_FIELD].AccountId),this.discountSchedule[this.constants.ACCOUNT_ID_FIELD]=e}_isFieldShown(e){return("Percent"!==this.discountUnit||e!==this.discountAmountField)&&(("Amount"!==this.discountUnit||e!==this.discountRateField)&&("Price"!==this.discountUnit||e!==this.discountRateField&&e!==this.discountAmountField))}_buildTabData(){let e=[],t=["Details","Tiers"];if(this.tabs!==e){for(let i=0,o=t.length;i<o;i++){let o,r,n=t[i],s="t"+i;"Details"===n?(o=["data","fieldNames","md","numColumns","disabled"],r="sb-field-table"):"Tiers"===n&&(o=["discountTiers","model","editorModel"],r="sb-ds-tiers"),e.push({name:s,label:n,bind:o,pageComponent:r})}this.tabs=e}}_getPriceScale(){const e=this.discountSchedule[this.constants.PRICE_SCALE_FIELD];return null!=e?e:this.editorModel.data.settings.priceScale}viewportChanged(){this.isMobile=!(!this.viewport||!this.viewport.isMobile())}static get template(){return Ve.qy`
			<style include="sb-common-styles sb-icons-styles sb-dialog-styles sb-tables-styles"></style>
			<style>${cn}</style>

			<sb-service id="discountScheduleUpdaterService" saver="QuoteLineEditorServiceProvider.DiscountScheduleUpdater" cache="DiscountSchedules" response={{discountScheduleResponse}} error="{{error}}"></sb-service>
			<sb-service id="discountScheduleClonerService" saver="QuoteLineEditorServiceProvider.DiscountScheduleCloner" response={{discountScheduleResponse}} error="{{error}}"></sb-service>
			<sb-service id="loadDiscountScheduleService" loader="DiscountScheduleServiceProvider" cache="DiscountSchedules" response="{{schedule}}" error="{{error}}"></sb-service>

			<div device>
				<sb-dialog id="dialog"
						modal="[[dialogTapped]]"
						hide-close-icon="[[!dialogTapped]]"
						close-dialog="sb-cancel-ds"
						hide-cancel-button="[[!dialogTapped]]"
						tap-dialog="sb-tap-ds">
						<i slot="icon" class="icon sf-icon-discountscheduleicons-02"></i>
						<div slot="title" class="title"><sb-i18n>Discount Schedule Editor</sb-i18n></div>
					<div slot="content" class="content" id="content">
						<sf-loading-spinner show="[[showSpinner]]"></sf-loading-spinner>
						<div hidden$="[[showSpinner]]">
							<sb-toast type="error" messages="{{errors}}"></sb-toast>
							<template is="dom-if" if="[[isMobile]]">
								<sb-tabs id="dsTabs"
										tabs="[[tabs]]"
										editor-model="{{editorModel}}"
										data="{{discountSchedule}}"
										field-names="[[fieldNames]]"
										md="[[fieldTableData]]"
										num-columns="2"
										discount-tiers="{{discountTiers}}"
										model="{{model}}"
										disabled="[[!model.fieldsEditable]]"
										selected-tab-index="0">
								</sb-tabs>
							</template>
							<template is="dom-if" if="[[!isMobile]]">
								<sb-field-table data="{{discountSchedule}}"
												field-names="[[fieldNames]]"
												md="[[fieldTableData]]"
												num-columns="2"
												disabled="[[!model.fieldsEditable]]">
								</sb-field-table>
								<sb-ds-tiers discount-schedule="{{discountSchedule}}"
											discount-tiers="{{discountTiers}}"
											model="{{model}}"
											editor-model="[[editorModel]]">
								</sb-ds-tiers>
							</template>
						</div>
					</div>
					<template is="dom-if" if="[[model.fieldsEditable]]">
						<paper-button slot="paper-button" noink class="primary" id="save" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>
						<paper-button slot="paper-button" noink id="update" on-click="onSave"><sb-i18n>Update</sb-i18n></paper-button>
						<template is="dom-if" if="[[showRevertBtn]]">
							<paper-button slot="paper-button" noink class="sf-icon-undo" on-click="onRevert"></paper-button>
						</template>
						<paper-button slot="paper-button" noink id="deleteLines" on-click="onDeleteLines"><sb-i18n>Delete</sb-i18n></paper-button>
						<paper-button slot="paper-button" noink id="addLine" on-click="onAddLine"><sb-i18n>Add</sb-i18n></paper-button>
					</template>
				</sb-dialog>
			</div>
		`}}customElements.define(un.is,un);const hn=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  --sbDialogMaxHeight: 420px;
  --sbDialogMinWidth: 420px;
  --sbToastMinWidth: 300px;
}
:host .content {
  text-align: var(--sbDialogContentTextAlign, left);
  font-size: var(--sbDialogContentFontSize, 14px);
  max-height: 400px;
}
:host .content input {
  font-size: 14px;
  min-width: 220px;
  height: 24px;
  padding: 0 10px;
  margin-left: 20px;
}
:host .content[class*='--mobile'] {
  width: 100%;
  padding-top: 60px;
  text-align: center;
}
:host .content sb-i18n[class*='--mobile'] {
  font-size: 24px;
}
:host .content input[class*='--mobile'] {
  width: 80%;
  margin: 40px 0 4px 0;
  font-size: 20px;
  text-align: left;
  border: 1px solid #D8DDE6;
  height: 30px;
}
:host [class*='--mobile'] .content {
  width: 100%;
  padding-top: 60px;
  text-align: center;
}
:host [class*='--mobile'] .content sb-i18n {
  font-size: 24px;
}
:host [class*='--mobile'] .content input {
  width: 80%;
  margin: 40px 0 4px 0;
  font-size: 20px;
  text-align: left;
  border: 1px solid #D8DDE6;
  height: 30px;
}
`;class pn extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-favorite-dialog"}static get properties(){return{favName:String}}ready(){super.ready(),this.addEventListener("sb-cancel-fav",this.onCancel)}onSave(){if(""==this.favName||void 0===this.favName)return void(this.errors=["Favorite name cannot be left blank."]);let e=[];if(this.favoritedGroup){let t=this.groupLines.length;for(let i=0;i<t;i++)this.groupLines[i].component||e.push(this.groupLines[i].lineVO.key)}else e.push(this.favoritedLine[0]);this.dispatchEvent((0,r.uv)("sb-favorite-saved",{keys:e,name:this.favName,groupKey:this.favoritedGroup})),this.favoritedGroup=this.favoritedLine=this.groupLines=null,this.favName="",this.$.dialog.toggle()}onCancel(){this.favoritedGroup=this.favoritedLine=this.groupLines=null,this.favName="",this.$.dialog.toggle()}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style>${hn}</style>

			<div device>
				<sb-dialog
					id="dialog"
					modal="true"
					close-dialog="sb-cancel-fav"
				>
					<i slot="icon" class="icon sb-icon-star"></i>
					<div slot="title" class="title">
						<sb-i18n>Add to Favorites</sb-i18n>
					</div>
					<paper-button
						slot="paper-button"
						noink
						class="primary"
						on-click="onSave"
						><sb-i18n>Save</sb-i18n></paper-button
					>

					<div slot="content" class="content">
						<sb-toast type="error" messages="{{errors}}"></sb-toast>
						<sb-i18n class="favNameText">Favorite Name</sb-i18n>
						<input
							class="favNameInput"
							type="text"
							value="{{favName::input}}"
						/>
					</div>
				</sb-dialog>
			</div>
		`}}customElements.define(pn.is,pn);const fn=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  --sbDialogMaxHeight: 600px;
  --sbDialogMinWidth: 600px;
  --sbToastMinWidth: 300px;
}
:host .content {
  text-align: var(--sbDialogContentTextAlign, left);
  font-size: var(--sbDialogContentFontSize, 14px);
  max-height: 400px;
  max-width: 900px;
}
:host .content .guidanceTable {
  display: table;
  width: 100%;
  table-layout: fixed;
}
:host .content .Reasoning-header {
  display: table-cell;
  font-size: 1.286rem;
  text-align: left;
  width: 49%;
  padding-left: 10px;
}
:host .content .Target-header {
  display: table-cell;
  font-size: 1.286rem;
  text-align: center;
  font-weight: 900;
  width: 17%;
}
:host .content .Norm-header {
  display: table-cell;
  font-size: 1.286rem;
  font-weight: 500;
  text-align: center;
  width: 17%;
}
:host .content .Floor-header {
  display: table-cell;
  font-size: 1.286rem;
  font-weight: 300;
  text-align: center;
  width: 17%;
}
:host .content .Reasoning-detail {
  display: table-cell;
  width: 49%;
  text-align: left;
  vertical-align: top;
  padding-top: 8px;
  padding-left: 10px;
  padding-bottom: 10px;
}
:host .content .Target-detail {
  display: table-cell;
  width: 17%;
  font-size: 1.714rem;
  font-weight: 900;
  text-align: center;
  vertical-align: top;
  padding-top: 8px;
}
:host .content .Norm-detail {
  display: table-cell;
  width: 17%;
  font-size: 1.714rem;
  font-weight: 500;
  text-align: center;
  vertical-align: top;
  padding-top: 8px;
}
:host .content .Floor-detail {
  display: table-cell;
  width: 17%;
  font-size: 1.714rem;
  font-weight: 300;
  text-align: center;
  vertical-align: top;
  padding-top: 8px;
}
:host .content .rowWrapper {
  overflow-x: auto;
  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);
  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);
  border-bottom-color: var(--sbPageHeaderBorderBottomColor);
}
:host .content .rowWrapper .htmlField ul > li {
  list-style: disc;
  list-style-position: inside;
}
:host .content .rowWrapper .htmlField ol > li {
  list-style: decimal;
  list-style-position: inside;
}
:host .content ul.grid {
  width: fit-content;
  display: flex;
  padding: 0.75rem 0 0.75rem 0;
  max-height: 25rem;
}
:host .content li.detail-block {
  padding-right: 2rem;
  padding-bottom: 4px;
}
:host .content li.detail-block div.body {
  font-weight: bold;
  padding-top: 4px;
  padding-bottom: 8px;
  text-transform: uppercase;
}
:host .content div.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-top: 4px;
}
:host .content[class*='--mobile'] {
  width: 100%;
  padding-top: 24px;
  text-align: center;
}
:host .content sb-i18n[class*='--mobile'] {
  font-size: 14px;
}
:host .content .mobile-Reasoning-header[class*='--mobile'] {
  padding-left: 20px;
  font-size: 1.286rem;
  text-align: left;
  text-transform: uppercase;
  font-weight: 900;
}
:host .content .mobile-Target-header[class*='--mobile'] {
  padding-left: 20px;
  font-size: 1.286rem;
  text-align: left;
  text-transform: uppercase;
  font-weight: 900;
  padding-top: 24px;
}
:host .content .mobile-Norm-header[class*='--mobile'] {
  padding-left: 20px;
  font-size: 1.286rem;
  text-align: left;
  text-transform: uppercase;
  font-weight: 300;
}
:host .content .mobile-Floor-header[class*='--mobile'] {
  padding-left: 20px;
  font-size: 1.286rem;
  text-align: left;
  text-transform: uppercase;
  font-weight: 300;
}
:host .content .mobile-Target-detail[class*='--mobile'] {
  padding-left: 20px;
  font-size: 1.714rem;
  text-align: left;
  font-weight: 900;
}
:host .content .mobile-Norm-detail[class*='--mobile'] {
  padding-left: 20px;
  font-size: 1.714rem;
  text-align: left;
  font-weight: 300;
}
:host .content .mobile-Floor-detail[class*='--mobile'] {
  padding-left: 20px;
  font-size: 1.714rem;
  text-align: left;
  font-weight: 300;
}
:host .content .mobile-Reasoning-detail[class*='--mobile'] {
  padding-left: 20px;
  padding-right: 20px;
  text-align: justify;
  font-size: 1.143rem;
}
:host [class*='--mobile'] .content {
  width: 100%;
  padding-top: 24px;
  text-align: center;
}
:host [class*='--mobile'] .content sb-i18n {
  font-size: 14px;
}
:host [class*='--mobile'] .content .mobile-Reasoning-header {
  padding-left: 20px;
  font-size: 1.286rem;
  text-align: left;
  text-transform: uppercase;
  font-weight: 900;
}
:host [class*='--mobile'] .content .mobile-Target-header {
  padding-left: 20px;
  font-size: 1.286rem;
  text-align: left;
  text-transform: uppercase;
  font-weight: 900;
  padding-top: 24px;
}
:host [class*='--mobile'] .content .mobile-Norm-header {
  padding-left: 20px;
  font-size: 1.286rem;
  text-align: left;
  text-transform: uppercase;
  font-weight: 300;
}
:host [class*='--mobile'] .content .mobile-Floor-header {
  padding-left: 20px;
  font-size: 1.286rem;
  text-align: left;
  text-transform: uppercase;
  font-weight: 300;
}
:host [class*='--mobile'] .content .mobile-Target-detail {
  padding-left: 20px;
  font-size: 1.714rem;
  text-align: left;
  font-weight: 900;
}
:host [class*='--mobile'] .content .mobile-Norm-detail {
  padding-left: 20px;
  font-size: 1.714rem;
  text-align: left;
  font-weight: 300;
}
:host [class*='--mobile'] .content .mobile-Floor-detail {
  padding-left: 20px;
  font-size: 1.714rem;
  text-align: left;
  font-weight: 300;
}
:host [class*='--mobile'] .content .mobile-Reasoning-detail {
  padding-left: 20px;
  padding-right: 20px;
  text-align: justify;
  font-size: 1.143rem;
}
:host paper-button[aria-disabled="true"] {
  background-color: lightgrey;
}
`;class bn extends((0,Le.$)(Ve.Pu)){static get is(){return"sb-pricing-guidance-dialog"}static get properties(){return{lineVO:Object,isPricingRecommendationAvailable:Boolean,pricingGuidanceArray:Array,isPricingGuidanceAvailable:Boolean,isMobileDevice:Boolean,quoteLineObjectArray:Array}}ready(){super.ready(),this.addEventListener("sb-cancel-fav",this.onCancel)}onAcceptPricingGuidance(){this.dispatchEvent((0,r.uv)("sb-accept-pricing-guidance",{lineVO:this.lineVO,headerValues:this.headerValues,lineItemValues:this.lineItemValues})),this.$.dialog.toggle()}onCancel(){this.$.dialog.toggle(),this.properties.lineVO={},this.properties.isPricingRecommendationAvailable=!1,this.properties.pricingGuidanceArray=[],this.properties.isPricingGuidanceAvailable=!1,this.properties.isMobileDevice=!1,this.properties.quoteLineObjectArray=[]}getPricingGuidanceValue(e,t){return e[t]}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style include="sb-dialogs-styles"></style>
			<style>${fn}</style>
			<div device>
				<sb-dialog
					id="dialog"
					modal="true"
					close-dialog="sb-cancel-fav"
				>
					<i slot="icon" class="icon sf-icon-target"></i>

					<div slot="title" class="title">
						<sb-i18n>Pricing Guidance</sb-i18n>
					</div>

					<paper-button
						slot="paper-button"
						noink
						class="primary"
						on-click="onAcceptPricingGuidance"
						disabled$="[[!isPricingRecommendationAvailable]]"
					>
						<sb-i18n>Accept Recommendation</sb-i18n>
					</paper-button>

					<div slot="content" class="content">
						<sb-toast type="error" messages="{{errors}}"></sb-toast>
						<template
							is="dom-if"
							if="[[!isPricingGuidanceAvailable]]"
						>
							[[pricingGuidanceRecord.errorMessage]]
						</template>
						<template
							is="dom-if"
							if="[[isPricingGuidanceAvailable]]"
						>
							<template is="dom-if" if="[[!isMobileDevice]]">
								<table class="topContentTable">
									<tr>
										<td>
											<table class="guidanceTable">
												<thead>
													<template
														is="dom-repeat"
														items="[[pricingGuidanceArray]]"
														as="item"
													>
														<th
															class$="guidanceHeader [[item.name]]-header"
														>
															[[item.displayName]]
														</th>
													</template>
												</thead>
												<tbody>
													<tr>
														<template
															is="dom-repeat"
															items="[[pricingGuidanceArray]]"
															as="item"
														>
															<td class$="guidanceDetail [[item.name]]-detail">[[item.value]]</td>
														</template>
													</tr>
												</tbody>
											</table>
										</td>
									</tr>
								</table>

								&nbsp;

								<div class="rowWrapper"></div>
								<div class="rowWrapper">
									<ul class="grid">
										<template
											is="dom-repeat"
											items="[[quoteLineObjectArray]]"
											as="item"
										>
											<li class="detail-block">
												<div class="truncate body">
													[[item.key]]
												</div>
												<div class="truncate">
													[[item.value]]
												</div>
											</li>
										</template>
									</ul>
								</div>
							</template>
							<template is="dom-if" if="[[isMobileDevice]]">
								<template
									is="dom-repeat"
									items="[[pricingGuidanceArray]]"
									as="item"
								>
									<ul>
										<li class="mobileDevice">
											<div
												class$="mobileDevice mobile-[[item.displayName]]-header"
											>
												[[item.displayName]]
											</div>
										</li>
										<li>
											<div
												class$="mobileDevice mobile-[[item.displayName]]-detail"
											>
												[[item.value]]
											</div>
										</li>
										&nbsp;
									</ul>
								</template>
							</template>
						</template>
					</div>
				</sb-dialog>
			</div>
		`}}customElements.define(bn.is,bn);i(4482);class gn extends((0,Fe.g)((0,Le.$)(Ve.Pu))){static get is(){return"sb-le-custom-action-services"}static get properties(){return{editorModel:Object,eventDetail:Object,response:{type:Object,notify:!0},error:{notify:!0,observer:"_errorChanged"}}}_executeServiceAction(e,t,i){let o=t||(this.eventDetail&&this.eventDetail.model?this.eventDetail.model.serviceModel:null);this.editorModel&&(this._usesClientCalculator()&&this.sortLines(this.editorModel.quoteModel.quoteVO,!1),this.editorModel.quoteModel.quoteVO.lineItems=this._reorderLineItems(),this._reorderGroups());let r=this.editorModel?this.editorModel.quoteModel.quoteVO:this.data.quote;const n=i&&o?i(r,o):r.lineItems;let s=r.lineItems;r.partialVO=s.length!=n.length,r.lineItems=n;let a=this.data.settings.largeQuoteThreshold,l=a&&r.lineItems.length>a;if(("saveService"===e||"quickSaveService"===e)&&l&&SB&&SB.QuoteDAO)return r.lineItems=s,r.partialVO=!1,void this._saveLargeQuote(r,e);const d={cleanRootProperty:"record",cleanPathFromRoot:["ui_original_record"],keepIfDirtyWhenParentContains:"attributes",keepIfDirtyAllowList:{type:[`${this.prefix}QuoteLineConsumptionSchedule__c`,`${this.prefix}QuoteLineConsumptionRate__c`]}};o?(this.$[e].model=void 0,o.quote=new Ur.z(!0,null,null,d).format(r),this.$[e].model=o):(this.$[e].model=void 0,this.$[e].model=new Ur.z(!0,null,null,d).format(r)),r.lineItems=s,r.partialVO=!1}_executeQuotelessServiceAction(e,t){let i=t||(this.eventDetail&&this.eventDetail.model?this.eventDetail.model.serviceModel:null);i?(this.$[e].model=void 0,this.$[e].model=i):console.log("no service model means nothing to do")}_saveLargeQuote(e,t){for(let t of e.lineItemGroups)t.record.attributes||(t.record.attributes={type:`${this.prefix}QuoteLineGroup__c`});const i=this.app.org.prefix;Promise.resolve().then((()=>this.data.settings.enableLQTValidations?(0,ne.IM)("validationErrorConditionDependencies",[]).then((t=>{if(t.errors)throw this.isSaveProcessing=!1,new Error((0,Vr.W)(t.errors));return this.$.productRuleValidator.load({uid:e.record.Id,context:{quote:e.record,quoteLineGroups:e.lineItemGroups.map((e=>e.record)),quoteLines:e.lineItems.map((e=>(0,L.kU)(e.record,t.fields)))}})})):[])).then((e=>{if(e.length>0)throw this.isSaveProcessing=!1,new Error((0,Vr.W)(e));return new a.m(i).getConnection()})).then((t=>new SB.QuoteDAO(i,t,this.data.settings).saveQuote(e).then((()=>{let o=new SB.QuoteOpportunitySynchronizer(this.data.settings,t,i),r=[];return r.push(o.updateOpportunityProducts(e)),r.push(this._checkIfRecordJobFailed()),Promise.all(r)})))).then((e=>"Failed"!==e[1]?Promise.resolve():this._setRecordJob("Completed"))).then((()=>this._handleLargeQuoteSaveResponse(t))).catch((e=>{this.isSaveProcessing=!1,this.error=this.$[t].createError(e),this.showSpinner=!1;const i=e.message||e,o=e.stack||e;this._setRecordJob("Failed",i,o)}))}_checkIfRecordJobFailed(){const e={recordId:this.editorModel.quoteModel.quoteVO.record.Id,jobType:"QuoteCalculator"};return this.$.getRecordJobStatus.load({context:e})}_setRecordJob(e,t,i){const o={recordIds:[this.editorModel.quoteModel.quoteVO.record.Id],jobType:"QuoteCalculator",jobStatus:e,jobDetails:t,stacktrace:i};return this.$.setJobStatus.save({model:o})}_handleLargeQuoteSaveResponse(e){if("saveService"===e)this.saverResponse="SUCCESS";else if("quickSaveService"===e){this._reloadEditor(),this._getDomHost().$.sbLineEditorRead.update(!0)}}_reorderLineItems(){let e=[],t=this.editorModel.quoteModel.lineGroups;for(let i=0,o=t.length;i<o;i++){let o=t[i];for(let t=0,i=o.dimensions.length;t<i;t++){let i=o.dimensions[t],r=o.segmentedLinesByDimension[i];for(let t=0,i=r.length;t<i;t++){let i=r[t].segments;for(let t=0,o=i.length;t<o;t++)e.push(i[t].lineVO)}}for(let t=0,i=o.standardLines.length;t<i;t++)e.push(o.standardLines[t].lineVO)}return e}_reorderGroups(){let e=(0,L.bv)(this).groupModels;for(let t=0;t<e.length;t++)e[t].groupVO.record[this.editorModel.constants.NUMBER_FIELD]=t+1}updateUIAfterCalculate(e){let t=e.lineSortField&&e.lineSortField==this.editorModel.constants.NUMBER_FIELD;(0,L.bv)(this).updateAfterJSQC(this.notifier,t),this.sortLines(e,!0)||(0,r.rC)(r.sV.REFRESH_TABLE)}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,r.f3)(this,this._getEventListners())}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,r.UQ)(this,this._getEventListners())}_getEventListners(){return{"sb-favorite-saved":"_saveFavorite","sb-clone-to-group-selected":"_cloneToGroup","job-completed":"_jobCompleted","sb-accept-pricing-guidance":"_onAcceptPricingGuidance"}}_saveFavorite(e){this._executeServiceAction("favoriteLinesService",{keys:e.detail.keys,favName:e.detail.name,groupKey:e.detail.groupKey},((e,t)=>{let i=null==e.lineItems||0==e.lineItems.length,o=null==t.keys||0==t.keys.length;if(i||o)return[];let r=new Set,n=t=>{r.add(t),e.lineItems.forEach((e=>{e.parentItemKey===t&&(r.add(e.key),e.record[this.data.developerPrefix+"Bundle__c"]&&n(e.key))}))};t.keys.forEach(n);let s=[];return e.lineItems.forEach((e=>{r.has(e.key)&&s.push(e)})),s}))}static get observers(){return["_executeCustomAction(eventDetail)","_handleCalculateResponse(calculateResponse)","_checkForGuidedMessages(saverResponse)","_reloadEditor(quoteEditorModelResponse)","_handleFavoriteResponse(favoriteResponse)","_handleUnfavoriteResponse(unfavoriteResponse)","_handleResegmentResponse(resegmentResponse)","_updateQuote(quoteVOResponse)","_handleToggleGroupResponse(toggleGroupResponse)","_handlePopupResponse(popupResponse)"]}_errorChanged(){this.isSaveProcessing=!1}_handleFavoriteResponse(){(0,L.bv)(this).updateQuote(this.favoriteResponse,((e,t)=>{let i=t.lineItems,o=i.length;e.lineItems&&0!==e.lineItems.length&&e.lineItems.forEach((e=>{let t=e.key;for(let r=0;r<o;r++)if(i[r].key===t){i[r]=e;break}}));let r=t.lineItemGroups,n=r.length;return e.lineItemGroups&&0!==e.lineItemGroups.length&&e.lineItemGroups.forEach((e=>{let t=e.key;for(let i=0;i<n;i++)if(r[i].key===t){r[i]=e;break}})),e.lineItems=i,e.lineItemGroups=r,e}))}_handleUnfavoriteResponse(){this._removeFavoritesFromQuote(this.unfavoriteResponse)}_removeFavoritesFromQuote(e){let t=new Set(e),i=this.editorModel.constants.FAVORITE_ID_FIELD;if(this.editorModel.quoteModel.quoteVO.lineItems.forEach((e=>{t.has(e.record[i])&&(e.record[i]=null)})),this.editorModel.quoteModel.quoteVO.lineItemGroups.forEach((e=>{t.has(e.record[i])&&(e.record[i]=null)})),this.editorModel.quoteModel.quoteVO.favoriteIds){let e=this.editorModel.quoteModel.quoteVO.favoriteIds;this.editorModel.quoteModel.quoteVO.favoriteIds=e.filter((e=>!t.has(e)))}this._updateQuote(this.editorModel.quoteModel.quoteVO)}_executeCustomAction(){let e=this.eventDetail.customAction;"function"==typeof this[e.eventHandlerName]?this[e.eventHandlerName]():e.url&&e.urlTarget?this._executeCustomURLAction(e.url,e.urlTarget,this.eventDetail.model):this._executeServiceAction(this.eventDetail.customAction.eventHandlerName)}onSaveAndNavigate(){this.onSave()}_executeCustomURLAction(e,t,i){switch(i.modelType){case"QuoteModel":this.model=i.quoteVO;break;case"LineModel":this.model=i.lineVO;break;case"GroupModel":this.model=i.groupVO;break;default:this.model=i.quoteVO||i.lineVO||i.groupVO}let o=this._parseURL(e,this.model,this.editorModel.quoteModel);"Popup"===t?this._handlePopup(o,this.model.record):this._navigateToURL(o)}_handleCalculateResponse(){let e=this.calculateResponse;e&&(null!=e.jobId?this._onJobChecker(e):this._updateQuote(e))}_updateQuote(e){(0,L.bv)(this).updateQuote(e)}_checkForGuidedMessages(){this.isSaveProcessing=!1,this.saverResponse.guidedMessages&&this.saverResponse.guidedMessages.length>0?((0,L.bv)(this).handleProductRuleAlertModal("saveService",this.saverResponse),this.showSpinner=!1):this.navigateToReturnUrl(!0)}navigateToReturnUrl(e){if(e&&this.saverResponse&&this.saverResponse.messages&&this.saverResponse.messages.length>0)return this.showSpinner&&(this.showSpinner=!1),void((0,L.bv)(this).error={validations:this.saverResponse.messages});let t="";if("onSaveAndNavigate"===this.eventDetail.customAction.eventHandlerName)t=this._parseURL(this.eventDetail.customAction.url,this.editorModel.quoteModel.quoteVO,this.editorModel.quoteModel);else{let e=this.editorModel.quoteModel.quoteVO.record.Id;if(t=this.eventDetail.customAction.record?this.eventDetail.customAction.record[this.editorModel.constants.RETURN_URL_FIELD]:null,t&&(t=this._parseURL(t,this.editorModel.quoteModel.quoteVO,this.editorModel.quoteModel),15!==t.length&&18!==t.length||!t.match(/^[a-zA-Z0-9]*$/)||(e=t,t=null)),this._getDomHost().inFullScreenMode&&this._getDomHost().exitFullScreenMode(),window.parent.postMessage({acknowledgement:"I acknowledge that this is an unsupported feature that may stop working at any time.",recordId:e},"*"),!t){if(this._isLightningExperience()){let t=this._getRecordIdsToRefresh(e);return window.SfdcApp&&window.SfdcApp.projectOneNavigator&&window.SfdcApp.projectOneNavigator.fireContainerEvent("force__vfGetRecordNotifyChange",{recordIds:t},!0),sforce.one.navigateToSObject(e),this._closeSubTab(),void(this.showSpinner&&(this.showSpinner=!1))}if("undefined"!=typeof Sfdc&&Sfdc&&Sfdc.Url){const t=Sfdc.Url.getUrlParameters(window.location.href);if(this._areUrlParamsValid(t))return void this._navigateByWindowLocation(`${this.editorModel.communityPrefix}/${e}?isdtp=${t.isdtp}`)}}t=t||this.editorModel.communityPrefix+"/"+e}this.showSpinner&&(this.showSpinner=!1),this._navigateToURL(t,!0)}_getRecordIdsToRefresh(e){let t=[{recordId:e}];(this.editorModel.quoteModel.quoteVO.lineItems||[]).forEach((function(e){e.record.Id&&t.push({recordId:e.record.Id})}));(this.editorModel.quoteModel.lineGroups||[]).forEach((function(e){e.groupVO.record.Id&&t.push({recordId:e.groupVO.record.Id})}));(this.editorModel.quoteModel.quoteVO.deletedLineIds||[]).forEach((function(e){t.push({recordId:e})}));return(this.editorModel.quoteModel.quoteVO.deletedGroupIds||[]).forEach((function(e){t.push({recordId:e})})),t}_areUrlParamsValid(e){return e&&("nv"===e.isdtp||"vw"===e.isdtp)}_closeSubTab(){if(sforce&&sforce.console)try{sforce.console.getEnclosingTabId((e=>{sforce.console.closeTab(e.id)}))}catch(e){}}_reloadEditor(){(0,L.bv)(this).destampGroups(),(0,L.bv)(this).md=void 0,this._clearAppliedUbpChanges(),(0,Ne.m)(this,(function(){let e=this.editorModel.data.settings.largeQuoteThreshold;(null==e||this.editorModel.quoteModel.quoteVO.lineItems.length<=e)&&((0,L.bv)(this).rawData=this.quoteEditorModelResponse,this.quoteEditorModelResponse.guidedMessages&&this.quoteEditorModelResponse.guidedMessages.length>0&&((0,L.bv)(this).$.productAlertModal.displayContinueButton=!1,(0,L.bv)(this).handleProductRuleAlertModal("quickSaveService",this.quoteEditorModelResponse))),(0,Ne.m)(this,(function(){this.showSpinner=!1,(0,r.rC)(r.sV.TOGGLE_QUICKSAVE,{enable:!0})}))}))}_handleToggleGroupResponse(){(0,L.bv)(this).set("editorModel.quoteModel.quoteVO",this.toggleGroupResponse),(0,L.bv)(this).shadowRoot.querySelector("#quoteTabs")&&(0,L.bv)(this).shadowRoot.querySelector("#quoteTabs").destroyTabs();let e=this.editorModel.quoteModel,t=e.quoteVO.lineItemGroups;if(e.grouped){(0,L.bv)(this).set("editorModel.quoteModel.grouped",!1),(0,L.bv)(this).rightSideButton=!1,(0,r.rC)(r.sV.CLOSE_GROUP_PANEL);for(let e=0;e<(0,L.bv)(this).groupModels.length;e++)(0,L.bv)(this).set("groupModels."+e+".groupVO",{})}else"Solution Group"===this.eventDetail.customAction.type&&this._extendSolutionGroupRecord(t[0].record),this.set("editorModel.quoteModel.grouped",!0),this.set("editorModel.quoteModel.quoteVO.lineItemGroups",e.quoteVO.lineItemGroups);this._updateQuote(e.quoteVO),(0,L.bv)(this).viewport.isMobile()&&(0,L.bv)(this).buildQuoteTabs(),(0,L.bv)(this).quoteHasNoLines()}_handlePopupResponse(){switch(this.popupResponse.action){case"save":this.onSave();break;case"quicksave":this.onQuickSave();break;case"reload":this._reload()}}_reload(){window.location.reload()}_handlePopup(e,t){let i=this.$.popup;i.url=e,i.messenger=new Qr(this.editorModel,t),i.open()}_parseURL(e,t,i){return e.replace(/{!(.*?)}/g,function(e,o){let r,n=o.split("."),s=n[0];s==this.app.org.prefix+"__Quote__c"||s==this.app.org.prefix+"__Quote__r"||"Quote__c"==s||"Quote__r"==s?(r=i.quoteVO.record,n.shift()):s===this.app.org.prefix+"__Group__c"||s===this.app.org.prefix+"__Group__r"||"Group__c"==s||"Group__r"==s?(r=i.groupsByKey[this.model.parentGroupKey].groupVO.record,n.shift()):r=t.record;for(let e=0;e<n.length;e++){if(e===n.length-1)return r[n[e]];r=r[n[e]]}}.bind(this))}_navigateToURL(e,t){this._isLightningExperience()?o.B.user.inCommunity?this._navigateInLightningCommunity(e,t):sforce.one.navigateToURL(e,!!t):this._navigateByWindowLocation(e)}_navigateInLightningCommunity(e,t){if(e)if(e.startsWith("http"))sforce.one.navigateToURL(e,!!t);else{let i=e;i.startsWith("/")||(i="/"+i),i=this.editorModel.communityPrefix+i,sforce.one.navigateToURL(i,!!t)}}_navigateByWindowLocation(e){window.location.href=e}_isLightningExperience(){return"undefined"!=typeof sforce&&sforce&&!!sforce.one}onFlagCalculate(e,t,i){(0,L.bv)(this).errors=null,this._usesClientCalculator()?((0,L.bv)(this).calculateGetCacheArray=[],this._jsqcCalculate(e).then(function(e){return t||e.updateQuoteRequired?(this.data.quote.calculationRequired=!1,void this._updateQuote(e.value)):this.data.quote.calculationRequired?(this.data.quote.calculationRequired=!1,e.value.lineSortField&&e.value.lineSortField!=this.data.developerPrefix+"Number__c"&&(e.value.lineItems=new Gr(this.data.developerPrefix).sortLineItems(e.value.lineItems,e.value.lineSortField)),void(0,L.bv)(this)._createEditorModel((0,L.bv)(this).data,(0,L.bv)(this).md)):(this.updateUIAfterCalculate(e.value),void("function"==typeof i&&i(e.value)))}.bind(this),function(e){"function"==typeof i&&i(),void 0===this.editorModel?(this.$.alertModal.displayContinueButton=!1,this.$.alertModal.cancelCB=function(){location.reload()}.bind(this),this.$.alertModal.alerts=[e.message]):(0,L.bv)(this).error=e}.bind(this))):(this.$.calculateService.model=void 0,this.$.calculateService.background=!1===e,this._executeServiceAction("calculateService"),"function"==typeof i&&i())}onSave(){this.isSaveProcessing?console.log("A save request is already processing, ignoring this subsequent request"):(this.isSaveProcessing=!0,this.showSpinner=!0,this.$.saveService.background=!0,this._save("saveService"))}onQuickSave(){if(this.$.quickSaveService.uid=this.editorModel.quoteModel.quoteVO.record.Id.substring(0,15),this.showSpinner=!0,this.$.quickSaveService.background=!0,(0,L.bv)(this).$.sbLineEditorRead.clearCache(),this.editorModel.largeQuoteExperienceEnabled){let e=this.editorModel.quoteModel.lineGroups;for(let t=0,i=e.length;t<i;t++)if(e[t].groupKey==(0,L.bv)(this).selectedGroupKey){(0,L.bv)(this).returnGroupKeyAfterQuickSave=t+2;break}}else(0,L.bv)(this).returnGroupKeyAfterQuickSave=null;this._save("quickSaveService"),(0,r.rC)(r.sV.QUOTE_SAVED)}onCancel(){this.showSpinner=!0,this.navigateToReturnUrl()}onAddProducts(){this._navigateToLookup("product")}onAddFavorites(){this._navigateToLookup("favorite")}onDeleteLines(){if(this._usesClientCalculator()){let e=new Set;if(this._retrieveKeysOfSelected().forEach((t=>{e.add(t)})),this._deleteLines(e,this.editorModel.quoteModel.quoteVO,!0),(0,L.bv)(this).renumber(),this.onFlagCalculate(!0,!1),(0,L.bv)(this).quoteHasNoLines(),this.editorModel.largeQuoteExperienceEnabled||this.editorModel.deviceContext.isMobile){this.editorModel.deviceContext.isMobile&&(0,L.bv)(this).buildQuoteTabs();for(let e=0,t=this.editorModel.quoteModel.lineGroups.length;e<t;e++)(0,r.rC)(r.sV.RENDER_NEW_TAB,{groupKey:this.editorModel.quoteModel.lineGroups[e].groupKey})}}else this._executeServiceAction("onDeleteLine",{keys:this._retrieveKeysOfSelected()})}onDeleteLine(){if(this._usesClientCalculator()){let e=new Set;e.add(this.eventDetail.model.serviceModel.keys[0]),this._deleteLines(e,this.editorModel.quoteModel.quoteVO,!0),(0,L.bv)(this).renumber(),this.onFlagCalculate(!0,!1),(0,L.bv)(this).quoteHasNoLines(),this.editorModel.deviceContext.isMobile?((0,L.bv)(this).buildQuoteTabs(),(0,r.rC)(r.sV.RENDER_NEW_TAB,{groupKey:this.eventDetail.model.groupModel.groupKey})):this.editorModel.largeQuoteExperienceEnabled&&(0,r.rC)(r.sV.RENDER_NEW_TAB,{groupKey:(0,L.bv)(this).selectedGroupKey})}else this._executeServiceAction("onDeleteLine",{keys:this.eventDetail.model.serviceModel.keys})}onAddGroup(){this._resetOnActionSignal(),this.editorModel.quoteModel.grouped?(this._addGroup(),this.onFlagCalculate(!0,!0)):this._groupQuote()}onUngroup(){this._resetOnActionSignal(),this._ungroupQuote()}_groupQuote(){let e=this.editorModel.quoteModel,t=e.quoteVO;if(t.record[this.data.developerPrefix+"LineItemsGrouped__c"]=!0,0===t.lineItemGroups.length){let i=this.editorModel.data.customLabels.lbl_default_group_name;if(t.record[this.data.developerPrefix+"DefaultGroupName__c"]){const e=t.record[this.data.developerPrefix+"DefaultGroupName__c"];e&&(i=e)}let o=this.editorModel.constants,r=this._createGroupRecord(e);r.Name=i,r[o.NUMBER_FIELD]=1,r=JSON.parse(JSON.stringify(r)),"Solution Group"===this.eventDetail.customAction.type&&this._extendSolutionGroupRecord(r),e.lineGroups[0].groupVO={key:++e.quoteVO.nextGroupKey,record:r,multiSegmentColumns:{},localizedMultiSegmentColumns:{}},sb.common.core.AppContext.org.isMultiCurrencyOrg&&(e.lineGroups[0].groupVO.CurrencyIsoCode=t.record.CurrencyIsoCode),e.grouped=!0,t.lineItemGroups.push(e.lineGroups[0].groupVO),e.groupsByKey[e.lineGroups[0].groupVO.key]=e.lineGroups[0],delete e.groupsByKey.null;let n=e.indexByGroupKey;n[e.lineGroups[0].groupVO.key]={index:Object.keys(n).length,indexByLineKey:{},indexBySegmentKey:{}},t.lineItems.forEach((function(t){t.parentGroupKey=e.lineGroups[0].groupVO.key})),this.onFlagCalculate(!0,!0),this.editorModel.largeQuoteExperienceEnabled&&(0,L.bv)(this).set("selectedGroupKey",e.lineGroups[0].groupVO.key)}}_ungroupQuote(){let e=this.editorModel.quoteModel;e.indexByGroupKey.null={index:0,indexByLineKey:{},indexBySegmentKey:{}},e.grouped=!1;let t=e.quoteVO,i=this.data.developerPrefix,o=[];0!==t.lineItemGroups.length&&(t.lineItemGroups.forEach((e=>{e.record.Id&&-1===o.indexOf(e.record.Id)&&o.push(e.record.Id)})),t.lineItemGroups=[],t.deletedGroupIds=o,t.lineItems.forEach((function(e){e.parentGroupKey=null,e.record[i+"Group__c"]=null}))),t.record[i+"LineItemsGrouped__c"]=!1,this.onFlagCalculate(!0,!0),(0,L.bv)(this).rightSideButton=!1,(0,r.rC)(r.sV.CLOSE_GROUP_PANEL),this.editorModel.largeQuoteExperienceEnabled&&((0,L.bv)(this).set("groupModels",[]),(0,L.bv)(this).set("selectedGroupKey",null))}onResegmentLine(){let e=this.editorModel.data.settings.largeQuoteThreshold,t=this.editorModel.data.customLabels.msg_large_quote_sent_without_lines;if(null!=e&&e<this.editorModel.quoteModel.quoteVO.lineItems.length){let i=(e,t)=>{let i=t.keys[0],o=[],r=e.lineItems.length;for(let t=0;t<r;t++){let r=e.lineItems[t];if(r.key==i){o.push(r);break}}return o},o=this.eventDetail.model.lineVO.parentGroupKey,r=this.editorModel.quoteModel.quoteVO,n=new Hr.M(r).getSegmentTemplatesByDimensionTypeForGroupKey(o);r.segmentTemplatesByDimensionTypeByGroupKey={},r.segmentTemplatesByDimensionTypeByGroupKey[(o||-1)+""]=n;let s=t.replace("{0}",r.record.Id).replace("{1}",e);console.log(s),this._executeServiceAction("onResegmentLine",null,i)}else this._executeServiceAction("onResegmentLine")}_handleResegmentResponse(){delete this.resegmentResponse.segmentTemplatesByDimensionTypeByGroupKey;(0,L.bv)(this).updateQuote(this.resegmentResponse,((e,t)=>{let i,o=e.lineItems.length,r=this.editorModel.constants;for(let t=0;t<o;t++){let o=e.lineItems[t];if(1==o.record[r.SEGMENT_INDEX_FIELD]){i=o.key;break}}let n=[];return t.lineItems.forEach((e=>{e.key!==i&&n.push(e)})),n=n.concat(e.lineItems),e.lineItems=n,e}))}onDesegmentLine(){let e,t=this.editorModel.constants,i=(this.eventDetail&&this.eventDetail.model?this.eventDetail.model.serviceModel:null).segmentKey,o=JSON.parse(JSON.stringify(this.editorModel.quoteModel.quoteVO)),r=new Set;o.lineItems.forEach((o=>{o.record[t.SEGMENT_KEY_FIELD]===i&&(1===o.record[t.SEGMENT_INDEX_FIELD]?e=o:r.add(o.key))}));let n=this._transformLineToNonSegmentedLine(e);0!==r.size&&this._deleteLines(r,o,!1);let s=[],a=null!=n.parentItemKey;o.lineItems.forEach((e=>{e.key!=n.key&&s.push(e),a&&n.parentItemKey==e.key&&(s.push(n),a=!1)})),null==n.parentItemKey&&s.push(n),o.lineItems=s,o.calculationRequired=!0,this._updateQuote(o)}_deleteLines(e,t,i){let n=this.editorModel.constants,s=new Set,a=new Set,l=this._getAllRelatedKeys(e,i);e=new Set([...e,...l]),t.lineItems.forEach(((i,r)=>{if(e.has(i.key)){if(s.add(r),i.record.Id&&a.add(i.record.Id),o.B.isManualEditsForUBPEnabled&&i.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]){const e=`AppliedUbpChanges_${this._getLineOrProdId(i.record)}_${i.key}`;(0,R.yH)(e)}if(i.parentGroup&&(i.parentGroup.record[n.FAVORITE_ID_FIELD]=null),i.record[n.FAVORITE_ID_FIELD]&&t.favoriteIds){let e=i.record[n.FAVORITE_ID_FIELD],o=[];t.favoriteIds.forEach((t=>{t!=e&&o.push(t)})),t.favoriteIds=o}}}));let d=[];t.lineItems.forEach(function(e,t){if(s.has(t)){let t=e.parentGroupKey,i=this.editorModel.quoteModel.indexByGroupKey[e.parentGroupKey].index;if(e.record[this.editorModel.constants.SEGMENT_KEY_FIELD]){let o=e.record[this.editorModel.constants.SEGMENT_KEY_FIELD],r=this.editorModel.quoteModel.lineModelsByKey[e.key];if(r.segments&&r.segments.length>0){let e=r.dimensionType,n=this.editorModel.quoteModel.indexByGroupKey[t].indexBySegmentKey[o];r.segments=[],(0,L.bv)(this).splice(`groupModels.${i}.segmentedLinesByDimension.${e}`,n,1)}}else{let o=this.editorModel.quoteModel.indexByGroupKey[t].indexByLineKey[e.key];(0,L.bv)(this).splice(`groupModels.${i}.standardLines`,o,1)}this.editorModel.quoteModel.renumberIndexes(!0)}else a.has(e.record[n.SOURCE_FIELD])&&(e.record[n.SOURCE_FIELD]=null),d.push(e)}.bind(this)),s.size>0&&(0,r.rC)(r.sV.LINE_SPLICE_COMPLETE),t.lineItems=d,t.deletedLineIds=t.deletedLineIds||[],a.forEach((e=>{t.deletedLineIds.push(e)}))}_transformLineToNonSegmentedLine(e){let t=this.editorModel.constants;e.dimensionType=null,e.record[t.DIMENSION_ID_FIELD]=null,e.record[t.DIMENSION_FIELD]=null,e.record[t.SEGMENT_KEY_FIELD]=null,e.record[t.SEGMENT_INDEX_FIELD]=null,e.record[t.SEGMENT_LABEL_FIELD]=null,e.record[t.START_DATE_FIELD]=null,e.record[t.END_DATE_FIELD]=null;let i=e.record[t.OPTION_TYPE_FIELD];return i&&"component"===i.toLowerCase()?e.record[t.BUNDLED_QUANTITY_FIELD]=function(e){if(null!=e.actualQuantity)return e.actualQuantity;let i=e.record[t.QUANTITY_FIELD],o=e.record[t.PRIOR_QUANTITY_FIELD]||0,r=e.record[t.UPGRADED_QUANTITY]||0;return e.record[t.EXISTING_FIELD]||e.record[t.CARRYOVER_LINE_FIELD]?i-o+r:i}(e):i&&"accessory"===i.toLowerCase()&&(e.record[t.BUNDLED_QUANTITY_FIELD]=e.record[t.QUANTITY_FIELD]),e}onResetDiscounts(){this.editorModel.quoteModel.resetDiscounts(this.eventDetail.model.groupKey),P.q.shouldCalulateImmediately(P.q.constants.ADDITIONAL_DISCOUNT_FIELD,o.B.org.calculateImmediately,this.editorModel.quoteModel)&&this.onFlagCalculate(!0,!1)}updateLineOptional(){let e;this.eventDetail.model.groupKey&&(e=this.eventDetail.model.groupKey),this.editorModel.quoteModel.allOptional="optionalAllBtn"===this.eventDetail.customAction.caClass,this.editorModel.styleQuoteAndGroupActionButtons(),this.notifyPath("editorModel.quoteModel.allOptional",this.editorModel.quoteModel.allOptional),(0,r.rC)(r.sV.TOGGLE_OPTIONAL_CLICKED,{toggleOptionalBoolean:this.editorModel.quoteModel.allOptional,groupKey:e})}onUpgradeAssets(){this._navigateToLookup("asset")}onRenewSubscriptions(){this._navigateToLookup("subscription")}onAmendSubscriptions(){this._navigateToLookup("subscription")}onAddRecommendedProducts(){this._navigateToLookup("recommend")}onCloneGroup(){this.$.showSpinner=!0;let e=this.editorModel.quoteModel,t=this.eventDetail.model.serviceModel.keys[0];this._cloneGroup(e,t),delete this.eventDetail.model,this.onFlagCalculate(!0,!1)}_cloneGroup(e,t){let i=e.groupsByKey[t];if(i){this._addGroup(i.groupVO);let o=e.groupsByKey[e.quoteVO.nextGroupKey-1];if(o){let e=new Set,r=i.quoteModel.lineModelsByKey;for(let i in r)r.hasOwnProperty(i)&&(r[i].lineVO.parentItemKey||r[i].lineVO.parentGroupKey==t||e.add(r[i].lineVO.key));i.segmentedLines.forEach((t=>{let i=null;t.lineVO.parentItemKey&&(i=this._getRootPackage(r[t.lineVO.parentItemKey],r)),i&&e.has(i.lineVO.key)?this._cloneLine(i,o):t.lineVO.parentItemKey||this._cloneLine(t,o)})),i.standardLines.forEach((t=>{if(!t.lineVO.key)return;let i=null;t.lineVO.parentItemKey&&(i=this._getRootPackage(r[t.lineVO.parentItemKey],r)),i&&e.has(i.lineVO.key)?this._cloneLine(i,o):t.lineVO.parentItemKey||this._cloneLine(t,o)}))}}}_getRootPackage(e,t){return e.lineVO.parentItemKey?this._getRootPackage(t[e.lineVO.parentItemKey],t):e}onDeleteGroup(){const e=(0,L.bv)(this).i18n.l;!this.editorModel.quoteModel.isAmendmentOrChangeQuote||this.eventDetail.model.canDelete()?sb.dialog.confirm(e("msg_confirm_group_delete"),{ok:e("Ok"),cancel:e("Cancel")},(e=>{e&&this._deleteGroup()})):(0,L.bv)(this).errors=[e("msg_cannot_delete_group")]}_deleteGroup(){let e=this.eventDetail.model.serviceModel.keys[0],t=this.editorModel.quoteModel;this.eventDetail.model=void 0,null!=t.groupsByKey&&(this._removeGroup(t,e),this.onFlagCalculate(!0,!0),this._updateQuote(t.quoteVO),1==t.lineGroups.length&&(0,r.rC)(r.sV.CLOSE_GROUP_PANEL),this.editorModel.largeQuoteExperienceEnabled&&t.lineGroups[0]&&(0,r.rC)(r.sV.GROUP_DELETED,{groupKey:t.lineGroups[0].groupKey}))}_removeGroup(e,t){let i=!0,o=new Set;if(e.quoteVO.lineItems.length>0&&(e.quoteVO.lineItems.forEach((function(e){e.parentItemKey&&e.parentGroupKey==t&&o.add(e.parentItemKey)})),e.quoteVO.lineItems.forEach((function(e){e.parentGroupKey!=t&&o.has(e.key)&&(i=!1)})),i)){let i=new Set,o=[];e.quoteVO.lineItems.forEach((e=>{e.parentGroupKey!=t?o.push(e):e.record.Id&&!i.has(e.record.Id)&&i.add(e.record.Id)})),o.forEach((e=>{i.has(e.record[this.editorModel.constants.SOURCE_FIELD])&&(e.record[this.editorModel.constants.SOURCE_FIELD]=null)})),e.quoteVO.deletedLineIds=e.quoteVO.deletedLineIds.concat(...i),e.quoteVO.lineItems=o}if(i){let i=[],o=[];e.quoteVO.lineItemGroups.forEach((e=>{e.key!=t?i.push(e):e.record.Id&&-1==o.indexOf(e.record.Id)&&o.push(e.record.Id)})),e.quoteVO.lineItemGroups=i,e.quoteVO.deletedGroupIds=e.quoteVO.deletedGroupIds.concat(o);let r=[],n=-1;if(e.lineGroups.forEach(((e,i)=>{e.groupKey!=t?r.push(e):n=i})),e.lineGroups=r,delete e.groupsByKey[t],delete e.indexByGroupKey[t],n>-1){const e=(0,L.bv)(this),t=e.groupModels;t&&t.splice&&(t.splice(n,1),e.groupModels=[],(0,Ct.b)(),e.groupModels=t)}}}onReconfigureLine(){let e={lineKey:this.eventDetail.model.lineVO.key,qId:this.editorModel.quoteModel.quoteVO.record.Id,ignoreCache:!0};this.eventDetail.model.groupModel.quoteModel.grouped&&(e.groupKey=this.eventDetail.model.groupModel.groupKey),n.m.nav("#",e,["product","pc"],!1,this)}onAddToFavorites(){this._openDialog("favDialog")}onViewPricingGuidance(){this._openPricingGuidanceDialog("pricingGuidanceDialog")}onViewConsumptionSchedule(){this.dispatchEvent((0,r.uv)("toggle-ubp-editor",{lineModel:this.eventDetail.model,visible:!0}))}onRemoveFromFavorites(){const e=(0,L.bv)(this).i18n.l;"Line"===this.eventDetail.customAction.location?sb.dialog.confirm(e("msg_confirm_remove_favorite"),{ok:e("Ok"),cancel:e("Cancel")},(e=>{e&&this._executeQuotelessServiceAction("onRemoveFromFavorites")})):sb.dialog.confirm(e("msg_confirm_remove_group_from_favorites"),{ok:e("Ok"),cancel:e("Cancel")},(e=>{e&&this._executeQuotelessServiceAction("onRemoveFromFavorites")}))}_onAcceptPricingGuidance(){if(this.eventDetail&&this.eventDetail.model&&this.eventDetail.model.lineVO&&this.eventDetail.model.lineVO.record&&this.eventDetail.model.lineVO.quoteLinePricingGuidance&&this.eventDetail.model.lineVO.quoteLinePricingGuidance.record&&this.eventDetail.model.groupModel&&this.eventDetail.model.groupModel.quoteModel&&this.eventDetail.model.groupModel.quoteModel.quoteVO&&this.eventDetail.model.groupModel.quoteModel.quoteVO.lineItems){let e=this.eventDetail.model.lineVO,t=e.record,i=this.data.developerPrefix,o=e.quoteLinePricingGuidance.record[i+"Target__c"],r=!1,n=i+"Product__c",s=t[n],a=i+"Discount__c",l=i+"AdditionalDiscountAmount__c",d=this.eventDetail.model.groupModel.quoteModel.quoteVO.lineItems;for(let e=0;e<d.length;e++){let t=d[e].record;if(t[n]===s&&d[e].quoteLinePricingGuidance){t[a]===o&&null==t[l]||(t[a]=o,t[l]=null,r=!0)}}r&&this.onFlagCalculate(!0,!1);const c=this.eventDetail.model.groupModel.quoteModel.quoteVO.record.Id;(new Pe).log(c,De,JSON.stringify({pricingGuidanceAction:"Accepted",quoteLineId:t.Id}))}}_cloneToGroup(e){let t=e.detail;if(0===t.length)return;let i=this.editorModel.quoteModel,o=this.editorModel.constants,n=(0,L.bv)(this),s=i.indexByGroupKey;for(let e in this.selectedLinesByKey){let r=this.selectedLinesByKey[e];for(let e=0,o=t.length;e<o;e++){let o=i.groupsByKey[t[e].value];this._cloneLine(r,o)}let a=s[r.lineVO.parentGroupKey],l=a.index,d=r.segmented?a.indexBySegmentKey[r.lineVO.record[o.SEGMENT_KEY_FIELD]]:a.indexByLineKey[e];this._clearSelectedCheckbox(d,l,n,r.lineVO.dimensionType)}if(i.selectedLinesByKey={},this.selectedLinesByKey={},this.editorModel.largeQuoteExperienceEnabled)for(let e=0,i=t.length;e<i;e++)(0,r.rC)(r.sV.RENDER_NEW_TAB,{groupKey:t[e].value});this.onFlagCalculate(!0,!1)}_clearSelectedCheckbox(e,t,i,o){o?i.set(`groupModels.${t}.segmentedLinesByDimension.${o}.${e}.selected`,!1):i.set(`groupModels.${t}.standardLines.${e}.selected`,!1)}onCloneLine(){let e=this.eventDetail.model;if(e.selected&&this.editorModel.quoteModel.grouped){this.selectedLinesByKey=this.editorModel.quoteModel.selectedLinesByKey;let e=this.$.cloneToGroupDialog;return e.quoteModel=this.editorModel.quoteModel,void e.open()}this.showSpinner=!0;const t=()=>{this.showSpinner=!1};(0,Ne.m)(this,(()=>{if(this.editorModel.data.settings.caPlugin){let i={};i.originalLines=this._getOriginalLineKeys(e),this.callPlugin("onBeforeCloneLine",i).then((()=>{let t=this._cloneLine(e);return i.clonedLines=this._getClonedLineKeys(t),this.callPlugin("onAfterCloneLine",i)})).then((()=>{delete this.eventDetail.model,this.onFlagCalculate(!0,!1,t)}))}else this._cloneLine(e),delete this.eventDetail.model,this.onFlagCalculate(!0,!1,t)}))}callPlugin(e,t){return new Promise(((i,o)=>{if(SB&&SB.JSQC){let r=new a.m(this.app.org.prefix);this.notifier=!this.data.quote.calculationRequired&&(0,L.bv)(this).editorModel?new $r((0,L.bv)(this)):null;let n=new SB.JSQC(this.data.settings,this.data.quote,this.notifier),s=[r.getConnection(),r.getConnection()];Promise.all(s).then((r=>{n.setConnection(r[0]),n.setCustomerOnlyConnection(r[1]),n.onCallCAPlugin(e,t).then((e=>{this.updateUIAfterCalculate(e),this.showSpinner=!1,i()}),(e=>{this.showSpinner=!1;let t=e.message||e;(0,L.bv)(this).errors=[(0,L.bv)(this).i18n.l(t)],o({message:t})}))}),(e=>{this.showSpinner=!1;let t=e.message||e;(0,L.bv)(this).errors=[(0,L.bv)(this).i18n.l(t)],o({message:t})}))}else o({message:"ERROR: Could not find the Client-Side Calculator"})}))}_getOriginalLineKeys(e,t,i){if(i=i||{},e.segmented){i.segmented||(i.segmented={});let t=e.dimensionType;i.segmented[t]||(i.segmented[t]=[]);for(let o=0;o<e.segments.length;o++)i.segmented[t].push(e.segments[o].lineVO.key)}else{i.standard||(i.standard=[]),i.standard.push(e.lineVO.key);let t=this.editorModel.quoteModel.linesByParentItemKey[e.lineVO.key];if(t)for(let e=0,o=t.length;e<o;e++)i=this._getOriginalLineKeys(t[e],t[e].lineVO.key,i)}return i}_getClonedLineKeys(e){let t={standard:[]};for(let i=0;i<e.standard.length;i++)t.standard.push(e.standard[i].lineVO.key);t.segmented={};for(let i in e.segmented)if(e.segmented.hasOwnProperty(i)){t.segmented[i]||(t.segmented[i]=[]);let o=e.segmented[i].lines;for(let e=0;e<o.length;e++){let r=o[e];for(let e=0;e<r.segments.length;e++)t.segmented[i].push(r.segments[e].lineVO.key)}}return t}_cloneLine(e,t){let i=[],n={Year:{lines:[]},Quarter:{lines:[]},Month:{lines:[]},Custom:{lines:[]}},s=(0,L.bv)(this).groupModels,a=t?t.groupKey:e.lineVO.parentGroupKey,l=a?this.editorModel.quoteModel.indexByGroupKey[a].index:0;const d=(e,o)=>{let r;if(e.segmented?(r=s[l].cloneSegmentedLine(e,o,t),n[r.dimensionType].lines.push(r),n[r.dimensionType].key=e.lineVO.key):(r=s[l].cloneLine(e,o,t),i.push(r)),s[l].addToLinesByParentItemKey(r),e.bundle&&s[l].quoteModel.linesByParentItemKey[e.lineVO.key]){let t=s[l].quoteModel.linesByParentItemKey[e.lineVO.key];for(let e=0,i=t.length;e<i;e++)d(t[e],r.lineVO.key)}};return d(e),(()=>{let o=s[l].standardLines.length;if(i.length>0){let n,a,d=s[l].standardLines.length;if(t)n=d;else for(a=0;a<d;a++)if(e.lineVO.key===s[l].standardLines[a].lineVO.key){n=a+1;break}if(e.bundle)if(this.editorModel.data.settings.bundleKeptTogether)for(let t=a;t<d;t++){if(!s[l].standardLines[t].component&&s[l].standardLines[t].lineVO.key!==e.lineVO.key){n=t;break}n=d}else n=d;let c=(0,L.bv)(this);for(let e=0,t=i.length;e<t;e++){let t=i[e];c.splice(`groupModels.${l}.standardLines`,n,0,t),s[l].quoteModel.quoteVO.lineItems.push(t.lineVO),this.editorModel.quoteModel.lineModelsByKey[t.lineVO.key]=t,n++}t&&c.notifySplices(`groupModels.${l}.standardLines`,[{index:n-i.length,removed:[],addedCount:i.length,object:c.groupModels[l].standardLines,type:"splice"}]),this.editorModel.deviceContext.isMobile&&0===o&&(0,r.rC)(r.sV.RENDER_NEW_TAB,{groupKey:t.groupKey})}})(),(()=>{for(let e in n){if(!(n[e].lines.length>0))continue;let i=0,o=n[e].lines,a=s[l].segmentedLinesByDimension[e],d=a.length,c=n[e].key;if(t)i=d;else for(let e=0,t=a.length;e<t;e++)if(a[e].lineVO.key===c){i=e+1;break}for(let t=0,r=o.length;t<r;t++){let r=o[t];(0,L.bv)(this).splice(`groupModels.${l}.segmentedLinesByDimension.${e}`,i+t,0,r),(0,L.bv)(this).push(`groupModels.${l}.segmentedLines`,r);for(let e=0;e<r.segments.length;e++)s[l].quoteModel.quoteVO.lineItems.push(r.segments[e].lineVO),this.editorModel.quoteModel.lineModelsByKey[r.segments[e].lineVO.key]=r.segments[e];r.segments.length>0&&(this.editorModel.quoteModel.lineModelsByKey[r.segments[0].lineVO.key].segments=r.segments,this.editorModel.quoteModel.lineModelsByKey[r.segments[0].lineVO.key].dimensionType=r.dimensionType)}0===d&&(0,r.rC)(r.sV.RENDER_NEW_TAB,{groupKey:t.groupKey})}})(),(()=>{if(o.B.isManualEditsForUBPEnabled&&e.lineVO.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]){const t=`AppliedUbpChanges_${this._getLineOrProdId(e.lineVO.record)}_${e.lineVO.key}`,o=(0,R.Jt)(t,["rates"]);if(o)for(let e of i){const t=`AppliedUbpChanges_${this._getLineOrProdId(e.lineVO.record)}_${e.lineVO.key}`;(0,R.yJ)(t,["rates"],L.J0.deepClone(o))}}})(),(0,L.bv)(this).renumber(),this.editorModel.quoteModel.renumberIndexes(!0),{standard:i,segmented:n}}_usesClientCalculator(){return this.data.settings.usesClientCalculator}_jsqcCalculate(e){return this.showSpinner=!(!e&&null!=e)||this.showSpinner,new Promise(function(t,i){if(SB&&SB.JSQC){let o={},r=this.data.settings,n=new a.m(this.app.org.prefix);this.notifier=!this.data.quote.calculationRequired&&(0,L.bv)(this).editorModel?new $r((0,L.bv)(this)):null,r.displayedLookupMap=this.getDisplayedLookupNames(this.data);(this.editorModel?new Wr(this.data,this.editorModel.quoteModel.groupsByKey):new Wr(this.data,null)).updateSegments()&&!this.data.quote.calculationRequired&&(o.updateQuoteRequired=!0,this.notifier=null);let s=new SB.JSQC(r,this.data.quote,this.notifier),l=[n.getConnection(),n.getConnection()];Promise.all(l).then(function(r){s.setConnection(r[0]),s.setCustomerOnlyConnection(r[1]),s.initServices(r[0]),s.onCalc().then(function(i){o.value=i,this.showSpinner=!e&&null!=e&&this.showSpinner,t(o)}.bind(this),function(t){this.showSpinner=!e&&null!=e&&this.showSpinner,i({message:t.message||t})}.bind(this))}.bind(this),function(e){i({message:e.message||e})}.bind(this))}else i({message:"ERROR: Could not find the Client-Side Calculator"})}.bind(this))}getDisplayedLookupNames(e){let t={line:[],group:[],quote:[]},i=e.settings.lineLookups?Object.keys(e.settings.lineLookups):[],o=e.settings.groupLookups?Object.keys(e.settings.groupLookups):[],r=e.settings.quoteLookups?Object.keys(e.settings.quoteLookups):[];return i.forEach((function(e){t.line.push(Tt.u.getRelationshipField(e))})),o.forEach((function(e){t.group.push(Tt.u.getRelationshipField(e))})),r.forEach((function(e){t.quote.push(Tt.u.getRelationshipField(e))})),t}_onJobChecker(e){e.jobType="QuoteCalculator",this.$.jobchecker.useSpinner=!this.$.calculateService.background,this.$.jobchecker.data=e}_jobCompleted(){if(null!=this.$.jobchecker.result.payload){let e=JSON.parse(this.$.jobchecker.result.payload);if(e.backgroundCalculatePending=!1,this.saveServiceAfterBackgroundCalc)return this.editorModel.createQuoteModel(e),this._executeServiceAction(this.saveServiceAfterBackgroundCalc),void(this.saveServiceAfterBackgroundCalc=null);this._getDomHost().updateQuote(e)}}_save(e){this.editorModel.data.settings.usesClientCalculator?this._jsqcCalculate(!1).then(function(t){this._mergeUbpEdits(this.editorModel.quoteModel.quoteVO);const i=new zr(this.editorModel.quoteModel.quoteVO,this.editorModel.constants).validateAssetQuantityChanges();0!==i.length?((0,L.bv)(this).error={validations:i},this.isSaveProcessing=!1):this._executeServiceAction(e)}.bind(this),function(e){(0,L.bv)(this).error=e,this.isSaveProcessing=!1}.bind(this)):this.editorModel.data.settings.usesBackgroundCalculator?(this.saveServiceAfterBackgroundCalc=e,this.onFlagCalculate(!1)):this._executeServiceAction(e)}_mergeUbpEdits(e){if(o.B.isManualEditsForUBPEnabled){const t=Object.keys(this.editorModel.constants.UBP_FIELDS.ConsumptionRateFields).map((e=>({fieldPath:this.editorModel.constants.UBP_FIELDS.ConsumptionRateFields[e]})));let i=!1;for(let o of e.lineItems)if(o.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]){const e=`AppliedUbpChanges_${this._getLineOrProdId(o.record)}_${o.key}`,r=(0,R.Jt)(e,["rates"]);r&&Object.keys(r).forEach((e=>{o.ubpChanges||(o.ubpChanges={rates:{}}),o.ubpChanges.rates[e]||(o.ubpChanges.rates[e]={Id:e,attributes:{type:`${this.editorModel.constants.prefix}QuoteLineConsumptionRate__c`}}),o.ubpChanges.rates[e]=Ie(o.ubpChanges.rates[e]||{},r[e],t),i=!0}))}i&&(e.record[this.editorModel.constants.CONSUMPTION_RATE_OVERRIDE]=!0)}for(let t of e.lineItems)t.record[this.editorModel.constants.HAS_CONSUMPTION_SCHEDULE]&&t.ubpChanges&&t.ubpChanges.rates&&Object.keys(t.ubpChanges.rates).forEach((e=>{(0,R.yJ)(e,["record"],(0,L.Fr)((0,R.Jt)(e,["record"])||{},t.ubpChanges.rates[e]))}))}_clearAppliedUbpChanges(){o.B.isManualEditsForUBPEnabled&&this.quoteEditorModelResponse&&this.quoteEditorModelResponse.quote&&this.quoteEditorModelResponse.quote.lineItems&&this.quoteEditorModelResponse.quote.lineItems.forEach((e=>{const t=`AppliedUbpChanges_${this._getLineOrProdId(e.record)}_${e.key}`;(0,R.yH)(t)}))}_navigateToLookup(e){this._resetOnActionSignal(),(0,L.bv)(this).errors=null;let t={qId:this.editorModel.quoteModel.quoteVO.record.Id,aId:this.eventDetail.customAction.customActionId};this.eventDetail.model&&this.eventDetail.model.groupKey&&(t.groupKey=this.eventDetail.model.groupKey),n.m.nav("#",t,[e,"lookup"],!1,this)}_retrieveKeysOfSelected(){let e=[],t=this.editorModel.quoteModel.lineGroups;for(let i=0,o=t.length;i<o;i++){let o=t[i].standardLines;for(let r=0,n=t[i].standardLines.length;r<n;r++)o[r].selected&&o[r].removable&&e.push(o[r].lineVO.key);let r=t[i].segmentedLines;for(let t=0,i=r.length;t<i;t++)if(r[t].selected&&r[t].removable){let i=r[t].segments;for(let t=0,o=i.length;t<o;t++)e.push(i[t].lineVO.key)}}return e}_getAllRelatedKeys(e,t){let i=new Set;return e.forEach((e=>{if(!e)return;let o=this.editorModel.quoteModel.lineModelsByKey[e],r=this.editorModel.quoteModel.linesByParentItemKey[e];if(r){let e=new Set;for(let t=0;t<r.length;t++)e.add(r[t].lineVO.key);let o=this._getAllRelatedKeys(e,t);i=new Set([...i,...e,...o])}else t&&o.segmented&&o.segments&&o.segments.forEach((e=>{i.add(e.lineVO.key)}))})),i}_addGroup(e){let t=this.editorModel.constants,i=this.editorModel.quoteModel,o=!1,n=!1;if(e){let t=this.editorModel.quoteModel.groupsByKey[e.key];o=t.standardSubscriptionScopeEditable,n=t.segmentedSubscriptionScopeEditable}else{let t=this._createGroupRecord(i);t.Name=`Group${i.lineGroups.length+1}`,e={record:t,multiSegmentColumns:{},localizedMultiSegmentColumns:{}}}"Solution Group"===this.eventDetail.customAction.type&&this._extendSolutionGroupRecord(e.record),(e=JSON.parse(JSON.stringify(e))).key=i.quoteVO.nextGroupKey,i.quoteVO.nextGroupKey++,e.record.Id=void 0;let s=new $(e,i);s.standardSubscriptionScopeEditable=o,s.segmentedSubscriptionScopeEditable=n,i.quoteVO.lineItemGroups.push(e),i.groupsByKey[s.groupVO.key]=s;let a=i.indexByGroupKey;a[s.groupVO.key]={index:Object.keys(a).length,indexByLineKey:{},indexBySegmentKey:{}},(0,L.bv)(this).push("groupModels",s);for(let e=0;e<i.quoteVO.lineItemGroups.length;e++)i.quoteVO.lineItemGroups[e].record[t.NUMBER_FIELD]=e+1;(0,L.bv)(this).rightSideButton=i.lineGroups.length>1&&this.editorModel.quoteModel.grouped,(0,L.bv)(this).notifyPath("editorModel.quoteModel.lineGroups.length",this.editorModel.quoteModel.lineGroups.length),i.lineGroups.length==t.PANEL_ADDED_INDEX?(0,r.rC)(r.sV.GROUP_PANEL_CREATED,{groupKey:s.groupVO.key}):(0,r.rC)(r.sV.BUILD_LAYOUT,{group:s}),this.editorModel.largeQuoteExperienceEnabled&&(0,r.rC)(r.sV.GROUP_ADDED,{groupKey:s.groupVO.key}),(0,L.bv)(this).quoteHasNoLines()}_createGroupRecord(e){let t={},i=this.editorModel.constants;return t[i.QUOTE_PROCESS_FIELD]=this.editorModel.data.defaultQuoteProcessId,t[i.ACCOUNT_FIELD]=e.quoteVO.record[i.ACCOUNT_FIELD],t[i.ACCOUNT_ID_FIELD]=e.quoteVO.record[i.ACCOUNT_ID_FIELD],t.attributes={type:`${this.prefix}QuoteLineGroup__c`},t}_extendSolutionGroupRecord(e){e.Name=this.eventDetail.customAction.record.Name,e[this.editorModel.constants.DESCRIPTION_FIELD]=this.eventDetail.customAction.record[this.editorModel.constants.DESCRIPTION_FIELD],e[this.editorModel.constants.SOLUTION_GROUP_ID_FIELD]=this.eventDetail.customAction.record.Id}_openDialog(e){let t=this.$[e];if("Line"===this.eventDetail.customAction.location)t.favoritedLine=this.eventDetail.model.serviceModel.keys;else{let e=[].concat(this.eventDetail.model.standardLines).concat(this.eventDetail.model.segmentedLines);if(0===e.length)return void((0,L.bv)(this).errors=[o.B.properties.i18n.value().l("Please select a group with one or more lines to favorite.")]);t.favoritedGroup=this.eventDetail.model.groupKey,t.groupLines=e}t.$.dialog.toggle()}_openPricingGuidanceDialog(e){let t=this.$[e],i=this.eventDetail.model.lineVO,o=this.editorModel.md.fieldLabelsMap[this.editorModel.constants.QUOTE_LINE],r=[],n=this.data.lineFieldNames,s=!1,a=!1,l={},d={},c=!1,u=[],h=this.eventDetail.model;if(i.quoteLinePricingGuidance&&i.quoteLinePricingGuidance.record){t.pricingGuidanceRecord=i.quoteLinePricingGuidance.record;let e={type:"percent",scale:2};if(null!=i.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_TARGET]){let t=i.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_TARGET],o=ae.Z.formatFieldData(h,t,e,i.record);this.pushPricingGuidanceValueToArray(r,"Target",o),s=!0,a=!0}if(null!=i.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_NORM]){let t=i.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_NORM],o=ae.Z.formatFieldData(h,t,e,i.record);this.pushPricingGuidanceValueToArray(r,"Norm",o),a=!0}if(null!=i.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_FLOOR]){let t=i.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_FLOOR],o=ae.Z.formatFieldData(h,t,e,i.record);this.pushPricingGuidanceValueToArray(r,"Floor",o),a=!0}if(null!=i.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_EXPLANATION]){let e=i.quoteLinePricingGuidance.record[this.editorModel.constants.PRICING_GUIDANCE_EXPLANATION];this.pushPricingGuidanceValueToArray(r,"Explanation",e),a=!0}t.pricingGuidanceArray=r}a||(l={errorMessage:[(0,L.bv)(this).i18n.l("PricingGuidanceNotAvailable")]});let p=de.prepareSingleLineData(h,0,n,this.editorModel.md.fieldsMap[this.editorModel.data.quoteLineObjectName]);if(n)for(let e of Object.values(n))u.push({key:o[e],value:p[e]}),d[e]=o[e];this.editorModel.deviceContext&&this.editorModel.deviceContext.isMobile&&(c=!0),t.pricingGuidanceRecord=l,t.isPricingGuidanceAvailable=a,t.lineVO=i,t.isPricingRecommendationAvailable=s,t.isMobileDevice=c,t.quoteLineObjectArray=u,t.$.dialog.toggle();let f=i.record,b=this.data.developerPrefix,g=b+"IsViewed__c",m=b+"Product__c",y=f[m],v=this.eventDetail.model.groupModel.quoteVO.lineItems;for(let e=0;e<v.length;e++){if(v[e].record[m]==y&&v[e].quoteLinePricingGuidance){v[e].quoteLinePricingGuidance.record[g]=!0}}const _=this.eventDetail.model.groupModel.quoteModel.quoteVO.record.Id;(new Pe).log(_,De,JSON.stringify({pricingGuidanceAction:"Viewed",quoteLineId:f.Id}))}pushPricingGuidanceValueToArray(e,t,i){let o=(0,L.bv)(this).i18n.l(t);e.push({name:t,value:i,displayName:o})}get prefix(){if(void 0!==this.app)return this.app.org.prefix?this.app.org.prefix+"__":""}sortLines(e,t){let i=e.lineSortField;return!(!e.lineSortField||i==this.editorModel.constants.NUMBER_FIELD)&&((0,r.rC)(r.sV.SORT_LINES_REQUIRED,{lineSortField:i,notify:t}),!0)}_resetOnActionSignal(){(0,r.rC)(r.sV.RESET_ON_ACTION)}_getDomHost(){return(0,L.bv)(this)}_getViewport(){return j.L.getViewport()}_getLineOrProdId(e){return e.Id||e[this.editorModel.constants.SOURCE_FIELD]||e[this.editorModel.constants.PRODUCT]}static get template(){return Ve.qy`
			<!-- Quote Actions -->
			<sb-service id="calculateService" saver="QuoteLineEditorServiceProvider.EditorCalculator" response={{calculateResponse}} error="{{error}}"></sb-service>
			<sb-service id="saveService" saver="QuoteLineEditorServiceProvider.EditorSaver" response={{saverResponse}} error="{{error}}"></sb-service>
			<sb-service id="quickSaveService" saver="QuoteLineEditorServiceProvider.EditorQuickSaver" cache="LineEditor" response={{quoteEditorModelResponse}} error="{{error}}"></sb-service>
			<sb-service id="onAddGroup" saver="QuoteLineEditorServiceProvider.ToggleGroupSaver" response={{toggleGroupResponse}} error="{{error}}"></sb-service>
			<sb-service id="onUngroup" saver="QuoteLineEditorServiceProvider.ToggleGroupSaver" response={{toggleGroupResponse}} error="{{error}}"></sb-service>
			<sb-service id="productRuleValidator" loader="ProductRuleServiceProvider.ProductValidationLoader" error="{{error}}" ignore-cache></sb-service>

			<!-- Group Actions -->
			<sb-service id="onDeleteGroup" saver="QuoteLineEditorServiceProvider.EditorGroupDeleter" response={{quoteVOResponse}} error="{{error}}"></sb-service>
			<sb-service id="onCloneGroup" saver="QuoteLineEditorServiceProvider.EditorGroupCloner" response={{quoteVOResponse}} error="{{error}}"></sb-service>

			<!-- Line Actions -->
			<sb-service id="onDeleteLine" saver="QuoteLineEditorServiceProvider.EditorDeleteLines" response={{quoteVOResponse}} error="{{error}}"></sb-service>
			<sb-service id="onDesegmentLine" saver="QuoteLineEditorServiceProvider.EditorSegmentLine" response={{quoteVOResponse}} error="{{error}}"></sb-service>
			<sb-service id="onResegmentLine" saver="QuoteLineEditorServiceProvider.EditorSegmentLine" response={{resegmentResponse}} error="{{error}}"></sb-service>
			<sb-service id="favoriteLinesService" saver="QuoteLineEditorServiceProvider.EditorFavoriteLines" response={{favoriteResponse}} error="{{error}}"></sb-service>
			<sb-service id="onRemoveFromFavorites" saver="QuoteLineEditorServiceProvider.EditorRemoveFavorite" response={{unfavoriteResponse}} error="{{error}}"></sb-service>

			<!-- Load LineEditorCalculate -->
			<sb-job-checker id="jobchecker" error="{{error}}"></sb-job-checker>

			<!--Set and get record job status-->
			<sb-service id="setJobStatus" saver="JobCheckerServiceProvider.SetJobsStatus" error="{{error}}"></sb-service>
			<sb-service id="getRecordJobStatus" loader="JobCheckerServiceProvider.GetRecordJobStatus" error="{{error}}" uid="AllJobs"></sb-service>

			<!--Dialogs-->
			<span device>
			<sb-favorite-dialog id="favDialog"></sb-favorite-dialog>
			<sb-pricing-guidance-dialog id="pricingGuidanceDialog"></sb-pricing-guidance-dialog>
			<sb-discount-schedule-dialog editor-model="{{editorModel}}" id="dsDialog"></sb-discount-schedule-dialog>
			<sb-clone-to-group-dialog id="cloneToGroupDialog" is-mobile="[[editorModel.deviceContext.isMobile]]"></sb-clone-to-group-dialog>
			<sb-popup id="popup" response-message="{{popupResponse}}"></sb-popup>
			<sb-product-alert id="alertModal"></sb-product-alert>
			</span>

			<sb-loading-spinner show="[[showSpinner]]"></sb-loading-spinner>
		`}}customElements.define(gn.is,gn);var mn=i(801),yn=i(6640);class vn extends F{constructor(e,t){super(),this.metadata=e,this.options=t||{}}generateRow(e){let t="",i=this.getColumnWidths(),o=this.getColumnWidthUnit();for(let r=0;r<e.length;r++)t+=`<div tabindex="0" ${this.getAttributes(e[r])}`,i&&i[e[r]]&&(t+="px"===o?` style="min-width:${i[e[r]]}px;max-width:${i[e[r]]}px"`:` style="width:${i[e[r]]}${o}"`),t+=` index="${r}" field="${e[r]}" >`,t+='<div class="r">',t+=this.generateInnerFieldTemplate(e[r],this.metadata[r]),t+="</div>",t+="</div>";return t}getColumnWidths(){return this.options.columnWidths||{}}getColumnWidthUnit(){return this.options.columnWidthUnit||"px"}getAttributes(e){return(this.options.attributes||"").replace(/\$field/g,e)}}var _n=i(35),wn=i(2521);function xn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Cn(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?xn(Object(i),!0).forEach((function(t){Sn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):xn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Sn(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const On=(e,t,i)=>{const o=[],r={scheduleId:e,rateId:t.Id};return null==t[i.Price]&&o.push(Cn(Cn({},r),{},{errorMsg:Dn.msg_missing_rate_field})),null==t[i.ProcessingOrder]&&o.push(Cn(Cn({},r),{},{errorMsg:Dn.msg_missing_rate_field})),null==t[i.LowerBound]&&o.push(Cn(Cn({},r),{},{errorMsg:Dn.msg_missing_rate_field})),o},kn=(e,t,i)=>{if(null!=t[i.Price]){let o="";if("number"!=typeof t[i.Price])o=Dn.msg_rate_price_not_a_number;else{parseInt(t[i.Price],10)<0&&(o=Dn.msg_rate_price_is_negative)}if(""!==o)return[{scheduleId:e,rateId:t.Id,ratePrice:t[i.Price],errorMsg:o}]}return[]},En=e=>{const t=parseInt(e,10);return t.toString()===e.toString()&&t>=0},In=(e,t,i)=>{const o=t[i.LowerBound],r=t[i.UpperBound];let n="";return null!=o&&!En(o)||null!=r&&!En(r)?n=Dn.msg_bound_fields_must_be_positive:null!=o&&null!=r&&parseInt(o,10)>=parseInt(r,10)&&(n=Dn.msg_lower_bound_greater_than_upper_bound),""!==n?[{scheduleId:e,rateId:t.Id,lowerBound:o,upperBound:r,errorMsg:n}]:[]},Tn=(e,t,i,o)=>{if(null!=i&&null!=t[o.ProcessingOrder]&&null!=i[o.ProcessingOrder]){const r=parseInt(t[o.ProcessingOrder],10);if(r===parseInt(i[o.ProcessingOrder],10))return[{scheduleId:e,processingOrder:r,errorMsg:Dn.msg_duplicate_rate_processing_order}]}return[]},Mn=(e,t,i,o)=>i||null!=t[o.UpperBound]?[]:[{scheduleId:e,rateId:t.Id,errorMsg:Dn.msg_lesser_rate_has_null_upper_bound}],Bn=(e,t,i,o)=>{if(null!==i&&null!=t[o.UpperBound]&&null!=i[o.LowerBound]){const r=parseInt(t[o.UpperBound],10),n=parseInt(i[o.LowerBound],10)-r;if(n>0)return[{scheduleId:e,errorMsg:Dn.msg_gaps_between_rates_bounds}];if(n<0)return[{scheduleId:e,errorMsg:Dn.msg_overlap_between_rates_bounds}]}return[]};let Dn;i(1771);var Pn=i(7371);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,Ge.b)({_template:je.q`
    <style>
      :host {
        display: block;
      }
    </style>

    <slot></slot>
`,is:"iron-scroll-threshold",properties:{upperThreshold:{type:Number,value:100},lowerThreshold:{type:Number,value:100},upperTriggered:{type:Boolean,value:!1,notify:!0,readOnly:!0},lowerTriggered:{type:Boolean,value:!1,notify:!0,readOnly:!0},horizontal:{type:Boolean,value:!1}},behaviors:[Pn.x],observers:["_setOverflow(scrollTarget)","_initCheck(horizontal, isAttached)"],get _defaultScrollTarget(){return this},_setOverflow:function(e){this.style.overflow=e===this?"auto":"",this.style.webkitOverflowScrolling=e===this?"touch":""},_scrollHandler:function(){this.isDebouncerActive("_checkTheshold")||this.debounce("_checkTheshold",(function(){this.checkScrollThresholds()}),200)},_initCheck:function(e,t){t&&this.debounce("_init",(function(){this.clearTriggers(),this.checkScrollThresholds()}))},checkScrollThresholds:function(){if(!(!this.scrollTarget||this.lowerTriggered&&this.upperTriggered)){var e=this.horizontal?this._scrollLeft:this._scrollTop,t=this.horizontal?this.scrollTarget.scrollWidth-this._scrollTargetWidth-this._scrollLeft:this.scrollTarget.scrollHeight-this._scrollTargetHeight-this._scrollTop;e<=this.upperThreshold&&!this.upperTriggered&&(this._setUpperTriggered(!0),this.fire("upper-threshold")),t<=this.lowerThreshold&&!this.lowerTriggered&&(this._setLowerTriggered(!0),this.fire("lower-threshold"))}},checkScrollThesholds:function(){this.checkScrollThresholds()},clearTriggers:function(){this._setUpperTriggered(!1),this._setLowerTriggered(!1)}});const Ln=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
.checkboxcontainer {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  min-width: 16px;
  margin: initial;
  vertical-align: middle;
  background-color: transparent;
  cursor: pointer;
}
.checkboxcontainer.disabled {
  display: none;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {
  background-color: #1589ee;
  border-color: #1589ee;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}
.checkboxcontainer .paper-checkbox {
  border: solid 2px;
  border-color: #808080;
  border-width: 1px;
  border-radius: 2px;
  box-sizing: border-box;
  height: 100%;
  pointer-events: none;
  position: relative;
  -webkit-transition: background-color 140ms, border-color 140ms;
  transition: background-color 140ms, border-color 140ms;
}
.checkboxcontainer .paper-checkbox .checkmark {
  position: absolute;
  width: 36%;
  height: 70%;
  border-style: solid;
  border-top: none;
  border-left: none;
  border-right-width: calc(2 / 15 * 16px);
  border-bottom-width: calc(2 / 15 * 16px);
  border-color: #fff;
  -webkit-transform-origin: 97% 86%;
  transform-origin: 97% 86%;
  box-sizing: content-box;
  transform: scale(1, 1) rotate(45deg);
}
:host {
  display: table-row;
  background-color: var(--sbTableHeaderBgColor);
  color: var(--sbTableHeaderColor);
  font-family: var(--sbTableHeaderFontFamily);
  font-size: var(--sbTableHeaderFontSize);
  font-weight: var(--sbTableHeaderFontWeight);
  font-style: var(--sbTableHeaderFontStyle);
  text-decoration: var(--sbTableHeaderTextDecoration);
  border-bottom-width: var(--sbTableHeaderBorderBottomWidth);
  border-bottom-style: var(--sbTableHeaderBorderBottomStyle);
  border-bottom-color: var(--sbTableHeaderBorderBottomColor);
  padding-top: var(--sbTableCellPaddingTop);
  padding-right: var(--sbTableCellPaddingRight);
  padding-bottom: var(--sbTableCellPaddingBottom);
  padding-left: var(--sbTableCellPaddingLeft);
}
:host #content {
  position: relative;
}
:host .th {
  display: table-cell;
  height: 32px;
  padding-top: 2px;
  padding-right: 18px;
  padding-bottom: 0px;
  padding-left: 6px;
  vertical-align: middle;
  white-space: nowrap;
  text-transform: uppercase;
  overflow: hidden;
  text-overflow: ellipsis;
  position: relative;
}
:host .sortable {
  cursor: pointer;
}
:host .sortable:hover {
  color: var(--sbIconColor);
}
:host .column-selected {
  color: var(--sbIconColor);
}
:host .th.itemNumber {
  min-width: 40px;
  max-width: 40px;
}
:host .rightAligned {
  text-align: right;
}
:host .centerAligned {
  text-align: center;
}
:host .leftAligned {
  text-align: left;
}
:host .hidden {
  display: none;
}
:host .checkboxcontainer {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  min-width: 16px;
  margin: initial;
  vertical-align: middle;
  background-color: transparent;
  cursor: pointer;
}
:host .checkboxcontainer.disabled {
  display: none;
}
:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {
  background-color: #1589ee;
  border-color: #1589ee;
}
:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}
:host .checkboxcontainer .paper-checkbox {
  border: solid 2px;
  border-color: #808080;
  border-width: 1px;
  border-radius: 2px;
  box-sizing: border-box;
  height: 100%;
  pointer-events: none;
  position: relative;
  -webkit-transition: background-color 140ms, border-color 140ms;
  transition: background-color 140ms, border-color 140ms;
}
:host .checkboxcontainer .paper-checkbox .checkmark {
  position: absolute;
  width: 36%;
  height: 70%;
  border-style: solid;
  border-top: none;
  border-left: none;
  border-right-width: calc(2 / 15 * 16px);
  border-bottom-width: calc(2 / 15 * 16px);
  border-color: #fff;
  -webkit-transform-origin: 97% 86%;
  transform-origin: 97% 86%;
  box-sizing: content-box;
  transform: scale(1, 1) rotate(45deg);
}
:host #tooltip.paper-tooltip {
  padding: 5px;
  color: var(--sbFontColor);
  font-family: var(--sbFont);
  font-size: 14px;
  border-radius: 4px;
  z-index: 999;
  background-color: #fff;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  border: var(--sbBtnBorder);
  opacity: 1;
}
:host .sf-icon-arrowup,
:host .sf-icon-arrowdown {
  color: var(--sbIconColor);
  font-size: 13px;
  position: absolute;
  right: 0;
  padding-right: 2px;
}
:host .sf-icon-arrowup::before,
:host .sf-icon-arrowdown::before {
  vertical-align: center;
}
:host .arrow-on-hover > i {
  display: none;
}
:host .arrow-on-hover:hover > i {
  display: inline;
  position: absolute;
  right: 0;
  padding-right: 2px;
}
:host .col-adj-bar {
  position: absolute;
  padding: 16px 0 16px 0;
  cursor: col-resize;
  top: 0;
  right: 0;
  width: 1px;
  height: inherit;
  background-color: #d8dde6;
}
:host .th:hover .col-adj-bar {
  width: 4px;
  background-color: #706e6b;
}
:host .th:hover .col-adj-bar:hover {
  background-color: var(--sbIconColor);
}
:host #col-resize-indicator {
  background-color: var(--sbIconColor);
  width: 4px;
  height: 32px;
  position: absolute;
  cursor: col-resize;
  top: 0;
  visibility: hidden;
  display: block;
  z-index: 99999;
}
:host #col-resize-indicator #col-adj-divider {
  background-color: var(--sbIconColor);
  height: 70vh;
  width: 1px;
  float: right;
  z-index: 99999;
}
*,
*:before,
*:after {
  box-sizing: border-box;
}
:host {
  display: flex;
}
:host .th {
  display: inline-block;
  padding-top: 8px;
}
:host #content {
  width: 100%;
  display: table;
}
`;function An(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Fn(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?An(Object(i),!0).forEach((function(t){Nn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):An(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Nn(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Rn extends((0,bt.b)(fo(bo(Ve.Pu)))){static get is(){return"sf-table-header"}static get properties(){return Fn(Fn({fieldLabels:Object,fields:Object,options:{type:Object,value:{}},eventListeners:{type:Object,value:{click:"onTap",mouseover:"onHover"}}},fo.properties),bo.properties)}static get observers(){return["_initObserver(fields, fieldLabels, options)"]}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,r.f3)(this,this.eventListeners)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,r.UQ)(this,this.eventListeners)}_initObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this._init(e,t,i)}_init(e,t){this.templateHTML=new $t(this.options).generate(e),this.uiData=t}getContentNode(){return this.shadowRoot.querySelector("#content")}isTemplatizeWithRootDivNode(){return!1}getTooltipContent(e){return(0,L.aj)(this.uiData,e.split("."))||""}static get template(){return Ve.qy`
			<style>${Ln}</style>
			<style include="sb-icons-styles"></style>
       		<div id="content">
       		</div>
		`}}customElements.define(Rn.is,Rn);class qn extends Mo{static getInstance(){return this._instance||(this._instance=new qn),this._instance}initListeners(e){(0,r.f3)(e,{mouseover:"onHovered",mouseout:"onUnhovered"})}}const jn=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
.checkboxcontainer {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  min-width: 16px;
  margin: initial;
  vertical-align: middle;
  background-color: transparent;
  cursor: pointer;
}
.checkboxcontainer.disabled {
  display: none;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {
  background-color: #1589ee;
  border-color: #1589ee;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}
.checkboxcontainer .paper-checkbox {
  border: solid 2px;
  border-color: #808080;
  border-width: 1px;
  border-radius: 2px;
  box-sizing: border-box;
  height: 100%;
  pointer-events: none;
  position: relative;
  -webkit-transition: background-color 140ms, border-color 140ms;
  transition: background-color 140ms, border-color 140ms;
}
.checkboxcontainer .paper-checkbox .checkmark {
  position: absolute;
  width: 36%;
  height: 70%;
  border-style: solid;
  border-top: none;
  border-left: none;
  border-right-width: calc(2 / 15 * 16px);
  border-bottom-width: calc(2 / 15 * 16px);
  border-color: #fff;
  -webkit-transform-origin: 97% 86%;
  transform-origin: 97% 86%;
  box-sizing: content-box;
  transform: scale(1, 1) rotate(45deg);
}
:host {
  width: 24rem;
  background-color: #F0F0F0;
  display: inline-block;
  border-radius: 0.25rem;
}
:host div.title {
  margin-top: 0.5rem;
}
:host div.title span {
  font-size: 1rem;
}
:host div.title .headerIcon {
  display: inline-block;
  padding: 0.25rem;
  margin: 0.5rem 0.5rem 0.125rem 1rem;
  background-color: #65B766;
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: 1.5rem;
  border-radius: 4px;
}
:host ul.dataList {
  width: 100%;
  margin: 1rem;
}
:host ul.dataList li {
  width: 50%;
  float: left;
  padding-right: 0.25rem;
  padding-bottom: 0.5rem;
}
:host ul.dataList li:last-child {
  margin-bottom: 1rem;
}
:host ul.dataList li div {
  overflow: hidden;
  -ms-text-overflow: ellipsis;
  text-overflow: ellipsis;
  line-height: 1.25;
}
:host ul.dataList li div.body {
  font-weight: bold;
}
:host ul.dataList li div.dirty {
  color: #F88962;
}
`;function Hn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Vn(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Un extends(fo(Ve.Pu)){static get is(){return"sf-preview-panel"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Hn(Object(i),!0).forEach((function(t){Vn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Hn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({iconClass:String,title:String,data:{type:Array,observer:"_dataChanged"},metadata:{type:Object,observer:"_dataChanged"},templateOptions:Object,additionalUIData:Object},fo.properties)}_dataChanged(){if(this.data&&this.metadata){let e=Object.keys(this.metadata),t=Object.keys(this.metadata).reduce(((e,t)=>(e[t]=this.metadata[t].label,e)),{});this.templateHTML=new N(this.metadata,this.templateOptions).generate(e,t);let i=Object.keys(this.metadata).reduce(((e,t)=>{let i=this.data.find((e=>e.field===t)),o=i?i.value:"";return e[t]=ae.Z.formatFieldData(null,o,this.metadata[t],this.data),e}),{});this.additionalUIData&&(i=Object.assign(i,this.additionalUIData)),this.uiData=i}}getContentNode(){return this.shadowRoot.querySelector(".dataList")}isTemplatizeWithRootDivNode(){return!1}static get template(){return Ve.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style>${jn}</style>

			<div class="title">
				<i class$="headerIcon [[iconClass]]"></i><span>[[title]]</span>
			</div>
			<ul class="dataList"></ul>
		`}}customElements.define(Un.is,Un);const zn=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host .content {
  width: 100%;
  display: table;
}
:host .content.inlineEditable.show .container:not(.editable):hover.right div.r:before,
:host .content.inlineEditable .container.sf-has-focus:not(.editable).right div.r:before,
:host .content.inlineEditable.show .container:not(.editable):hover.center div.r:before,
:host .content.inlineEditable .container.sf-has-focus:not(.editable).center div.r:before,
:host .content.inlineEditable.show .container:not(.editable):hover:not(.right):not(.center) div.r:after,
:host .content.inlineEditable .container.sf-has-focus:not(.editable):not(.right):not(.center) div.r:after {
  color: var(--sbFieldEditableIconColor) !important;
  display: inline;
}
:host .content.inlineEditable.tr.show .container.editable span.pencil:after,
:host .content.inlineEditable.tr .container.editable.sf-has-focus span.pencil:after {
  color: var(--sbFieldEditableIconColor) !important;
  display: inline-block;
}
:host .content.inlineEditable.tr.show .container.editable.right div.r.dirty:before,
:host .content.inlineEditable.tr .container.editable.sf-has-focus.right div.r.dirty:before,
:host .content.inlineEditable.tr.show .container.editable.center div.r.dirty:before,
:host .content.inlineEditable.tr .container.editable.sf-has-focus.center div.r.dirty:before,
:host .content.inlineEditable.tr.show .container.editable:not(.right):not(.center) div.r.dirty:after,
:host .content.inlineEditable.tr .container.editable.sf-has-focus:not(.right):not(.center) div.r.dirty:after {
  color: #F88962 !important;
}
:host .content.inlineEditable .container div.w {
  display: flex;
  position: absolute;
  top: -1px;
  min-height: 50px;
  width: 17rem;
  background-color: #FFF;
  border-radius: 0.25rem;
  border: 1px solid #dddbda;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  z-index: 9001;
}
:host .content.inlineEditable .container div.w > div {
  width: 100%;
  vertical-align: middle;
  text-align: center;
  padding: 0.25rem 0.25rem 0.25rem 0.25rem;
  min-height: 50px;
}
:host .content.inlineEditable .container:not(.editable).right div.r:before,
:host .content.inlineEditable .container:not(.editable).center div.r:before,
:host .content.inlineEditable .container:not(.editable):not(.right):not(.center) div.r:after {
  content: '\\e874';
  color: var(--sbFieldEditableIconColor);
  font-family: 'sf-icons';
  display: none;
}
:host .content.inlineEditable .container.editable span.pencil {
  cursor: pointer;
  padding: 0 3px 0 3px;
  display: inline-block;
}
:host .content.inlineEditable .container.editable span.pencil:after {
  content: '\\e847';
  color: var(--sbFieldEditableIconColor);
  font-family: 'sf-icons';
  display: none;
}
:host .td {
  display: inline-block;
  padding-top: calc(0.3rem + 2px);
  /* 0.3rem is "row" padding. Can't add to row cause mouseover event won't fire on the cell */
  padding-right: 6px;
  padding-bottom: 0.3rem;
  /* 0.3rem is "row" padding. Can't add to row cause mouseover event won't fire on the cell */
  padding-left: 6px;
  vertical-align: middle;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
:host .td div.r {
  text-overflow: ellipsis;
  overflow: hidden;
}
:host .td[field="ConsumptionSchedule.Name"] div.r,
:host .td[field="QuoteLineConsumptionSchedule__r.Name"] div.r,
:host .td[field="SBQQ__QuoteLineConsumptionSchedule__r.Name"] div.r {
  cursor: pointer;
  color: #166bbf;
}
:host paper-tooltip #tooltip {
  padding: 0px;
}
:host .dirty {
  color: #F88962;
}
`;function $n(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Wn(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class Qn extends((0,mn.J)(Io(Oo((0,Ae.T)(fo(Ve.Pu)))))){static get is(){return"ubp-rate-row"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?$n(Object(i),!0).forEach((function(t){Wn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):$n(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({categoryId:String,rateId:String,unsavedUbpChanges:{type:Object,observing:{id:"UnsavedUbpChanges",path:[]}},inlineEditChanges:{type:Object,observing:{id:"UbpInlineEditChanges",path:["rates"]}},inlineEditedCategories:Array,rateRecord:{type:Object,observing:{idProperty:"rateId",path:["record"]}},dataIndex:{type:Number,reflectToAttribute:!0},fields:Array,isDirty:Boolean,eventListeners:{type:Object,value:{click:"onTap",change:"onChange"}}},fo.properties)}constructor(){super(),this._deviceDelegate=qn.getInstance(),this._deviceDelegate.initListeners(this)}static get observers(){return["_updateUiDataObserver(rateRecord, fields, rateId, unsavedUbpChanges)","_inlineEditedCategoriesChanged(inlineEditedCategories.splices)"]}get events(){let e={};return e[r.sV.UBP_ROW_REFRESH]=this._refreshRow,e}connectedCallback(){super.connectedCallback&&super.connectedCallback(),(0,r.f3)(this,this.eventListeners)}disconnectedCallback(){super.disconnectedCallback&&super.disconnectedCallback(),(0,r.UQ)(this,this.eventListeners)}getContentNode(){return this.shadowRoot.querySelector(".content")}postPopulateContent(){(0,Ne.m)(this,(()=>{this.dispatchEvent((0,r.uv)("rate-row-rendered"))})),this._resetPencilLoaded(),this._refreshDirtyIndicators()}hook_onHovered(e){let t=this.findCell(e);t&&t.getAttribute("field")===`${P.q.constants.UBP_FIELDS.ConsumptionSchedule}.Name`&&(this.showTooltip=!0,this._displayPreviewTooltip(t)),this._handleEditableCellsHover()}hook_onUnhovered(e){let t=this.findCell(e);t&&t.getAttribute("field")===`${P.q.constants.UBP_FIELDS.ConsumptionSchedule}.Name`&&(this.showTooltip=!1,this.dispatchEvent((0,r.uv)("toggle-tooltip",{show:!1})))}findCell(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"td";return e.composedPath().find((e=>{let i=e.classList;return i&&i.contains(t)}))}_mapToMasterUbpChanges(e,t){return t&&(e=L.J0.deepClone(e),t.forEach((t=>{e[t.fieldPath]=e[`${P.q.constants.prefix}${t.fieldPath}__c`]}))),e}_displayPreviewTooltip(e){if(this._previewPanel)this.dispatchEvent((0,r.uv)("toggle-tooltip",{target:e,content:this._rateCardPreview,show:!0}));else{let o=document.createElement("sf-preview-panel"),n=(t=this.rateId,i=["record"],(0,R.Jt)(t,i)),s=n[P.q.constants.UBP_FIELDS.ConsumptionScheduleId];me(this.categoryId,["rateCardFields"],(()=>ge(s))).then((t=>{let i=t.reduce(((e,t)=>(e[t.fieldPath]={type:t.type,label:t.label},e)),{});me(s,["record"],(()=>ge(s))).then((a=>{let l={};if(this.unsavedUbpChanges&&this.unsavedUbpChanges.schedules&&this.unsavedUbpChanges.schedules[s]){let e=this.unsavedUbpChanges.schedules[s];a.attributes&&"ConsumptionSchedule"===a.attributes.type&&(e=this._mapToMasterUbpChanges(this.unsavedUbpChanges.schedules[s],t));let o=Ie(a,e,t);Object.keys(i).forEach((e=>{L.J0.deepEquals(o[e],a[e])||(l[e]="dirty")})),a=o}let d=[];Object.keys(a).forEach((e=>{d.push({field:e,value:a[e]})})),o.additionalUIData={_cellClasses:l},o.templateOptions={attributes:'class$="truncate body {{_cellClasses.$field}}"'},o.data=d,o.metadata=i,o.title=(0,L.aj)(n,`${P.q.constants.UBP_FIELDS.ConsumptionSchedule}.Name`.split(".")),o.iconClass="sf-icon-paired-lines",this._rateCardPreview=o,this.showTooltip&&this.dispatchEvent((0,r.uv)("toggle-tooltip",{target:e,content:o,show:!0}))}))}))}var t,i}_updateUiDataObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this._updateUiData(e,t,i,o)}_updateUiData(e,t,i,o){const r=this._computeUnsavedEditForRate(i,o);let n=r?Ie(e,r,t):e;this.uiData=this._formatUiData(n,t,i,r)}commitInlineEdit(e,t){this.inlineEditChanges[this.rateId]=this.inlineEditChanges[this.rateId]||{},this.inlineEditChanges[this.rateId][e]=t,this.dispatchEvent((0,r.uv)("inline-edit-commit"))}_getInlineEditChangesForRate(e){return this.inlineEditChanges&&this.inlineEditChanges[e]||{}}_formatUiData(e,t,i,r){let n={};for(let i of t){let t=i.fieldPath.split(".");o.B.org.isMultiCurrencyOrg&&"currency"===i.type&&!i.CurrencyIsoCode&&(i.CurrencyIsoCode=(0,R.Jt)((0,R.Jt)("UBPClientState",["quoteLineOrProdId"]),["record","CurrencyIsoCode"]));let r=ae.Z.formatFieldData(null,(0,L.aj)(e,t),i,e);(0,L.wB)(n,t,r)}return n.rateId=i,n.unsavedEdits=r,n}_computeUnsavedEditForRate(e,t){let i={},o=(0,R.Jt)(e,["record"]);if(o){if(t){let e=o[P.q.constants.UBP_FIELDS.ConsumptionScheduleId];if(e&&t.schedules&&t.schedules[e]){let o=t.schedules[e];Object.keys(o).forEach((e=>{"Id"!==e&&"attributes"!==e&&(i[`${P.q.constants.UBP_FIELDS.ConsumptionSchedule}.${e}`]=o[e])}))}}this.appliedChanges&&this.appliedChanges[e]?i=Ie(i,this.appliedChanges[e],this.fields):t&&t.rates&&t.rates[e]&&(i=Ie(i,t.rates[e],this.fields)),this.inlineEditChanges&&(i=Ie(i,this._getInlineEditChangesForRate(e),this.fields))}return i}get appliedChanges(){const e=(0,R.Jt)("UBPClientState"),t=`AppliedUbpChanges_${e.quoteLineOrProdId}_${e.lineKey}`;return(0,R.Jt)(t,["rates"])}computeClasses(){return o.B.isManualEditsForUBPEnabled?"inlineEditable":""}getContentNode(){return this.shadowRoot.querySelector("div.content")}getCellClass(){return"sf-ubp-table-cell"}_getFieldMetadataForInlineEdit(e){return this.fields.find((t=>t.fieldPath===e))}_getFieldMetadata(e){return this._getFieldMetadataForInlineEdit(e)}toggleInlineEditForDeviceDelegate(e,t,i,o){this._deviceDelegate.toggleInlineEdit(e,t,i,o,this)}toggleCellClass(e,t,i,o){(0,L.p1)(e,t,i)}_getEditField(e,t){return Co.getFieldComponent(e,null,t,this._getRecord())}_getOriginalRecord(){return this.appliedChanges&&this.appliedChanges[this.rateId]?Ie(this.rateRecord,this.appliedChanges[this.rateId],this.fields):this.rateRecord}_isEditable(e){return P.q.isUbpFieldInlineEditable(e,(0,R.Jt)("ConsumptionRateMetadata",["rateEditable"]))}_getRecord(){const e=this._computeUnsavedEditForRate(this.rateId,this.unsavedUbpChanges);return Ie(this.rateRecord,e,this.fields)}checkIsDirty(e,t,i){return e!==t[i]}_formatNewValue(e,t){const i=this._computeUnsavedEditForRate(this.rateId,this.unsavedUbpChanges);let o=ae.Z.formatFieldData(null,i[e],t,this.rateRecord);return this._restampField(e,o),i[e]}_inlineEditedCategoriesChanged(e){e&&e.indexSplices&&e.indexSplices.forEach((e=>{if(e.removed){let t=!1;for(let i of e.removed){let e=(0,R.Jt)(i,["orderedRates"]);if(e&&e.indexOf(this.rateId)>-1){t=!0;break}}t&&this._updateUiData(this.rateRecord,this.fields,this.rateId,this.unsavedUbpChanges)}}))}onKeyDown(e){this._deviceDelegate.onKeyDown(e,this)}_refreshRow(e){e&&e.detail&&e.detail.id===this.rateId&&this._updateUiData(this.rateRecord,this.fields,this.rateId,this.unsavedUbpChanges)}static get template(){return Ve.qy`
			<style>${zn}</style>
			<style include="sb-common-styles sb-icons-styles "></style>
			<div class$="content tr {{computeClasses()}}"></div>
		`}}customElements.define(Qn.is,Qn);const Gn=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  overflow: auto;
  flex: 1;
  display: flex;
  flex-direction: column;
  --paper-tooltip-duration-in: 0;
}
:host .rateCardPreview {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
:host .fixed {
  padding-top: 3px;
  padding-right: 32px;
  float: right;
}
:host .fixed > paper-button {
  padding-left: 32px;
  padding-right: 32px;
}
:host .tbody {
  flex: 1;
}
:host sf-table-header {
  padding: 0 0 0 1.3rem;
}
:host .sb-icon-search {
  right: 1rem;
  bottom: 0.1rem;
}
:host .sb-icon-clear {
  cursor: pointer;
  border: none;
  position: relative;
  right: 1.75rem;
}
:host .leftSearchIcon {
  position: absolute;
  margin: 0.5rem 0 0 0.75rem;
}
:host #searchBar {
  padding-top: 3rem;
  padding-bottom: 1rem;
  padding-left: 1.5rem;
  background-color: #fafafa;
}
:host #searchRateInput {
  width: 28rem;
  height: 2.2rem;
  padding-left: 2rem;
}
:host .searchResultDesc {
  margin: 0.28rem 0 0 0.56rem;
}
:host .noSearchResults {
  margin-left: 2rem;
  margin-top: 2rem;
}
:host .ubpSearchMessage {
  height: 1.25rem;
}
:host .rateRow {
  border-bottom-width: var(--sbTableRowBorderBottomWidth);
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
  padding: 0 0 0 1.3rem;
  /* has to match sf-table-header */
}
`;function Kn(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function Yn(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?Kn(Object(i),!0).forEach((function(t){Xn(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):Kn(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function Xn(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const Jn=["Description","ConsumptionSchedule.Description"];class Zn extends((0,wn.Z)([_n.i],(0,Fe.g)((0,mn.J)(fo(ao(Ve.Pu)))))){static get is(){return"ubp-rate-table"}static get properties(){return{clientCacheSearchInput:{type:String,observing:{id:"UBPClientState",path:["searchKeyword"]}},userSearchInput:{type:String,value:null},rowTemplate:{type:Object,computed:"_getRowTemplate(fields)"},categoryId:{type:String,observer:"_categoryIdChanged"},rateIds:{type:Object,observing:{idProperty:"categoryId",path:["orderedRates"]},observer:"_rateIdsChanged"},fields:{type:Object,observing:{idProperty:"categoryId",path:["fields"]}},totalRateCount:{type:Number,observing:{idProperty:"categoryId",path:["rateCount"]},value:0},sortField:{type:String,observing:{idProperty:"categoryId",path:["sortField"]}},sortOrder:{type:String,observing:{idProperty:"categoryId",path:["sortOrder"]}},quoteLineOrProdId:{type:String,observing:{id:"UBPClientState",path:["quoteLineOrProdId"]}},lineKey:{type:Number,observing:{id:"UBPClientState",path:["lineKey"]}},hasInlineEditChanges:{type:Boolean,value:!1},inlineEditedCategories:{type:Array,observing:{id:"UbpInlineEditChanges",path:["categories"]}},lineModel:Object}}ready(){super.ready(),Object.entries({"table-header-sort-clicked":"_onSort","rate-row-rendered":"_resizeIronList","toggle-tooltip":"_toggleTooltip","iron-resize":"_checkThreshold","inline-edit-commit":"_inlineEditCommitted"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])}))}static get observers(){return["_updateHeaderStateObserver(sortField, sortOrder)"]}_categoryIdChanged(e,t){void 0===e&&t&&(this.rateIds=[],this.totalRateCount=0,this.fields=[]),this.hasInlineEditChanges=this.inlineEditedCategories&&this.inlineEditedCategories.indexOf(this.categoryId)>-1}_toggleTooltip(e){let t=this.shadowRoot.querySelector(".rateCardPreview");for(;t.firstChild;)t.removeChild(t.firstChild);e.detail.show?(t._target=e.detail.target,t.appendChild(e.detail.content),t.updatePosition(),t.show()):t.hide()}_checkThreshold(){this.rateIds&&this.rateIds.length!=this.totalRateCount&&this._previousRenderLength!==this.rateIds.length&&(this._previousRenderLength=this.rateIds.length,this.$.threshold.clearTriggers(),this.$.threshold.checkScrollThresholds())}_resizeIronList(){this.shadowRoot.querySelector("iron-list").dispatchEvent((0,r.uv)("iron-resize"))}_rateIdsChanged(e){const t=this.$.ironList._scrollPosition;this.$.ironList.items=e,this.$.ironList._resetScrollPosition(t)}_getSortLabel(e,t){if(e&&t){let i=t.find((t=>t.fieldPath===e));return i?i.label:e===`${P.q.constants.UBP_FIELDS.ConsumptionSchedule}.Name`?(0,o.L)("Consumption Schedule Name"):""}return""}_onSort(e){let{detail:{lineSortField:t,order:i}}=e;(0,R.yJ)(this.categoryId,[],Yn(Yn({},(0,R.Jt)(this.categoryId,[])),{},{sortField:t,sortOrder:i})),this._loadRates(0)}_getFieldLabels(e){let t={};for(let i of e)(0,L.wB)(t,i.fieldPath.split("."),i.label);return t}_getFieldOptions(e){let t=this._getWidthParameters(this._getFieldsFromMetadata(e));return t.isSortable=e=>e&&Jn.every((t=>t!==e)),t}_getWidthParameters(e){return{columnWidths:this._calcColumnWidths(e),columnWidthUnit:"%"}}_getFieldsFromMetadata(e){return e.map((e=>e.fieldPath))}_calcColumnWidths(e){let t={};return e.length>0&&e.forEach((i=>{t[i]=Math.floor(100/e.length)})),t}_getRowTemplate(e){let t=this._getFieldsFromMetadata(e),i=this._getWidthParameters(t);return i.attributes="class$=\"container sf-ubp-table-cell td focusable ubp-rate-row {{computeCellClasses(rateId, '$field', unsavedEdits)}}\"",new vn(e,i).generateRowNode(t)}_search(){let e=this.userSearchInput?yn.E.sanitizeHtmlText(this.userSearchInput):null;return(0,R.yJ)("UBPClientState",["searchKeyword"],e),this._loadRates(0)}_clear(){this.set("userSearchInput",""),this._search()}_onKeyPress(e){13!=e.keyCode||this._shouldDisableSearch(this.userSearchInput)||(this._search(),this.$.searchRateInput.blur())}_getSearchPlaceholder(){return(0,o.L)("Search Consumption Schedule Name")}_loadMore(){this._loadRates(this.rateIds?this.rateIds.length:0)}_loadRates(e){be(e)}_updateHeaderStateObserver(e,t){if(void 0!==e&&void 0!==t)return this.updateHeaderState(e,t)}updateHeaderState(e,t){this.$.tableHeader.setSort(e,t)}_noSearchResults(e){return 0===e}_shouldDisableSearch(e){return!!e&&!/(.*[^*?)( ]){2,}.*/g.test(e)}_shouldShowSortMessage(e,t){return""!==e&&t>0}_shouldShowSearchAppliesMessage(e){return!e}_getSortMessage(e,t,i){return(0,o.L)("Items_Sorted_by",[e,this._getSortLabel(t,i)])}clearSearch(){this.userSearchInput=null,(0,R.yJ)("UBPClientState",["searchKeyword"],null)}computeCellClasses(e,t,i){let r="";if(i&&i.hasOwnProperty(t)){let o=(0,R.Jt)(e,["record"]);const n=(0,R.Jt)(this.appliedChangeKey,["rates"]);n&&n[e]&&(o=Ie(o,n[e],[{fieldPath:t}])),r=L.J0.deepEquals(i[t],(0,L.aj)(o,t.split(".")))?"":"dirty "}return o.B.isManualEditsForUBPEnabled&&(r+=P.q.isUbpFieldInlineEditable(t,(0,R.Jt)("ConsumptionRateMetadata",["rateEditable"]))?F.classNames.EDITABLE:""),r}normalizeAndMergeUnsavedChanges(e,t){const i={};return e.forEach((e=>{const{Id:o,consumptionRates:r}=e;i[o]=r.map((e=>Ie(e,t[e.Id],this.fields)))})),i}_onUpdate(){this.dispatchEvent((0,r.uv)("calculate-immediately",{callback:this._updateAfterCalculate.bind(this)}))}_updateAfterCalculate(e){(0,R.Jt)(this.appliedChangeKey)||(0,R.yJ)(this.appliedChangeKey,[],{rates:{}});const t=this._getUnsavedUbpChanges(e),i=(0,R.Jt)("UbpInlineEditChanges",["rates"])||{},o=(0,R.Jt)(this.appliedChangeKey,["rates"]),r=this._getSavedSchedulesAndRates(),n=[],s={};r.forEach((e=>{e.consumptionRates.forEach((e=>{n.push(e.Id)}))})),n.forEach((e=>{if(i[e]||t[e]||o[e]){const r=Ie(o[e]||{},i[e],this.fields);s[e]=Ie(r,t[e],this.fields)}}));const a=this.normalizeAndMergeUnsavedChanges(r,s),l=(0,R.Jt)("ubpLabels",["labels"]),d=this._validateRates(a,l),c=0===d.length;c?(Object.keys(s).forEach((e=>{(0,R.yJ)(this.appliedChangeKey,["rates",e],s[e])})),this._onCancel()):this._overrideConflictingInlineEdits(n,t,i),(0,R.yJ)("UBPClientState",["successMsg"],c?[l.msg_changes_applied]:null),(0,R.yJ)("UBPClientState",["errorMsg"],c?null:[d[0].errorMsg])}_overrideConflictingInlineEdits(e,t,i){e.forEach((e=>{if(t[e]&&i[e]){let o=!1;Object.keys(t[e]).forEach((t=>{"Id"!==t&&"attributes"!==t&&i[e][t]&&(delete i[e][t],o=!0)})),o&&(0,r.rC)(r.sV.UBP_ROW_REFRESH,{id:e})}}))}_getUnsavedUbpChanges(e){let t=(0,R.Jt)("UnsavedUbpChanges",["rates"]);if(t)return t;if(e&&e.lineItems){const i=e.lineItems.find((e=>(e.record.Id===this.quoteLineOrProdId||e.record[P.q.constants.PRODUCT]===this.quoteLineOrProdId)&&e.key===this.lineKey));if(i&&i.ubpChanges)return t=i.ubpChanges,(0,R.yJ)("UnsavedUbpChanges",[],t),t.rates}return{}}_validateRates(e,t){return((e,t,i)=>{let o=[];Dn=i;const r=t.UBP_FIELDS.ConsumptionRateFields;return Object.keys(e).forEach((t=>{const i=e[t].sort((e=>(t,i)=>t[e.ProcessingOrder]>i[e.ProcessingOrder]||t[e.ProcessingOrder]===i[e.ProcessingOrder]&&t[e.LowerBound]>i[e.LowerBound]?1:-1)(r));i.forEach(((e,n)=>{const s=n+1,a=i.length<=s?null:i[s];o=[...o,...On(t,e,r),...kn(t,e,r),...In(t,e,r),...Tn(t,e,a,r),...Bn(t,e,a,r),...Mn(t,e,s===i.length,r)]}))})),o})(e,P.q.constants,t)}_getSavedSchedulesAndRates(){const e=new window.SB.usageBasedPricingDAO(P.q.constants.prefix,null,null).getFromCache(this.quoteLineOrProdId)||[],t=(0,R.Jt)(this.categoryId,["name"]),i=e.filter((e=>e[`${P.q.constants.prefix}Category__c`]===t||e[`${P.q.constants.prefix}Category__c`]===`${P.q.constants.prefix}${t}`));if(o.B.org.isMultiCurrencyOrg){const e=(0,R.Jt)(this.quoteLineOrProdId,["record","CurrencyIsoCode"]);for(let t=0;t<i.length;t++)i[t].consumptionRates=i[t].consumptionRates.filter((t=>t.CurrencyIsoCode===e))}return i}_onCancel(){if(this.inlineEditedCategories){const e=this.inlineEditedCategories.indexOf(this.categoryId);if(e>-1){const t=(0,R.Jt)("UbpInlineEditChanges",["rates"]);t&&Object.keys(t).forEach((e=>{const i=(0,R.Jt)(e,["record",P.q.constants.prefix+"QuoteLineConsumptionSchedule__r",P.q.constants.prefix+"Category__c"]);i&&this.quoteLineOrProdId+"_"+i===this.categoryId&&delete t[e]})),this.splice("inlineEditedCategories",e,1),this.hasInlineEditChanges=!1}}}_shouldShowManualEditButtons(){return o.B.isManualEditsForUBPEnabled&&this.hasInlineEditChanges}_inlineEditCommitted(){this.hasInlineEditChanges=!0,-1===this.inlineEditedCategories.indexOf(this.categoryId)&&this.inlineEditedCategories.push(this.categoryId)}getCellClass(){return"sf-ubp-table-cell"}get appliedChangeKey(){return`AppliedUbpChanges_${this.quoteLineOrProdId}_${this.lineKey}`}getZIndex(e){return this.totalRateCount+10-e}_rowHasParentDiv(){return!0}discardUnappliedChanges(){(0,R.yJ)("UbpInlineEditChanges",["categories"],[]),(0,R.yJ)("UbpInlineEditChanges",["rates"],{}),this.hasInlineEditChanges=!1}static get template(){return Ve.qy`
			<style include="sb-common-styles sb-icons-styles sb-forms-styles"></style>
			<style>${Gn}</style>

			<div id="searchBar">
				<div id="invalidSearch" class="ubpSearchMessage searchResultDesc">
					<template is="dom-if" if="[[_shouldDisableSearch(userSearchInput)]]">
						<p><sb-i18n key="Your_search_term_must_have_2_or_more_characters">Your search term must have 2 or more characters, excluding  *, ?, (), or ' '</sb-i18n></p>
					</template>
				</div>
				<span class="icon leftSearchIcon sf-icon-search"></span>
				<iron-input bind-value="{{userSearchInput}}">
					<input id="searchRateInput" value="{{value::input}}" on-keydown="_onKeyPress" placeholder=[[_getSearchPlaceholder()]]>				
				</iron-input> 
				<button class="sb-icon-clear sf-icon-clear" on-click="_clear"></button>
				<paper-button disabled="[[_shouldDisableSearch(userSearchInput)]]" class="sbPrimaryAction sb-icon-search" noink on-click="_search"></paper-button>
				<div class="fixed ubp-edit-buttons" hidden$="[[!_shouldShowManualEditButtons(hasInlineEditChanges)]]">
					<paper-button id="ubpCancelButton" on-click="_onCancel"><sb-i18n>Cancel</sb-i18n></paper-button>
					<paper-button id="ubpUpdateButton" on-click="_onUpdate" class="brand-button"><sb-i18n>Update</sb-i18n></paper-button>
				</div>
				<div id="sortByMessage" class="ubpSearchMessage searchResultDesc">
					<template is="dom-if" if="[[_shouldShowSortMessage(sortOrder, totalRateCount)]]">
						<p><b>[[_getSortMessage(totalRateCount, sortField, fields)]]</b></p>
					</template>
				</div>
			</div>
			<paper-tooltip fit-to-visible-bounds="true" position="top" animation-delay="0" class="rateCardPreview"></paper-tooltip>
			<sf-table-header id="tableHeader" fields="[[_getFieldsFromMetadata(fields)]]"
				field-labels="[[_getFieldLabels(fields)]]" options="[[_getFieldOptions(fields)]]"></sf-table-header>
			<template is="dom-if" if="[[_noSearchResults(totalRateCount)]]">
				<p class="noSearchResults"><b><sb-i18n>There are no rates that match your search criteria</sb-i18n></b></p>
			</template>
			<iron-scroll-threshold id="threshold" class="tbody" on-lower-threshold="_loadMore">
				<div on-focusout="_onFocusOut" on-keydown="_onKeyDown">
					<iron-list id="ironList" scroll-target="threshold" as="rateId">
						<template>
							<div style$="z-index:[[getZIndex(index)]]" class="rateRow">
								<ubp-rate-row
									template="[[rowTemplate]]"
									category-id="[[categoryId]]"
									rate-id="[[rateId]]"
									fields="[[fields]]"
									inline-edited-categories="[[inlineEditedCategories]]"
									data-index="[[index]]">
								</ubp-rate-row>
							</div>
						</template>
					</iron-list>
				</div>
			</iron-scroll-threshold>
		`}}customElements.define(Zn.is,Zn);const es=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
.checkboxcontainer {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  min-width: 16px;
  margin: initial;
  vertical-align: middle;
  background-color: transparent;
  cursor: pointer;
}
.checkboxcontainer.disabled {
  display: none;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {
  background-color: #1589ee;
  border-color: #1589ee;
}
.checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}
.checkboxcontainer .paper-checkbox {
  border: solid 2px;
  border-color: #808080;
  border-width: 1px;
  border-radius: 2px;
  box-sizing: border-box;
  height: 100%;
  pointer-events: none;
  position: relative;
  -webkit-transition: background-color 140ms, border-color 140ms;
  transition: background-color 140ms, border-color 140ms;
}
.checkboxcontainer .paper-checkbox .checkmark {
  position: absolute;
  width: 36%;
  height: 70%;
  border-style: solid;
  border-top: none;
  border-left: none;
  border-right-width: calc(2 / 15 * 16px);
  border-bottom-width: calc(2 / 15 * 16px);
  border-color: #fff;
  -webkit-transform-origin: 97% 86%;
  transform-origin: 97% 86%;
  box-sizing: content-box;
  transform: scale(1, 1) rotate(45deg);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  height: 100%;
  display: flex;
  flex-direction: column;
}
:host .ubpTabContainer {
  border-bottom: 1px solid #d8dde6;
  padding-left: 1rem;
}
:host .ubpTabContainer #paperTabContainer {
  border: none;
}
:host .header {
  background: var(--sbPageHeaderBgColor);
  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);
  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);
  border-bottom-color: var(--sbPageHeaderBorderBottomColor);
  min-height: var(--sbPageHeaderMinHeight);
  padding-top: var(--sbPageHeaderPaddingTop);
  padding-right: var(--sbPageHeaderPaddingRight);
  padding-bottom: var(--sbPageHeaderPaddingBottom);
  padding-left: var(--sbPageHeaderPaddingLeft);
  width: 100%;
}
:host .header #ubpHeaderIcon {
  display: var(--sbPageHeaderIconDisplay);
  padding-top: 0px;
  margin-top: 6px;
  background-color: #2FBFCE;
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
:host .header #ubpHeaderIcon:before {
  display: block;
}
:host .header .ubpHeaderTitles {
  padding-top: 3px;
  line-height: 1.25;
}
:host .header #ubpSubTitle {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
:host .header #productName {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
:host .header .fixed {
  padding-top: 3px;
  padding-right: 32px;
}
:host .header .fixed > paper-button {
  padding-left: 32px;
  padding-right: 32px;
}
:host .rowWrapper {
  overflow-x: auto;
  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);
  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);
  border-bottom-color: var(--sbPageHeaderBorderBottomColor);
}
:host .rowWrapper .htmlField ul > li {
  list-style: disc;
  list-style-position: inside;
}
:host .rowWrapper .htmlField ol > li {
  list-style: decimal;
  list-style-position: inside;
}
:host ul.grid {
  width: fit-content;
  display: flex;
  padding: 0.75rem 0 0.75rem 0;
  max-height: 15rem;
}
:host li.detail-block {
  padding-left: 2rem;
  padding-right: 2rem;
}
:host li.detail-block div.body {
  font-weight: bold;
}
:host div.truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}
:host .checkboxcontainer {
  display: inline-block;
  position: relative;
  width: 16px;
  height: 16px;
  min-width: 16px;
  margin: initial;
  vertical-align: middle;
  background-color: transparent;
  cursor: pointer;
}
:host .checkboxcontainer.disabled {
  display: none;
}
:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox {
  background-color: #1589ee;
  border-color: #1589ee;
}
:host .checkboxcontainer input[type=checkbox]:checked + .paper-checkbox .checkmark {
  -webkit-animation: checkmark-expand 140ms ease-out forwards;
  animation: checkmark-expand 140ms ease-out forwards;
}
:host .checkboxcontainer .paper-checkbox {
  border: solid 2px;
  border-color: #808080;
  border-width: 1px;
  border-radius: 2px;
  box-sizing: border-box;
  height: 100%;
  pointer-events: none;
  position: relative;
  -webkit-transition: background-color 140ms, border-color 140ms;
  transition: background-color 140ms, border-color 140ms;
}
:host .checkboxcontainer .paper-checkbox .checkmark {
  position: absolute;
  width: 36%;
  height: 70%;
  border-style: solid;
  border-top: none;
  border-left: none;
  border-right-width: calc(2 / 15 * 16px);
  border-bottom-width: calc(2 / 15 * 16px);
  border-color: #fff;
  -webkit-transform-origin: 97% 86%;
  transform-origin: 97% 86%;
  box-sizing: content-box;
  transform: scale(1, 1) rotate(45deg);
}
:host .discardBtn {
  float: right;
}
:host #stayOnPageBtn {
  float: left;
  margin: 0;
}
`;class ts extends(fo((0,mn.J)(Ve.Pu))){static get is(){return"sf-ubp-editor"}static get properties(){return{lineRecord:Object,errorMsg:{type:String,observing:{id:"UBPClientState",path:["errorMsg"]}},successMsg:{type:String,observing:{id:"UBPClientState",path:["successMsg"]}},requestCount:{type:Number,observing:{id:"UBPClientState",path:["requestCount"]}},categoryIds:{type:Array,observing:{idFunction:"_getLineId(lineRecord)",path:["related","categoryIds"]}},categoryIndex:{type:Number,observing:{id:"UBPClientState",path:["categoryIndex"]},value:0}}}ready(){super.ready(),Object.entries({"selected-page-changed":"_onTabChanged","sb-cancel-backToQuote":"_closeConfirmationDialog"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.shadyRoot&&(this.scopeSubtree(this.$.quoteLine,!0),this.scopeSubtree(this.querySelector(".ubpTabContainer",!0)))}getContentNode(){return this.$.quoteLine}isTemplatizeWithRootDivNode(){return!1}_getLineId(e){return e.Id||e[P.q.constants.SOURCE_FIELD]||e[P.q.constants.PRODUCT]}_getCategoryId(e,t){if(e)return e[t]}_hasCategories(e){return!!e&&e.length>0}_getCategoryTabs(e){return e.map((e=>({label:(0,R.Jt)(e,["label"])})))}_onBackToQLE(){this.$.ubpRateTable.clearSearch();const e=(0,R.Jt)("UbpInlineEditChanges",["categories"]);null!=e&&e.length>0?this.$.confirmationDialog.open():this.dispatchEvent((0,r.uv)("toggle-ubp-editor",{visible:!1}))}_closeConfirmationDialog(){this.$.confirmationDialog.close()}_discardAllUnappliedChanges(){this.$.ubpRateTable.discardUnappliedChanges(),this._closeConfirmationDialog(),this.dispatchEvent((0,r.uv)("toggle-ubp-editor",{visible:!1}))}_getProductName(e){return e[P.q.constants.PRODUCT_NAME_FIELD]}_onTabChanged(e){this.categoryIndex!==e.detail&&((0,R.yJ)("UBPClientState",["categoryIndex"],e.detail),this._loadRates(0))}_loading(e){return e>0}_loadRates(e){be(e)}static get template(){return Ue.qy`
		<style include="sb-common-styles sb-icons-styles iron-flex iron-flex-alignment"></style>
		<style>${es}</style>
		
		<sb-dialog 
			id="confirmationDialog" 
			modal="true" 
			hide-cancel-button="true" 
			close-dialog="sb-cancel-backToQuote">
			<div slot="title" class="title">
				<sb-i18n key="Leave_page_without_updating">Leave page without updating?</sb-i18n></div>
			<div slot="content" class="content">
				<sb-i18n key="There_are_unsaved_changes_in_one_or_more_of_your_categories">
					There are unsaved changes in one or more of your categories.  We're just making sure you want to go back to the quote without updating.
				</sb-i18n>
			</div>
			<paper-button 
				slot="paper-button" 
				id="stayOnPageBtn" 
				noink 
				on-click="_closeConfirmationDialog">
				<sb-i18n>Never Mind</sb-i18n>
			</paper-button>
			<paper-button 
				slot="paper-button" 
				id="discardChangesBtn" 
				noink 
				class="primary discardBtn" 
				on-click="_discardAllUnappliedChanges">
				<sb-i18n>Back to Quote</sb-i18n>
			</paper-button>
		</sb-dialog>
		<sb-loading-spinner 
			show="[[_loading(requestCount)]]"></sb-loading-spinner>
		<header class="header">
			<sb-toast type="error" messages="[[errorMsg]]"></sb-toast>
			<sb-toast type="success" messages="[[successMsg]]"></sb-toast>
			<div class="layout horizontal">
				<!-- Icon and Titles -->
				<i id="ubpHeaderIcon" class="icon sf-icon-paired-lines"></i>
				<div class="ubpHeaderTitles">
					<p id="ubpSubTitle"><sb-i18n>Consumption Schedule</sb-i18n></p>
					<p id="productName">[[_getProductName(lineRecord)]]</p>
				</div>
				<!-- back button -->
				<div class="flex layout horizontal wrap end-justified">
					<div class="fixed">
						<paper-button 
							id="ubpBackButton" 
							on-click="_onBackToQLE">
								<sb-i18n>Back to Quote</sb-i18n>
						</paper-button>
					</div>
				</div>
			</div>
		</header>
		<div class="rowWrapper">
			<ul class="grid" role="list" id="quoteLine">
			</ul>
		</div>
        <div class="ubpTabContainer">
        <template is="dom-if" if="[[_hasCategories(categoryIds)]]">
            <sb-tabs 
            	id="ubpCategoryTabs"
                tabs="[[_getCategoryTabs(categoryIds)]]"
                selected-tab-index="[[categoryIndex]]">
            </sb-tabs>
        </template>
        </div>
        <ubp-rate-table id="ubpRateTable" category-id="[[_getCategoryId(categoryIds, categoryIndex)]]"></ubp-rate-table>
		`}}customElements.define(ts.is,ts);const is=je.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  display: inherit;
  height: inherit;
  --sb-side-panel-border-top: 1px solid #d8dde6;
}
:host([class*='--mobile']) {
  overflow-x: hidden;
  overflow-y: auto;
}
:host([class*='--mobile']) {
  overflow-x: hidden;
  overflow-y: auto;
}
:host #quoteTabsContainer {
  position: relative;
}
`;class os extends((0,Fe.g)((0,Le.$)((0,Ae.T)(Ve.Pu)))){static get is(){return"sb-quote-tabs"}static get properties(){return{isQuoteFieldPage:{type:Boolean,computed:"_setIsQuoteFieldPage(pageType)"},isGroupsPage:{type:Boolean,computed:"_setIsGroupsPage(pageType)"},isSegmentedLinesPage:{type:Boolean,computed:"_setIsSegmentedLinesPage(pageType)"},isStandardLinesPage:{type:Boolean,computed:"_setIsStandardLinesPage(pageType, groupModel)"},editorModel:{notify:!0,type:Object},groupModels:{notify:!0,type:Object},viewport:{type:Object,value:function(){return j.L.getViewport()}},segmentedCompName:String}}get events(){let e={};return e[r.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get observers(){return["buildPage(groupModels)","_groupModelsChanged(groupModels.*)"]}_groupModelsChanged(e){if(1===this.groupModels.length&&"groupModels"!==e.path&&!this.groupModels[0].quoteModel.grouped){let t=e.path.split("."),i=t.splice(2,t.length).join(".");this.set("groupModel."+i,e.value)}}ready(){super.ready(),this.handleResize(),this.segmentedCompName="sf-segmented-table"}connectedCallback(){super.connectedCallback(),this.resize()}buildPage(){this.groupModels&&(this.pageType=this.attributes.label.value,"details"!==this.pageType&&"groups"!==this.pageType&&(this.groupModel=this.groupModels[0],this.quoteModel=this.groupModel.quoteModel),"segmented"===this.pageType&&this.groupModel.quoteMDQTabs&&(this.segmentedTabs=this.groupModel.quoteMDQTabs),this.hideTabs=!!this.segmentedTabs&&(1===this.segmentedTabs.length&&"Custom"!==this.segmentedTabs[0].key),this.resize())}viewportChanged(e){this.viewport=e.detail.viewport}handleResize(){window.addEventListener("resize",function(e){this.resize()}.bind(this))}resize(){if((0,L.bv)(this)){let e=1===(0,L.bv)(this).tabs.length&&"Custom"!==(0,L.bv)(this).tabs[0].key?0:43;this.layoutHeight=(0,L.bv)(this).getBoundingClientRect().height-e+"px",this.parentNode.style.height=this.layoutHeight}}_setIsQuoteFieldPage(e){return"details"===e}_setIsGroupsPage(e){return"groups"===e}_setIsSegmentedLinesPage(e){return"segmented"===e}_setIsStandardLinesPage(e,t){return"standard"===e&&t}static get template(){return Ve.qy`
			<style>${is}</style>
	        <div device id="quoteTabsContainer" style$="height:[[layoutHeight]]">

			<template is="dom-if" if="[[isQuoteFieldPage]]">
				<div class="quoteFieldsContainer">
					<sb-field-set-table num-columns="1"
										editor-model="{{editorModel}}"
										object-name="[[editorModel.data.quoteObjectName]]"
										data="{{editorModel.quoteModel.quoteVO.record}}"
										model="{{editorModel.quoteModel}}"></sb-field-set-table>
				</div>
			</template>

			<template is="dom-if" if="[[isGroupsPage]]">
				<sb-le-group-layout id="groupLayout"
									editor-model="[[editorModel]]"
									group-models="{{groupModels}}"
									right-side-button="[[rightSideButton]]"></sb-le-group-layout>
			</template>

			<template is="dom-if" if="[[isSegmentedLinesPage]]">
				<sb-tabs tabs="[[segmentedTabs]]"
						 page-component="[[segmentedCompName]]"
						 group-model="{{groupModel}}"
						 hide-tabs="[[hideTabs]]"></sb-tabs>
			</template>

			<template is="dom-if" if="[[isStandardLinesPage]]">
				<sf-standard-table id="mobileStandardLInes" group-model="{{groupModel}}"></sf-standard-table>
			</template>
		</div>
	    `}}function rs(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function ns(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}customElements.define(os.is,os);const ss={"le-action-tapped":"_executeCustomAction","cseMobile-tapped":"_handleMobileCSE","cse-tapped":"_handleCSE","segmented-changed":"_handleCSEResponse","change-ghost":"_handleGhostChanges","renumber-lines":"renumber","validate-quantity-changed":"_displayUpgradeQuantityToast","field-change-validated":"_updateFieldValidations","calculate-immediately":"_calculateImmediately","rte-saved":"_updateIronList","calculate-cache-get":"_setCalculateCached","toggle-ubp-editor":"_toggleUbpEditor","toggle-page-loaded":"_togglePageLoaded"};class as extends((0,Fe.g)((0,Le.$)((0,Ae.T)(s.YW)))){static get is(){return"sb-line-editor"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?rs(Object(i),!0).forEach((function(t){ns(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):rs(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({rawData:{type:Object},data:{type:Object,observer:"_dataIsChanged"},md:{type:Object,notify:!0},editorModel:{type:Object,notify:!0},groupModels:{type:Array},errors:{type:Array,notify:!0},quoteLevelTabs:{type:Array,value:[]},pageLoaded:{type:Boolean,value:!1},calculateGetCacheArray:{type:Array,value:[]},rules:Array},s.YW.properties)}get events(){let e={};return e[r.sV.TOGGLE_OPTIONAL_CLICKED]=this.toggleOptional,e[r.sV.VIEWPORT_CHANGED]=this.viewportChanged,e[r.sV.COL_SIZE_ERR]=this._onError,e[r.sV.GENERIC_ERROR]=this._onError,e}connectedCallback(){super.connectedCallback(),document.addEventListener("LineEditor-cached",function(){this.needsInit=!0}.bind(this)),(0,r.f3)(this,ss)}disconnectedCallback(){super.disconnectedCallback(),(0,r.UQ)(this,ss)}static get observers(){return["_createEditorModelObserver(data, md)","_errorEventHandled(error)","_loadObjectMD(app.org)","_initObserver(rawData, rules)"]}_isColumnResizingEnabled(){return o.B.org.isColumnResizingEnabled&&!o.B.isMobile}_updateIronList(){this.editorModel.largeQuoteExperienceEnabled&&(0,r.rC)(r.sV.UPDATE_IRON_LIST,{index:null})}_loadObjectMD(){let e=this.app.org.prefix?this.app.org.prefix+"__":"";this.mdObjects=[e+"QuoteLineGroup__c",e+"QuoteLine__c",e+"Quote__c",e+"DiscountTier__c",e+"DiscountSchedule__c"]}_loadProductRules(){let e=o.B.org.hasQuoteSelectionProductRules&&o.B.org.isJSProductRulesEnabled;return!1===e&&(this.rules={}),e}_executeCustomAction(e){let{detail:t}=e;const i=t.customAction.eventHandlerName;"onFlagCalculate"===i&&(this.calculateGetCacheArray=[]),this._doesUserHavePermissionForAction(i)?("onFlagCalculate"===i&&this.data.settings.diagnosticToolEnabled&&this._openDiagnosticTool(),this.eventDetail=t):this.errors=[this.i18n.l("Insufficient privileges to perform that action")]}_doesUserHavePermissionForAction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return!new Set(["onAddProducts","onSave","onQuickSave","onFlagCalculate"]).has(e)||!1!==o.B.user.hasQuoteEditPermission}_createEditorModelObserver(e,t){if(void 0!==e&&void 0!==t)return this._createEditorModel(e,t)}_createEditorModel(e,t){if(e.settings.largeQuoteThreshold>0&&(e.settings.enableLQTValidations&&this._cacheProductRuleFields("validationErrorConditionDependencies"),e.settings.enableLQTSelectionRules&&this._cacheProductRuleFields("selectionErrorConditionDependencies")),this.ctx.params&&"onFlagCalculate"==this.ctx.params.cmd&&(e.quote.calculationRequired=!0,this.ctx.params.cmd=null),e.quote.calculationRequired)this.$.customActionServices.onFlagCalculate(this.pageLoaded);else{if(this.editorModel=new J(e,t,this),this._updateFieldLabelsMap(),this._handleGroupCustomActions(),this.groupModels=this._getGroupModels(),this.rightSideButton=!this.editorModel.deviceContext.isMobile&&this.groupModels.length>1&&this.editorModel.quoteModel.grouped,this.quoteId=this.editorModel.quoteModel.quoteVO.record.Id,this.hasQuoteFieldSet=this.editorModel.fieldsetMap.quoteFieldNames.length>0,this._viewportChanged(this.editorModel.deviceContext.isMobile),this.renumber(),this.quoteHasNoLines(),this.ctx.params&&null!=this.ctx.params.cmd?(this._executeCmd(this.ctx.params.cmd),this.ctx.params.cmd=null):this.$.sbLineEditorRead.isLastReadQuoteUnopened&&this.editorModel.quoteModel.quoteVO.isCoTermPrompted?this._navigateToContractLookupPage():this.editorModel.quoteModel.quoteVO.record[this.editorModel.constants.PRICEBOOK_ID_FIELD]?this._executeDefaultCustomAction():this._handleMissingPricebook(),this._loadProductRules()&&this._redirectToLineEditor()?this.executeProductRules():this.pageLoaded=!0,(this.editorModel.deviceContext.isMobile||this.editorModel.largeQuoteExperienceEnabled)&&(this.quoteTotalDisplayed=!0),this.editorModel.largeQuoteExperienceEnabled){this.quoteDetailsIconClass="sf-icon-chevrondown";let e=this.returnGroupKeyAfterQuickSave?this.returnGroupKeyAfterQuickSave:this.ctx.params.groupKey;var i=e&&this.editorModel.quoteModel.groupsByKey[e]?e:this.groupModels[0].groupKey}this.selectedGroupKey=this.editorModel.largeQuoteExperienceEnabled?i:null,this._isSubtitleCombined()}}_cacheProductRuleFields(e){const t=this.$[e],i=t=>{const i={};return i[e]=t,(0,ne.h1)(i)};t.read({uid:e}).then((e=>i({fields:e}))).catch((e=>i({errors:e})))}_isSubtitleCombined(){this.subtitleCombined=this.editorModel.largeQuoteExperienceEnabled&&"doNotDisplay"!=this.data.settings.lineEditorTotalsField&&this.data.quote.lineItems.length>0}_handleGroupCustomActions(e){if(!this.editorModel)return;let t=this.viewport&&this.viewport.isDesktop()&&this.viewport.M.up;if(this.editorModel.groupCustomActions=t?this.editorModel.customActionsByLocation.Group:[this.editorModel.groupMobileMenuButtonAction],e||t||(this.editorModel.groupCustomActions[0].label=this.editorModel.customActionsByLocation.Group[0].label,this.editorModel.groupCustomActions[0].first=this.editorModel.customActionsByLocation.Group[0].first,this.editorModel.groupCustomActions[0].eventHandlerName=this.editorModel.customActionsByLocation.Group[0].eventHandlerName,this.editorModel.groupCustomActions[0].record=this.editorModel.customActionsByLocation.Group[0].record),e&&this.groupModels)for(let e=0,t=this.groupModels.length;e<t;e++)this.notifyPath(`groupModels.${e}.editorModel.groupCustomActions`)}_handleMissingPricebook(){if(this.addEventListener("pricebook-saved",function(e){this._executeDefaultCustomAction()}.bind(this)),window.location.href.indexOf("cp=1")>-1)return void document.location.assign(this.editorModel.communityPrefix+"/"+this.editorModel.quoteModel.quoteVO.record.Id);let e=this.data.userType;"Standard"==e||"PowerPartner"==e?this.$.pricebookDialog.open():this.errors=[(0,o.L)("msg_missing_pricebook_id")]}_updateFieldLabelsMap(){let e=this.editorModel.md.fieldLabelsMap,t=this.editorModel.data.quote.localizedMultiSegmentColumns,i=this.editorModel.data.quote.multiSegmentColumns;for(let o in i){let r=i[o],n=t[o];for(let t=0,i=r.length;t<i;t++)e[r[t].replace(/\W/g,"")]=n[t]}e.total=(0,o.L)("Total")}_navigateToContractLookupPage(){this.nav("#",{qId:this.editorModel.quoteModel.quoteVO.record.Id},["contract","lookup"],!1)}renumber(){this.editorModel.quoteModel.renumber(),(0,r.rC)(r.sV.ROWS_RENUMBERED)}_updateFieldValidations(e){this.errors=e.detail&&e.detail.error?[e.detail.error]:null}_calculateImmediately(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;const i=void 0===e.detail.showSpinner||e.detail.showSpinner,o=void 0===e.detail.setPageLoaded||e.detail.setPageLoaded;this._calculateImmediatelyDebouncer=Re.aq.debounce(this._calculateImmediatelyDebouncer,qe.EV.after(t),(()=>{this.$.customActionServices.onFlagCalculate(i,!1,function(t){o&&(this.pageLoaded=!0),e.detail.callback&&"function"==typeof e.detail.callback&&e.detail.callback(t)}.bind(this))}))}_executeCmd(e){let t=this.editorModel.customActionsByLocation.Quote;if(t&&0!==t.length)for(let i=0,o=t.length;i<o;i++)t[i].eventHandlerName===e&&this._executeCustomAction({detail:{customAction:t[i],model:this.editorModel.quoteModel}})}_getValidDefaultCustomAction(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!e||0===e.length||this.data.quote.lineItems.length>0||this.data.quote.lineItemGroups.length>1||this.editorModel.quoteModel.grouped)return[];const t=this.editorModel.quoteModel.isRenewal?"onRenewSubscriptions":"onAddProducts";return e.filter((e=>e._customActionsConditionsMet&&e.eventHandlerName===t))}_executeDefaultCustomAction(){this._getValidDefaultCustomAction(this.editorModel.defaultCustomActions).forEach((e=>{this._executeCustomAction({detail:{customAction:e,model:this.editorModel.quoteModel}})}))}viewportChanged(){this._handleGroupCustomActions(!0),this.viewport.isMobile()?this.isMobile=!0:this.isMobile=!1}buildQuoteTabs(){if(!this.editorModel)return;let e=[];if(this.editorModel.fieldsetMap.quoteFieldNames.length>0&&e.push("details"),this.editorModel.quoteModel.grouped)(0,L.p1)("maxHeight",!0,this.shadowRoot.querySelector("#quoteTabs")),this.groupModels.length>0&&e.push("groups");else{if(!this.groupModels.length)return;(0,L.p1)("maxHeight",!1,this.shadowRoot.querySelector("#quoteTabs")),this.groupModels[0]._groupHasSegmentedProducts()&&(this.buildUngroupedSegmentedTabs(),e.push("segmented")),this.groupModels[0]._groupHasStandardProducts()&&e.push("standard")}if(!this._renderTabs(e))return;this.shadowRoot.querySelector("#quoteTabs")&&this.shadowRoot.querySelector("#quoteTabs").destroyTabs();let t=[];for(let i=0,o=e.length;i<o;i++){let o,r="t"+i,n=e[i];switch(n){case"details":o=["groupModels","editorModel"];break;case"groups":o=["groupModels","rightSideButton","editorModel"];break;case"standard":case"segmented":o=["groupModels"]}t.push({name:r,label:n,bind:o})}this.ungroupedMDQTabs=this.groupModels[0]?this.groupModels[0].quoteMDQTabs:null,this.selectedTabIndex=0,this.hideTabs=1==t.length,this.quoteLevelTabs=t}_renderTabs(e){if(this.quoteLevelTabs.length!==e.length)return!0;if(this.groupModels[0]&&this.groupModels[0].quoteMDQTabs&&this.ungroupedMDQTabs.length!==this.groupModels[0].quoteMDQTabs.length)return!0;for(let t=0,i=this.quoteLevelTabs.length;t<i;t++)if(this.quoteLevelTabs[t].label!==e[t])return!0;return!1}_onError(e){e&&e.detail&&e.detail.errorMessage&&(this.errors=[e.detail.errorMessage])}_getGroupModels(){return this.editorModel.quoteModel.lineGroups}quoteHasNoLines(){if(0==this.data.quote.lineItems.length){let e=this.editorModel.quoteModel;this.groupedQuoteHasNoGroups=e.grouped&&0==e.lineGroups.length,this.ungroupedQuoteHasNoLines=!e.grouped}}updateQuote(e,t){if(null!=e){if(e.partialVO&&this.data.quote&&t&&((e=t(e,this.data.quote)).partialVO=!1),this.set("data.quote",e),this.data.settings.usesClientCalculator&&this.data.quote.calculationRequired)return void this.$.customActionServices.onFlagCalculate(!0,!0);this.editorModel||this._createEditorModel(this.data,this.md),this.editorModel.createQuoteModel(e),this.editorModel.styleQuoteAndGroupActionButtons();let i=this._getGroupModels();if(this._updateFieldLabelsMap(),this.set("groupModels",i),this.rightSideButton=this.viewport&&!this.viewport.isMobile()&&this.groupModels.length>1&&this.editorModel.quoteModel.grouped,this.notifyPath("editorModel.quoteModel.lineGroups.length",this.editorModel.quoteModel.lineGroups.length),this.set("editorModel.quoteModel",this.editorModel.quoteModel),this.renumber(),this.editorModel.largeQuoteExperienceEnabled){let e=this.editorModel.quoteModel,t=e.lineGroups;e.grouped&&1==t.length&&this.selectedGroupKey!=t[0].groupKey&&(this.selectedGroupKey=t[0].groupKey),this._isSubtitleCombined()}this.isMobile&&this.buildQuoteTabs()}this.quoteHasNoLines(),this.data.settings.multiLineDeleteEnabled&&(0,r.rC)(r.sV.DESELECT_CHECKBOX)}updateAfterJSQC(e,t){if(!e)return;const i=(i,o)=>{for(let r in i){let n=e.originalPathValues[r],s=i[r].value,a=!t||"QuoteLineModel"!=i[r].root;(n!=s||r.endsWith(this.editorModel.constants.ADDITIONAL_DISCOUNT_FIELD))&&a&&(o(r,void 0),o(r,s))}};i(e.pathsToNotify,this.notifyPath.bind(this)),i(e.pathsToSet,this.set.bind(this)),o.B.isPricingGuidanceEnabled&&(0,r.rC)(r.sV.REFRESH_LINE_ACTIONS)}_initObserver(e,t){if(void 0!==e&&void 0!==t)return this._init(e)}_init(e){if(this.needsInit){"undefined"!=typeof Visualforce&&e.settings.usesClientCalculator&&e.settings.orgUrl&&window.Worker&&new se(e).beginPrecaching(),this.needsInit=!1}if(e.settings.usesClientCalculator&&"undefined"!=typeof SB&&SB.JSQC&&!e.quote.calculationRequired){let t=new a.m(this.app.org.prefix),i=new SB.JSQC(e.settings,e.quote,null),o=[t.getConnection(),t.getConnection()];Promise.all(o).then(function(t){i.setConnection(t[0]),i.setCustomerOnlyConnection(t[1]),i.setLogger(D),e.settings.displayedLookupMap=this.$.customActionServices.getDisplayedLookupNames(e),i.onLoad().then(function(){this.data=e}.bind(this),this._setError.bind(this)).catch(this._setError.bind(this))}.bind(this),this._setError.bind(this))}else this.data=e}_getNewQuoteRuleExecutor(){return new _(this.rawData.quote,this.rules,this.rawData.settings.developerPrefix,this.rawData.settings.jsprLabels)}executeProductRules(){let e,t=this._getNewQuoteRuleExecutor();try{e=t.execute()}catch(e){let t;t="object"==typeof e&&"info"===e.type?[e]:[{msg:e.toString(),type:"warning"}],(0,Ne.m)(this,(()=>{this.errors=t}))}e&&e.requiredProductIds.length>0?(this.handleLinesAddedByProductRules(),this.$.quoteLineAdder.quote=this.rawData.quote,this.$.quoteLineAdder.productIds=e.requiredProductIds):this.pageLoaded=!0}_setError(e){this.error={message:e.message||e}}_dataIsChanged(){var e=new CustomEvent("sf-qle-data-changed",{bubbles:!1,detail:this.data});document.dispatchEvent(e);let t=this.data.developerPrefix,i={};this._removeDuplicateLineFieldsInDrawer();let o=[],r=new Set,n=["lineFieldNames","lineFieldNamesTablet","lineFieldNamesPhone","standardLineItemDrawerFieldNames","multiSegmentLineFieldNames","multiSegmentLineSummaryFieldNames"];for(let e=0,t=n.length;e<t;e++){let t=this.data[n[e]],i=t&&t.length;if(i)for(let e=0;e<i;e++){let i=t[e];r.has(i)||(r.add(i),o.push(i))}}let s=[`${t}SubscriptionScope__c`,`${t}SegmentLabel__c`,`${t}StartDate__c`,`${t}EndDate__c`,`${t}PriceEditable__c`];for(let e=0,t=s.length;e<t;e++){let t=s[e];r.has(t)||(r.add(t),o.push(t))}i[this.data.quoteLineObjectName]=[].concat(o);let a=this.data.settings.lineEditorSubtotalsField;a&&"Default"!=a&&"doNotDisplay"!=a?(i[this.data.quoteLineObjectName].push(a),r.add(a)):(i[this.data.quoteLineObjectName].push(`${t}NetTotal__c`),r.add(`${t}NetTotal__c`)),i[this.data.quoteObjectName]=[].concat(this.data.quoteFieldNames);for(let e=0,t=this.data.quoteFieldNames.length;e<t;e++)r.add(this.data.quoteFieldNames[e]);let l=this.data.settings.lineEditorTotalsField;l&&"Default"!=l?(i[this.data.quoteObjectName].push(l),r.add(l)):this.data.quote.applyAdditionalDiscountLast?(i[this.data.quoteObjectName].push(`${t}CustomerAmount__c`),r.add(`${t}CustomerAmount__c`)):(i[this.data.quoteObjectName].push(`${t}NetAmount__c`),r.add(`${t}NetAmount__c`)),i[`${t}QuoteLineGroup__c`]=[].concat(this.data.groupFieldNames);for(let e=0,t=this.data.groupFieldNames.length;e<t;e++)r.add(this.data.groupFieldNames[e]);let d=this.data.settings.lineEditorGroupSubtotalsField;d&&"Default"!=d?(i[`${t}QuoteLineGroup__c`].push(d),r.add(d)):(i[`${t}QuoteLineGroup__c`].push(`${t}NetTotal__c`),r.add(`${t}NetTotal__c`)),i[`${t}DiscountTier__c`]=this.data.discountScheduleModalFieldNames,i[`${t}DiscountSchedule__c`]=["Name",`${t}DiscountUnit__c`],this.fieldNameSet=r,this.$.md.data=i,this._logQLELoad()}_removeDuplicateLineFieldsInDrawer(){let e=this.data.standardLineItemDrawerFieldNames;if(!e||0==e.length)return;let t=this.data.developerPrefix,i=this.app.deviceContext,o=function(e,i){let o=new Set(e);for(let e=0,r=i.length;e<r;e++)(o.has(i[e])||i[e]==t+"Number__c")&&(i.splice(e,1),e--)};this.data.lineFieldNamesPhone&&i.isPhone?o(this.data.lineFieldNamesPhone,e):this.data.lineFieldNamesTablet&&(i.isTablet||i.isPhone)?o(this.data.lineFieldNamesTablet,e):o(this.data.lineFieldNames,e)}_errorEventHandled(){this.error&&(this.error.validations?(this.errors=this.error.validations,this.$.customActionServices.updateUIAfterCalculate(this.editorModel.quoteModel.quoteVO)):this.errors=[this.error.message]),this.$.customActionServices.showSpinner=!1,(0,r.rC)(r.sV.TOGGLE_QUICKSAVE,{enable:!0}),this.$.sbLineEditorRead.restoreCache()}_logQLELoad(){if(!this._isCmpLoaded&&this.data&&this.data.quote&&this.data.quote.record){let e=null;this.data.quote.record[`${this.data.developerPrefix}HeaderFieldSetName__c`]&&(e={usingDynamicQuoteHeader:!0}),this._log(this.data.quote.record.Id,Te,e),this._isCmpLoaded=!0}}_log(e,t,i){(new Pe).log(e,t,i)}_handleMobileCSE(e){this._openDialog({dialog:"cseDialog",groupModelKey:null})}_handleCSE(e){this._openDialog(e.detail)}_handleCSEResponse(e){this.updateQuote(e.detail.quoteVO),this.$.cseDialog.$.dialog.toggle()}_openDialog(e){if("cseDialog"===e.dialog){let t=this.$.cseDialog,i=this.editorModel.quoteModel.groupsByKey[e.groupModelKey].segmentedLinesByDimension.Custom[0].segmentsByLabel,o=[];Object.keys(i).forEach((function(e){let t=i[e];t.lineVO.dimensionType==t.groupModel.editorModel.constants.CUSTOM_VALUE&&o.push(t)})),t.dataLineModels=o}this.$[e.dialog].$.dialog.toggle()}toggleGroupPanel(){this.viewport.isMobile()&&(0,r.rC)(r.sV.TOGGLE_PANEL_CLICKED)}resetColumnWidths(){const e=this.editorModel.fieldSetNames.lineFieldNames;(0,r.rC)(r.sV.RESET_COL_SIZES,{fieldSet:e}),this.$.actions.querySelector("paper-menu-button#cogDropdown").close()}updateQuoteDetails(){this.quoteDetailsHidden=!this.quoteDetailsHidden,this.toggleQuoteDetails(!1)}toggleQuoteDetails(e){this.set("quoteDetailsIconClass",this.quoteDetailsHidden?"sf-icon-chevronright":"sf-icon-chevrondown"),(0,r.rC)(r.sV.PAGE_RESIZED,{isFullScreenToggleEvent:e})}toggleFullScreenMode(e){this._toggleFullscreen(e),this.quoteDetailsHidden=this.inFullScreenMode,this.toggleQuoteDetails(!0)}_toggleFullscreen(e){this.inFullScreenMode?this.exitFullScreenMode():this.enterFullScreenMode(),e.stopPropagation()}enterFullScreenMode(){let e=document.querySelector("sb-page-container");e.requestFullScreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen(),this.inFullScreenMode=!0}exitFullScreenMode(){let e=document.querySelector("sb-page-container");e.requestFullScreen?document.cancelFullScreen():e.msRequestFullscreen?document.msExitFullScreen():e.mozRequestFullScreen?document.mozCancelFullScreen():e.webkitRequestFullscreen&&document.webkitCancelFullScreen(),this.inFullScreenMode=!1}_viewportChanged(e){if(!this.editorModel)return;(0,L.p1)("hidden",!e,this.shadowRoot.querySelector(".fixedActions"));let t=this.editorModel.standardPrimaryMobileCols.length;this.editorModel.standardPrimaryMobileCols=e?[this.editorModel.constants.PRODUCT_NAME_FIELD,this.editorModel.constants.NET_TOTAL_FIELD]:[];let i=this.editorModel.segmentedPrimaryMobileCols.length;if(this.editorModel.segmentedPrimaryMobileCols=e?[this.editorModel.constants.PRODUCT_NAME_FIELD,"total"]:[],this.editorModel.segmentedDetailsPrimaryMobileCols=e?[this.editorModel.constants.SEGMENT_LABEL_FIELD,this.editorModel.constants.NET_TOTAL_FIELD]:[],this.groupModels&&(t!==this.editorModel.standardPrimaryMobileCols.length||i!==this.editorModel.segmentedPrimaryMobileCols.length))for(let e=0;e<this.groupModels.length;e++)this.notifyPath(`groupModels.${e}.editorModel.standardPrimaryMobileCols`),this.notifyPath(`groupModels.${e}.editorModel.segmentedPrimaryMobileCols`),this.notifyPath(`groupModels.${e}.editorModel.segmentedDetailsPrimaryMobileCols`);e&&this.buildQuoteTabs(),this.isMobileRendered=e,this.isDesktopRendered=!e}buildUngroupedSegmentedTabs(){if(!this.groupModels||0==this.groupModels.length)return;let e=[],t=this.groupModels[0].dimensions;for(let i=0,o=t.length;i<o;i++){let o=t[i];if(this.groupModels[0].hasVisibleSegmentedLines[o]){let t="t"+i,r={name:t,key:o,label:this.groupModels[0].quoteModel.quoteVO.localizedDimensionNames[o],bind:["groupModel"]};"Custom"==o&&(r.iconId=t+"-"+this.groupModels[0].groupKey,r.iconClass="sb-icon-pencil",r.iconEvent="cseMobile"),e.push(r)}}this.groupModels[0].quoteMDQTabs=e,this.ungroupedMDQTabs||(this.ungroupedMDQTabs=e)}_openCSE(){event.currentTarget.attributes.dialog.value;this.$.cseDialog.$.dialog.toggle()}_displayUpgradeQuantityToast(e){let t=e.detail.invalidQuantity,i=e.detail.validQuantity;if(this.errors=null,t>0){let e=this.i18n.l("Exceeded maximum quantity available. Value has been reduced to {0}",[i]);this.errors=[{type:"warning",msg:e}]}}destampGroups(){this.isMobileRendered=!1,this.isDesktopRendered=!1}handleProductRuleAlertModal(e,t){let i=t.guidedMessages;if(i&&0!==i.length){if("saveService"===e){let e=()=>{if(this.editorModel.data.settings.usesClientCalculator){let e=this.editorModel.data.quote,i=t.quote,o=e.lineItems.length,r=(e,t)=>{for(let i in t)e[i]=t[i]};for(let t=0;t<o;t++){let o=e.lineItems[t],n=i.lineItems[t];o.record.Id=n.record.Id,delete n.record,r(o,n)}let n=e.lineItemGroups.length;for(let t=0;t<n;t++){let o=e.lineItemGroups[t],r=i.lineItemGroups[t];o.record.Id=r.record.Id}e.record.Id=i.record.Id,delete i.lineItems,delete i.lineItemGroups,delete i.record,r(e,i),this.updateQuote(e),this.$.customActionServices.notifier&&this.updateAfterJSQC(this.$.customActionServices.notifier)}else this.updateQuote(t.quote)};this.$.productAlertModal.cancelCB=e,this.$.productAlertModal.displayContinueButton=!0,this.$.productAlertModal.cancelText=Nr.F.localize("lbl_close"),this.$.productAlertModal.continueCB=()=>{this.$.customActionServices.navigateToReturnUrl(!0)}}else this.$.productAlertModal.cancelCB=null,this.$.productAlertModal.cancelText="Quick Save and Continue";this.$.productAlertModal.alerts=i}}_toggleEditors(e,t,i){i?(e.classList.remove("hidden"),t.classList.add("hidden")):(e.classList.add("hidden"),t.classList.remove("hidden"))}_loadUbp(){return function(){const e=(0,R.Jt)("UBPClientState",["quoteLineOrProdId"]),t=null==(0,R.Jt)("ConsumptionRateMetadata"),i=null==(0,R.Jt)("ubpLabels",["labels"]);return ve(e,pe(pe({},we(0,`${P.q.constants.UBP_FIELDS.ConsumptionSchedule}.Name`,"asc")),{},{loadCategories:!0,shouldLoadRateFieldsMd:t,shouldLoadLabels:i}),((e,t)=>Ee("ConsumptionServiceProvider.UBPLoader",e,t)),Se)}()}_toggleUbpEditor(e){let t=e.detail.lineModel,i=e.detail.visible,o=this.$.qlEditorContainer,r=this.$.ubpEditorContainer,n=this.shadowRoot.querySelector("sf-ubp-editor");if(!i&&n)this._toggleEditors(r,o,i);else{this.$.customActionServices.showSpinner=!0;const e=t.lineVO.record,s=e.Id||e[this.editorModel.constants.SOURCE_FIELD]||e[this.editorModel.constants.PRODUCT],a=Math.trunc(window.innerHeight/30);(0,R.yJ)("UBPClientState",[],new q.MW(s,t.lineVO.key,a)),(0,R.yJ)("UnsavedUbpChanges",[],t.lineVO.ubpChanges||{}),(0,R.yJ)("UbpInlineEditChanges",[],{rates:{},categories:[]}),(0,R.yJ)(s,["record","CurrencyIsoCode"],e.CurrencyIsoCode),this._loadUbp().then((()=>{n||(n=document.createElement("sf-ubp-editor"),r.appendChild(n));const a=(0,R.Jt)(s,["related","ubpFields"]),l=a.map((e=>e.fieldPath)),d={},c={};for(let e of a)d[e.fieldPath]=e.label,c[e.fieldPath]=e;n.lineRecord=e,n.uiData=de.prepareSingleLineData(t,0,l,c),n.templateHTML=new N((e=>c[e])).generate(l,d),this._toggleEditors(r,o,i),this.$.customActionServices.showSpinner=!1})).catch(this._setError.bind(this))}}_togglePageLoaded(e){e&&e.detail&&(this.pageLoaded=!!e.detail.pageLoaded)}_redirectToLineEditor(){if(!this.ctx.params||!this.ctx.params.jspr)return!1;let e=n.m.getPreviousRoute();return"product/pc"===e||"product/lookup"===e||"favorite/lookup"===e||"asset/lookup"===e||"subscription/lookup"===e||"recommend/lookup"===e}handleLinesAddedByProductRules(){this.$.quoteLineAdder.addEventListener("lines-added-by-rules-changed",function(e){let t=JSON.parse(JSON.stringify(this.data));t.quote.lineItems=t.quote.lineItems.concat(e.detail.value),this.updateQuote(t.quote),this._calculateImmediately({detail:{showSpinner:!1,setPageLoaded:!0}})}.bind(this))}toggleOptional(e){const t=e.detail.groupKey,i=e.detail.toggleOptionalBoolean;this.editorModel.quoteModel.toggleOptional(i,t)}_setCalculateCached(e){this.pageLoaded&&this.calculateGetCacheArray.push(e.detail.cacheHit)}test_isCalculateCached(){return this.calculateGetCacheArray.length>0&&-1==this.calculateGetCacheArray.indexOf(!1)}_openDiagnosticTool(){const e="QLEDiagnosticToolApp",t=`/c/${e}.app`,i=window.open(t,e,"resizable=1,scrollbars=1"),o=new k(window),r=new k(i),n=new D(o,r);n.initPublisher(),D.setInstance(n)}static get template(){return Ve.qy`
		<style include="sb-common-styles sb-icons-styles"></style>
		<style>${He}</style>

		<div id="qlEditorContainer">
			<!-- Put background data loading services here. -->
			<sb-service id="validationErrorConditionDependencies" reader="ErrorConditionDependencyServiceProvider.QuoteScopedValidationQuoteLineFields" background="true"></sb-service>
			<sb-service id="selectionErrorConditionDependencies" reader="ErrorConditionDependencyServiceProvider.QuoteScopedSelectionQuoteLineFields" background="true"></sb-service>

			<!--Load LineEditorModel-->
			<sb-custom-segment-dialog id="cseDialog"></sb-custom-segment-dialog>
			<sb-line-editor-read id="sbLineEditorRead" quote-id="{{ctx.params.qId}}" line-editor-model="{{rawData}}" error="{{errors}}" background="true"></sb-line-editor-read>
			<sb-loading-spinner show="[[!pageLoaded]]"></sb-loading-spinner>
			<!--caches objects-->
			<sb-describe objects="[[mdObjects]]" background="true"></sb-describe>
			<!--Load Field Metadata-->
			<sb-le-field-md id="md" md="{{md}}" currency-decimal-scale="[[data.quote.currencyDecimalScale]]" settings="[[data.settings]]"></sb-le-field-md>
			<!--Load Quote Scoped Product Rules Metadata-->
			<template is="dom-if" if="[[_loadProductRules()]]">
				<sb-service id="productRulesService" uid="jspr" reader="ProductRuleServiceProvider.QuoteRulesLoader" error="{{errors}}" response="{{rules}}" cache="jspr"></sb-service>
			</template>
			<sb-product-rules-quote-line-adder id="quoteLineAdder" error="{{errors}}"></sb-product-rules-quote-line-adder>

			<sb-le-custom-action-services id="customActionServices" data="{{data}}" editor-model="{{editorModel}}" event-detail="[[eventDetail]]" response="{{customActionResponse}}" error="{{error}}" app="[[app]]"></sb-le-custom-action-services>

			<sb-page-header device id="lineEditorPageHeader">
				<div slot="messages" id="messages">
					<sb-toast type="error" messages="[[errors]]"></sb-toast>
				</div>
				<i slot="icon" class="icon sf-icon-custom93"></i>
				<h2 slot="h2" id="headerSubtitle">[[editorModel.data.headerSubtitle]]</h2>
				<!--combine quote # and page label when quote toal is displayed in page header within large quote experience -->
				<template is="dom-if" if="[[subtitleCombined]]">
					<h2 slot="h2" class="separator">|</h2>
					<h2 slot="h2"><sb-i18n>Edit Quote</sb-i18n></h2>
				</template>
				<!--page label for desktop (large quote experience disabled-->
				<template is="dom-if" if="[[!subtitleCombined]]">
					<h1 slot="h1" id="pageLabel"><sb-i18n>Edit Quote</sb-i18n></h1>
				</template>
				<template is="dom-if" if="[[quoteTotalDisplayed]]">
					<h2 slot="quoteTotal" id="quoteTotal">
						<sb-le-footer id="total" quote-model="[[editorModel.quoteModel]]"></sb-le-footer>
					</h2>
				</template>
				<div class="fixedActions hidden" slot="fixedActions" hidden$="[[!editorModel.quoteModel.grouped]]">
					<paper-button noink on-click="toggleGroupPanel" class="sf-icon-rows">
						<span class="badge icon-badge-upper-left">[[editorModel.quoteModel.lineGroups.length]]</span>
					</paper-button>
				</div>
				<div id="actions" class="actions" slot="actions">
					<template is="dom-repeat" items="[[editorModel.quoteCustomActions]]">
						<sb-custom-action name$="[[item.name]]" custom-action="[[item]]" model="[[editorModel.quoteModel]]" button="true"></sb-custom-action>
					</template>
					<template is="dom-if" if="[[_isColumnResizingEnabled()]]">
						<paper-menu-button id="cogDropdown"class$="[[deviceClasses]] columnSizeSetting" ignore-select no-overlap horizontal-align="right" vertical-offset$="[[verticalOffset]]">
							<paper-button noink id="cogButton" slot="dropdown-trigger" class="dropdown-trigger sf-icon-settings">
								<div class="sf-icon-down settings"></div>
							</paper-button>

							<paper-listbox id="cogMenu" slot="dropdown-content" class="dropdown-content">
								<paper-button><sb-i18n key="Reset_Column_Widths" on-click="resetColumnWidths">Reset Column Widths</sb-i18n></paper-button>
							</paper-listbox>
						</paper-menu-button>
					</template>
				</div>

				<template is="dom-if" if="[[editorModel.largeQuoteExperienceEnabled]]">
					<div id="fullScreenMode" slot="fullScreenMode">
						<paper-button noink on-click="toggleFullScreenMode" class="sf-icon-expand"></paper-button>
						<paper-tooltip for="fullScreenMode" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
							<sb-i18n key="fullScreenMode">Toggle Full Screen Mode</sb-i18n>
						</paper-tooltip>
					</div>
				</template>
			</sb-page-header>



			<!--Tabs for mobile line editor-->
			<template is="dom-if" if="[[isMobileRendered]]" restamp="true">
				<template is="dom-if" if="[[groupedQuoteHasNoGroups]]">
					<div id="emptyGroupedQuote"><sb-i18n key="emptyGroupedQuoteMsg">This quote has no line items. Click on Add Group button to select products.</sb-i18n></div>
				</template>
				<template is="dom-if" if="[[ungroupedQuoteHasNoLines]]">
					<div id="emptyQuote"><sb-i18n key="emptyQuoteMsg">This quote has no line items. Click on Add Products button to select products.</sb-i18n></div>
				</template>

				<sb-tabs id="quoteTabs"
						 tabs="[[quoteLevelTabs]]"
						 group-models="{{groupModels}}"
						 right-side-button="{{rightSideButton}}"
						 editor-model="{{editorModel}}"
						 selected-tab-index="[[selectedTabIndex]]"
						 page-component="sb-quote-tabs"
						 hide-tabs="[[hideTabs]]" secondary-tabs></sb-tabs>
			</template>

			<!--Groups-->
			<div device class="groupWrapper">
			<template is="dom-if" if="[[isDesktopRendered]]" restamp="true">
				<sb-le-group-layout id="groupLayout" group-models="{{groupModels}}" right-side-button="[[rightSideButton]]" editor-model="[[editorModel]]" selected-group-key="{{selectedGroupKey}}">
					<!--Quote Fields-->
					<div slot="quoteInformation" id="quoteInformation">
						<template is="dom-if" if="[[hasQuoteFieldSet]]">
							<div class="quoteFieldsContainer">
								<span class$="[[quoteDetailsIconClass]]" on-click="updateQuoteDetails"></span>
								<header class="quoteFieldsHeader">[[editorModel.data.quoteFieldsSectionTitle]]</header>
								<sb-field-set-table num-columns="3" editor-model="[[editorModel]]" object-name="[[editorModel.data.quoteObjectName]]" data="{{editorModel.quoteModel.quoteVO.record}}" hidden$="[[quoteDetailsHidden]]" model="{{editorModel.quoteModel}}"></sb-field-set-table>
							</div>
						</template>
					</div>

					<template is="dom-if" if="[[groupedQuoteHasNoGroups]]">
						<div slot="emptyGroupedQuote" id="emptyGroupedQuote"><sb-i18n key="emptyGroupedQuoteMsg">This quote has no line items. Click on Add Group button to select products.</sb-i18n></div>
					</template>
					<template is="dom-if" if="[[ungroupedQuoteHasNoLines]]">
						<div slot="emptyQuote" id="emptyQuote"><sb-i18n key="emptyQuoteMsg">This quote has no line items. Click on Add Products button to select products.</sb-i18n></div>
					</template>

					<template is="dom-if" if="[[!editorModel.largeQuoteExperienceEnabled]]">
						<sb-le-footer slot="footer" quote-model="[[editorModel.quoteModel]]"></sb-le-footer>
					</template>
				</sb-le-group-layout>
			</template>

			<!--Dialogs-->
			<sb-pricebook-dialog id="pricebookDialog" editor-model="[[editorModel]]"></sb-pricebook-dialog>
			<sb-product-alert id="productAlertModal"></sb-product-alert>
			<div id="ghost" class="ghost"></div>
			</div>
		</div>
		<div id="ubpEditorContainer" class="ubpEditorContainer hidden"></div>
		`}}customElements.define(as.is,as)},7371:(e,t,i)=>{"use strict";i.d(t,{x:()=>r});i(1518);var o=i(5565);
/**
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const r={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:["_scrollTargetChanged(scrollTarget, isAttached)"],_shouldHaveListener:!0,_scrollTargetChanged:function(e,t){if(this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null),t)if("document"===e)this.scrollTarget=this._doc;else if("string"==typeof e){var i=this.domHost;this.scrollTarget=i&&i.$?i.$[e]:(0,o.tT)(this.ownerDocument).querySelector("#"+e)}else this._isValidScrollTarget()&&(this._oldScrollTarget=e,this._toggleScrollListener(this._shouldHaveListener,e))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(e){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,e):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=e)},set _scrollLeft(e){this.scrollTarget===this._doc?window.scrollTo(e,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=e)},scroll:function(e,t){var i;"object"==typeof e?(i=e.left,t=e.top):i=e,i=i||0,t=t||0,this.scrollTarget===this._doc?window.scrollTo(i,t):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=i,this.scrollTarget.scrollTop=t)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(e,t){var i=t===this._doc?window:t;e?this._boundScrollHandler||(this._boundScrollHandler=this._scrollHandler.bind(this),i.addEventListener("scroll",this._boundScrollHandler)):this._boundScrollHandler&&(i.removeEventListener("scroll",this._boundScrollHandler),this._boundScrollHandler=null)},toggleScrollListener:function(e){this._shouldHaveListener=e,this._toggleScrollListener(e,this.scrollTarget)}}},7379:(e,t,i)=>{"use strict";i.r(t),i.d(t,{RecommendationLookup:()=>u});var o=i(7571),r=i(3613),n=i(8873),s=i(4886),a=i(9134),l=i(6206);const d=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
}
:host > #filter {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host #drawer {
  position: relative;
}
`;var c=i(7734);i(2804),i(2367),i(9104),i(5001),i(4459),i(9653),i(7533),i(4482),i(8729),i(8500);class u extends((0,s.$)((0,a.D)(o.YW))){static get is(){return"sb-recommendation-lookup"}static get properties(){return(0,l.X$)({lineEditorModel:Object,selectedProducts:{type:Object,value:{}},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},qId:String,redirectUrl:String},o.YW.properties)}ready(){Object.entries({"errors-changed":"clearStackTrace"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),super.ready(),this.handleSelectButtonClickedServerResponseAndNavigation(),this.$.lookupLayout.additionalFields=["PricebookEntry.UnitPrice"]}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(e){this.lineEditorModel=e.detail.value,this.quote=e.detail.value.quote,this.localizer=new n.N(this.app.org.prefix?this.app.org.prefix+"__":""),this.$.smLoadService.quote=this.$.smSelectService.quote=this.quote}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(e){this.searchModel=this.localizer.localizeSearchModel(e.detail.value),this.$.lookupLayout.fieldPrefix=this.searchModel.targetObjectName+"."}.bind(this))}bindFilterEnterCallBacks(){}handleSelectButtonClickedServerResponseAndNavigation(){this.$.smSelectService.addEventListener("result-changed",function(e){this.lineEditorModel.quote=e.detail.value.quote,0==e.detail.value.configuredProducts.length&&this.handleNonConfigurableProducts(e),e.detail.value.configuredProducts.length>0&&this.handleConfigurableProducts(e)}.bind(this))}handleNonConfigurableProducts(e){"LineEditor"===this.redirectUrl?this.navigateToLineEditor():"RecommendationLookup"===this.redirectUrl&&(this.$.smSelectService.quote=e.detail.value.quote,this.$.lookupLayout.deSelectAll(),this.spinner=!1)}handleConfigurableProducts(e){let t={};e.detail.value.selectedProducts=this.selectedProducts;let i=this.getConfigProductIds(e);t.qId=e.detail.value.quote.record.Id,t.pId=i,t.redirectUrl=this.redirectUrl,t.open=0,this.nav("#",t,["product","pc"],!1)}getConfigProductIds(e){let t=[];for(let i of e.detail.value.configuredProducts)t.push(i.record.Id);return t.join(",")}onSelect(){this.redirectUrl="LineEditor",this.selectedProducts&&Object.keys(this.selectedProducts).length>0?(this.spinner=!0,this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts()):this.navigateToLineEditor()}onSelectMore(){this.redirectUrl="RecommendationLookup",this.selectedProducts&&Object.keys(this.selectedProducts).length>0&&(this.spinner=!0,this.$.smSelectService.selectedProductList=this.getOrderedSelectedProducts())}getOrderedSelectedProducts(){let e=Object.keys(this.selectedProducts).sort(function(e,t){return this.selectedProducts[e].index-this.selectedProducts[t].index}.bind(this)),t=[];for(let i of e){let e=this.selectedProducts[i];e.invalid||t.push(e)}return t}navigateToLineEditor(){let e={qId:this.quote.record.Id};Object.keys(this.selectedProducts).length>0&&(e.jspr=!0),this.nav("#",e,["quote","le"],!1)}onCancel(){let e={qId:this.quote.record.Id};this.nav("#",e,["quote","le"],!1)}clearStackTrace(){this.errors.validations&&this.errors.validations.length>0?this.error=this.errors.validations:this.errors[0]&&(this.error=(0,r.W)(this.errors))}static get template(){return c.qy`
		<style include="sb-tables-styles"></style>
		<style include="sb-common-styles"></style>
		<style>${d}</style>
	    <style include="sb-icons-styles"></style>

		<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>
		<sb-search-model-load id="smLoadService" loader="RecommendationLookupServiceProvider.RecommendationLoader" error="{{errors}}"></sb-search-model-load>
		<sb-search-model-select id="smSelectService" saver="RecommendationLookupServiceProvider.RecommendationSelector"
			error="{{errors}}" uses-client-calculator="[[le.settings.usesClientCalculator]]"
		></sb-search-model-select>

		<sb-loading-spinner id="spinner" show="[[spinner]]"></sb-loading-spinner>

		<sb-page-header device>
			<div slot="messages" id="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>
			<i class="icon sf-icon-product" slot="icon"></i>
			<h1 slot="h1"><sb-i18n>Recommended Products</sb-i18n></h1>
			<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>

			<div class="actions" slot="actions">
				<paper-button noink on-click="onSelect" id="rlSelect"><sb-i18n>Select</sb-i18n></paper-button>
				<paper-button noink on-click="onSelectMore" id="rlSelectMore"><sb-i18n>Select & Add More</sb-i18n></paper-button>
				<paper-button noink on-click="onCancel" id="rlCancel"><sb-i18n>Cancel</sb-i18n></paper-button>
			</div>
		</sb-page-header>
		<paper-drawer-panel device id="drawer" force-narrow disable-swipe="true">
			<div main slot="main">
				<sb-lookup-layout
				id="lookupLayout"
				search-model="{{searchModel}}"
				primary-mobile-cols='["Product2.Name", "UnitPrice"]'
				selection-id-data-path="[[searchModel.targetObjectName]].Id"
				selected-rows="{{selectedProducts}}"
				total-count="{{totalCount}}"
				has-total-count="{{hasTotalCount}}"
				currency-iso-code="[[quote.record.CurrencyIsoCode]]"
				no-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"
				></sb-lookup-layout>
			</div>
		</paper-drawer-panel>
		`}}customElements.define(u.is,u)},7402:(e,t,i)=>{"use strict";i.d(t,{W:()=>o});class o{constructor(e,t){this.product=e,this.prefix=t,this.messages={},this.setOptionConstraints()}setOptionConstraints(){if(!this.product.constraints)return null;let e=this.prefix+"Type__c",t=this.prefix+"ConstrainedOption__c",i=this.prefix+"ConstrainingOption__c",o=this.prefix+"OptionConstraintGroup__c",r={byConstraining:{},byConstrained:{},constrainingByConstrained:{}};this.product.constraints.forEach((n=>{let s=n.record[e],a=n.record[t],l=n.record[i],d=n.record[o]?n.record[o].split(", "):null;this.setByConstraining(r,s,a,l),this.setByConstrained(r,s,a,l,d),"Exclusion"!==s||d||(this.setByConstraining(r,s,l,a),this.setByConstrained(r,s,l,a));let c=r.constrainingByConstrained[a]||[];c.push(this.getOption(l)),r.constrainingByConstrained[a]=c})),this.optionConstraints=r}handleOptionConstraints(e,t){if(!this.optionConstraints||!this.optionConstraints.byConstraining[e])return;let i=[],o=t||this.getOption(e).added;return this.getOption(e).selected=t,this.optionConstraints.byConstraining[e].forEach((t=>{let r=this.optionIsConstrained(t,e,o),n=this.getOption(t.option),s=n.selected,a=n._transient_&&n._transient_.rendered;i.push({optionId:t.option,disabledState:r,selected:s,rendered:a})})),i}getUnrenderedConstraining(e){return(this.optionConstraints.constrainingByConstrained[e]||[]).filter((e=>!e._transient_||!e._transient_.rendered))}optionIsConstrained(e,t,i){let o=e.type,r=this.optionConstraints.byConstrained[e.option],n=Object.keys(r.groups).length>0,s=this.isConstrainedByUngrouped(r);return!!s.constrained||(n?this.isConstrainedByGrouped(r.groups):this.getUnaffectedDisabledState(t,i,"Dependency"===o,s.requiredConditionMet))}isConstrainedByUngrouped(e){let t=!1,i=!1,o=!1,r=e.ungroupedConstraints,n=r?r.length:-1,s=0;for(;!t&&s<n;){let e=this.getOption(r[s].option),n=r[s].type;"Exclusion"===n?t=this.isSelected(e):"Dependency"!==n||o||(o=this.isSelected(e),i=!o),s++}return{constrained:t||i,requiredConditionMet:o}}isConstrainedByGrouped(e){let t=!1,i=!0,o=!1,r=Object.keys(e).length,n=0;for(;n<r;){let r=!1,s=e[Object.keys(e)[n]],a=s.type,l=s.options,d=l.length,c=0;if("Dependency"===a&&i&&!o){for(;!r&&c<d;){let e=this.getOption(l[c]);r=!this.isSelected(e),r||c!==d-1||(i=!1),c++}t=i}if("Exclusion"===a&&!o){for(;!r&&c<d;){let e=this.getOption(l[c]);r=!this.isSelected(e),r||c!==d-1||(o=!0),c++}t=o}n++}return t}getOption(e){return this.product.options.find((t=>t.record.Id===e))}isSelected(e){return e&&(e.selected||e.added||!!e.priorOptionExists)}getUnaffectedDisabledState(e,t,i,o){return i?!o&&!(t||this.getOption(e).priorOptionExists):t||!!this.getOption(e).priorOptionExists}optionShouldBeDisabled(e){let t,i,o,r,n,s=this.optionConstraints.byConstrained[e];if(!s)return!1;if(t=s.ungroupedConstraints.length>=1,i=Object.keys(s.groups).length>=1,t)o=s.ungroupedConstraints[0].option;else{if(!i)return!1;o=s.groups[Object.keys(s.groups)[0]].options[0]}return r=this.isSelected(this.getOption(o)),n=this.optionConstraints.byConstraining[o].find((t=>t.option===e)),this.optionIsConstrained(n,o,r)}setByConstraining(e,t,i,o){e.byConstraining[o]=e.byConstraining[o]||[],e.byConstraining[o].push({type:t,option:i})}setByConstrained(e,t,i,o,r){e.byConstrained[i]=e.byConstrained[i]||{ungroupedConstraints:[],groups:{}},r?this.setConstrainedForGroups(e,t,i,o,r):this.setConstrainedForUngrouped(e,t,i,o)}setConstrainedForGroups(e,t,i,o,r){for(let n of r)e.byConstrained[i].groups[n]=e.byConstrained[i].groups[n]||{type:t,options:[]},e.byConstrained[i].groups[n].options.push(o)}setConstrainedForUngrouped(e,t,i,o){e.byConstrained[i].ungroupedConstraints.push({type:t,option:o})}getConstrainingByConstrained(){return Object.values(this.optionConstraints.constrainingByConstrained)}}},7412:(e,t,i)=>{"use strict";i.r(t),i.d(t,{FavoriteLookup:()=>w});var o=i(6206),r=i(8449),n=i(7874),s=i(7571),a=i(9406),l=i(3613),d=i(7622),c=i(2619);const u=c.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
  --my-page-header-display: block;
  --my-page-header-width: 160px;
  --sbTableInnerTdPadding: 16px 10px 8px 55px;
  --sbFieldWordWrap: break-word;
}
:host > #pageBody {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host .left {
  margin-right: 20px;
}
:host .left[class*='--mobile'] {
  margin-right: 0;
}
:host [class*='--mobile'] .left {
  margin-right: 0;
}
`;i(4167);var h=i(4886),p=i(7734),f=(i(7543),i(347),i(2804),i(1520),i(1306),i(1925),i(7893),i(8421),i(5001),i(3311)),b=i(4127),g=i(1149);const m=c.b`
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host .mobile {
  --sbDialogContentPadding: 0;
  --sbDialogContentHeight: none;
}
:host .footer paper-button.share {
  background-color: #0070d2;
  color: #ffffff;
}
`;i(1863),i(4),i(197),i(4547),i(57);const y=c.b`
:host #multilookup {
  padding: 10px 0;
  width: 400px;
  margin: 0 auto;
}
:host #multilookup.mobile {
  background-color: #f0f1f2;
  padding: 0;
  width: 100%;
}
:host #selectedContainer {
  max-width: 400px;
  height: 85px;
  border: 1px solid lightgrey;
  border-top-left-radius: 0px;
  border-top-right-radius: 0px;
  margin: -1px auto -2px auto;
  padding: 6px 4px 4px 4px;
  overflow-y: scroll;
  text-align: left;
}
:host #selectedContainer.mobile {
  max-width: none;
  background-color: white;
  border-radius: 0;
  border-left: none;
  border-right: none;
  margin: -1px 0 0 0;
}
:host #selectedContainer.mobile .pill {
  font-size: 18px;
  margin-left: 2%;
  margin-top: 4px;
  width: 96%;
  padding: 10px;
}
:host #selectedContainer.mobile .pill .sf-icon-close {
  float: right;
}
:host #selectedContainer .pill {
  background-color: #d8edff;
  border-radius: 8px;
  display: inline-block;
  margin-bottom: 4px;
  padding: 4px 4px 4px 6px;
  position: relative;
}
:host #selectedContainer .pill .item-label {
  padding: 0 4px;
}
:host #selectedContainer .pill .sf-icon-close {
  padding-right: 4px;
  cursor: pointer;
}
:host #selectedContainer .pill.invalid-selection {
  animation: shake 1s;
}
@keyframes shake {
  10%,
  90% {
    transform: translate3d(-1px, 0, 0);
  }
  20%,
  80% {
    transform: translate3d(2px, 0, 0);
  }
  30%,
  50%,
  70% {
    transform: translate3d(-4px, 0, 0);
  }
  40%,
  60% {
    transform: translate3d(4px, 0, 0);
  }
}
:host #lookupContainer {
  text-align: center;
  width: 100%;
}
:host #lookupContainer sb-lookup {
  --sbTypeaheadSelectorTop: 204px;
  --sbTypeaheadSelectorLeft: 50px;
  --sbTypeaheadSelectorMinWidth: 80%;
  --sbTypeaheadSelectorBorderRadius: 0;
  --sidePanelInputWidth: 100%;
  --sidePanelInputHeight: 36px;
  --sbTypeaheadInputFontSize: 14px;
  --sbTypeaheadInputBorderRadius: 0;
  --ironInputWidth: 100%;
}
:host #lookupContainer.mobile sb-lookup {
  --sbTypeaheadIronInputWidthMobile: 100%;
  --sbTypeaheadInputWidthMobile: calc(100% - 14px);
  --sbTypeaheadInputMarginMobile: 7px;
  --sbTypeaheadInputHeightMobile: 44px;
  --sbTypeaheadInputFontSizeMobile: 18px;
  --sbTypeaheadInputPlaceholderFontSizeMobile: 16px;
}
:host #resultsTable.mobile .thead {
  padding: 13px 14px 13px 14px;
  border-bottom: 1px solid #d8dde6;
  font-size: 18px;
  font-weight: bold;
  background-color: #f4f6f9;
}
:host #resultsTable.mobile .tbody .trow {
  background-color: #f4f6f9;
  border-bottom: 1px solid #d8dde6;
  padding: 14px;
  width: 100%;
  font-size: 1rem;
}
`;class v extends((0,h.$)(p.Pu)){static get is(){return"sb-multi-lookup"}static get properties(){return{tableName:String,objectName:String,hideCancel:Boolean,iconName:String,iconMap:Object,results:Array,selectedItems:{type:Array,value:[]},selectedIdsByItems:{type:Object,value:{}},customCallBack:Function,viewport:{type:Object,value:function(){return f.L.getViewport()}},inDialog:Boolean,menuItemLabels:Array,isMobile:Boolean}}updateTable(e){this.results=e}ready(){super.ready(),this.$.lookup.addEventListener("lookup-value-changed",function(e){let t=e.detail.obj;this.selectedIdsByItems[t.Id]?this._animateDuplicate(t):this._addItem(t)}.bind(this)),this.viewport&&this.viewport.isMobile()&&this._appendMobileClasses()}_addItem(e){this.selectedIdsByItems[e.Id]=e,this.unshift("selectedItems",e)}_iconClass(e){return this.iconName&&this.iconMap?this.iconMap[e[this.iconName]]:""}_animateDuplicate(e){let t=this.$.selectedContainer.querySelectorAll(".pill");for(let i=0;i<t.length;i++)if(t[i].dataValue==e.Id)return t[i].addEventListener("webkitAnimationEnd",function(){(0,o.p1)("invalid-selection",!1,t[i])}.bind(this),!1),void(0,o.p1)("invalid-selection",!0,t[i])}_appendMobileClasses(){this.isMobile=!0,(0,o.p1)("mobile",!0,this.$.multilookup),(0,o.p1)("mobile",!0,this.$.selectedContainer),(0,o.p1)("mobile",!0,this.$.lookupContainer),(0,o.p1)("mobile",!0,this.$.resultsTable)}removeItem(e){this.splice("selectedItems",e.target.parentNode.dataIndex,1),delete this.selectedIdsByItems[e.target.parentNode.dataValue]}selectRow(e){let t=this.results[e.currentTarget.index];this.selectedIdsByItems[t.Id]?this._animateDuplicate(t):this._addItem(t)}clear(){this.selectedItems=[],this.selectedIdsByItems={}}static get template(){return p.qy`
	    <style include="sb-icons-styles"></style>
	    <style include="sb-common-styles"></style>
	    <style include="sb-forms-styles"></style>
	    <style>${y}</style>
		<div device id="multilookup">
			<div id="lookupContainer">
				<sb-lookup id="lookup"
						   table-name="[[tableName]]"
						   in-dialog="[[inDialog]]"
						   hide-cancel-icon="true"
						   clear-after-selection="true"
						   placeholder="Enter a name or group"
						   custom-callback="[[customCallback]]"
						   menu-item-labels="[[menuItemLabels]]"
						   label=""
				></sb-lookup>
			</div>
			<div id="selectedContainer">
				<template is="dom-repeat" items="[[selectedItems]]" as="item">
					<div class="pill" data-value="[[item.Id]]" data-index="[[index]]">
						<span class$="pill-icon [[_iconClass(item)]]"></span>
						<span class="item-label">[[item.label]]</span>
						<span class="sf-icon-close" on-click="removeItem"></span>
					</div>
				</template>
			</div>
			<div id="resultsTable">
				<template is="dom-if" if="[[isMobile]]">
					<div class="thead">[[objectName]]</div>
					<div class="tbody" id="tbody">
						<template is="dom-repeat" items="[[results]]" as="row">
							<div class="trow" index="[[index]]" on-click="selectRow">[[row.label]]</div>
						</template>
					</div>
				</template>
			</div>
		</div>
	    `}}customElements.define(v.is,v);i(9139),i(7533);class _ extends((0,b.g)((0,h.$)(p.Pu))){static get is(){return"sb-favorite-share-dialog"}static get properties(){return{favdUsers:{type:Array,value:[]},favdGroups:{type:Array,value:[]},favoriteCallback:{type:Function,value:function(){return this._favoriteCallbackFunction.bind(this)}},iconMap:{type:Object,value:{User:"sf-icon-user",Group:"sf-icon-groups"}},viewport:{type:Object,value:function(){return f.L.getViewport()}}}}ready(){super.ready(),this.addEventListener("sb-cancel-share-fav",this.onCancel),this.viewport&&this.viewport.isMobile()&&(0,o.p1)("mobile",!0,this.$.dialog)}_favoriteCallbackFunction(e){return new Promise(function(t,i){null==e||e.length<2?this.viewport.isMobile()?this.$.multilookup.updateTable([]):t([]):(this.$.service.uid="",this.$.service.context=e,this.$.multilookup.menuItemLabels=["label"],this.$.service.addEventListener("response-changed",function(e){let i=this._parseResults(e.detail.value);this.viewport.isMobile()?this.$.multilookup.updateTable(i):t(i)}.bind(this)),this.$.service.addEventListener("error-changed",function(e){i(e.detail.value)}.bind(this)))}.bind(this))}_parseResults(e){let t=e.groups,i=t.length,o=e.users,r=o.length;for(let e=0;e<i;e++)t[e].type="Group",t[e].label=`Group - ${t[e].Name}`;for(let e=0;e<r;e++)o[e].type="User",o[e].label=`User - ${o[e].Name}`;return o.concat(t)}onShare(){let e=this.$.multilookup.selectedIdsByItems,t=Object.keys(e).map((function(t){return e[t]})),i=t.length;for(let e=0;e<i;e++){let i="Group"===t[e].type?"favdGroups":"favdUsers";this.push(i,t[e].Id)}this.dispatchEvent((0,g.uv)("favorite-shared",{groups:this.favdGroups,users:this.favdUsers})),this.$.dialog.toggle(),this._clearFavdLists()}onCancel(){this.$.dialog.toggle()}_clearFavdLists(){this.set("favdUsers",[]),this.set("favdGroups",[]),this.$.multilookup.clear()}static get template(){return p.qy`
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style include="sb-dialogs-styles"></style>
			<style>${m}</style>

			<sb-dialog device id="dialog" modal="true" close-dialog="sb-cancel-share-fav" appended-class="share-fav">
				<i slot="icon" class="sb-icon-star icon"></i>
				<div slot="title" class="title"><sb-i18n>Share Favorites</sb-i18n></div>
				<paper-button slot="paper-button" class="primary" on-click="onShare"><sb-i18n>Share</sb-i18n></paper-button>

				<div slot="content" class="content">
					<sb-multi-lookup id="multilookup" custom-callback="[[favoriteCallback]]" table-name="" in-dialog="true" icon-name="type" icon-map="[[iconMap]]" object-name="Users & Groups"></sb-multi-lookup>
				</div>
			</sb-dialog>
			<sb-service id="service" loader="FavoriteLookupServiceProvider.UserGroupModel" background="true"></sb-service>
		`}}customElements.define(_.is,_);i(8729),i(8500);class w extends((0,h.$)(s.YW)){static get is(){return"sb-favorite-lookup"}static get properties(){return(0,o.X$)({lineEditorModel:Object,favoriteModel:Object,selectedFavorites:{type:Object,value:{}},actions:{type:Array,value:[]},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},qId:String,aId:String,groupKey:Number,isMobile:Boolean},s.YW.properties)}connectedCallback(){super.connectedCallback(),this.$.le.addEventListener("line-editor-model-changed",(e=>{this.lineEditorModel=e.detail.value,this._setMetaData(this.mdFields,this.lineEditorModel)})),this.$.md.addEventListener("md-changed",(e=>{this.mdFields=e.detail.value.fields,this._setMetaData(this.mdFields,this.lineEditorModel)})),this.$.fm.addEventListener("response-changed",(()=>{this._setSelected()})),this.$.addFavorite.addEventListener("response-changed",(e=>{let t=e.detail.value;if(t.partialVO&&(t=this._recombinePartialQuoteWithFullQuote(t)),this.lineEditorModel.quote=t,this._toggleSelected(),!this.addMore){let e={qId:this.qId};Object.keys(this.selectedFavorites).length>0&&(e.jspr=!0),null!=this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),n.m.nav("#",e,["quote","le"],!1,this)}this.$.header.selected=!1,this.addMore=!1})),this.addEventListener("favorite-shared",(e=>{this.$.shareFavorites.addEventListener("response-changed",function(){this._toggleSelected()}.bind(this));let t=(new a.k).add("favIds",Object.keys(this.selectedFavorites)).add("groupIds",e.detail.groups).add("userIds",e.detail.users).build();this.$.shareFavorites.model=t})),this._handleOneFavoriteSelected(),this._handleAllFavoritesSelected()}ready(){Object.entries({"errors-changed":"clearStackTrace"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),super.ready(),this.qId=this.qId||this.ctx.params.qId,this.aId=this.aId||this.ctx.params.aId,this.groupKey=parseInt(this.groupKey||this.ctx.params.groupKey)||null,this.isMobile=this._isMobileViewport()}_recombinePartialQuoteWithFullQuote(e){var t=this.le.quote.lineItems;return e.lineItems=t.concat(e.lineItems),delete e.segmentTemplatesByDimensionTypeByGroupKey,delete e.emptyGroupKeys,e.partialVO=!1,e}_setMetaData(e,t){if(void 0===e||void 0===t)return!1;this.cols=e.map((e=>e.name));let i={},o={};for(let t of e)i[t.name]={type:t.type},o[t.name]=t.label;this.model=i;let r=t.developerPrefix+"Description__c";this.primaryMobileCols=["Name",r],this.colsDisplay=o,this.fieldLabels=e.map((e=>e.label))}_setSelected(){this.favoriteModel.favorites.forEach((e=>e.selected=!1))}_handleOneFavoriteSelected(){this.addEventListener("selection-changed",(e=>{let t=e.detail,i=t.selected,o=t.Id;i?this.selectedFavorites[o]=t:delete this.selectedFavorites[o]}))}_handleAllFavoritesSelected(){this.addEventListener("header-selection-changed",(e=>{e.detail.selected?(this._toggleSelected(!0),this.favoriteModel.favorites.forEach(function(e){this.selectedFavorites[e.record.Id]=e.record}.bind(this))):(this._toggleSelected(!1),this.selectedFavorites={})}))}_toggleSelected(e){let t=e||!1;this.$.header.selected=t;let i=this.$.tbody.querySelectorAll("sb-table-row");if(i&&i.length>0)for(let e of i)e.selected=t}_removeSelections(){this.selectedFavorites={},this._setSelected()}_isMobileViewport(){return this.viewport&&this.viewport.isMobile()}onDeleteFavorite(){const e=Object.keys(this.selectedFavorites);let t=(new a.k).add("quoteFavIds",this.le.quote.favoriteIds||[]).add("favIdsToRemove",e).build();this.$.deleteFavorite.save({model:t}).then((()=>{const t=new d.Y(this.le.developerPrefix).FAVORITE_ID_FIELD;(0,o.B)(e,t,this.le.quote.lineItems)}))}toggleAddProducts(){this._toggleSelected();let e={qId:this.qId};null!=this.groupKey&&(e.groupKey=this.groupKey),this.aId&&(e.aId=this.aId),n.m.nav("#",e,["product","lookup"],!1,this)}onShareFavorite(){0!==Object.keys(this.selectedFavorites).length?this.$.shareFavorite.$.dialog.toggle():this.error=["Please select at least one favorite to share."]}onSelect(){let e=this.le.settings.largeQuoteThreshold,t=this.le.customLabels.msg_large_quote_sent_without_lines,i=this.le.quote;e&&i.lineItems.length>e&&(i=this._minimizeQuoteVO(i),console.log(t.replace("{0}",i.record.Id).replace("{1}",e)));let o=(new a.k).addQuote("quote",i).add("groupKey",this.groupKey).add("favIds",Object.keys(this.selectedFavorites)).build();this.$.addFavorite.model=o}_minimizeQuoteVO(e){let t=JSON.parse(JSON.stringify(e)),i=new r.M(e),o=i.getSegmentTemplatesByDimensionTypeForGroupKey(this.groupKey);return t.segmentTemplatesByDimensionTypeByGroupKey={},t.segmentTemplatesByDimensionTypeByGroupKey[(this.groupKey||-1)+""]=o,t.emptyGroupKeys=i.getKeysOfEmptyGroups(),t.lineItems=[],t.partialVO=!0,t}onSelectMore(){this.addMore=!0,this.onSelect()}onCancel(){let e={qId:this.qId};null!=this.ctx.params.groupKey&&(e.groupKey=this.ctx.params.groupKey),n.m.nav("#",e,["quote","le"],!1,this)}clearStackTrace(){this.errors.validations&&this.errors.validations.length>0?this.error=this.errors.validations:this.errors[0]&&(this.error=(0,l.W)(this.errors))}static get template(){return p.qy`
			<style include="sb-tables-styles"></style>
			<style include="sb-common-styles"></style>
			<style include="sb-icons-styles"></style>
			<style>${u}</style>

			<sb-line-editor-read id="le" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>
			<sb-service id="fm" saver="FavoriteLookupServiceProvider.FavoriteModel" model=[[le.quote.favoriteIds]] response={{favoriteModel}} error="{{errors}}"></sb-service>
			<sb-field-md id="md" object="Favorite__c" fields="[[favoriteModel.resultFieldNames]]" error="{{errors}}"></sb-field-md>

			<!--Favorite services-->
			<sb-service id="deleteFavorite" saver="FavoriteLookupServiceProvider.FavoriteDeleter" response={{favoriteModel}} error="{{errors}}"></sb-service>
			<sb-service id="addFavorite" saver="FavoriteLookupServiceProvider.FavoriteAdder" error="{{errors}}"></sb-service>
			<sb-service id="shareFavorites" saver="FavoriteLookupServiceProvider.FavoriteSharer" error="{{errors}}"></sb-service>

			<sb-page-header device>
				<div slot="messages" id="messages"><sb-toast type="error" messages="[[error]]"></sb-toast></div>
				<i slot="icon" class="icon sf-icon-favorite"></i>
				<h1 slot="h1" id="headerTitle"><sb-i18n>Favorite Lookup</sb-i18n></h1>
				<h2 slot="h2" id="headerSubtitle">[[le.headerSubtitle]]</h2>
				<div class="actions left" slot="actions">
					<template is="dom-if" if="[[isMobile]]">
						<paper-button id="addProdFavBtn" noink on-click="toggleAddProducts"><sb-i18n>Add Products</sb-i18n></paper-button>
					</template>
					<template is="dom-if" if="[[!isMobile]]">
						<paper-button id="addProdFavBtn" noink on-click="toggleAddProducts" class="sf-icon-search"></paper-button>
						<paper-tooltip
							for="addProdFavBtn"
							position="bottom"
							animation-delay="0"
							offset="10"
							fit-to-visible-bounds="true">
							<sb-i18n>Visit Product Search Page</sb-i18n>
						</paper-tooltip>
					</template>
					<paper-button id="shareFavBtn" noink on-click="onShareFavorite"><sb-i18n>Share</sb-i18n></paper-button>
					<paper-tooltip
						for="shareFavBtn"
						position="bottom"
						animation-delay="0"
						offset="10"
						fit-to-visible-bounds="true">
						<sb-i18n>Share favorites with other users</sb-i18n>
					</paper-tooltip>
					<paper-button id="deleteFavBtn" noink on-click="onDeleteFavorite"><sb-i18n>Delete</sb-i18n></paper-button>
				</div>
				<div class="actions" slot="actions">
					<paper-button id="selectFavBtn" noink on-click="onSelect"><sb-i18n>Select</sb-i18n></paper-button>
					<paper-button id="selectMoreFavBtn" noink on-click="onSelectMore"><sb-i18n>Select & Add More</sb-i18n></paper-button>
					<paper-button id="cancelFavBtn" noink on-click="onCancel"><sb-i18n>Cancel</sb-i18n></paper-button>
				</div>
			</sb-page-header>

			<div id="pageBody">
				<div device class="datatable">
					<div class="thead">
						<sb-table-header id="header" selectable="[[fieldLabels]]" cols="[[fieldLabels]]" last-column-content-class="favoriteAction">
						</sb-table-header>
					</div>
					<div class="tbody" id="tbody">
						<template is="dom-repeat" items="{{favoriteModel.favorites}}" as="favorite">
							<sb-table-row cell="sb-table-cell"
										  cols="[[cols]]"
										  cols-display="[[colsDisplay]]"
										  primary-mobile-cols="[[primaryMobileCols]]"
										  row-data="[[favorite.record]]"
										  model="[[model]]"
										  selectable="[[fieldLabels]]"
										  selection-id-data-path="Id"
										  selected="[[favorite.selected]]"
										  route-source="FavoriteLookup"
										  row-actions="[[actions]]"
							></sb-table-row>
						</template>
					</div>
				</div>
			</div>

			<!--Share Modal-->
			<sb-favorite-share-dialog device id="shareFavorite"></sb-favorite-share-dialog>
		`}}customElements.define(w.is,w)},7517:(e,t,i)=>{"use strict";var o=i(6902),r=i(3311),n=i(4886),s=i(6206),a=i(7734);i(347),i(7543),i(1520),i(4167),i(4),i(9235);const l=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  display: block;
}
:host .visibilityHidden {
  visibility: hidden;
}
:host .sb-action-icon {
  color: var(--sbIconColor);
  cursor: pointer;
  border-bottom: none;
  display: inline;
}
:host .sb-action-icon:hover {
  color: var(--sbIconHoverColor);
}
:host .sb-action-icon.disabled {
  color: var(--sbIconDisabledColor);
  cursor: default;
  opacity: 0.5;
}
:host .sf-icon-custom_apps {
  padding-left: var(--sf-icon-padding);
  padding-right: var(--sf-icon-padding);
}
:host paper-tooltip[class*='--mobile'] {
  display: none;
}
:host [class*='--mobile'] paper-tooltip {
  display: none;
}
.sb-action-icon[class*='--mobile'] {
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 20px;
  color: #FFF;
}
.sb-icon-plus[class*='--mobile'] {
  background-color: lightgreen;
}
.sf-icon-delete[class*='--mobile'] {
  background-color: lightcoral;
}
.sf-icon-custom_apps[class*='--mobile'] {
  background-color: #8c5e8c;
}
.configurationRequired[class*='--mobile'] {
  border-left: solid thick #C00;
}
[class*='--mobile'] .sb-action-icon {
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 20px;
  color: #FFF;
}
[class*='--mobile'] .sb-icon-plus {
  background-color: lightgreen;
}
[class*='--mobile'] .sf-icon-delete {
  background-color: lightcoral;
}
[class*='--mobile'] .sf-icon-custom_apps {
  background-color: #8c5e8c;
}
[class*='--mobile'] .configurationRequired {
  border-left: solid thick #C00;
}
`;class d extends((0,n.$)(a.Pu)){static get is(){return"sb-actions"}static get properties(){return{rowActions:Array,position:{type:String,value:"left"},data:{type:Object,notify:!0},viewport:{type:Object,value:function(){return r.L.getViewport()}},i18n:{type:Object,value:function(){return o.B.properties.i18n.value()}},index:Number}}static get observers(){return["disableActions(data.disabledData.disabled)"]}ready(){super.ready(),this.isMobile=this._isMobileViewport()}shouldDisable(e){if(this.data&&this.rowActions&&this.rowActions[e])return"Delete"==this.rowActions[e].title&&(this.data.required&&!this.data.addedManually||!!this.data.disabledData&&this.data.disabledData.disabled)}_isMobileViewport(){return this.viewport&&this.viewport.isMobile()}tapEvent(e){this.rowActions[e.currentTarget.dataIndex].onTapFunction&&!this.shouldDisable(e.currentTarget.dataIndex)&&this.rowActions[e.currentTarget.dataIndex].onTapFunction.bind(this)()}_isVisible(e){return e?"visibilityHidden":""}displayTitle(e,t){return this.shouldDisable(t)?"Disabled":this.i18n.l(e.title)}_isDisabled(e){return this.shouldDisable(e)?"disabled":""}disableActions(){if(this.shadowRoot.querySelector(".sb-action-icon")&&this.rowActions)for(let e=0;e<this.rowActions.length;e++)(0,s.p1)("disabled",this.shouldDisable(e),this.shadowRoot.querySelector("#_"+e))}_configurationRequired(e){if(!this.isMobile||this.data.configured)return"";for(let t=0;t<this.rowActions.length;t++)if("Configure"===e&&this.rowActions[t].configurationRequired)return"configurationRequired"}static get template(){return a.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style include="sb-tables-styles"></style>
		<style>${l}</style>
		
	    <template is="dom-repeat" items="[[rowActions]]" as="action">
			<template is="dom-if" if="[[!action.hidden]]">
				<span id="_[[index]]" class$="td sb-action-icon [[action.icon]] [[_isVisible(action.invisible)]] [[_isDisabled(index)]] [[deviceClasses]] [[_configurationRequired(action.title, rowActions, data)]]" on-click="tapEvent" data-index="[[index]]"></span>
				<paper-tooltip for="_[[index]]" animation-delay="250" fit-to-visible-bounds="false" offset="0">[[displayTitle(action, index)]]</paper-tooltip>
			</template>
		</template>
	    `}}customElements.define(d.is,d)},7533:(e,t,i)=>{"use strict";var o=i(7734),r=i(6902),n=i(1924);class s extends o.Pu{static get is(){return"sb-i18n"}static get properties(){return{locale:{type:String,notify:!1,value:function(){return""}},key:{type:String,notify:!1},value:{type:String,value:null},values:{type:Array,value:[]}}}static get observers(){return["_localizeObserver(key, value, values)"]}connectedCallback(){super.connectedCallback(),this.key=this.key?this.key:this.innerHTML,/{[0-9]}/.test(this.innerHTML)&&(this.innerHTML="")}_localizeObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.localize(e,t,i)}localize(){this.innerHTML=this.l(this.key,this.value?[this.value]:this.values)}l(e,t){return n.F.localize(e,t)}format(e,t){return n.F.format(e,t,r.B.user)}formatTime(e){return n.F.formatTime(e,r.B.user)}parseTime(e){return n.F.parseTime(e)}}customElements.define(s.is,s)},7543:(e,t,i)=>{"use strict";var o=i(7734),r=i(7212),n=i(197),s=i(7695),a=i(3080),l=i(8591),d=i(4353),c=i(7586),u=i(3900);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
class h extends o.Pu{static get is(){return"dom-if"}static get template(){return null}static get properties(){return{if:{type:Boolean,observer:"__debounceRender"},restamp:{type:Boolean,observer:"__debounceRender"},notifyDomChange:{type:Boolean}}}constructor(){super(),this.__renderDebouncer=null,this._lastIf=!1,this.__hideTemplateChildren__=!1,this.__template,this._templateInfo}__debounceRender(){this.__renderDebouncer=r.aq.debounce(this.__renderDebouncer,s._3,(()=>this.__render())),(0,n.O)(this.__renderDebouncer)}disconnectedCallback(){super.disconnectedCallback();const e=(0,l.L)(this).parentNode;e&&(e.nodeType!=Node.DOCUMENT_FRAGMENT_NODE||(0,l.L)(e).host)||this.__teardownInstance()}connectedCallback(){super.connectedCallback(),(0,d.I)()||(this.style.display="none"),this.if&&this.__debounceRender()}__ensureTemplate(){if(!this.__template){const e=this;let t=e._templateInfo?e:(0,l.L)(e).querySelector("template");if(!t){let e=new MutationObserver((()=>{if(!(0,l.L)(this).querySelector("template"))throw new Error("dom-if requires a <template> child");e.disconnect(),this.__render()}));return e.observe(this,{childList:!0}),!1}this.__template=t}return!0}__ensureInstance(){let e=(0,l.L)(this).parentNode;if(this.__hasInstance()){let t=this.__getInstanceNodes();if(t&&t.length){if((0,l.L)(this).previousSibling!==t[t.length-1])for(let i,o=0;o<t.length&&(i=t[o]);o++)(0,l.L)(e).insertBefore(i,this)}}else{if(!e)return!1;if(!this.__ensureTemplate())return!1;this.__createAndInsertInstance(e)}return!0}render(){(0,n.b)()}__render(){if(this.if){if(!this.__ensureInstance())return}else this.restamp&&this.__teardownInstance();this._showHideChildren(),c.w9&&!this.notifyDomChange||this.if==this._lastIf||(this.dispatchEvent(new CustomEvent("dom-change",{bubbles:!0,composed:!0})),this._lastIf=this.if)}__hasInstance(){}__getInstanceNodes(){}__createAndInsertInstance(e){}__teardownInstance(){}_showHideChildren(){}}const p=c.s?class extends h{constructor(){super(),this.__instance=null,this.__syncInfo=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.templateInfo.childNodes}__createAndInsertInstance(e){const t=this.__dataHost||this;if(c.yu&&!this.__dataHost)throw new Error("strictTemplatePolicy: template owner not trusted");const i=t._bindTemplate(this.__template,!0);i.runEffects=(e,t,i)=>{let o=this.__syncInfo;if(this.if)o&&(this.__syncInfo=null,this._showHideChildren(),t=Object.assign(o.changedProps,t)),e(t,i);else if(this.__instance)if(o||(o=this.__syncInfo={runEffects:e,changedProps:{}}),i)for(const e in t){const t=(0,a.zr)(e);o.changedProps[t]=this.__dataHost[t]}else Object.assign(o.changedProps,t)},this.__instance=t._stampTemplate(this.__template,i),(0,l.L)(e).insertBefore(this.__instance,this)}__syncHostProperties(){const e=this.__syncInfo;e&&(this.__syncInfo=null,e.runEffects(e.changedProps,!1))}__teardownInstance(){const e=this.__dataHost||this;this.__instance&&(e._removeBoundDom(this.__instance),this.__instance=null,this.__syncInfo=null)}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,(0,u.$k)(e,this.__instance.templateInfo.childNodes)),e||this.__syncHostProperties()}}:class extends h{constructor(){super(),this.__ctor=null,this.__instance=null,this.__invalidProps=null}__hasInstance(){return Boolean(this.__instance)}__getInstanceNodes(){return this.__instance.children}__createAndInsertInstance(e){this.__ctor||(this.__ctor=(0,u.sm)(this.__template,this,{mutableData:!0,forwardHostProp:function(e,t){this.__instance&&(this.if?this.__instance.forwardHostProp(e,t):(this.__invalidProps=this.__invalidProps||Object.create(null),this.__invalidProps[(0,a.zr)(e)]=!0))}})),this.__instance=new this.__ctor,(0,l.L)(e).insertBefore(this.__instance.root,this)}__teardownInstance(){if(this.__instance){let e=this.__instance.children;if(e&&e.length){let t=(0,l.L)(e[0]).parentNode;if(t){t=(0,l.L)(t);for(let i,o=0;o<e.length&&(i=e[o]);o++)t.removeChild(i)}}this.__invalidProps=null,this.__instance=null}}__syncHostProperties(){let e=this.__invalidProps;if(e){this.__invalidProps=null;for(let t in e)this.__instance._setPendingProperty(t,this.__dataHost[t]);this.__instance._flushProperties()}}_showHideChildren(){const e=this.__hideTemplateChildren__||!this.if;this.__instance&&Boolean(this.__instance.__hidden)!==e&&(this.__instance.__hidden=e,this.__instance._showHideChildren(e)),e||this.__syncHostProperties()}};customElements.define(p.is,p)},7571:(e,t,i)=>{"use strict";i.d(t,{YW:()=>a});var o=i(3311),r=i(6902),n=i(7874),s=window&&window.sb||{};s.ui=s.ui||{},s.common=s.common||{},s.common.core=s.common.core||{},window.sb=s;class a extends r.B{ready(){super.ready()}connectedCallback(){super.connectedCallback()}disconnectedCallback(){super.disconnectedCallback()}nav(e,t,i,o){n.m.nav(e,t,i,o,this)}static get properties(){return{ctx:{type:Object,value:function(){return{}}},viewport:{type:Object,value:function(){return o.L.getViewport()}}}}}},7586:(e,t,i)=>{"use strict";i.d(t,{CE:()=>_,F3:()=>h,Hp:()=>l,IP:()=>u,Kp:()=>p,Xj:()=>b,bK:()=>g,dV:()=>a,ek:()=>c,fF:()=>m,oO:()=>f,qM:()=>n,s:()=>y,sv:()=>r,vK:()=>w,w9:()=>v,wA:()=>s,yu:()=>d});i(8443);var o=i(7263);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const r=!window.ShadyDOM||!window.ShadyDOM.inUse,n=(Boolean(!window.ShadyCSS||window.ShadyCSS.nativeCss),window.customElements.polyfillWrapFlushCallback,r&&"adoptedStyleSheets"in Document.prototype&&"replaceSync"in CSSStyleSheet.prototype&&(()=>{try{const e=new CSSStyleSheet;e.replaceSync("");const t=document.createElement("div");return t.attachShadow({mode:"open"}),t.shadowRoot.adoptedStyleSheets=[e],t.shadowRoot.adoptedStyleSheets[0]===e}catch(e){return!1}})());let s=window.Polymer&&window.Polymer.rootPath||(0,o.rG)(document.baseURI||window.location.href);let a=window.Polymer&&window.Polymer.sanitizeDOMValue||void 0;let l=window.Polymer&&window.Polymer.setPassiveTouchGestures||!1;let d=window.Polymer&&window.Polymer.strictTemplatePolicy||!1;let c=window.Polymer&&window.Polymer.allowTemplateFromDomModule||!1;let u=window.Polymer&&window.Polymer.legacyOptimizations||!1;let h=window.Polymer&&window.Polymer.legacyWarnings||!1;let p=window.Polymer&&window.Polymer.syncInitialRender||!1;let f=window.Polymer&&window.Polymer.legacyUndefined||!1;let b=window.Polymer&&window.Polymer.orderedComputed||!1;let g=!0;let m=window.Polymer&&window.Polymer.removeNestedTemplates||!1;let y=window.Polymer&&window.Polymer.fastDomIf||!1;let v=window.Polymer&&window.Polymer.suppressTemplateNotifications||!1;let _=window.Polymer&&window.Polymer.legacyNoObservedAttributes||!1;let w=window.Polymer&&window.Polymer.useAdoptedStyleSheetsWithBuiltCSS||!1},7622:(e,t,i)=>{"use strict";i.d(t,{Y:()=>r});let o=null;function r(e){this.QUOTE=`${e}Quote__c`,this.QUOTE_LINE=`${e}QuoteLine__c`,this.QUOTE_LINE_GROUP=`${e}QuoteLineGroup__c`,this.LAST_MODIFIED_DATE_FIELD="LastModifiedDate",this.ACCOUNT_FIELD=`${e}Account__r`,this.ACCOUNT_ID_FIELD=`${e}Account__c`,this.ACTION_FIELD=`${e}Action__c`,this.ADDITIONAL_DISCOUNT_AMOUNT_FIELD=`${e}AdditionalDiscountAmount__c`,this.ADDITIONAL_DISCOUNT_FIELD=`${e}AdditionalDiscount__c`,this.ADDITIONAL_DISCOUNT_RATE_FIELD=`${e}Discount__c`,this.ADDITIONAL_QUANTITY_FIELD=`${e}AdditionalQuantity__c`,this.ALLOW_ASSET_REFUND_FIELD=`${e}AllowAssetRefund__c`,this.BATCH_QUANTITY=`${e}BatchQuantity__c`,this.BUNDLE_FIELD=`${e}Bundle__c`,this.BUNDLED_FIELD=`${e}Bundled__c`,this.BUNDLED_QUANTITY_FIELD=`${e}BundledQuantity__c`,this.CARRYOVER_LINE_FIELD=`${e}CarryoverLine__c`,this.CLASS_FIELD=`${e}Class__c`,this.COMPONENT_DISCOUNTED_BY_PACKAGE_FIELD=`${e}ComponentDiscountedByPackage__c`,this.COMPONENT_LIST_TOTAL_FIELD=`${e}ComponentListTotal__c`,this.COMPONENT_SUBSCRIPTION_SCOPE_FIELD=`${e}ComponentSubscriptionScope__c`,this.COMPONENT_VISIBILITY_FIELD=`${e}ComponentVisibility__c`,this.CONDITIONS_MET_FIELD=`${e}ConditionsMet__c`,this.CONSUMPTION_RATE_OVERRIDE=`${e}ConsumptionRateOverride__c`,this.COST_EDITABLE_FIELD=`${e}CostEditable__c`,this.CUSTOM_ACTION_CONDITIONS_FIELD=`${e}Custom_Action_Conditions__r`,this.CUSTOMER_AMOUNT_FIELD=`${e}CustomerAmount__c`,this.CUSTOMER_PRICE_FIELD=`${e}CustomerPrice__c`,this.DEFAULT_SUBSCRIPTION_TERM_FIELD=`${e}DefaultSubscriptionTerm__c`,this.DEFAULT_FIELD=`${e}Default__c`,this.DESCRIPTION_FIELD=`${e}Description__c`,this.DIMENSION_ID_FIELD=`${e}Dimension__c`,this.DIMENSION_FIELD=`${e}Dimension__r`,this.DISCOUNT_AMOUNT_FIELD=`${e}DiscountAmount__c`,this.DISCOUNT_SCHEDULE_FIELD=`${e}DiscountSchedule__c`,this.DISCOUNT_SCHEDULE_TYPE_FIELD=`${e}DiscountScheduleType__c`,this.DISCOUNT_TIER_FIELD=`${e}DiscountTier__c`,this.DISCOUNT_TIERS_FIELD=`${e}DiscountTiers__r`,this.DISCOUNT_UNIT_FIELD=`${e}DiscountUnit__c`,this.DISTRIBUTOR_DISCOUNT_FIELD=`${e}DistributorDiscount__c`,this.EFFECTIVE_END_DATE_FIELD=`${e}EffectiveEndDate__c`,this.EFFECTIVE_QUANTITY=`${e}EffectiveQuantity__c`,this.END_DATE_FIELD=`${e}EndDate__c`,this.EVENT_HANDLER_NAME_FIELD=`${e}EventHandlerName__c`,this.EXISTING_FIELD=`${e}Existing__c`,this.FAVORITE_ID_FIELD=`${e}Favorite__c`,this.FIELD_FIELD=`${e}Field__c`,this.FILTER_VALUE_FIELD=`${e}FilterValue__c`,this.GROUP_LINE_ITEMS_FIELD=`${e}LineItemsGrouped__c`,this.ICON_CLASS_FIELD=`${e}IconClass__c`,this.LABEL_FIELD=`${e}Label__c`,this.LIST_PRICE_FIELD=`${e}ListPrice__c`,this.LOCATION_FIELD=`${e}Location__c`,this.LONG_TEXT_AREA_FIELD=`${e}LongTextArea__c`,this.LOWER_BOUND_FIELD=`${e}LowerBound__c`,this.MARKUP_AMOUNT_FIELD=`${e}MarkupAmount__c`,this.MARKUP_FIELD=`${e}Markup__c`,this.MARKUP_RATE_FIELD=`${e}MarkupRate__c`,this.NET_AMOUNT_FIELD=`${e}NetAmount__c`,this.NET_PRICE_FIELD=`${e}NetPrice__c`,this.NET_TOTAL_FIELD=`${e}NetTotal__c`,this.NON_DISCOUNTABLE_FIELD=`${e}NonDiscountable__c`,this.NON_PARTNER_DISCOUNTABLE_FIELD=`${e}NonPartnerDiscountable__c`,this.NUMBER_FIELD=`${e}Number__c`,this.OPERATOR_FIELD=`${e}Operator__c`,this.OPPORTUNITY_FIELD=`${e}Opportunity2__r`,this.OPPORTUNITY_ID_FIELD=`${e}Opportunity2__c`,this.OPTION_LEVEL_FIELD=`${e}OptionLevel__c`,this.OPTION_TYPE_FIELD=`${e}OptionType__c`,this.OPTIONAL_FIELD=`${e}Optional__c`,this.ORIGINAL_QUOTE_LINE_FIELD=`${e}OriginalQuoteLine__c`,this.ORIGINAL_SCHEDULE_FIELD=`${e}OriginalDiscountSchedule__c`,this.OVERRIDE_BEHAVIOR_FIELD=`${e}OverrideBehavior__c`,this.PAGE_FIELD=`${e}Page__c`,this.PARENT_CUSTOM_ACTION_FIELD=`${e}ParentCustomAction__c`,this.PARTNER_DISCOUNT_FIELD=`${e}PartnerDiscount__c`,this.PARTNER_PRICE_FIELD=`${e}PartnerPrice__c`,this.PRICE_EDITABLE_FIELD=`${e}PriceEditable__c`,this.PRICEBOOK_ID_FIELD=`${e}PricebookId__c`,this.PRICEBOOK_LOOKUP_ID_FIELD=`${e}PriceBook__c`,this.PRICING_GUIDANCE_FIELD=`${e}Guidance__c`,this.PRICING_METHOD_EDITABLE_FIELD=`${e}PricingMethodEditable__c`,this.PRICING_METHOD_FIELD=`${e}PricingMethod__c`,this.PRIMARY_FIELD=`${e}Primary__c`,this.PRICE_SCALE_FIELD=`${e}PriceScale__c`,this.BRAND_BUTTON_FIELD=`${e}BrandButton__c`,this.PRIOR_QUANTITY_FIELD=`${e}PriorQuantity__c`,this.PRODUCT=`${e}Product__c`,this.PRODUCT_CODE_FIELD=`${e}ProductCode__c`,this.PRODUCT_NAME_FIELD=`${e}ProductName__c`,this.PRORATE_MULTIPLIER_FIELD=`${e}ProrateMultiplier__c`,this.QUANTITY_FIELD=`${e}Quantity__c`,this.QUOTE_PROCESS_FIELD=`${e}QuoteProcess__c`,this.QUOTE_PROCESS_ID_FIELD=`${e}QuoteProcessId__c`,this.REGULAR_PRICE_FIELD=`${e}RegularPrice__c`,this.RENEWAL_CHECKBOX=`${e}Renewal__c`,this.RENEWED_ASSET_ID_FIELD=`${e}RenewedAsset__c`,this.RENEWED_ASSET_RELATIONSHIP_FIELD=`${e}RenewedAsset__r`,this.RENEWED_SUBSCRIPTION_RELATIONSHIP_FIELD=`${e}RenewedSubscription__r`,this.REQUIRED_BY_FIELD=`${e}RequiredBy__c`,this.RICH_TEXT_AREA_FIELD=`${e}RichTextArea__c`,this.SEGMENT_INDEX_FIELD=`${e}SegmentIndex__c`,this.SEGMENT_KEY_FIELD=`${e}SegmentKey__c`,this.SEGMENT_LABEL_FIELD=`${e}SegmentLabel__c`,this.SOLUTION_GROUP_ID_FIELD=`${e}SolutionGroup__c`,this.SOURCE_FIELD=`${e}Source__c`,this.SPECIAL_PRICE_FIELD=`${e}SpecialPrice__c`,this.START_DATE_FIELD=`${e}StartDate__c`,this.SUBSCRIBED_ASSET_IDS_FIELD=`${e}SubscribedAssetIds__c`,this.SUBSCRIPTION_BASE_FIELD=`${e}SubscriptionBase__c`,this.SUBSCRIPTION_PRICING_FIELD=`${e}SubscriptionPricing__c`,this.SUBSCRIPTION_SCOPE_FIELD=`${e}SubscriptionScope__c`,this.SUBSCRIPTION_TERM_FIELD=`${e}SubscriptionTerm__c`,this.TARGET_CUSTOMER_AMOUNT=`${e}TargetCustomerAmount__c`,this.SUBSCRIPTION_TYPE_FIELD=`${e}SubscriptionType__c`,this.TARGET_CUSTOMER_AMOUNT=`${e}TargetCustomerAmount__c`,this.TARGET_OBJECT_FIELD=`${e}TargetObject__c`,this.TEXT_FIELD=`${e}Text__c`,this.TEXT_AREA_FIELD=`${e}TextArea__c`,this.TYPE_FIELD=`${e}Type__c`,this.UNIT_COST_FIELD=`${e}UnitCost__c`,this.UPGRADE_CONVERSION_RATE=`${e}UpgradeConversionRate__c`,this.UPGRADED_ASSET_FIELD=`${e}UpgradedAsset__c`,this.UPGRADED_QUANTITY=`${e}UpgradedQuantity__c`,this.UPGRADED_SUBSCRIPTION_FIELD=`${e}UpgradedSubscription__c`,this.UPGRADED_CONTRACT_LINE="UpgradedContractLine__c",this.UPLIFT_FIELD=`${e}Uplift__c`,this.UPPER_BOUND_FIELD=`${e}UpperBound__c`,this.URL_TARGET_FIELD=`${e}URLTarget__c`,this.URL_FIELD=`${e}URL__c`,this.RETURN_URL_FIELD=`${e}ReturnURL__c`,this.USE_PRICE_FOR_AMOUNT_FIELD=`${e}UsePriceForAmount__c`,this.USER_DEFINED_FIELD=`${e}UserDefined__c`,this.UNOPENED_FIELD=`${e}Unopened__c`,this.HAS_CONSUMPTION_SCHEDULE=`${e}HasConsumptionSchedule__c`,this.CUSTOM_VALUE="Custom",this.PANEL_ADDED_INDEX=2,this.PERCENT_OF_TOTAL="Percent Of Total",this.TYPE_STANDARD="Standard",this.TYPE_YEARLY_DIMENSION="Year",this.TYPE_QUARTERLY_DIMENSION="Quarter",this.TYPE_MONTHLY_DIMENSION="Month",this.TYPE_SINGLE_DIMENSION="One-time",this.TYPE_CUSTOM_DIMENSION="Custom",this.STANDARD_LINE="STANDARD_LINE",this.SEGMENTED_LINE="SEGMENTED_LINE",this.GROUP_HEADER="GROUP_HEADER",this.GROUP_FOOTER="GROUP_FOOTER",this.PRICING_GUIDANCE_TARGET=`${e}Target__c`,this.PRICING_GUIDANCE_FLOOR=`${e}Floor__c`,this.PRICING_GUIDANCE_NORM=`${e}Norm__c`,this.PRICING_GUIDANCE_EXPLANATION=`${e}Explanation__c`,this.QUANTITY_FIELDS=new Set([this.ADDITIONAL_QUANTITY_FIELD,this.BATCH_QUANTITY,this.BUNDLED_QUANTITY_FIELD,this.EFFECTIVE_QUANTITY,this.PRIOR_QUANTITY_FIELD,this.QUANTITY_FIELD,this.UPGRADED_QUANTITY]),this.UNIT_PRICE_FIELDS=new Set([this.ADDITIONAL_DISCOUNT_FIELD,this.CUSTOMER_PRICE_FIELD,this.LIST_PRICE_FIELD,this.MARKUP_AMOUNT_FIELD,this.NET_PRICE_FIELD,this.PARTNER_PRICE_FIELD,this.REGULAR_PRICE_FIELD,this.SPECIAL_PRICE_FIELD,this.UNIT_COST_FIELD]),this.UBP_FIELDS={ConsumptionSchedule:`${e}QuoteLineConsumptionSchedule__r`,ConsumptionScheduleId:`${e}QuoteLineConsumptionSchedule__c`,ConsumptionRateFields:{UpperBound:`${e}UpperBound__c`,LowerBound:`${e}LowerBound__c`,ProcessingOrder:`${e}ProcessingOrder__c`,Price:`${e}Price__c`}},this.FIELD_SET_METADATA={Default:`${e}Default__c`,FieldSet:`${e}FieldSet__c`,ObjectType:`${e}ObjectType__c`},this.COLUMN_METADATA={FieldColumnSize:`${e}FieldColumnSize__c`,FieldName:`${e}FieldName__c`,FieldSetMetadata:`${e}FieldSetMetadata__c`,FieldSetMasterDetail:`${e}FieldSetMetadata__r`,FieldSet:`${e}FieldSet__c`},this.prefix=e,o=this}},7659:(e,t,i)=>{"use strict";i.d(t,{x:()=>o});i(1518),i(5565);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o={properties:{focused:{type:Boolean,value:!1,notify:!0,readOnly:!0,reflectToAttribute:!0},disabled:{type:Boolean,value:!1,notify:!0,observer:"_disabledChanged",reflectToAttribute:!0},_oldTabIndex:{type:String},_boundFocusBlurHandler:{type:Function,value:function(){return this._focusBlurHandler.bind(this)}}},observers:["_changedControlState(focused, disabled)"],ready:function(){this.addEventListener("focus",this._boundFocusBlurHandler,!0),this.addEventListener("blur",this._boundFocusBlurHandler,!0)},_focusBlurHandler:function(e){this._setFocused("focus"===e.type)},_disabledChanged:function(e,t){this.setAttribute("aria-disabled",e?"true":"false"),this.style.pointerEvents=e?"none":"",e?(this._oldTabIndex=this.getAttribute("tabindex"),this._setFocused(!1),this.tabIndex=-1,this.blur()):void 0!==this._oldTabIndex&&(null===this._oldTabIndex?this.removeAttribute("tabindex"):this.setAttribute("tabindex",this._oldTabIndex))},_changedControlState:function(){this._controlStateChanged&&this._controlStateChanged()}}},7695:(e,t,i)=>{"use strict";i.d(t,{EV:()=>d,G$:()=>c,_3:()=>h,g8:()=>u});i(8443);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let o=0,r=0,n=[],s=0,a=!1,l=document.createTextNode("");new window.MutationObserver((function(){a=!1;const e=n.length;for(let t=0;t<e;t++){let e=n[t];if(e)try{e()}catch(e){setTimeout((()=>{throw e}))}}n.splice(0,e),r+=e})).observe(l,{characterData:!0});const d={after:e=>({run:t=>window.setTimeout(t,e),cancel(e){window.clearTimeout(e)}}),run:(e,t)=>window.setTimeout(e,t),cancel(e){window.clearTimeout(e)}},c={run:e=>window.requestAnimationFrame(e),cancel(e){window.cancelAnimationFrame(e)}},u={run:e=>window.requestIdleCallback?window.requestIdleCallback(e):window.setTimeout(e,16),cancel(e){window.cancelIdleCallback?window.cancelIdleCallback(e):window.clearTimeout(e)}},h={run:e=>(a||(a=!0,l.textContent=s++),n.push(e),o++),cancel(e){const t=e-r;if(t>=0){if(!n[t])throw new Error("invalid async handle: "+e);n[t]=null}}}},7734:(e,t,i)=>{"use strict";i.d(t,{Pu:()=>n,qy:()=>r.q});var o=i(458),r=i(2619);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n=(0,o.q2)(HTMLElement)},7874:(e,t,i)=>{"use strict";i.d(t,{m:()=>a});let o=[""],r=[["product","lookup"]];class n{static push(e,t){this._trackHistory(e,t)&&(o[0]=e)}static pop(){return o[0]}static popPath(){return this._parsePath(this.pop())}static resetHistory(){o=[""]}static _trackHistory(e,t){let i=this._parsePath(e),o=this._parsePath(t);if(i[0]!==o[0])return!0;for(let e of r)if(i[0]===e[0]&&i[1]===e[1])return!0;return!1}static _parsePath(e){let t=0===e.indexOf("#/")?2:1;return(e=e.substring(t,e.length)).split("?")[0].split("/")}}var s=i(1149);class a{static nav(e,t,i,o,r){let s=this._getLocation(t,i,e);n.push(window.location.hash,s),this._nav(r,s,e)}static back(e,t,i){let o=n.pop();o&&o!==window.location.hash||(o=this._getLocation(t,i)),this._nav(e,o)}static getPreviousRoute(){return n.popPath().join("/")}static _getLocation(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#",o=t?t.length:0,r=e?Object.keys(e):[],n=r.length;if(t)for(let e=0;e<o;e++)null!=t[e]&&null!=t[e]&&""!=t[e]&&(i+="/"+encodeURIComponent(t[e]));for(let t=0;t<n;t++)i+=0==t?"?":"&",i+=encodeURIComponent(r[t])+"="+encodeURIComponent(e[r[t]]);return i}static _nav(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"#";(0,s.rC)(s.sV.NAVIGATION_CHANGED,{url:i,location:t}),window.location.hash=t}}},7893:(e,t,i)=>{"use strict";var o=i(3311),r=i(9067),n=i(7189),s=i(1149),a=i(4886),l=i(178),d=i(4127),c=i(9137),u=i(6206),h=i(7734);const p=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  background-color: var(--sbTableRowBgColor);
  color: var(--sbTableRowColor);
  font-family: var(--sbTableRowFontFamilly);
  font-size: var(--sbTableRowFontSize);
  font-weight: var(--sbTableRowFontWeight);
  font-style: var(--sbTableRowFontStyle);
  text-decoration: var(--sb-table-row-text-decoration);
  line-height: var(--sbTableRowLineHeight);
  padding-top: var(--sbTableRowPaddingTop);
  padding-bottom: var(--sbTableRowPaddingBottom);
  display: table-row-group;
}
:host #swipe-header {
  display: table;
}
:host #rowDiv.droppableTopBorder {
  border-top: 4.5px solid #005fb2;
}
:host #rowDiv.droppableBottomBorder {
  border-bottom: 4.5px solid #005fb2;
}
:host([class*='--mobile']) {
  display: table-row;
}
:host #swipe-menu[class*='--mobile'] {
  position: relative;
}
:host([class*='--mobile']) {
  display: table-row;
}
:host [class*='--mobile'] #swipe-menu {
  position: relative;
}
:host .actionsContainer {
  display: table-cell;
}
:host .configurationRequired {
  background-color: #C00;
  width: 5px;
  height: 100%;
  position: absolute;
  left: 0;
  top: 0;
}
:host .configurationRequired[class*='--mobile'] {
  height: 53px;
}
:host [class*='--mobile'] .configurationRequired {
  height: 53px;
}
:host .left {
  left: -28px;
}
:host #selectionContainer {
  position: relative;
}
:host #drawerIcon {
  min-width: 40px;
  max-width: 40px;
  background-color: #eef1f6;
  color: #0070d2;
}
:host #drawerIcon:hover {
  cursor: pointer;
}
:host .sf-icon-chevronright:before {
  font-weight: bold;
}
:host #drawerPlaceHolder {
  min-width: 40px;
  max-width: 40px;
}
.zone {
  z-index: 1;
}
`;i(7543),i(347),i(1520),i(7517),i(9704),i(5966),i(379),i(4167),i(57),i(4),i(9235);class f extends((0,d.g)((0,a.$)((0,l.T)(h.Pu)))){static get is(){return"sb-table-row"}static get properties(){return{cell:String,cols:Array,colsDisplay:Object,rowActions:Array,routeSource:String,rowData:{type:Object,notify:!0},model:{type:Object,value:null},requiresModel:{type:Boolean,value:!1},selectable:{type:Boolean,value:!1},selected:{type:Boolean,value:!1,notify:!0},selectionType:{type:String,value:"checkbox"},disabledData:{type:Object,value:{disabled:!1,constrained:!1}},selectionIdDataPath:{type:String,value:"Id"},parentIdDataPath:{type:String,value:"Parent"},parentAttributesPath:String,primaryMobileCols:{type:Array,value:[]},repeatPrimaryMobileCols:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return o.L.getViewport()}},isMobile:{type:Boolean,value:!1,computed:"setIsMobile(viewport)"},actionId:{type:String,computed:"setActionId(isMobile)"},grouper:String,grouperExpanded:Boolean,groupie:String,ignoreViewportChange:Boolean,rowClassMap:{type:Object,value:{}},editFirstWhenSelected:{type:String,value:""},index:{type:Number,reflectToAttribute:!0},disableSwipe:{type:Boolean,value:!1},expanded:{type:Boolean,value:!1,observer:"_broadcastMobileExpanded"},expandDisabled:{type:Boolean,value:!1},rowSwiped:{type:Boolean,value:!1},hideSelection:{type:Object,value:null},selectionClass:{type:String,value:null},leftClass:{type:String,value:"",computed:"setLeftClass(routeSource, rowData, selected)"},highlightRowOnFocus:{type:Boolean,observer:"_highlightRowOnFocus"},deferGrouping:{type:Boolean,value:!1},selectionOnLoad:{type:Boolean,value:!1},columnWidths:{type:Object,value:null},forceColumnWidths:{type:Boolean,value:!1},mobileExpandedDetails:{type:Object,value:null,observer:"expandMobileRow"},mobileSelectedDetails:{type:Object,value:null,observer:"selectMobileRow"},disableSelectionTabFocus:{type:Boolean,value:!1},disableAllFields:Boolean,hasTogglePlaceholder:Boolean,hasToggle:Boolean,togglePlaceholder:{type:Boolean,computed:"_hasTogglePlaceholder(hasTogglePlaceholder, hasToggle)"},noDataPropagation:Boolean,pathPrefix:String}}ready(){super.ready(),Object.entries({"row-swiped":"onRowSwiped"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])}))}get events(){let e={};return e[s.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}static get observers(){return["_buildRowObserver(cell, cols, colsDisplay, rowData, model, primaryMobileCols, repeatPrimaryMobileCols, requiresModel, rowClassMap, columnWidths)","_setSelectableObserver(selectable, selectionOnLoad)","_setSelectedObserver(selected, selectable, selectionType, rowActions, routeSource, disabledData, hideSelection, selectionClass)","_setGrouperObserver(rowData, grouper)","_setGrouperClassesObserver(grouperExpanded, rowData, grouper)","_disableAllTableFieldsObserver(rowData.record, disableAllFields)"]}onRowSwiped(e){this.rowSwiped=e.detail.isOpen}setIsMobile(e){if(e)return e.isMobile()}setActionId(e){return e?"swipe-menu":""}_buildRowObserver(e,t,i,o,r,n,s,a,l,d){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r&&void 0!==n&&void 0!==s&&void 0!==a&&void 0!==l&&void 0!==d)return this.buildRow(e,t,i,o,r,n,s,a,l,d)}buildRow(){this.requiresModel&&!this.model||(this.$.row.item=void 0,this.$.row.groupDisplay=void 0,this.setPrimaryMobileColumnsIfMobileViewport(),this.setFullWidthIfGroupRow(),this.$.row.columnWidths=this.forceColumnWidths?this._cloneColumnWidths():this.columnWidths,this.$.row.itemClassMap=this.rowClassMap,this.$.row.groupDisplay=this.colsDisplay,this.$.row.group||(this.$.row.group=this.cols),this.$.row.item=this.cell)}_setSelectableObserver(e,t){if(void 0!==e&&void 0!==t)return this.setSelectable(e,t)}setSelectable(){this.selectable&&(this.registeredDataChangedHandler||(this.registeredDataChangedHandler=!0,this.selectionOnLoad?this.registerSelectionChangedHandler():(0,c.m)(this,this.registerSelectionChangedHandler.bind(this))))}registerSelectionChangedHandler(){this.$.selection.addEventListener("data-changed",this.selectionChangedHandler.bind(this))}selectionChangedHandler(e){if(e.composedPath()&&e.composedPath()[0]&&"template"===e.composedPath()[0].nodeName.toLowerCase())return;let t=this.selected;this.internal=!0,this.selected=void 0!==e.detail.value[this.selectionType]?e.detail.value[this.selectionType]:e.detail.value,this.$.row.selected=this.selected,this.$.row.dispatchEvent((0,s.uv)("group-selected",{selected:this.selected})),this.internal=!1;let i=t!==this.selected,o="data.checkbox"===e.detail.path||"data.radio"==e.detail.path;this.editFirstWhenSelected&&this.selected&&i&&this.editFirst(),this.selectionOnLoad&&this._selectedChangeByParent?(0,c.m)(this,this.fireSetSelectionEvent.bind(this,i,o)):this.fireSetSelectionEvent(i,o)}_disableAllTableFieldsObserver(e,t){if(void 0!==e&&void 0!==t)return this.disableAllTableFields(e,t)}disableAllTableFields(e,t){if(!t||!e)return;const i={};Object.keys(e).map((e=>i["record."+e]=!1)),this.$.row.itemEditableMap=i}editFirst(){let e=this.$.row.shadowRoot.querySelector(this.cell).shadowRoot.querySelector(this.editFirstWhenSelected);e&&"function"==typeof e.edit&&e.edit()}fireSetSelectionEvent(e,t){this.dispatchEvent((0,s.uv)("selection-changed",{selected:this.selected,selectionType:this.selectionType,Id:this.get("rowData."+this.selectionIdDataPath),bundleId:this.get("rowData."+this.parentIdDataPath),attributes:void 0===this.parentAttributesPath?void 0:this.get("rowData."+this.parentAttributesPath),group:this.grouper,changed:e,path:t,index:this.index,rowData:this.rowData,autoSelectGroupRows:!this._selectedChangeByParent}))}_setSelectedObserver(e,t,i,o,r,n,s,a){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r&&void 0!==n&&void 0!==s&&void 0!==a)return this.setSelected(e,t,i,o,r,n,s,a)}setSelected(){this.selectable&&!this.internal&&(this._selectedChangeByParent=!0,this._setSelected(this.selected),this._selectedChangeByParent=!1)}_setSelected(e){this.disabledData.constrained&&!0===e&&(this.internal=!0,this.$.row.dispatchEvent((0,s.uv)("group-selected",{selected:!1})),e=!1,this.internal=!1);let t=new r.X("Configurator"===this.routeSource&&this.hasDeleteAction()).hide;if(null!=this.hideSelection){let e=new r.X(this.hideSelection).hide;(0,u.X$)(t,e)}this.disableSelectionTabFocus&&(this.$.selection.tabIndex="-1"),this.selectionData={hidden:t},this.selectionData[this.selectionType]=e,this.selectionData.disabled=this.disabledData.disabled||this.disabledData.constrained,this.$.selection.data=this.selectionData,void 0===this.$.selection.group&&(this.$.selection.group=[this.selectionType]),(0,u.p1)("td",this.selectable&&!t.hidden||"invisible"===t.type,this.$.selectionContainer),(0,u.p1)("innerTd",this.selectable&&!t.hidden||"invisible"===t.type,this.$.selection),(0,u.p1)("selection",this.selectable&&!t.hidden||"invisible"===t.type,this.$.selection),this.selectionClass&&(0,u.p1)(this.selectionClass,!0,this.$.selection)}select(e){if(void 0!==this.selectionData&&!0===this.selectionData.disabled)return;let t=e.composedPath()[0];"sb-group"===(t&&t.tagName?t.tagName.toLowerCase():"")&&this._setSelected(!this.selected),this._broadcastGroupSelected(this.selected),this._broadcastMobileSelected()}_broadcastGroupSelected(e){this._groupSelected=e,this.$.row.dispatchEvent((0,s.uv)("group-selected",{selected:e,selectionDisabled:this.selectionDisabled,tableRow:this}))}expand(e){this.expandDisabled||this.rowSwiped||(this.expandPath=e.detail&&e.detail.preventer?e.detail.preventer.composedPath():e.composedPath(),this.$.row.dispatchEvent((0,s.uv)("group-expanded",{path:this.expandPath})))}setPrimaryMobileColumnsIfMobileViewport(){this.$.row.numPrimary=this.primaryMobileCols.length,this.$.row.primaryItems=this.isMobileViewport()?this.primaryMobileCols:null,this.$.row.includePrimaryInSecondary=!!this.isMobileViewport()&&this.repeatPrimaryMobileCols}expandMobileRow(){this.isMobileViewport()&&this.mobileExpandedDetails&&this.mobileExpandedDetails.expanded!==this.expanded&&(this.internalExpand=!0,this.$.row.dispatchEvent((0,s.uv)("group-expanded",{path:this.mobileExpandedDetails.path})),this.internalExpand=!1)}selectMobileRow(){if(!this.isMobileViewport())return;if(!this.mobileSelectedDetails)return;let e=this.mobileSelectedDetails.selected;e===this.selected&&e===this._groupSelected||this._broadcastGroupSelected(e)}viewportChanged(e){this.viewport=e.detail.viewport,this.ignoreViewportChange||this.setPrimaryMobileColumnsIfMobileViewport()}_setGrouperObserver(e,t){if(void 0!==e&&void 0!==t)return this.setGrouper(e,t)}setGrouper(){let e=!this.isMobileViewport()&&!!this.grouper;(0,u.p1)("groupTr",e,this),(0,u.p1)("groupTd",e,this.$.row),(0,u.p1)("groupExpandTd",e,this.$.rowDiv),this.setGrouperToggle(e)}setGrouperToggle(e){this._toggleGroupHandler=this._toggleGroupHandler||this.toggleGroupEventHandler.bind(this),this.$.rowDiv.removeEventListener("click",this._toggleGroupHandler),e&&this.$.rowDiv.addEventListener("click",this._toggleGroupHandler)}toggleGroupEventHandler(e){(0,u.p1)("expanded",null,this.$.row),(0,u.p1)("expanded",null,this),this.dispatchEvent((0,s.uv)("sb-row-group-tapped",{group:this.grouper}))}_setGrouperClassesObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.setGrouperClasses(e,t,i)}setGrouperClasses(e){(0,u.p1)("expanded",e,this.$.row),(0,u.p1)("expanded",e,this)}toggleRowDrawer(){this.set("rowData._transient_.optionDrawerExpanded",!this.rowData._transient_.optionDrawerExpanded),this.set("rowData._transient_.drawerIconClass",this.rowData._transient_.optionDrawerExpanded?"sf-icon-chevrondown":"sf-icon-chevronright")}isMobileViewport(){return this.viewport&&this.viewport.isMobile()}displayRowActions(e){if(!e)return!0;if(!this.rowActions||0===this.rowActions.length)return!1;for(let t=0,i=this.rowActions.length;t<i;t++)if(this.rowActions[t].position==e&&!this.rowActions[t].hidden)return!0;return!1}hasDeleteAction(){for(let e of this.rowActions)return"Delete"===e.title}setFullWidthIfGroupRow(){this._isGrouperRow()&&(this.rowData.fullWidthItem="firstInnerTd")}_configurationRequired(){return!("Configurator"!==this.routeSource||!this.rowData.configurationRequired||!this.selected||this.rowData.configured)}setLeftClass(){if(void 0!==this.rowData)return this._configurationRequired()&&!this.rowData.added?"left":void 0}_hasTogglePlaceholder(){return this.hasTogglePlaceholder&&!this.hasToggle}_highlightRowOnFocus(){this.signaler=this.signaler||new n.C(this,"row",this.cell,"swipe-header"),this.signaler.signalOnFocus("sb-row-focus-signal",!this.highlightRowOnFocus)}_isGrouperRow(){return!this.isMobileViewport()&&!!this.grouper}_cloneColumnWidths(){if(!this.columnWidths)return null;if(!this._isGrouperRow())return JSON.parse(JSON.stringify(this.columnWidths));if(null!=this.columnWidths[this.cols[0]]){let e=JSON.parse(JSON.stringify(this.columnWidths)),t=e[this.cols[0]];return t.width=100,t.unit="%",e}return null}_broadcastMobileExpanded(){!this.internalExpand&&(0,u.bv)(this)&&this.isMobileViewport()&&this.expandPath&&this.dispatchEvent((0,s.uv)("sb-mobile-row-expanded",{expanded:this.expanded,path:[].concat(this.expandPath),index:this.index,id:this.get("rowData."+this.selectionIdDataPath)}))}_broadcastMobileSelected(){(0,u.bv)(this)&&this.isMobileViewport()&&this.dispatchEvent((0,s.uv)("sb-mobile-row-selected",{selected:this.selected,index:this.index,id:this.get("rowData."+this.selectionIdDataPath)}))}notify(e){if(this.rowData)for(let t of e){let e=this.get("rowData."+t);this.notifyPath(`rowData.${t}`,e,!0)}}static get template(){return h.qy`
		<style include="sb-common-styles"></style>
		<style>${p}</style>
		<style include="sb-tables-styles sb-icons-styles"></style>

		<sb-swipe-container device disable-swipe=[[disableSwipe]] is-required-row-not-selected="[[!optionSelected]]">
			<div id="swipe-header">
				<div id="selectionContainer">
					<sb-group id="selection" item="sb-table-cell-select" on-click="select"></sb-group>
					<paper-tooltip for="selection" animation-delay="250" offset="5" fit-to-visible-bounds="true">
						<template is="dom-repeat" items="[[rowData.constraintMessage]]" as="messageLine">
							<p>[[messageLine]]</p>
						</template>
					</paper-tooltip>
				</div>
				<template is="dom-if" if="[[!isMobile]]">
					<template is="dom-if" if="[[displayRowActions('left', rowActions.*)]]">
							<div id$="[[actionId]]" class="td" style="position:relative;">
								<template is="dom-if" if="[[_configurationRequired(routeSource, rowData.configurationRequired, selected)]]">
									<span class$="[[leftClass]] configurationRequired"></span>
								</template>
								<sb-actions
										data="[[rowData]]"
										row-actions="[[rowActions]]"
										position="left"
										index="[[index]]"
								></sb-actions>
							</div>
					</template>
				</template>

				<div id="rowDiv" class="td">
					<sb-group
							id="row"
							model="[[model]]"
							data="{{rowData}}"
							group-class="tgroup"
							item-class="innerTd"
							on-click="expand"
							path-prefix="[[pathPrefix]]"
							disabled="[[disabled]]"
							signaler="[[signaler]]"
							no-data-propagation="[[noDataPropagation]]"
							item-editable-map="[[itemEditableMap]]"
					></sb-group>
				</div>

				<template is="dom-if" if="[[!isMobile]]">
					<template is="dom-if" if="[[displayRowActions('right', rowActions.*)]]">
						<div id$="[[actionId]]" class="td">
							<sb-actions
									data="[[rowData]]"
									row-actions="[[rowActions]]"
									position="right"
									index="[[index]]"
							></sb-actions>
						</div>
					</template>
				</template>

				<template is="dom-if" if="[[hasToggle]]">
					<div id="drawerIcon" class="td" on-click="toggleRowDrawer">
						<span class$="[[rowData._transient_.drawerIconClass]]" index="[[index]]"></span>
					</div>
				</template>
				<template is="dom-if" if="[[togglePlaceholder]]">
					<div id="drawerPlaceHolder" class="td"></div>
				</template>
			</div>

			<template is="dom-if" if="[[isMobile]]">
				<template is="dom-if" if="[[_configurationRequired(routeSource, rowData.configurationRequired, selected)]]">
					<span class="configurationRequired "></span>
				</template>
				<template is="dom-if" if="[[displayRowActions()]]">
					<div id$="[[actionId]]">
						<sb-actions
								data="[[rowData]]"
								row-actions="[[rowActions]]"
								index="[[index]]"
						></sb-actions>
					</div>
				</template>
			</template>
		</sb-swipe-container>
		`}}customElements.define(f.is,f)},7943:(e,t,i)=>{"use strict";var o=i(9406),r=i(571),n=i(7734),s=i(8678);i(3941);class a extends n.Pu{static get is(){return"sb-pc-product-load"}static get properties(){return{productIds:{type:String,value:""},lineKey:{type:Number,value:-1},featureOptionIds:{type:Array,value:null},groupKey:{type:Number,value:-1},fieldSet:{type:String,value:null},quote:Object,product:{type:Object,notify:!0},error:{type:Array,notify:!0},productLoadModel:{type:Object,notify:!0},ignoreCache:{type:Boolean,value:!1},externalConfiguratorRequest:{type:Object},externalConfiguratorResponse:{type:Object,notify:!0}}}static get observers(){return["_loadObserver(quote, productIds, lineKey, ignoreCache)","_loadExternalConfiguratorOptions(externalConfiguratorRequest)"]}ready(){super.ready(),this.setSpinnerMessage(),this.$.service.addEventListener("response-changed",function(e){this.featureOptionIds=null,this.productLoadModel=e.detail&&e.detail.value?e.detail.value:null}.bind(this)),this.$.service.addEventListener("error-changed",function(e){e.detail.value&&(e.detail.value.validations?this.error=e.detail.value.validations:this.error=[e.detail.value.message]),console.log(e.detail)}.bind(this)),this.$.externalConfiguratorService.addEventListener("response-changed",(e=>{this.externalConfiguratorResponse=e.detail.value})),this.$.externalConfiguratorService.addEventListener("error-changed",(e=>{e.detail.value&&(this.error=[e.detail.value.message]),console.log(e.detail)}))}setSpinnerMessage(){(0,r.yJ)("RootState","spinnerMessage","Large bundle configuration enabled. It may take a minute to process your bundle.")}_loadObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this.load(e,t,i,o)}load(){if(null!=this.lineKey&&this.lineKey>=0&&this.lineKey>this.quote.nextKey)return this.productLoadModel={returnToQuote:"The quote line you are attempting to reconfigure does not exist. Please add the product again to configure it."};var e=[];this.productIds.split(",").forEach((function(t){e.push({record:{Id:t}})})),this.$.service.context=void 0,this.$.service.uid=this.featureOptionIds?"dynamic":this.quote.record.Id.substring(0,15),this.$.service.ignoreCache=this.ignoreCache;let t=new o.k;if(null!=this.featureOptionIds)t.add("featureOptionIds",this.featureOptionIds).add("fieldSet",this.fieldSet),t.addObject("quoteRecord",this.quote.record);else if(null!=this.lineKey&&this.lineKey>=0){t.add("lineKey",this.lineKey);let e=this._getLinesRelevantToParentKey(this.lineKey),i=this.quote.lineItems;this.quote.lineItems=e,t.addObject("quote",this.quote,!1,!1,!1),this.quote.lineItems=i}else{t.addObject("products",e);let i=this.quote.lineItems;this.quote.lineItems=[],t.addQuote("quote",this.quote),this.quote.lineItems=i}null!=this.groupKey&&this.groupKey>=0&&t.add("groupKey",this.groupKey),this.$.service.context=t.build()}_getLinesRelevantToParentKey(e){let t="Quote__c"==this.quote.record.attributes.type?"":this.quote.record.attributes.type.slice(0,-8),i=new Set,o=e=>{i.add(e),this.quote.lineItems.forEach((r=>{r.parentItemKey===e&&(i.add(r.key),r.record[t+"Bundle__c"]&&o(r.key),null!=r.sourceLineKey&&o(r.sourceLineKey))}))};o(e);let r=[];return this.quote.lineItems.forEach((e=>{i.has(e.key)&&r.push(e)})),r}_loadExternalConfiguratorOptions(e){const t=s.xq.buildExternalConfiguratorOptionRequest(e);this.$.externalConfiguratorService.ignoreCache=!0,this.$.externalConfiguratorService.uid=e.quoteRecord.Id,this.$.externalConfiguratorService.context=t}static get template(){return n.qy`
		<sb-async-service id="service" loader="ProductConfigurationServiceProvider.ProductLoader" cache="searchModel"></sb-async-service>
		<sb-service id="externalConfiguratorService" loader="ProductConfigurationServiceProvider.ExternalConfiguratorOptionLoader"></sb-service>
		`}}customElements.define(a.is,a)},7971:(e,t,i)=>{var o;e.exports=function e(t,r,n){function s(l,d){if(!r[l]){if(!t[l]){var c=void 0;if(!d&&c)return o(l,!0);if(a)return a(l,!0);throw(c=new Error("Cannot find module '"+l+"'")).code="MODULE_NOT_FOUND",i(3175)}c=r[l]={exports:{}},t[l][0].call(c.exports,(function(e){return s(t[l][1][e]||e)}),c,c.exports,e,t,r,n)}return r[l].exports}for(var a=void 0,l=0;l<n.length;l++)s(n[l]);return s}({1:[function(e,t,i){"use strict";var o=e("../core");o.browser=e("./client"),e("../api"),t.exports=o},{"../api":8,"../core":20,"./client":15}],2:[function(e,t,i){"use strict";t.exports="1.11.1"},{}],3:[function(e,t,i){"use strict";t.exports={inherits:e("inherits"),util:e("util"),events:e("events"),"lodash/core":e("lodash/core"),"readable-stream":e("readable-stream"),multistream:e("multistream"),"./VERSION":e("./VERSION"),"./cache":e("./cache"),"./connection":e("./connection"),"./core":e("./core"),"./csv":e("./csv"),"./date":e("./date"),"./http-api":e("./http-api"),"./logger":e("./logger"),"./oauth2":e("./oauth2"),"./process":e("./process"),"./promise":e("./promise"),"./query":e("./query"),"./quick-action":e("./quick-action"),"./record-stream":e("./record-stream"),"./record":e("./record"),"./soap":e("./soap"),"./sobject":e("./sobject"),"./soql-builder":e("./soql-builder"),"./transport":e("./transport")}},{"./VERSION":2,"./cache":18,"./connection":19,"./core":20,"./csv":21,"./date":22,"./http-api":23,"./logger":24,"./oauth2":25,"./process":26,"./promise":27,"./query":28,"./quick-action":29,"./record":31,"./record-stream":30,"./soap":33,"./sobject":34,"./soql-builder":35,"./transport":36,events:48,inherits:85,"lodash/core":89,multistream:90,"readable-stream":108,util:118}],4:[function(e,t,i){"use strict";function o(e,t){this._report=e,this._conn=e._conn,this.id=t}var r=e("lodash/core"),n=e("../core");function s(e,t){this._conn=e,this.id=t}function a(e,t){this._conn=e,this.id=t}function l(e){this._conn=e}e("../promise"),o.prototype.retrieve=function(e){var t=this._conn,i=this._report;return i=[t._baseUrl(),"analytics","reports",i.id,"instances",this.id].join("/"),t.request(i).thenCall(e)},s.prototype.describe=function(e){var t=[this._conn._baseUrl(),"analytics","reports",this.id,"describe"].join("/");return this._conn.request(t).thenCall(e)},s.prototype.delete=s.prototype.del=s.prototype.destroy=function(e){var t=[this._conn._baseUrl(),"analytics","reports",this.id].join("/");return this._conn.request({method:"DELETE",url:t}).thenCall(e)},s.prototype.clone=function(e,t){var i=[this._conn._baseUrl(),"analytics","reports"].join("/");return e={reportMetadata:{name:e}},e={method:"POST",url:i+="?cloneId="+this.id,headers:{"Content-Type":"application/json"},body:JSON.stringify(e)},this._conn.request(e).thenCall(t)},s.prototype.explain=function(e){var t="/query/?explain="+this.id;return this._conn.request(t).thenCall(e)},s.prototype.run=s.prototype.exec=s.prototype.execute=function(e,t){e=e||{},r.isFunction(e)&&(t=e,e={});var i=[this._conn._baseUrl(),"analytics","reports",this.id].join("/");return i+="?includeDetails="+(e.details?"true":"false"),i={method:e.metadata?"POST":"GET",url:i},e.metadata&&(i.headers={"Content-Type":"application/json"},i.body=JSON.stringify(e.metadata)),this._conn.request(i).thenCall(t)},s.prototype.executeAsync=function(e,t){e=e||{},r.isFunction(e)&&(t=e,e={});var i=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");return e.details&&(i+="?includeDetails=true"),i={method:"POST",url:i,body:""},e.metadata&&(i.headers={"Content-Type":"application/json"},i.body=JSON.stringify(e.metadata)),this._conn.request(i).thenCall(t)},s.prototype.instance=function(e){return new o(this,e)},s.prototype.instances=function(e){var t=[this._conn._baseUrl(),"analytics","reports",this.id,"instances"].join("/");return this._conn.request(t).thenCall(e)},a.prototype.describe=function(e){var t=[this._conn._baseUrl(),"analytics","dashboards",this.id,"describe"].join("/");return this._conn.request(t).thenCall(e)},a.prototype.components=function(e,t){var i=[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/"),o={};return r.isFunction(e)?t=e:r.isArray(e)?o.componentIds=e:r.isString(e)&&(o.componentIds=[e]),o={method:"POST",url:i,headers:{"Content-Type":"application/json"},body:JSON.stringify(o)},this._conn.request(o).thenCall(t)},a.prototype.status=function(e){var t=[this._conn._baseUrl(),"analytics","dashboards",this.id,"status"].join("/");return this._conn.request(t).thenCall(e)},a.prototype.refresh=function(e){var t={method:"PUT",url:[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/"),body:""};return this._conn.request(t).thenCall(e)},a.prototype.clone=function(e,t,i){var o=[this._conn._baseUrl(),"analytics","dashboards"].join("/");o+="?cloneId="+this.id;var n={};return r.isObject(e)?(n=e,i=t):(n.name=e,n.folderId=t),n={method:"POST",url:o,headers:{"Content-Type":"application/json"},body:JSON.stringify(n)},this._conn.request(n).thenCall(i)},a.prototype.delete=a.prototype.del=a.prototype.destroy=function(e){var t=[this._conn._baseUrl(),"analytics","dashboards",this.id].join("/");return this._conn.request({method:"DELETE",url:t}).thenCall(e)},l.prototype.report=function(e){return new s(this._conn,e)},l.prototype.reports=function(e){var t=[this._conn._baseUrl(),"analytics","reports"].join("/");return this._conn.request(t).thenCall(e)},l.prototype.dashboard=function(e){return new a(this._conn,e)},l.prototype.dashboards=function(e){var t=[this._conn._baseUrl(),"analytics","dashboards"].join("/");return this._conn.request(t).thenCall(e)},n.on("connection:new",(function(e){e.analytics=new l(e)})),t.exports=l},{"../core":20,"../promise":27,"lodash/core":89}],5:[function(e,t,i){"use strict";function o(e){this._conn=e}e=e("../core"),o.prototype._baseUrl=function(){return this._conn.instanceUrl+"/services/apexrest"},o.prototype._createRequestParams=function(e,t,i,o){var r={method:e,url:this._baseUrl()+t};return t={},o&&"object"==typeof o.headers&&(t=o.headers),/^(GET|DELETE)$/i.test(e)||(t["Content-Type"]="application/json"),r.headers=t,i&&(t=r.headers["Content-Type"],r.body=t&&"application/json"!==t?i:JSON.stringify(i)),r},o.prototype.get=function(e,t,i){return"function"==typeof t&&(i=t,t=void 0),this._conn.request(this._createRequestParams("GET",e,void 0,t)).thenCall(i)},o.prototype.post=function(e,t,i,o){return"function"==typeof t&&(o=t,i=t=void 0),"function"==typeof i&&(o=i,i=void 0),i=this._createRequestParams("POST",e,t,i),this._conn.request(i).thenCall(o)},o.prototype.put=function(e,t,i,o){return"function"==typeof t&&(o=t,i=t=void 0),"function"==typeof i&&(o=i,i=void 0),i=this._createRequestParams("PUT",e,t,i),this._conn.request(i).thenCall(o)},o.prototype.patch=function(e,t,i,o){return"function"==typeof t&&(o=t,i=t=void 0),"function"==typeof i&&(o=i,i=void 0),i=this._createRequestParams("PATCH",e,t,i),this._conn.request(i).thenCall(o)},o.prototype.del=o.prototype.delete=function(e,t,i){return"function"==typeof t&&(i=t,t=void 0),this._conn.request(this._createRequestParams("DELETE",e,void 0,t)).thenCall(i)},e.on("connection:new",(function(e){e.apex=new o(e)})),t.exports=o},{"../core":20}],6:[function(e,t,i){(function(i){"use strict";function o(e,t,i,o,r){this._bulk=e,this.type=t,this.operation=i,this.options=o||{},this.id=r,this.state=this.id?"Open":"Unknown",this._batches={}}var r=e("inherits"),n=e("readable-stream"),s=n.Duplex,a=e("events"),l=e("lodash/core"),d=e("multistream"),c=e("../core"),u=e("../record-stream"),h=e("../promise"),p=e("../http-api");r(o,a.EventEmitter),o.prototype.info=function(e){return this._jobInfo||(this._jobInfo=this.check()),this._jobInfo.thenCall(e)},o.prototype.open=function(e){var t,i=this,o=this._bulk;return o._logger,this._jobInfo||("harddelete"===(t=this.operation.toLowerCase())&&(t="hardDelete"),t=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo  xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<operation>"+t+"</operation>","<object>"+this.type+"</object>",this.options.extIdField?"<externalIdFieldName>"+this.options.extIdField+"</externalIdFieldName>":"",this.options.concurrencyMode?"<concurrencyMode>"+this.options.concurrencyMode+"</concurrencyMode>":"",this.options.assignmentRuleId?"<assignmentRuleId>"+this.options.assignmentRuleId+"</assignmentRuleId>":"","<contentType>CSV</contentType>","</jobInfo>"].join(""),this._jobInfo=o._request({method:"POST",path:"/job",body:t,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"}).then((function(e){return i.emit("open",e.jobInfo),i.id=e.jobInfo.id,i.state=e.jobInfo.state,e.jobInfo}),(function(e){throw i.emit("error",e),e}))),this._jobInfo.thenCall(e)},o.prototype.createBatch=function(){var e=new f(this),t=this;return e.on("queue",(function(){t._batches[e.id]=e})),e},o.prototype.batch=function(e){var t=this._batches[e];return t||(t=new f(this,e),this._batches[e]=t),t},o.prototype.check=function(e){var t=this,i=this._bulk,o=i._logger;return this._jobInfo=this._waitAssign().then((function(){return i._request({method:"GET",path:"/job/"+t.id,responseType:"application/xml"})})).then((function(e){return o.debug(e.jobInfo),t.id=e.jobInfo.id,t.type=e.jobInfo.object,t.operation=e.jobInfo.operation,t.state=e.jobInfo.state,e.jobInfo})),this._jobInfo.thenCall(e)},o.prototype._waitAssign=function(e){return(this.id?h.resolve({id:this.id}):this.open()).thenCall(e)},o.prototype.list=function(e){var t=this,i=this._bulk,o=i._logger;return this._waitAssign().then((function(){return i._request({method:"GET",path:"/job/"+t.id+"/batch",responseType:"application/xml"})})).then((function(e){return o.debug(e.batchInfoList.batchInfo),e=e.batchInfoList,l.isArray(e.batchInfo)?e.batchInfo:[e.batchInfo]})).thenCall(e)},o.prototype.close=function(){var e=this;return this._changeState("Closed").then((function(t){return e.id=null,e.emit("close",t),t}),(function(t){throw e.emit("error",t),t}))},o.prototype.abort=function(){var e=this;return this._changeState("Aborted").then((function(t){return e.id=null,e.emit("abort",t),t}),(function(t){throw e.emit("error",t),t}))},o.prototype._changeState=function(e,t){var i=this,o=this._bulk,r=o._logger;return this._jobInfo=this._waitAssign().then((function(){var t=['<?xml version="1.0" encoding="UTF-8"?>','<jobInfo xmlns="http://www.force.com/2009/06/asyncapi/dataload">',"<state>"+e+"</state>","</jobInfo>"].join("");return o._request({method:"POST",path:"/job/"+i.id,body:t,headers:{"Content-Type":"application/xml; charset=utf-8"},responseType:"application/xml"})})).then((function(e){return r.debug(e.jobInfo),i.state=e.jobInfo.state,e.jobInfo})),this._jobInfo.thenCall(t)};var f=function(e,t){f.super_.call(this,{objectMode:!0}),this.job=e,this.id=t,this._bulk=e._bulk,this._deferred=h.defer(),this._setupDataStreams()};r(f,n.Writable),f.prototype._setupDataStreams=function(){var e=this,t={nullValue:"#N/A"};this._uploadStream=new u.Serializable,this._uploadDataStream=this._uploadStream.stream("csv",t),this._downloadStream=new u.Parsable,this._downloadDataStream=this._downloadStream.stream("csv",t),this.on("finish",(function(){e._uploadStream.end()})),this._uploadDataStream.once("readable",(function(){e.job.open().then((function(){e._uploadDataStream.pipe(e._createRequestStream())}))}));var i=this._dataStream=new s;i._write=function(t,i,o){e._uploadDataStream.write(t,i,o)},i.on("finish",(function(){e._uploadDataStream.end()})),this._downloadDataStream.on("readable",(function(){i.read(0)})),this._downloadDataStream.on("end",(function(){i.push(null)})),i._read=function(t){for(var o;null!==(o=e._downloadDataStream.read());)i.push(o)}},f.prototype._createRequestStream=function(){var e=this,t=e._bulk,i=t._logger;return t._request({method:"POST",path:"/job/"+e.job.id+"/batch",headers:{"Content-Type":"text/csv"},responseType:"application/xml"},(function(t,o){t?e.emit("error",t):(i.debug(o.batchInfo),e.id=o.batchInfo.id,e.emit("queue",o.batchInfo))})).stream()},f.prototype._write=function(e,t,i){e=l.clone(e),"insert"===this.job.operation?delete e.Id:"delete"===this.job.operation&&(e={Id:e.Id}),delete e.type,delete e.attributes,this._uploadStream.write(e,t,i)},f.prototype.stream=function(){return this._dataStream},f.prototype.run=f.prototype.exec=f.prototype.execute=function(e,t){var i=this;if("function"==typeof e&&(t=e,e=null),this._result)throw new Error("Batch already executed.");var o=h.defer();return this._result=o.promise,this._result.then((function(e){i._deferred.resolve(e)}),(function(e){i._deferred.reject(e)})),this.once("response",(function(e){o.resolve(e)})),this.once("error",(function(e){o.reject(e)})),l.isObject(e)&&l.isFunction(e.pipe)?e.pipe(this._dataStream):l.isArray(e)?(l.forEach(e,(function(e){Object.keys(e).forEach((function(t){"boolean"==typeof e[t]&&(e[t]=String(e[t]))})),i.write(e)})),i.end()):l.isString(e)&&(this._dataStream.write(e,"utf8"),this._dataStream.end()),this.thenCall(t)},f.prototype.then=function(e,t,i){return this._deferred.promise.then(e,t,i)},f.prototype.thenCall=function(e){return l.isFunction(e)&&this.then((function(t){i.nextTick((function(){e(null,t)}))}),(function(t){i.nextTick((function(){e(t)}))})),this},f.prototype.check=function(e){var t=this._bulk,i=t._logger,o=this.job.id,r=this.id;if(!o||!r)throw new Error("Batch not started.");return t._request({method:"GET",path:"/job/"+o+"/batch/"+r,responseType:"application/xml"}).then((function(e){return i.debug(e.batchInfo),e.batchInfo})).thenCall(e)},f.prototype.poll=function(e,t){var i=this,o=this.job.id,r=this.id;if(!o||!r)throw new Error("Batch not started.");var n=(new Date).getTime(),s=function(){var a=(new Date).getTime();if(n+t<a)return(a=new Error("Polling time out. Job Id = "+o+" , batch Id = "+r)).name="PollingTimeout",a.jobId=o,a.batchId=r,void i.emit("error",a);i.check((function(t,o){t?i.emit("error",t):"Failed"===o.state?0<parseInt(o.numberRecordsProcessed,10)?i.retrieve():i.emit("error",new Error(o.stateMessage)):"Completed"===o.state?i.retrieve():(i.emit("progress",o),setTimeout(s,e))}))};setTimeout(s,e)},f.prototype.retrieve=function(e){var t=this,i=this._bulk,o=this.job.id,r=this.job,n=this.id;if(!o||!n)throw new Error("Batch not started.");return r.info().then((function(e){return i._request({method:"GET",path:"/job/"+o+"/batch/"+n+"/result"})})).then((function(e){var s;return s="query"===r.operation?(i._conn,e["result-list"].result,s=e["result-list"].result,l.map(l.isArray(s)?s:[s],(function(e){return{id:e,batchId:n,jobId:o}}))):l.map(e,(function(e){return{id:e.Id||null,success:"true"===e.Success,errors:e.Error?[e.Error]:[]}})),t.emit("response",s),s})).fail((function(e){throw t.emit("error",e),e})).thenCall(e)},f.prototype.result=function(e){var t=this.job.id,i=this.id;if(!t||!i)throw new Error("Batch not started.");var o=new u.Parsable,r=o.stream("csv");return this._bulk._request({method:"GET",path:"/job/"+t+"/batch/"+i+"/result/"+e,responseType:"application/octet-stream"}).stream().pipe(r),o};var b=function(){b.super_.apply(this,arguments)};function g(e){this._conn=e,this._logger=e._logger}r(b,p),b.prototype.beforeSend=function(e){e.headers=e.headers||{},e.headers["X-SFDC-SESSION"]=this._conn.accessToken},b.prototype.isSessionExpired=function(e){return 400===e.statusCode&&/<exceptionCode>InvalidSessionId<\/exceptionCode>/.test(e.body)},b.prototype.hasErrorInResponseBody=function(e){return!!e.error},b.prototype.parseError=function(e){return{errorCode:e.error.exceptionCode,message:e.error.exceptionMessage}},g.prototype.pollInterval=1e3,g.prototype.pollTimeout=1e4,g.prototype._request=function(e,t){var i=this._conn;return e=l.clone(e),i=[i.instanceUrl,"services/async",i.version].join("/"),e.url=i+e.path,i={responseType:e.responseType},delete e.path,delete e.responseType,new b(this._conn,i).request(e).thenCall(t)},g.prototype.load=function(e,t,i,o,r){var n=this;if(!e||!t)throw new Error("Insufficient arguments. At least, 'type' and 'operation' are required.");l.isObject(i)&&i.constructor===Object||(r=o,o=i,i=null);var s=this.createJob(e,t,i);function a(){d=null,s.close()}s.once("error",(function(e){d&&d.emit("error",e)}));var d=s.createBatch();return d.on("response",a),d.on("error",(function(e){"PollingTimeout"!==e.name&&a()})),d.on("queue",(function(){d.poll(n.pollInterval,n.pollTimeout)})),d.execute(o,r)},g.prototype.query=function(e){if(!(t=e.replace(/\([\s\S]+\)/g,"").match(/FROM\s+(\w+)/i)))throw new Error("No sobject type found in query, maybe caused by invalid SOQL.");var t=t[1],i=this,o=new u.Parsable,r=o.stream("csv");return this.load(t,"query",e).then((function(e){e=e.map((function(e){return i.job(e.jobId).batch(e.batchId).result(e.id).stream()})),d(e).pipe(r)})).fail((function(e){o.emit("error",e)})),o},g.prototype.createJob=function(e,t,i){return new o(this,e,t,i)},g.prototype.job=function(e){return new o(this,null,null,null,e)},c.on("connection:new",(function(e){e.bulk=new g(e)})),t.exports=g}).call(this,e("_process"))},{"../core":20,"../http-api":23,"../promise":27,"../record-stream":30,_process:92,events:48,inherits:85,"lodash/core":89,multistream:90,"readable-stream":108}],7:[function(e,t,i){"use strict";var o=e("inherits"),r=e("lodash/core"),n=e("../core"),s=e("../promise"),a=t.exports=function(e){this._conn=e};a.prototype._request=function(e,t){return/^(put|post|patch)$/i.test(e.method)&&r.isObject(e.body)&&(e.headers={"Content-Type":"application/json"},e.body=JSON.stringify(e.body)),e.url=this._normalizeUrl(e.url),this._conn.request(e,t)},a.prototype._normalizeUrl=function(e){return 0===e.indexOf("/chatter/")||0===e.indexOf("/connect/")?"/services/data/v"+this._conn.version+e:/^\/v[\d]+\.[\d]+\//.test(e)?"/services/data"+e:0!==e.indexOf("/services/")&&"/"===e[0]?"/services/data/v"+this._conn.version+"/chatter"+e:e},a.prototype.request=function(e,t){return new l(this,e).thenCall(t)},a.prototype.resource=function(e,t){return new d(this,e,t)},a.prototype.batch=function(e,t){var i=[],o=[];return r.forEach(e,(function(e){var t=s.defer();e._promise=t.promise,i.push(e.batchParams()),o.push(t)})),e={method:"POST",url:this._normalizeUrl("/connect/batch"),body:{batchRequests:i}},this.request(e).then((function(e){return r.forEach(e.results,(function(e,t){t=o[t],400<=e.statusCode?t.reject(e.result):t.resolve(e.result)})),e})).thenCall(t)};var l=function(e,t){this._chatter=e,this._params=t,this._promise=null};l.prototype.batchParams=function(){var e={method:(e=this._params).method,url:this._chatter._normalizeUrl(e.url)};return this._params.body&&(e.richInput=this._params.body),e},l.prototype.promise=function(){return this._promise||this._chatter._request(this._params)},l.prototype.stream=function(){return this._chatter._request(this._params).stream()},l.prototype.then=function(e,t){return this.promise().then(e,t)},l.prototype.thenCall=function(e){return r.isFunction(e)?this.promise().thenCall(e):this};var d=function(e,t,i){var o;i&&(o=r.map(r.keys(i),(function(e){return e+"="+encodeURIComponent(i[e])})).join("&"),t+=(0<t.indexOf("?")?"&":"?")+o),d.super_.call(this,e,{method:"GET",url:t}),this._url=t};o(d,l),d.prototype.create=function(e,t){return this._chatter.request({method:"POST",url:this._url,body:e}).thenCall(t)},d.prototype.retrieve=function(e){return this.thenCall(e)},d.prototype.update=function(e,t){return this._chatter.request({method:"PATCH",url:this._url,body:e}).thenCall(t)},d.prototype.del=d.prototype.delete=function(e){return this._chatter.request({method:"DELETE",url:this._url}).thenCall(e)},n.on("connection:new",(function(e){e.chatter=new a(e)}))},{"../core":20,"../promise":27,inherits:85,"lodash/core":89}],8:[function(e,t,i){e("./analytics"),e("./apex"),e("./bulk"),e("./chatter"),e("./metadata"),e("./soap"),e("./streaming"),e("./tooling")},{"./analytics":4,"./apex":5,"./bulk":6,"./chatter":7,"./metadata":9,"./soap":10,"./streaming":12,"./tooling":13}],9:[function(e,t,i){(function(i,o){"use strict";var r=e("inherits"),n=e("events"),s=e("readable-stream"),a=e("lodash/core"),l=e("../core"),d=e("../promise"),c=e("../soap"),u=t.exports=function(e){this._conn=e};function h(e){return(e=a.clone(e)).success="true"===e.success,e}function p(e){return(e=h(e)).created="true"===e.created,e}function f(e){return delete(e=a.clone(e)).$,e}u.prototype.pollInterval=1e3,u.prototype.pollTimeout=1e4,u.prototype._invoke=function(e,t,i){return new c(this._conn,{xmlns:"http://soap.sforce.com/2006/04/metadata",endpointUrl:this._conn.instanceUrl+"/services/Soap/m/"+this._conn.version}).invoke(e,t).then((function(e){return e.result})).thenCall(i)},u.prototype.createAsync=function(e,t,i){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");function o(t){return t["@xsi:type"]=e,t}var r=a.isArray(t);return t=r?a.map(t,o):o(t),t=this._invoke("create",{metadata:t}),new b(this,t,r).thenCall(i)},u.prototype.createSync=u.prototype.create=function(e,t,i){function o(t){return t["@xsi:type"]=e,t}return t=a.isArray(t)?a.map(t,o):o(t),this._invoke("createMetadata",{metadata:t}).then((function(e){return a.isArray(e)?a.map(e,h):h(e)})).thenCall(i)},u.prototype.readSync=u.prototype.read=function(e,t,i){return this._invoke("readMetadata",{type:e,fullNames:t}).then((function(e){return a.isArray(e.records)?a.map(e.records,f):f(e.records)})).thenCall(i)},u.prototype.updateAsync=function(e,t,i){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");function o(t){return t.metadata["@xsi:type"]=e,t}var r=a.isArray(t);return t=r?a.map(t,o):o(t),t=this._invoke("update",{updateMetadata:t}),new b(this,t,r).thenCall(i)},u.prototype.updateSync=u.prototype.update=function(e,t,i){function o(t){return t["@xsi:type"]=e,t}return t=a.isArray(t)?a.map(t,o):o(t),this._invoke("updateMetadata",{metadata:t}).then((function(e){return a.isArray(e)?a.map(e,h):h(e)})).thenCall(i)},u.prototype.upsertSync=u.prototype.upsert=function(e,t,i){function o(t){return t["@xsi:type"]=e,t}return t=a.isArray(t)?a.map(t,o):o(t),this._invoke("upsertMetadata",{metadata:t}).then((function(e){return a.isArray(e)?a.map(e,p):p(e)})).thenCall(i)},u.prototype.deleteAsync=function(e,t,i){if(30<Number(this._conn.version))throw new Error("Async metadata CRUD calls are not supported on ver 31.0 or later.");function o(t){return a.isString(t)&&(t={fullName:t}),t["@xsi:type"]=e,t}var r=a.isArray(t);return t=r?a.map(t,o):o(t),t=this._invoke("delete",{metadata:t}),new b(this,t,r).thenCall(i)},u.prototype.del=u.prototype.deleteSync=u.prototype.delete=function(e,t,i){return this._invoke("deleteMetadata",{type:e,fullNames:t}).then((function(e){return a.isArray(e)?a.map(e,h):h(e)})).thenCall(i)},u.prototype.rename=function(e,t,i,o){return this._invoke("renameMetadata",{type:e,oldFullName:t,newFullName:i}).then(h).thenCall(o)},u.prototype.checkStatus=function(e,t){var i=a.isArray(e);return e=this._invoke("checkStatus",{asyncProcessId:e}),new b(this,e,i).thenCall(t)},u.prototype.describe=function(e,t){return a.isString(e)||(t=e,e=this._conn.version),this._invoke("describeMetadata",{asOfVersion:e}).then((function(e){return e.metadataObjects=a.isArray(e.metadataObjects)?e.metadataObjects:[e.metadataObjects],e.metadataObjects=a.map(e.metadataObjects,(function(e){return e.childXmlNames&&(e.childXmlNames=a.isArray(e.childXmlNames)?e.childXmlNames:[e.childXmlNames]),e.inFolder="true"===e.inFolder,e.metaFile="true"===e.metaFile,e})),e.partialSaveAllowed="true"===e.partialSaveAllowed,e.testRequired="true"===e.testRequired,e})).thenCall(t)},u.prototype.list=function(e,t,i){return a.isString(t)||(i=t,t=this._conn.version),a.isArray(e)||(e=[e]),this._invoke("listMetadata",{queries:e,asOfVersion:t},i)},u.prototype.retrieve=function(e,t){return e=this._invoke("retrieve",{request:e}),new g(this,e).thenCall(t)},u.prototype.checkRetrieveStatus=function(e,t){return this._invoke("checkRetrieveStatus",{asyncProcessId:e},t)},u.prototype.deploy=function(e,t,i){t&&!a.isFunction(t)||(i=t,t={});var r=d.defer();if(a.isObject(e)&&a.isFunction(e.pipe)){var n=[];e.on("data",(function(e){n.push(e)})),e.on("end",(function(){r.resolve(o.concat(n).toString("base64"))}))}else if(e instanceof o)r.resolve(e.toString("base64"));else{if(!(e instanceof String||"string"==typeof e))throw"Unexpected zipInput type";r.resolve(e)}var s=this;return e=r.promise.then((function(e){return s._invoke("deploy",{ZipFile:e,DeployOptions:t},i)})),new m(this,e).thenCall(i)},u.prototype.checkDeployStatus=function(e,t,i){return t=a.isObject(t)||a.isBoolean(t)?!!t:(i=t,!1),this._invoke("checkDeployStatus",{asyncProcessId:e,includeDetails:t}).then((function(e){return e.done="true"===e.done,e.success="true"===e.success,e.checkOnly="true"===e.checkOnly,e.runTestsEnabled="true"===e.runTestsEnabled,e.ignoreWarnings&&(e.ignoreWarnings="true"===e.ignoreWarnings),e.rollbackOnError&&(e.rollbackOnError="true"===e.rollbackOnError),e.numberComponentErrors=Number(e.numberComponentErrors),e.numberComponentsDeployed=Number(e.numberComponentsDeployed),e.numberComponentsTotal=Number(e.numberComponentsTotal),e.numberTestErrors=Number(e.numberTestErrors),e.numberTestsCompleted=Number(e.numberTestsCompleted),e.numberTestsTotal=Number(e.numberTestsTotal),e})).thenCall(i)};var b=function(e,t,i){this._meta=e,this._results=t,this._isArray=i};r(b,n.EventEmitter),b.prototype.then=function(e,t){var i=this;return this._results.then((function(t){function o(e){return e.$&&"true"===e.$["xsi:nil"]?null:(e.done="true"===e.done,e)}return t=a.isArray(t)?a.map(t,o):o(t),i._isArray&&!a.isArray(t)&&(t=[t]),e(t)}),t)},b.prototype.thenCall=function(e){return a.isFunction(e)?this.then((function(t){i.nextTick((function(){e(null,t)}))}),(function(t){i.nextTick((function(){e(t)}))})):this},b.prototype.check=function(e){var t=this,i=this._meta;return this.then((function(e){return e=a.isArray(e)?a.map(e,(function(e){return e.id})):e.id,t._ids=e,i.checkStatus(e)})).thenCall(e)},b.prototype.poll=function(e,t){var i=this,o=(new Date).getTime(),r=function(){var n=(new Date).getTime();if(o+t<n)return n="Polling time out.",i._ids&&(n+=" Process Id = "+i._ids),void i.emit("error",new Error(n));i.check().then((function(t){for(var o=!0,n=a.isArray(t)?t:[t],s=0,l=n.length;s<l;s++){var d=n[s];d&&!d.done&&(i.emit("progress",d),o=!1)}o?i.emit("complete",t):setTimeout(r,e)}),(function(e){i.emit("error",e)}))};setTimeout(r,e)},b.prototype.complete=function(e){var t=d.defer();this.on("complete",(function(e){t.resolve(e)})),this.on("error",(function(e){t.reject(e)}));var i=this._meta;return this.poll(i.pollInterval,i.pollTimeout),t.promise.thenCall(e)};var g=function(e,t){g.super_.call(this,e,t)};r(g,b),g.prototype.complete=function(e){var t=this._meta;return g.super_.prototype.complete.call(this).then((function(e){return t.checkRetrieveStatus(e.id)})).thenCall(e)},g.prototype.stream=function(){var e=this,t=new s.Readable,i=!1;return t._read=function(){i||(i=!0,e.complete((function(e,i){e?t.emit("error",e):(t.push(o.from(i.zipFile,"base64")),t.push(null))})))},t};var m=function(e,t){m.super_.call(this,e,t)};r(m,b),m.prototype.complete=function(e,t){a.isFunction(e)&&(t=e,e=!1);var i=this._meta;return m.super_.prototype.complete.call(this).then((function(t){return i.checkDeployStatus(t.id,e)})).thenCall(t)},l.on("connection:new",(function(e){e.metadata=new u(e)}))}).call(this,e("_process"),e("buffer").Buffer)},{"../core":20,"../promise":27,"../soap":33,_process:92,buffer:41,events:48,inherits:85,"lodash/core":89,"readable-stream":108}],10:[function(e,t,i){"use strict";var o=e("lodash/core"),r=e("../core"),n=e("../soap"),s=t.exports=function(e){this._conn=e};s.prototype._invoke=function(e,t,i,o){return new n(this._conn,{xmlns:"urn:partner.soap.sforce.com",endpointUrl:this._conn.instanceUrl+"/services/Soap/u/"+this._conn.version}).invoke(e,t,{result:i}).then((function(e){return e.result})).thenCall(o)};var a={};s.prototype.convertLead=function(e,t){var i=o.isArray(e)?[a.LeadConvertResult]:a.LeadConvertResult;return this._invoke("convertLead",{leadConverts:e},i,t)},a.LeadConvertResult={success:"boolean",errors:[],leadId:"string",accountId:"string",contactId:"string",opportunityId:"string"},s.prototype.merge=function(e,t){var i=o.isArray(e)?[a.MergeResult]:a.MergeResult;return this._invoke("merge",{mergeRequests:e},i,t)},a.MergeResult={success:"boolean",errors:[],id:"string",mergedRecordIds:["string"],updatedRelatedIds:["string"]},s.prototype.emptyRecycleBin=function(e,t){return this._invoke("emptyRecycleBin",{ids:e},[a.EmptyRecycleBinResult],t)},a.EmptyRecycleBinResult={id:"string",success:"boolean",errors:[]},s.prototype.describeTabs=function(e){return this._invoke("describeTabs",{},[a.DescribeTabSetResult],e)},a.DescribeTabSetResult={label:"string",logoUrl:"string",namespace:"string",selected:"boolean",tabs:[{colors:[{theme:"string",color:"string",context:"string"}],iconUrl:"string",icons:[{theme:"string",height:"number",width:"number",url:"string",contentType:"string"}],label:"string",custom:"boolean",miniIconUrl:"string",name:"string",sobjectName:"string",url:"string"}]},s.prototype.getServerTimestamp=function(e){return this._invoke("getServerTimestamp",{},a.GetServerTimestampResult,e)},a.GetServerTimestampResult={timestamp:"string"},s.prototype.getUserInfo=function(e){return this._invoke("getUserInfo",{},a.GetUserInfoResult,e)},a.GetUserInfoResult={accessibilityMode:"boolean",currencySymbol:"string",orgAttachmentFileSizeLimit:"number",orgDefaultCurrencyIsoCode:"string",orgDisallowHtmlAttachments:"boolean",orgHasPersonAccounts:"boolean",organizationId:"string",organizationMultiCurrency:"boolean",organizationName:"string",profileId:"string",roleId:"string",sessionSecondsValid:"number",userDefaultCurrencyIsoCode:"string",userEmail:"string",userFullName:"string",userId:"string",userLanguage:"string",userLocale:"string",userName:"string",userTimeZone:"string",userType:"string",userUiSkin:"string"},s.prototype.setPassword=function(e,t,i){return this._invoke("setPassword",{userId:e,password:t},i)},s.prototype.resetPassword=function(e,t){return this._invoke("resetPassword",{userId:e},t)},s.prototype.create=function(e,t){var i=o.isArray(e)?[a.SaveResult]:a.SaveResult;return e={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":e},this._invoke("create",e,i,t)},s.prototype.update=function(e,t){var i=o.isArray(e)?[a.SaveResult]:a.SaveResult;return e={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:sObjects":e},this._invoke("update",e,i,t)},a.SaveResult={success:"boolean",errors:[],id:"string"},s.prototype.upsert=function(e,t,i){var r=o.isArray(t)?[a.UpsertResult]:a.UpsertResult;return t={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:externalIDFieldName":e,"ns1:sObjects":t},this._invoke("upsert",t,r,i)},a.UpsertResult={created:"boolean",success:"boolean",errors:[],id:"string"},s.prototype.delete=function(e,t){var i=o.isArray(e)?[a.DeleteResult]:a.DeleteResult;return e={"@xmlns":"urn:partner.soap.sforce.com","@xmlns:ns1":"sobject.partner.soap.sforce.com","ns1:ids":e},this._invoke("delete",e,i,t)},a.DeleteResult={success:"boolean",errors:[],id:"string"},r.on("connection:new",(function(e){e.soap=new s(e)})),t.exports=s},{"../core":20,"../soap":33,"lodash/core":89}],11:[function(e,t,i){var o={AuthFailure:function(e){this.incoming=function(t,i){("/meta/connect"!==t.channel&&"/meta/handshake"!==t.channel||!t.advice||"none"!=t.advice.reconnect?i:e)(t)}},Replay:function(e,t){var i=null!=t,o=t,r=e;this.setExtensionEnabled=function(e){i=e},this.setReplay=function(e){o=parseInt(e,10)},this.setChannel=function(e){r=e},this.incoming=function(e,t){"/meta/handshake"===e.channel?e.ext&&1==e.ext.replay&&(i=!0):e.channel===r&&e.data&&e.data.event&&e.data.event.replayId&&(o=e.data.event.replayId),t(e)},this.outgoing=function(e,t){var n;"/meta/subscribe"===e.channel&&e.subscription===r&&i&&(e.ext||(e.ext={}),(n={})[r]=o,e.ext.replay=n),t(e)}}};t.exports=o},{}],12:[function(e,t,i){"use strict";function o(e,t){this._streaming=e,this.name=t}var r=e("events"),n=e("inherits"),s=e("lodash/core"),a=e("faye"),l=e("./streaming-extension");function d(e,t){this._streaming=e,this._name=t}function c(e){this._conn=e}e=e("../core"),o.prototype.subscribe=function(e){return this._streaming.subscribe(this.name,e)},o.prototype.unsubscribe=function(e){return this._streaming.unsubscribe(this.name,e),this},d.prototype.subscribe=function(e){return this._streaming.subscribe(this._name,e)},d.prototype.unsubscribe=function(e){return this._streaming.unsubscribe(this._name,e),this},d.prototype.push=function(e,t){var i=s.isArray(e);e=i?e:[e];var o=this._streaming._conn;return this._id||(this._id=o.sobject("StreamingChannel").findOne({Name:this._name},"Id").then((function(e){return e.Id}))),this._id.then((function(t){return t="/sobjects/StreamingChannel/"+t+"/push",o.requestPost(t,{pushEvents:e})})).then((function(e){return i?e:e[0]})).thenCall(t)},n(c,r.EventEmitter),c.prototype._createClient=function(e,t){e="string"==typeof e&&0===e.indexOf("/u/"),e=[this._conn.instanceUrl,"cometd"+(1==e&&"36.0"===this._conn.version?"/replay":""),this._conn.version].join("/");var i=new a.Client(e,{});return i.setHeader("Authorization","OAuth "+this._conn.accessToken),t instanceof Array&&t.forEach((function(e){i.addExtension(e)})),-1===i._dispatcher.getConnectionTypes().indexOf("callback-polling")&&(i._dispatcher.selectTransport("long-polling"),i._dispatcher._transport.batching=!1),i},c.prototype._getFayeClient=function(e){var t=0===e.indexOf("/u/")?"generic":"pushTopic";return this._fayeClients&&this._fayeClients[t]||(this._fayeClients=this._fayeClients||{},this._fayeClients[t]=this._createClient(e)),this._fayeClients[t]},c.prototype.topic=function(e){return this._topics=this._topics||{},this._topics[e]=this._topics[e]||new o(this,e)},c.prototype.channel=function(e){return new d(this,e)},c.prototype.subscribe=function(e,t){return e=0===e.indexOf("/")?e:"/topic/"+e,this._getFayeClient(e).subscribe(e,t)},c.prototype.unsubscribe=function(e,t){return e=0===e.indexOf("/")?e:"/topic/"+e,this._getFayeClient(e).unsubscribe(e,t),this},c.prototype.createClient=function(e){return this._createClient(null,e)},e.on("connection:new",(function(e){e.streaming=new c(e)})),e.StreamingExtension=l,t.exports=c},{"../core":20,"./streaming-extension":11,events:48,faye:49,inherits:85,"lodash/core":89}],13:[function(e,t,i){"use strict";function o(e){this._conn=e,this._logger=e._logger,["query","queryMore","_toRecordResult","create","_createSingle","_createParallel","_createMany","insert","retrieve","_retrieveSingle","_retrieveParallel","_retrieveMany","update","_updateSingle","_updateParallel","_updateMany","upsert","del","delete","destroy","_destroySingle","_destroyParallel","_destroyMany","describe","describeGlobal","sobject"].forEach((function(t){this[t]=e.constructor.prototype[t]}),this),this.cache=new s;var t={key:function(e){return e?"describe."+e:"describe"}};this.describe$=this.cache.makeCacheable(this.describe,this,t),this.describe=this.cache.makeResponseCacheable(this.describe,this,t),this.describeSObject$=this.describe$,this.describeSObject=this.describe,t={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,t),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,t),this.initialize()}var r=e("../core"),n=e("lodash/core"),s=e("../cache");o.prototype.initialize=function(){this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",n.bind((function(e){e.result&&n.map(e.result.sobjects,(function(e){return e.name})).forEach(this.sobject,this)}),this))},o.prototype._baseUrl=function(){return this._conn._baseUrl()+"/tooling"},o.prototype._supports=function(e){return"sobject-collection"!==e&&this._conn._supports.apply(this._conn,arguments)},o.prototype.request=function(){return this._conn.request.apply(this._conn,arguments)},o.prototype.executeAnonymous=function(e,t){return e=this._baseUrl()+"/executeAnonymous?anonymousBody="+encodeURIComponent(e),this.request(e).thenCall(t)},o.prototype.runTestsAsynchronous=function(e,t){var i=this._baseUrl()+"/runTestsAsynchronous/";return this._conn.requestPost(i,{classids:e.join(",")},void 0,t)},o.prototype.runTestsSynchronous=function(e,t){var i=this._baseUrl()+"/runTestsSynchronous/";return this._conn.requestPost(i,{classnames:e.join(",")},void 0,t)},o.prototype.completions=function(e,t){return n.isString(e)||(t=e,e="apex"),e=this._baseUrl()+"/completions?type="+encodeURIComponent(e),this.request(e).thenCall(t)},r.on("connection:new",(function(e){e.tooling=new o(e)})),t.exports=o},{"../cache":18,"../core":20,"lodash/core":89}],14:[function(e,t,i){"use strict";var o=e("readable-stream").Duplex,r=e("lodash/core");t.exports={supported:"object"==typeof Sfdc&&void 0!==Sfdc.canvas,createRequest:function(e){return function(t,i){var n,s=new o;s._read=function(e){n&&s.push(n.body)};var a=[],l=!1;function d(o){var a={client:e.client,method:t.method,data:o};if(t.headers)for(var l in a.headers={},t.headers)"content-type"===l.toLowerCase()?a.contentType=t.headers[l]:a.headers[l]=t.headers[l];a.success=function(e){var t,o=(a=e.responseHeaders,t={},a.split(/\n/).forEach((function(e){e=(i=e.split(/\s*:\s*/))[0].toLowerCase();var i=i[1];t[e]=i})),t),a=e.payload;r.isString(a)||(a=JSON.stringify(a)),n={statusCode:e.status,headers:o,body:a},i&&i(null,n,n.body),s.end()},a.failure=function(e){i&&i(e)},Sfdc.canvas.client.ajax(t.url,a)}return s._write=function(e,t,i){a.push(e.toString(t)),i()},s.on("finish",(function(){l||(d(a.join("")),l=!0)})),!t.body&&""!==t.body&&/^(put|post|patch)$/i.test(t.method)||(d(t.body),l=!0),s}}}},{"lodash/core":89,"readable-stream":108}],15:[function(e,t,i){"use strict";var o=e("events"),r=e("inherits"),n=e("querystring"),s=e("lodash/core"),a=e("../connection"),l=e("../oauth2");function d(){var e=function(){var e;if(window.location.hash){if((e=n.parse(window.location.hash.substring(1))).access_token)return{success:!0,body:e}}else if(window.location.search&&(e=n.parse(window.location.search.substring(1))).error)return{success:!1,body:e}}(),t=localStorage.getItem("jsforce_state");if(e&&t&&e.body.state===t){localStorage.removeItem("jsforce_state"),t=(i=t.split("."))[0];var i=i[1];return t=new c(t),e.success?(t._storeTokens(e.body),location.hash=""):t._storeError(e.body),"popup"===i&&window.close(),1}}function c(e){this._prefix=e||"jsforce"+u++,this.connection=null}var u=0;r(c,o.EventEmitter),c.prototype.init=function(e){var t;d()||(this.config=e,this.connection=new a(e),(e=this._getTokens())&&(this.connection.initialize(e),t=this,setTimeout((function(){t.emit("connect",t.connection)}),10)))},c.prototype.login=function(e,t){s.isFunction(e)&&(t=e,e={}),e=e||{},t=t||function(){},s.extend(e,this.config),this._prompt(e,t)},c.prototype._prompt=function(e,t){var i=this,o=new l(e),r=Math.random().toString(36).substring(2),n=[this._prefix,"popup",r].join(".");localStorage.setItem("jsforce_state",n);var s,a,d,c,u=o.getAuthorizationUrl({response_type:"token",scope:e.scope,state:n}),h=e.size||{},p=(s=u,a=h.width||912,d=h.height||513,c=screen.width/2-a/2,h=screen.height/2-d/2,window.open(s,null,"location=yes,toolbar=no,status=no,menubar=no,width="+a+",height="+d+",top="+h+",left="+c));if(!p)return n=[this._prefix,"redirect",r].join("."),localStorage.setItem("jsforce_state",n),u=o.getAuthorizationUrl({response_type:"token",scope:e.scope,state:n}),void(location.href=u);i._removeTokens();var f=setInterval((function(){try{var e;p&&!p.closed||(clearInterval(f),(e=i._getTokens())?(i.connection.initialize(e),i.emit("connect",i.connection),t(null,{status:"connect"})):(e=i._getError())?t(new Error(e.error+": "+e.error_description)):t(null,{status:"cancel"}))}catch(e){}}),1e3)},c.prototype.isLoggedIn=function(){return!(!this.connection||!this.connection.accessToken)},c.prototype.logout=function(){this.connection.logout(),this._removeTokens(),this.emit("disconnect")},c.prototype._getTokens=function(){var e,t=new RegExp("(^|;\\s*)"+this._prefix+"_loggedin=true(;|$)");return document.cookie.match(t)&&(t=Number(localStorage.getItem(this._prefix+"_issued_at")),Date.now()<t+72e5)?((t=localStorage.getItem(this._prefix+"_id"))&&(e={id:(e=t.split("/")).pop(),organizationId:e.pop(),url:t}),{accessToken:localStorage.getItem(this._prefix+"_access_token"),instanceUrl:localStorage.getItem(this._prefix+"_instance_url"),userInfo:e}):null},c.prototype._storeTokens=function(e){localStorage.setItem(this._prefix+"_access_token",e.access_token),localStorage.setItem(this._prefix+"_instance_url",e.instance_url),localStorage.setItem(this._prefix+"_issued_at",e.issued_at),localStorage.setItem(this._prefix+"_id",e.id),document.cookie=this._prefix+"_loggedin=true;"},c.prototype._removeTokens=function(){localStorage.removeItem(this._prefix+"_access_token"),localStorage.removeItem(this._prefix+"_instance_url"),localStorage.removeItem(this._prefix+"_issued_at"),localStorage.removeItem(this._prefix+"_id"),document.cookie=this._prefix+"_loggedin="},c.prototype._getError=function(){try{var e=JSON.parse(localStorage.getItem(this._prefix+"_error"));return localStorage.removeItem(this._prefix+"_error"),e}catch(e){}},c.prototype._storeError=function(e){localStorage.setItem(this._prefix+"_error",JSON.stringify(e))},t.exports=new c,t.exports.Client=c},{"../connection":19,"../oauth2":25,events:48,inherits:85,"lodash/core":89,querystring:97}],16:[function(e,t,i){"use strict";var o=0;t.exports={supported:"undefined"!=typeof window&&"undefined"!=typeof document,createRequest:function(e,t){return e=e||"callback",t=t||1e4,function(i,r){if("GET"!==i.method.toUpperCase())return r(new Error("JSONP only supports GET request."));var n="_jsforce_jsonpCallback_"+ ++o,s=window;i=i.url,i+=0<i.indexOf("?")?"&":"?",i+=e+"="+n;var a=document.createElement("script");a.type="text/javascript",a.src=i,document.documentElement.appendChild(a);var l=setTimeout((function(){d(),r(new Error("JSONP call time out."))}),t);s[n]=function(e){d(),r(null,{statusCode:200,headers:{"content-type":"application/json"},body:JSON.stringify(e)})};var d=function(){clearTimeout(l),document.documentElement.removeChild(a),delete s[n]}}}}},{}],17:[function(e,t,i){"use strict";var o=e("readable-stream").Duplex,r=e("lodash/core");t.exports=function(e,t){var i,n=new XMLHttpRequest;if(n.open(e.method,e.url),e.headers)for(var s in e.headers)n.setRequestHeader(s,e.headers[s]);n.setRequestHeader("Accept","*/*");var a=new o;a._read=function(e){i&&a.push(i.body)};var l=[],d=!1;return a._write=function(e,t,i){l.push(e.toString("buffer"===t?"binary":t)),i()},a.on("finish",(function(){d||(n.send(l.join("")),d=!0)})),!e.body&&""!==e.body&&/^(put|post|patch)$/i.test(e.method)||(n.send(e.body),d=!0),n.onreadystatechange=function(){var e,o;4===n.readyState&&(e=function(e){return e=(e.getAllResponseHeaders()||"").split(/[\r\n]+/),r.map(e,(function(e){return e.split(/\s*:/)[0].toLowerCase()}))}(n),o={},r.forEach(e,(function(e){e&&(o[e]=n.getResponseHeader(e))})),(i={statusCode:n.status,headers:o,body:n.response}).statusCode||(i.statusCode=400,i.body="Access Declined"),t&&t(null,i,i.body),a.end())},a}},{"lodash/core":89,"readable-stream":108}],18:[function(e,t,i){"use strict";function o(){this.fetching=!1}var r=e("events"),n=e("inherits"),s=e("lodash/core");function a(e,t){return t=Array.prototype.slice.apply(t),e+"("+s.map(t,(function(e){return JSON.stringify(e)})).join(",")+")"}n(o,r.EventEmitter),o.prototype.get=function(e){if(!e)return this._value;this.once("value",e),s.isUndefined(this._value)||this.emit("value",this._value)},o.prototype.set=function(e){this._value=e,this.emit("value",this._value)},o.prototype.clear=function(){this.fetching=!1,delete this._value},(r=function(){this._entries={}}).prototype.get=function(e){if(e&&this._entries[e])return this._entries[e];var t=new o;return this._entries[e]=t},r.prototype.clear=function(e){for(var t in this._entries)e&&0!==t.indexOf(e)||this._entries[t].clear()},r.prototype.makeResponseCacheable=function(e,t,i){var o=this;return i=i||{},function(){var r=Array.prototype.slice.apply(arguments),n=r.pop();s.isFunction(n)||(r.push(n),n=null);var l=s.isString(i.key)?i.key:s.isFunction(i.key)?i.key.apply(t,r):a(i.namespace,r);Array.isArray(l)||(l=[l]);var d,c,u=[];l.forEach((function(e){(e=o.get(e)).fetching=!0,u.push(e)})),n&&r.push((function(e,t){Array.isArray(t)&&t.length==u.length?u.forEach((function(i,o){i.set({error:e,result:t[o]})})):u.forEach((function(i){i.set({error:e,result:t})})),n(e,t)}));try{d=e.apply(t||this,r)}catch(r){c=r}if(d&&s.isFunction(d.then))return n?d:d.then((function(e){return Array.isArray(e)&&e.length==u.length?u.forEach((function(t,i){t.set({error:void 0,result:e[i]})})):u.forEach((function(t){t.set({error:void 0,result:e})})),e}),(function(e){throw Array.isArray(e)&&e.length==u.length?u.forEach((function(t,i){t.set({error:e[i],result:void 0})})):u.forEach((function(t){t.set({error:e,result:void 0})})),e}));if(Array.isArray(d)&&d.length==u.length?u.forEach((function(e,t){e.set({error:c,result:d[t]})})):u.forEach((function(e){e.set({error:c,result:d})})),c)throw c;return d}},r.prototype.makeCacheable=function(e,t,i){var o=this;function r(){var r=Array.prototype.slice.apply(arguments),n=r.pop();s.isFunction(n)||r.push(n);var l=s.isString(i.key)?i.key:s.isFunction(i.key)?i.key.apply(t,r):a(i.namespace,r),d=o.get(l);if(!s.isFunction(n)){if(!(l=d.get()))throw new Error("Function call result is not cached yet.");if(l.error)throw l.error;return l.result}d.get((function(e){n(e.error,e.result)})),d.fetching||(d.fetching=!0,r.push((function(e,t){d.set({error:e,result:t})})),e.apply(t||this,r))}return i=i||{},r.clear=function(){var e=s.isString(i.key)?i.key:s.isFunction(i.key)?i.key.apply(t,arguments):a(i.namespace,arguments);o.clear(e)},r},t.exports=r},{events:48,inherits:85,"lodash/core":89}],19:[function(e,t,i){(function(i){"use strict";var o=e("events"),r=e("inherits"),n=e("lodash/core"),s=e("./promise"),a=e("./logger"),l=e("./oauth2"),d=e("./query"),c=e("./sobject"),u=e("./quick-action"),h=e("./http-api"),p=e("./transport"),f=e("./process"),b=e("./cache"),g="https://login.salesforce.com",m="",y="42.0",v=200,_=t.exports=function(t){t=t||{},this._logger=new a(t.logLevel);var i=t.oauth2||{loginUrl:t.loginUrl,clientId:t.clientId,clientSecret:t.clientSecret,redirectUri:t.redirectUri,proxyUrl:t.proxyUrl,httpProxy:t.httpProxy};this.oauth2=i=i instanceof l?i:new l(i),this.loginUrl=t.loginUrl||i.loginUrl||g,this.version=t.version||y,this.maxRequest=t.maxRequest||this.maxRequest||10,t.proxyUrl?this._transport=new p.ProxyTransport(t.proxyUrl):t.httpProxy?this._transport=new p.HttpProxyTransport(t.httpProxy):this._transport=new p,this.callOptions=t.callOptions,e("./core").emit("connection:new",this),this.process=new f(this),this.cache=new b;var o=t.refreshFn;!o&&this.oauth2.clientId&&(o=w),o&&(this._refreshDelegate=new h.SessionRefreshDelegate(this,o)),i={key:function(e){return e?e.type?"describe."+e.type:"describe."+e:"describe"}},this.describe$=this.cache.makeCacheable(this.describe,this,i),this.describe=this.cache.makeResponseCacheable(this.describe,this,i),this.describeSObject$=this.describe$,this.describeSObject=this.describe,o={key:function(e){var t=e.types,i=(e=e.autofetch||!1,t=25<t.length&&!e?t.slice(0,25):t,[]);return t.forEach((function(e){i.push("describe."+e)})),i}},this.batchDescribe=this.cache.makeResponseCacheable(this.batchDescribe,this,o),this.batchDescribeSObjects=this.batchDescribe,i={key:"describeGlobal"},this.describeGlobal$=this.cache.makeCacheable(this.describeGlobal,this,i),this.describeGlobal=this.cache.makeResponseCacheable(this.describeGlobal,this,i),this.initialize(t)};function w(e,t){e.oauth2.refreshToken(e.refreshToken,(function(i,o){if(i)return t(i);i=C(o.id),e.initialize({instanceUrl:o.instance_url,accessToken:o.access_token,userInfo:i}),t(null,o.access_token,o)}))}function x(e){function t(e){return e<10?"0"+e:e}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"+00:00"}function C(e){var t=e.split("/");return{id:t.pop(),organizationId:t.pop(),url:e}}function S(e){return e&&String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}r(_,o.EventEmitter),_.prototype.initialize=function(e){if(!e.instanceUrl&&e.serverUrl&&(e.instanceUrl=e.serverUrl.split("/").slice(0,3).join("/")),this.instanceUrl=e.instanceUrl||e.serverUrl||this.instanceUrl||m,this.accessToken=e.sessionId||e.accessToken||this.accessToken,this.refreshToken=e.refreshToken||this.refreshToken,this.refreshToken&&!this._refreshDelegate)throw new Error("Refresh token is specified without oauth2 client information or refresh function");this.signedRequest=e.signedRequest&&function(e){if(n.isString(e)){if("{"===e[0])return JSON.parse(e);var t=e.split(".").pop();return t=i.from(t,"base64").toString("utf-8"),JSON.parse(t)}return e}(e.signedRequest),this.signedRequest&&(this.accessToken=this.signedRequest.client.oauthToken,p.CanvasTransport.supported&&(this._transport=new p.CanvasTransport(this.signedRequest))),e.userInfo&&(this.userInfo=e.userInfo),this.limitInfo={},this.sobjects={},this.cache.clear(),this.cache.get("describeGlobal").removeAllListeners("value"),this.cache.get("describeGlobal").on("value",n.bind((function(e){e.result&&n.map(e.result.sobjects,(function(e){return e.name})).forEach(this.sobject,this)}),this)),this.tooling&&this.tooling.initialize(),this._sessionType=e.sessionId?"soap":"oauth2"},_.prototype._baseUrl=function(){return[this.instanceUrl,"services/data","v"+this.version].join("/")},_.prototype._normalizeUrl=function(e){return"/"===e[0]?0===e.indexOf("/services/")?this.instanceUrl+e:this._baseUrl()+e:e},_.prototype.request=function(e,t,i){"function"==typeof t&&(i=t,t=null),t=t||{};var o=this;return n.isString(e)&&(e={method:"GET",url:e}),e.url=this._normalizeUrl(e.url),(t=new h(this,t)).on("response",(function(e){e.headers&&e.headers["sforce-limit-info"]&&(e=e.headers["sforce-limit-info"].match(/api\-usage=(\d+)\/(\d+)/))&&(o.limitInfo={apiUsage:{used:parseInt(e[1],10),limit:parseInt(e[2],10)}})})),t.request(e).thenCall(i)},_.prototype.requestGet=function(e,t,i){return e={method:"GET",url:e},this.request(e,t,i)},_.prototype.requestPost=function(e,t,i,o){return t={method:"POST",url:e,body:JSON.stringify(t),headers:{"content-type":"application/json"}},this.request(t,i,o)},_.prototype.requestPut=function(e,t,i,o){return t={method:"PUT",url:e,body:JSON.stringify(t),headers:{"content-type":"application/json"}},this.request(t,i,o)},_.prototype.requestPatch=function(e,t,i,o){return t={method:"PATCH",url:e,body:JSON.stringify(t),headers:{"content-type":"application/json"}},this.request(t,i,o)},_.prototype.requestDelete=function(e,t,i){return e={method:"DELETE",url:e},this.request(e,t,i)},_.prototype.query=function(e,t,i){return"function"==typeof t&&(i=t,t=void 0),t=new d(this,e,t),i&&t.run(i),t},_.prototype.queryAll=function(e,t,i){return"function"==typeof t&&(i=t,t=void 0),(t=new d(this,e,t)).scanAll(!0),i&&t.run(i),t},_.prototype.queryMore=function(e,t,i){return"function"==typeof t&&(i=t,t=void 0),t=new d(this,{locator:e},t),i&&t.run(i),t},_.prototype._ensureVersion=function(e){var t=this.version.split(".");return parseInt(t[0],10)>=e},_.prototype._supports=function(e){return"sobject-collection"===e&&this._ensureVersion(42)},_.prototype.retrieve=function(e,t,i,o){return"function"==typeof i&&(o=i,i={}),i=i||{},(n.isArray(t)?this._supports("sobject-collection")?this._retrieveMany(e,t,i):this._retrieveParallel(e,t,i):this._retrieveSingle(e,t,i)).thenCall(o)},_.prototype._retrieveSingle=function(e,t,i){return t?(t=[this._baseUrl(),"sobjects",e,t].join("/"),i.fields&&(t+="?fields="+i.fields.join(",")),this.request({method:"GET",url:t,headers:i.headers})):s.reject(new Error("Invalid record ID. Specify valid record ID value"))},_.prototype._retrieveParallel=function(e,t,i){if(t.length>this.maxRequest)return s.reject(new Error("Exceeded max limit of concurrent call"));var o=this;return s.all(t.map((function(t){return o._retrieveSingle(e,t,i).catch((function(e){if(i.allOrNone||"NOT_FOUND"!==e.errorCode)throw e;return null}))})))},_.prototype._retrieveMany=function(e,t,i){if(0===t.length)return s.resolve([]);var o=[this._baseUrl(),"composite","sobjects",e].join("/"),r=this;return(i.fields?s.resolve(i.fields):new s((function(t,i){r.describe$(e,(function(e,o){e?i(e):(o=o.fields.map((function(e){return e.name})),t(o))}))}))).then((function(e){return r.request({method:"POST",url:o,body:JSON.stringify({ids:t,fields:e}),headers:n.defaults(i.headers||{},{"Content-Type":"application/json"})})}))},_.prototype._toRecordResult=function(e,t){var i={statusCode:t.errorCode,message:t.message};return t.content&&(i.content=t.content),t.fields&&(i.fields=t.fields),i={success:!1,errors:[i]},e&&(i.id=e),i},_.prototype.insert=_.prototype.create=function(e,t,i,o){return n.isString(e)||(o=i,i=t,t=e,e=null),"function"==typeof i&&(o=i,i={}),i=i||{},(n.isArray(t)?this._supports("sobject-collection")?this._createMany(e,t,i):this._createParallel(e,t,i):this._createSingle(e,t,i)).thenCall(o)},_.prototype._createSingle=function(e,t,i){return(e=e||t.attributes&&t.attributes.type||t.type)?(delete(t=n.clone(t)).Id,delete t.type,delete t.attributes,e=[this._baseUrl(),"sobjects",e].join("/"),this.request({method:"POST",url:e,body:JSON.stringify(t),headers:n.defaults(i.headers||{},{"Content-Type":"application/json"})})):s.reject(new Error("No SObject Type defined in record"))},_.prototype._createParallel=function(e,t,i){if(t.length>this.maxRequest)return s.reject(new Error("Exceeded max limit of concurrent call"));var o=this;return s.all(t.map((function(t){return o._createSingle(e,t,i).catch((function(e){if(i.allOrNone||!e.errorCode)throw e;return this._toRecordResult(null,e)}))})))},_.prototype._createMany=function(e,t,i){if(0===t.length)return s.resolve([]);if(t.length>v&&i.allowRecursive){var o=this;return o._createMany(e,t.slice(0,v),i).then((function(r){return o._createMany(e,t.slice(v),i).then((function(e){return r.concat(e)}))}))}t=n.map(t,(function(t){var i=e||t.attributes&&t.attributes.type||t.type;return i?(delete(t=n.clone(t)).Id,delete t.type,t.attributes={type:i},t):s.reject(new Error("No SObject Type defined in record"))}));var r=[this._baseUrl(),"composite","sobjects"].join("/");return this.request({method:"POST",url:r,body:JSON.stringify({allOrNone:i.allOrNone||!1,records:t}),headers:n.defaults(i.headers||{},{"Content-Type":"application/json"})})},_.prototype.update=function(e,t,i,o){return n.isString(e)||(o=i,i=t,t=e,e=null),"function"==typeof i&&(o=i,i={}),i=i||{},(n.isArray(t)?this._supports("sobject-collection")?this._updateMany(e,t,i):this._updateParallel(e,t,i):this._updateSingle(e,t,i)).thenCall(o)},_.prototype._updateSingle=function(e,t,i){var o=t.Id;return o?(e=e||t.attributes&&t.attributes.type||t.type)?(delete(t=n.clone(t)).Id,delete t.type,delete t.attributes,e=[this._baseUrl(),"sobjects",e,o].join("/"),this.request({method:"PATCH",url:e,body:JSON.stringify(t),headers:n.defaults(i.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{id:o,success:!0,errors:[]}})):s.reject(new Error("No SObject Type defined in record")):s.reject(new Error("Record id is not found in record."))},_.prototype._updateParallel=function(e,t,i){if(t.length>this.maxRequest)return s.reject(new Error("Exceeded max limit of concurrent call"));var o=this;return s.all(t.map((function(t){return o._updateSingle(e,t,i).catch((function(e){if(i.allOrNone||!e.errorCode)throw e;return this._toRecordResult(t.Id,e)}))})))},_.prototype._updateMany=function(e,t,i){if(0===t.length)return s.resolve([]);if(t.length>v&&i.allowRecursive){var o=this;return o._updateMany(e,t.slice(0,v),i).then((function(r){return o._updateMany(e,t.slice(v),i).then((function(e){return r.concat(e)}))}))}t=n.map(t,(function(t){var i=t.Id;if(!i)throw new Error("Record id is not found in record.");var o=e||t.attributes&&t.attributes.type||t.type;if(!o)throw new Error("No SObject Type defined in record");return delete(t=n.clone(t)).Id,t.id=i,delete t.type,t.attributes={type:o},t}));var r=[this._baseUrl(),"composite","sobjects"].join("/");return this.request({method:"PATCH",url:r,body:JSON.stringify({allOrNone:i.allOrNone||!1,records:t}),headers:n.defaults(i.headers||{},{"Content-Type":"application/json"})})},_.prototype.upsert=function(e,t,i,o,r){n.isString(e)||(r=o,o=i,i=t,t=e,e=null),"function"==typeof o&&(r=o,o={}),o=o||{};var a=this,l=n.isArray(t);return((t=l?t:[t]).length>this.maxRequest?s.reject(new Error("Exceeded max limit of concurrent call")):s.all(n.map(t,(function(t){var r=e||t.attributes&&t.attributes.type||t.type,s=t[i];return delete(t=n.clone(t))[i],delete t.type,delete t.attributes,s=[a._baseUrl(),"sobjects",r,i,s].join("/"),a.request({method:"PATCH",url:s,body:JSON.stringify(t),headers:n.defaults(o.headers||{},{"Content-Type":"application/json"})},{noContentResponse:{success:!0,errors:[]}}).catch((function(e){if(!l||o.allOrNone||!e.errorCode)throw e;return a._toRecordResult(null,e)}))}))).then((function(e){return!l&&n.isArray(e)?e[0]:e}))).thenCall(r)},_.prototype.delete=_.prototype.del=_.prototype.destroy=function(e,t,i,o){return"function"==typeof i&&(o=i,i={}),i=i||{},(n.isArray(t)?this._supports("sobject-collection")?this._destroyMany(e,t,i):this._destroyParallel(e,t,i):this._destroySingle(e,t,i)).thenCall(o)},_.prototype._destroySingle=function(e,t,i){return e=[this._baseUrl(),"sobjects",e,t].join("/"),this.request({method:"DELETE",url:e,headers:i.headers||null},{noContentResponse:{id:t,success:!0,errors:[]}})},_.prototype._destroyParallel=function(e,t,i){if(t.length>this.maxRequest)return s.reject(new Error("Exceeded max limit of concurrent call"));var o=this;return s.all(t.map((function(t){return o._destroySingle(e,t,i).catch((function(e){if(i.allOrNone||!e.errorCode)throw e;return this._toRecordResult(t,e)}))})))},_.prototype._destroyMany=function(e,t,i){if(0===t.length)return s.resolve([]);if(t.length>v&&i.allowRecursive){var o=this;return o._destroyMany(e,t.slice(0,v),i).then((function(r){return o._destroyMany(e,t.slice(v),i).then((function(e){return r.concat(e)}))}))}var r=[this._baseUrl(),"composite","sobjects?ids="].join("/")+t.join(",");return i.allOrNone&&(r+="&allOrNone=true"),this.request({method:"DELETE",url:r,headers:i.headers||null})},_.prototype.search=function(e,t){return e=this._baseUrl()+"/search?q="+encodeURIComponent(e),this.request(e).thenCall(t)},_.prototype.describe=_.prototype.describeSObject=function(e,t){var i=e.type||e;return i=[this._baseUrl(),"sobjects",i,"describe"].join("/"),e=e.ifModifiedSince?{"If-Modified-Since":e.ifModifiedSince}:{},this.request({method:"GET",url:i,headers:e}).then((function(e){return""===e?s.resolve(void 0):s.resolve(e)})).thenCall(t)},_.prototype.batchDescribe=_.prototype.batchDescribeSObjects=function(e,t){var i=e.types,o=e.autofetch||!1,r=Math.min(e.maxConcurrentRequests||15,15),n=[];do{var s=25<i.length?i.slice(0,25):i}while(n.push(s),0<(i=25<i.length?i.slice(25):[]).length&&o);var a=[];do{var l=n.length>r?n.slice(0,r):n}while(a.push(l),0<(n=n.length>r?n.slice(r):[]).length);return this.doBatchDescribeRequestBatches(a).thenCall(t)},_.prototype.doBatchDescribeRequestBatches=function(e){var t=this,i=[],o=e.shift();return t.doBatchOfBatchDescribeRequests(o).then((function(o){return o.forEach((function(e){i.push(e)})),0<e.length?t.doBatchDescribeRequestBatches(e).then((function(e){return e.forEach((function(e){i.push(e)})),s.resolve(i)})):s.resolve(i)}))},_.prototype.doBatchOfBatchDescribeRequests=function(e){var t=this;return s.all(e.map((function(e){return t.doBatchDescribeRequest(e)}))).then((function(e){var t=[];return e.forEach((function(e){e.forEach((function(e){t.push(e)}))})),s.resolve(t)}))},_.prototype.doBatchDescribeRequest=function(e){var t=[],i=[this._baseUrl(),"composite/batch"].join("/"),o="v"+this.version,r=[];return e.forEach((function(e){r.push({method:"GET",url:[o,"sobjects",e,"describe"].join("/")})})),this.request({method:"POST",url:i,body:JSON.stringify({batchRequests:r}),headers:{"Content-Type":"application/json"}}).then((function(e){if(e.results){var i=0;for(i=0;i<e.results.length;i++){var o=e.results[i];Array.isArray(o.result)?o.result[0].errorCode&&o.result[0].message&&this._logger.error("Error: "+o.result[0].errorCode+" "+o.result[0].message+" - "+typesToFetch[i]):t.push(o.result)}}return s.resolve(t)}))},_.prototype.describeGlobal=function(e){var t=this._baseUrl()+"/sobjects";return this.request(t).thenCall(e)},_.prototype.sobject=function(e){return this.sobjects=this.sobjects||{},this.sobjects[e]=this.sobjects[e]||new c(this,e)},_.prototype.identity=function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};var i=this,o=this.userInfo&&this.userInfo.url;return s.resolve(o?{identity:o}:this.request({method:"GET",url:this._baseUrl(),headers:e.headers})).then((function(e){return e=e.identity,i.request({method:"GET",url:e})})).then((function(e){return i.userInfo={id:e.user_id,organizationId:e.organization_id,url:e.id},e})).thenCall(t)},_.prototype.authorize=function(e,t,i){"function"==typeof t&&(i=t,t={});var o=this,r=this._logger;return this.oauth2.requestToken(e,t).then((function(e){var t=C(e.id);return o.initialize({instanceUrl:e.instance_url,accessToken:e.access_token,refreshToken:e.refresh_token,userInfo:t}),r.debug("<login> completed. user id = "+t.id+", org id = "+t.organizationId),t})).thenCall(i)},_.prototype.login=function(e,t,i){var o,r;return this._refreshDelegate=new h.SessionRefreshDelegate(this,(o=e,r=t,function(e,t){e.login(o,r,(function(i){return i?t(i):void t(null,e.accessToken)}))})),this.oauth2&&this.oauth2.clientId&&this.oauth2.clientSecret?this.loginByOAuth2(e,t,i):this.loginBySoap(e,t,i)},_.prototype.loginByOAuth2=function(e,t,i){var o=this,r=this._logger;return this.oauth2.authenticate(e,t).then((function(e){var t=C(e.id);return o.initialize({instanceUrl:e.instance_url,accessToken:e.access_token,userInfo:t}),r.debug("<login> completed. user id = "+t.id+", org id = "+t.organizationId),t})).thenCall(i)},_.prototype.loginBySoap=function(e,t,i){var o=this,r=this._logger,n=(t=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header/>","<se:Body>",'<login xmlns="urn:partner.soap.sforce.com">',"<username>"+S(e)+"</username>","<password>"+S(t)+"</password>","</login>","</se:Body>","</se:Envelope>"].join(""),[this.loginUrl,"services/Soap/u",this.version].join("/"));return this._transport.httpRequest({method:"POST",url:n,body:t,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then((function(e){if(400<=e.statusCode){var t=(a=e.body.match(/<faultstring>([^<]+)<\/faultstring>/))&&a[1];throw new Error(t||e.body)}r.debug("SOAP response = "+e.body);var i=(a=e.body.match(/<serverUrl>([^<]+)<\/serverUrl>/))&&a[1],s=(a=e.body.match(/<sessionId>([^<]+)<\/sessionId>/))&&a[1],a=(t=(a=e.body.match(/<userId>([^<]+)<\/userId>/))&&a[1],e=(a=e.body.match(/<organizationId>([^<]+)<\/organizationId>/))&&a[1],n.split("/").slice(0,3).join("/"));return a={id:t,organizationId:e,url:a+="/id/"+e+"/"+t},o.initialize({serverUrl:i.split("/").slice(0,3).join("/"),sessionId:s,userInfo:a}),r.debug("<login> completed. user id = "+t+", org id = "+e),a})).thenCall(i)},_.prototype.logout=function(e,t){return"function"==typeof e&&(t=e,e=!1),"oauth2"===this._sessionType?this.logoutByOAuth2(e,t):this.logoutBySoap(e,t)},_.prototype.logoutByOAuth2=function(e,t){"function"==typeof e&&(t=e,e=!1);var i=this;return this._logger,this.oauth2.revokeToken(e?this.refreshToken:this.accessToken).then((function(){i.accessToken=null,i.userInfo=null,i.refreshToken=null,i.instanceUrl=null,i.cache.clear()})).thenCall(t)},_.prototype.logoutBySoap=function(e,t){"function"==typeof e&&(t=e,e=!1);var i=this,o=this._logger;return e=['<se:Envelope xmlns:se="http://schemas.xmlsoap.org/soap/envelope/">',"<se:Header>",'<SessionHeader xmlns="urn:partner.soap.sforce.com">',"<sessionId>"+S(e?this.refreshToken:this.accessToken)+"</sessionId>","</SessionHeader>","</se:Header>","<se:Body>",'<logout xmlns="urn:partner.soap.sforce.com"/>',"</se:Body>","</se:Envelope>"].join(""),this._transport.httpRequest({method:"POST",url:[this.instanceUrl,"services/Soap/u",this.version].join("/"),body:e,headers:{"Content-Type":"text/xml",SOAPAction:'""'}}).then((function(e){if(o.debug("SOAP statusCode = "+e.statusCode+", response = "+e.body),400<=e.statusCode){var t=(t=e.body.match(/<faultstring>([^<]+)<\/faultstring>/))&&t[1];throw new Error(t||e.body)}i.accessToken=null,i.userInfo=null,i.refreshToken=null,i.instanceUrl=null,i.cache.clear()})).thenCall(t)},_.prototype.recent=function(e,t,i){var o;return n.isString(e)||(i=t,t=e,e=void 0),n.isNumber(t)||(i=t,t=void 0),e?(o=[this._baseUrl(),"sobjects",e].join("/"),this.request(o).then((function(e){return t?e.recentItems.slice(0,t):e.recentItems})).thenCall(i)):(o=this._baseUrl()+"/recent",t&&(o+="?limit="+t),this.request(o).thenCall(i))},_.prototype.updated=function(e,t,i,o){return e=[this._baseUrl(),"sobjects",e,"updated"].join("/"),"string"==typeof t&&(t=new Date(t)),t instanceof Date&&(t=x(t)),t&&(e+="?start="+encodeURIComponent(t)),"string"==typeof i&&(i=new Date(i)),i instanceof Date&&(i=x(i)),i&&(e+="&end="+encodeURIComponent(i)),this.request(e).thenCall(o)},_.prototype.deleted=function(e,t,i,o){return e=[this._baseUrl(),"sobjects",e,"deleted"].join("/"),"string"==typeof t&&(t=new Date(t)),t instanceof Date&&(t=x(t)),t&&(e+="?start="+encodeURIComponent(t)),"string"==typeof i&&(i=new Date(i)),i instanceof Date&&(i=x(i)),i&&(e+="&end="+encodeURIComponent(i)),this.request(e).thenCall(o)},_.prototype.tabs=function(e){var t=[this._baseUrl(),"tabs"].join("/");return this.request(t).thenCall(e)},_.prototype.limits=function(e){var t=[this._baseUrl(),"limits"].join("/");return this.request(t).thenCall(e)},_.prototype.theme=function(e){var t=[this._baseUrl(),"theme"].join("/");return this.request(t).thenCall(e)},_.prototype.quickActions=function(e){return this.request("/quickActions").thenCall(e)},_.prototype.quickAction=function(e){return new u(this,"/quickActions/"+e)}}).call(this,e("buffer").Buffer)},{"./cache":18,"./core":20,"./http-api":23,"./logger":24,"./oauth2":25,"./process":26,"./promise":27,"./query":28,"./quick-action":29,"./sobject":34,"./transport":36,buffer:41,events:48,inherits:85,"lodash/core":89}],20:[function(e,t,i){"use strict";var o=e("events").EventEmitter;(o=t.exports=new o).VERSION=e("./VERSION"),o.Connection=e("./connection"),o.OAuth2=e("./oauth2"),o.Date=o.SfDate=e("./date"),o.RecordStream=e("./record-stream"),o.Promise=e("./promise"),o.require=e("./require")},{"./VERSION":2,"./connection":19,"./date":22,"./oauth2":25,"./promise":27,"./record-stream":30,"./require":32,events:48}],21:[function(e,t,i){"use strict";var o=e("lodash/core"),r=e("csv-parse/lib/es5"),n=e("csv-parse/lib/es5/sync"),s=e("csv-stringify"),a=e("csv-stringify/lib/sync");t.exports={parseCSV:function(e,t){return t=o.extend({},t,{columns:!0}),n(e,t)},toCSV:function(e,t){return t=o.extend({},t,{header:!0}),a(e,t)},parseCSVStream:function(e){return e=o.extend({},e,{columns:!0}),r(e)},serializeCSVStream:function(e){return e=o.extend({},e,{header:!0}),s(e)}}},{"csv-parse/lib/es5":44,"csv-parse/lib/es5/sync":45,"csv-stringify":46,"csv-stringify/lib/sync":47,"lodash/core":89}],22:[function(e,t,i){"use strict";var o=e("lodash/core"),r=t.exports=function(e){this._literal=e};function n(e){return(e<10?"0":"")+e}r.prototype.toString=r.prototype.toJSON=function(){return this._literal},r.toDateLiteral=function(e){o.isNumber(e)?e=new Date(e):o.isString(e)&&(e=r.parseDate(e));var t=e.getFullYear(),i=e.getMonth()+1;return e=e.getDate(),e=[t,n(i),n(e)].join("-"),new r(e)},r.toDateTimeLiteral=function(e){o.isNumber(e)?e=new Date(e):o.isString(e)&&(e=r.parseDate(e));var t=e.getUTCFullYear(),i=e.getUTCMonth()+1,s=e.getUTCDate(),a=e.getUTCHours(),l=e.getUTCMinutes();return e=e.getUTCSeconds(),e=[t,n(i),n(s)].join("-")+"T"+[n(a),n(l),n(e)].join(":")+"Z",new r(e)},r.parseDate=function(e){var t,i=new Date,o=e.match(/^([\d]{4})-?([\d]{2})-?([\d]{2})(T([\d]{2}):?([\d]{2}):?([\d]{2})(.([\d]{3}))?(Z|([\+\-])([\d]{2}):?([\d]{2})))?$/);if(o)return i=new Date(0),o[4]?(i.setUTCFullYear(parseInt(o[1],10)),i.setUTCDate(parseInt(o[3],10)),i.setUTCMonth(parseInt(o[2],10)-1),i.setUTCHours(parseInt(o[5],10)),i.setUTCMinutes(parseInt(o[6],10)),i.setUTCSeconds(parseInt(o[7],10)),i.setUTCMilliseconds(parseInt(o[9]||"0",10)),o[10]&&"Z"!==o[10]&&(t=60*parseInt(o[12],10)+parseInt(o[13],10),i.setTime(("+"===o[11]?-1:1)*t*60*1e3+i.getTime()))):(i.setFullYear(parseInt(o[1],10)),i.setDate(parseInt(o[3],10)),i.setMonth(parseInt(o[2],10)-1),i.setHours(0),i.setMinutes(0),i.setSeconds(0),i.setMilliseconds(0)),i;throw new Error("Invalid date format is specified : "+e)};var s,a={YESTERDAY:1,TODAY:1,TOMORROW:1,LAST_WEEK:1,THIS_WEEK:1,NEXT_WEEK:1,LAST_MONTH:1,THIS_MONTH:1,NEXT_MONTH:1,LAST_90_DAYS:1,NEXT_90_DAYS:1,LAST_N_DAYS:2,NEXT_N_DAYS:2,NEXT_N_WEEKS:2,LAST_N_WEEKS:2,NEXT_N_MONTHS:2,LAST_N_MONTHS:2,THIS_QUARTER:1,LAST_QUARTER:1,NEXT_QUARTER:1,NEXT_N_QUARTERS:2,LAST_N_QUARTERS:2,THIS_YEAR:1,LAST_YEAR:1,NEXT_YEAR:1,NEXT_N_YEARS:2,LAST_N_YEARS:2,THIS_FISCAL_QUARTER:1,LAST_FISCAL_QUARTER:1,NEXT_FISCAL_QUARTER:1,NEXT_N_FISCAL_QUARTERS:2,LAST_N_FISCAL_QUARTERS:2,THIS_FISCAL_YEAR:1,LAST_FISCAL_YEAR:1,NEXT_FISCAL_YEAR:1,NEXT_N_FISCAL_YEARS:2,LAST_N_FISCAL_YEARS:2};for(s in a){var l=a[s];r[s]=1===l?new r(s):function(e){return function(t){return new r(e+":"+t)}}(s)}},{"lodash/core":89}],23:[function(e,t,i){"use strict";function o(e,t){t=t||{},this._conn=e,this.on("resume",(function(t){e.emit("resume",t)})),this._responseType=t.responseType,this._transport=t.transport||e._transport,this._noContentResponse=t.noContentResponse}var r=e("inherits"),n=e("events"),s=e("lodash/core"),a=e("./promise");function l(e){return JSON.parse(e)}function d(t){var i={};if(e("xml2js").parseString(t,{explicitArray:!1},(function(e,t){i={error:e,result:t}})),i.error)throw i.error;return i.result}function c(t){return e("./csv").parseCSV(t)}function u(e){return e}function h(e,t){this._conn=e,this._refreshFn=t,this._refreshing=!1}r(o,n.EventEmitter),o.prototype.request=function(e,t){function i(t){t?d.reject(t):(l!==r.instanceUrl&&(e.url=e.url.replace(l,r.instanceUrl)),o.request(e).then((function(e){d.resolve(e)}),(function(e){d.reject(e)})))}var o=this,r=this._conn,n=r._logger,s=this.getRefreshDelegate(),l=r.instanceUrl,d=a.defer();if(s&&s._refreshing)return s.once("resume",i),d.promise.thenCall(t);o.beforeSend(e),o.emit("request",e),n.debug("<request> method="+e.method+", url="+e.url);var c=Date.now();return this._transport.httpRequest(e).then((function(t){var r=Date.now();if(n.debug("elapsed time : "+(r-c)+"msec"),n.debug("<response> status="+t.statusCode+", url="+e.url),o.emit("response",t),o.isSessionExpired(t)&&s)return s.refresh(c,i),d.promise;if(o.isErrorResponse(t))throw o.getError(t);return o.getResponseBody(t)}),(function(e){var t=Date.now();throw n.debug("elapsed time : "+(t-c)+"msec"),n.error(e),e})).thenCall(t)},o.prototype.getRefreshDelegate=function(){return this._conn._refreshDelegate},o.prototype.beforeSend=function(e){if(e.headers=e.headers||{},this._conn.accessToken&&(e.headers.Authorization="Bearer "+this._conn.accessToken),this._conn.callOptions){var t,i=[];for(t in this._conn.callOptions)i.push(t+"="+this._conn.callOptions[t]);e.headers["Sforce-Call-Options"]=i.join(", ")}},o.prototype.getResponseContentType=function(e){return this._responseType||e.headers&&e.headers["content-type"]},o.prototype.parseResponseBody=function(e){var t=this.getResponseContentType(e),i=/^(text|application)\/xml(;|$)/.test(t)?d:/^application\/json(;|$)/.test(t)?l:/^text\/csv(;|$)/.test(t)?c:u;try{return i(e.body)}catch(t){return e.body}},o.prototype.getResponseBody=function(e){if(204===e.statusCode)return this._noContentResponse;var t,i=this.parseResponseBody(e);if(this.hasErrorInResponseBody(i))throw this.getError(e,i);if(300===e.statusCode)throw(t=new Error("Multiple records found")).name="MULTIPLE_CHOICES",t.content=i,t;return i},o.prototype.isSessionExpired=function(e){return 401===e.statusCode},o.prototype.isErrorResponse=function(e){return 400<=e.statusCode},o.prototype.hasErrorInResponseBody=function(e){return!1},o.prototype.parseError=function(e){return s.isArray(e)?e[0]:e},o.prototype.getError=function(e,t){var i;try{i=this.parseError(t||this.parseResponseBody(e))}catch(e){}i=s.isObject(i)&&s.isString(i.message)?i:{errorCode:"ERROR_HTTP_"+e.statusCode,message:e.body};var o,r=new Error(i.message);for(o in r.name=i.errorCode,i)r[o]=i[o];return r},r(h,n.EventEmitter),h.prototype.refresh=function(e,t){if(this._lastRefreshedAt>e)return t();var i=this,o=this._conn,r=o._logger;return i.once("resume",t),i._refreshing?void 0:(r.debug("<refresh token>"),i._refreshing=!0,i._refreshFn(o,(function(e,t,n){e||(r.debug("Connection refresh completed."),o.accessToken=t,o.emit("refresh",t,n)),i._lastRefreshedAt=Date.now(),i._refreshing=!1,i.emit("resume",e)})))},o.SessionRefreshDelegate=h,t.exports=o},{"./csv":21,"./promise":27,events:48,inherits:85,"lodash/core":89,xml2js:124}],24:[function(e,t,i){"use strict";var o,r=t.exports=function(e){"string"==typeof e&&(e=n[e]),e=e||n.INFO,this._logLevel=e},n=r.LogLevels={DEBUG:1,INFO:2,WARN:3,ERROR:4,FATAL:5};for(o in r.prototype.log=function(e,t){this._logLevel<=e&&(e<n.ERROR?console.log(t):console.error(t))},n)r.prototype[o.toLowerCase()]=function(e){return function(t){this.log(e,t)}}(n[o])},{}],25:[function(e,t,i){"use strict";var o=e("querystring"),r=e("lodash/core"),n=e("./transport"),s="https://login.salesforce.com";t=t.exports=function(e){e.authzServiceUrl&&e.tokenServiceUrl?(this.loginUrl=e.authzServiceUrl.split("/").slice(0,3).join("/"),this.authzServiceUrl=e.authzServiceUrl,this.tokenServiceUrl=e.tokenServiceUrl,this.revokeServiceUrl=e.revokeServiceUrl):(this.loginUrl=e.loginUrl||s,this.authzServiceUrl=this.loginUrl+"/services/oauth2/authorize",this.tokenServiceUrl=this.loginUrl+"/services/oauth2/token",this.revokeServiceUrl=this.loginUrl+"/services/oauth2/revoke"),this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.redirectUri=e.redirectUri,e.proxyUrl?this._transport=new n.ProxyTransport(e.proxyUrl):e.httpProxy?this._transport=new n.HttpProxyTransport(e.httpProxy):this._transport=new n},r.extend(t.prototype,{getAuthorizationUrl:function(e){return e=r.extend({response_type:"code",client_id:this.clientId,redirect_uri:this.redirectUri},e||{}),this.authzServiceUrl+(0<=this.authzServiceUrl.indexOf("?")?"&":"?")+o.stringify(e)},refreshToken:function(e,t){return e={grant_type:"refresh_token",refresh_token:e,client_id:this.clientId},this.clientSecret&&(e.client_secret=this.clientSecret),this._postParams(e,t)},requestToken:function(e,t,i){return"function"==typeof t&&(i=t,t={}),t=r.extend({grant_type:"authorization_code",code:e,client_id:this.clientId,redirect_uri:this.redirectUri},t||{}),this.clientSecret&&(t.client_secret=this.clientSecret),this._postParams(t,i)},authenticate:function(e,t,i){return this._postParams({grant_type:"password",username:e,password:t,client_id:this.clientId,client_secret:this.clientSecret,redirect_uri:this.redirectUri},i)},revokeToken:function(e,t){return this._transport.httpRequest({method:"POST",url:this.revokeServiceUrl,body:o.stringify({token:e}),headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(e){if(400<=e.statusCode){var t=o.parse(e.body);throw t&&t.error||(t={error:"ERROR_HTTP_"+e.statusCode,error_description:e.body}),(e=new Error(t.error_description)).name=t.error,e}})).thenCall(t)},_postParams:function(e,t){return this._transport.httpRequest({method:"POST",url:this.tokenServiceUrl,body:o.stringify(e),headers:{"content-type":"application/x-www-form-urlencoded"}}).then((function(e){var t;try{t=JSON.parse(e.body)}catch(e){}if(400<=e.statusCode){t=t||{error:"ERROR_HTTP_"+e.statusCode,error_description:e.body};var i=new Error(t.error_description);throw i.name=t.error,i}return t})).thenCall(t)}})},{"./transport":36,"lodash/core":89,querystring:97}],26:[function(e,t,i){"use strict";var o=e("lodash/core"),r=(e("./promise"),e("./connection"),t.exports=function(e){this.rule=new r(e),this.approval=new n(e)},function(e){this._conn=e});r.prototype.list=function(e){return this._conn.request("/process/rules").then((function(e){return e.rules})).thenCall(e)},r.prototype.trigger=function(e,t){return e=o.isArray(e)?e:[e],this._conn.request({method:"POST",url:"/process/rules/",body:JSON.stringify({contextIds:e}),headers:{"content-type":"application/json"}}).thenCall(t)};var n=function(e){this._conn=e};n.prototype.list=function(e){return this._conn.request("/process/approvals").then((function(e){return e.approvals})).thenCall(e)},n.prototype.request=function(e,t){return e=e.map((function(e){return e._request||e})),this._conn.request({method:"POST",url:"/process/approvals",headers:{"content-type":"application/json"},body:JSON.stringify({requests:e})}).thenCall(t)},n.prototype._createRequest=function(e,t,i,r,n){return"function"==typeof i&&(n=i,i=r=null),"function"==typeof r&&(n=r,r=null),r=r||{},i={actionType:e,contextId:t,comments:i},o.extend(i,r),new s(this,i).thenCall(n)},n.prototype.submit=function(e,t,i,o){return this._createRequest("Submit",e,t,i,o)},n.prototype.approve=function(e,t,i,o){return this._createRequest("Approve",e,t,i,o)},n.prototype.reject=function(e,t,i,o){return this._createRequest("Reject",e,t,i,o)};var s=function(e,t){this._process=e,this._request=t};s.prototype.then=function(e,t){this._promise||(this._promise=this._process.request([this]).then((function(e){return e[0]}))),this._promise.then(e,t)},s.prototype.thenCall=function(e){return e?this.then((function(t){e(null,t)}),(function(t){e(t)})):this}},{"./connection":19,"./promise":27,"lodash/core":89}],27:[function(e,t,i){(function(i){"use strict";var o=e("lodash/core"),r=e("promise/lib/es6-extensions");r.prototype.thenCall=function(e){return o.isFunction(e)&&this.then((function(t){i.nextTick((function(){e(null,t)}))}),(function(t){i.nextTick((function(){e(t)}))})),this},r.prototype.fail=r.prototype.catch,r.defer=function(){return new n};var n=function(){var e=this;this.promise=new r((function(t,i){e.resolve=t,e.reject=i}))};t.exports=r}).call(this,e("_process"))},{_process:92,"lodash/core":89,"promise/lib/es6-extensions":94}],28:[function(e,t,i){(function(i){"use strict";var o=e("inherits"),r=(e("events"),e("readable-stream")),n=e("lodash/core"),s=e("./promise"),a=(e("./date"),e("./soql-builder")),l=e("./record-stream"),d=t.exports=function(e,t,i){d.super_.call(this,{objectMode:!0}),this._conn=e,n.isString(t)?this._soql=t:t.locator&&0<=t.locator.indexOf("/")?this._locator=t.locator.split("/").pop():(this._config=t,this.select(t.fields),t.includes&&this.include(t.includes),t.sort&&this.sort(t.sort)),this._options=n.defaults(i||{},{maxFetch:1e4,autoFetch:!1,scanAll:!1,responseTarget:c.QueryResult}),this._executed=!1,this._finished=!1,this._chaining=!1,this._deferred=s.defer()};o(d,r.Readable),d.prototype.select=function(e){if(this._soql)throw Error("Cannot set select fields for the query which has already built SOQL.");if(e=e||"*",n.isString(e))e=e.split(/\s*,\s*/);else if(n.isObject(e)&&!n.isArray(e)){var t,i=[];for(t in e)e[t]&&i.push(t);e=i}return this._config.fields=e,this},d.prototype.where=function(e){if(this._soql)throw Error("Cannot set where conditions for the query which has already built SOQL.");return this._config.conditions=e,this},d.prototype.limit=function(e){if(this._soql)throw Error("Cannot set limit for the query which has already built SOQL.");return this._config.limit=e,this},d.prototype.skip=d.prototype.offset=function(e){if(this._soql)throw Error("Cannot set skip/offset for the query which has already built SOQL.");return this._config.offset=e,this},d.prototype.sort=d.prototype.orderby=function(e,t){if(this._soql)throw Error("Cannot set sort for the query which has already built SOQL.");return n.isString(e)&&n.isString(t)&&(e=[[e,t]]),this._config.sort=e,this},d.prototype.include=function(e,t,i,o){if(this._soql)throw Error("Cannot include child relationship into the query which has already built SOQL.");if(!n.isObject(e))return o={table:e,conditions:t,fields:i,limit:o&&o.limit,offset:o&&(o.offset||o.skip),sort:o&&o.sort},n.isArray(this._config.includes)||(this._config.includes=[]),this._config.includes.push(o),o=new u(this._conn,this,o),this._children=this._children||[],this._children.push(o),o;var r,s=e;for(r in s){var a=s[r];this.include(r,a.conditions,a.fields,a)}},d.prototype.maxFetch=function(e){return this._options.maxFetch=e,this},d.prototype.autoFetch=function(e){return this._options.autoFetch=e,this},d.prototype.scanAll=function(e){return this._options.scanAll=e,this};var c=d.ResponseTargets={};["QueryResult","Records","SingleRecord","Count"].forEach((function(e){c[e]=e})),d.prototype.setResponseTarget=function(e){return e in c&&(this._options.responseTarget=e),this},d.prototype.run=d.prototype.exec=d.prototype.execute=function(e,t){var i=this,o=this._conn._logger,r=this._deferred;if(this._executed)return r.reject(new Error("re-executing already executed query")),this;if(this._finished)return r.reject(new Error("executing already closed query")),this;function s(e,i){if(n.isFunction(t))try{i=t(e,i),e=null}catch(i){e=i}e?r.reject(e):r.resolve(i)}return"function"==typeof e&&(t=e,e={}),e={headers:(e=e||{}).headers||i._options.headers,responseTarget:e.responseTarget||i._options.responseTarget,autoFetch:e.autoFetch||i._options.autoFetch,maxFetch:e.maxFetch||i._options.maxFetch,scanAll:e.scanAll||i._options.scanAll},this.once("response",(function(e){s(null,e)})),this.once("error",(function(e){s(e)})),this.once("fetch",(function(){var r,n;e.responseTarget===c.Records&&(i._chaining||t)&&(o.debug("--- collecting all fetched records ---"),r=[],n=function(e){r.push(e)},i.on("record",n),i.once("end",(function(){i.removeListener("record",n),i.emit("response",r,i)})))})),this._executed=!0,o.debug(">>> Query start >>>"),this._execute(e).then((function(){o.debug("*** Query finished ***")})).fail((function(e){o.debug("--- Query error ---"),i.emit("error",e)})),this},d.prototype._execute=function(e){var t=this,i=this._conn._logger,o=e.responseTarget,r=e.autoFetch,n=e.maxFetch,a=e.scanAll;return s.resolve(t._locator?t._conn._baseUrl()+"/query/"+t._locator:t.toSOQL().then((function(e){return t.totalFetched=0,i.debug("SOQL = "+e),t._conn._baseUrl()+"/"+(a?"queryAll":"query")+"?q="+encodeURIComponent(e)}))).then((function(i){return t._conn.request({method:"GET",url:i,headers:e.headers})})).then((function(i){var s;switch(t.emit("fetch"),t.totalSize=i.totalSize,o){case c.SingleRecord:s=i.records&&0<i.records.length?i.records[0]:null;break;case c.Records:s=i.records;break;case c.Count:s=i.totalSize;break;default:s=i}o!==c.Records&&t.emit("response",s,t);for(var a=i.records&&i.records.length||0,l=0;l<a;l++){if(t.totalFetched>=n){t._finished=!0;break}var d=i.records[l];t.push(d),t.emit("record",d,t.totalFetched++,t)}return i.nextRecordsUrl&&(t._locator=i.nextRecordsUrl.split("/").pop()),t._finished=t._finished||i.done||!r,t._finished?t.push(null):t._execute(e),s}))},d.prototype._read=function(e){this._finished||this._executed||this.execute({autoFetch:!0})},d.prototype.on=function(e,t){var i;return"record"===e&&(i=this).on("readable",(function(){for(;null!==i.read(););})),d.super_.prototype.on.call(this,e,t)},d.prototype.addListener=d.prototype.on,d.prototype._expandFields=function(){if(this._soql)return s.reject(new Error("Cannot expand fields for the query which has already built SOQL."));var e,t,i=this,o=i._conn._logger,r=this._conn,a=this._config.table,l=this._config.fields||[];return o.debug("_expandFields: table = "+a+", fields = "+l.join(", ")),s.all([s.resolve(i._parent?(e=a,t=i._parent._config.table,o.debug('finding table for relation "'+e+'" in "'+t+'"...'),d(t).then((function(t){var i=e.toUpperCase();return(t=n.find(t.childRelationships,(function(e){return(e.relationshipName||"").toUpperCase()===i})))?t.childSObject:s.reject(new Error("No child relationship found: "+e))}))):a).then((function(e){return s.all(n.map(l,(function(t){return function e(t,i){o.debug('expanding field "'+i+'" in "'+t+'"...');var r=i.split(".");return"*"===r[r.length-1]?d(t).then((function(i){if(o.debug("table "+t+"has been described"),1<r.length){var s=r.shift(),a=n.find(i.fields,(function(e){return e.relationshipName&&e.relationshipName.toUpperCase()===s.toUpperCase()}));return a?(a=1===a.referenceTo.length?a.referenceTo[0]:"Name",e(a,r.join(".")).then((function(e){return n.map(e,(function(e){return s+"."+e}))}))):[]}return n.map(i.fields,(function(e){return e.name}))})):s.resolve([i])}(e,t)}))).then((function(e){i._config.fields=n.flatten(e)}))})),s.all(n.map(i._children||[],(function(e){return e._expandFields()})))]);function d(e){o.debug("describe cache: "+e);var t=s.defer();return r.describe$(e,(function(e,i){o.debug("... done."),e?t.reject(e):t.resolve(i)})),t.promise}},d.prototype.explain=function(e){var t=this,i=this._conn._logger;return t.toSOQL().then((function(e){return i.debug("SOQL = "+e),e="/query/?explain="+encodeURIComponent(e),t._conn.request(e)})).thenCall(e)},d.prototype.toSOQL=function(e){var t=this;return s.resolve(t._soql||t._expandFields().then((function(){return a.createSOQL(t._config)}))).thenCall(e)},d.prototype.stream=l.Serializable.prototype.stream,d.prototype.map=l.prototype.map,d.prototype.filter=l.prototype.map,d.prototype.delete=d.prototype.del=d.prototype.destroy=function(e,t,i){if("function"==typeof e?(i=e,t={},e=null):"object"==typeof e&&null!==e&&(i=t,t=e,e=null),t=t||{},!(e=e||this._config&&this._config.table))throw new Error("SOQL based query needs SObject type information to bulk delete.");var o=!1===t.allowBulk?-1:"number"==typeof t.bulkThreshold?t.bulkThreshold:this._conn._ensureVersion(42)?200:this._conn.maxRequest/2,r=this;return new s((function(t,i){var n=[],s=null;r.on("data",(function(a){a.Id?(a={Id:a.Id},s?s.write(a):(n.push(a),(o<0||n.length>o)&&(s=r._conn.sobject(e).deleteBulk().on("response",t).on("error",i),n.forEach((function(e){s.write(e)})),n=[]))):r.emit("error",new Error("Queried record does not include Salesforce record ID."))})).on("end",(function(){var o;s?s.end():(o=n.map((function(e){return e.Id})),r._conn.sobject(e).destroy(o,{allowRecursive:!0}).then(t,i))})).on("error",i)})).thenCall(i)},d.prototype.update=function(e,t,i,o){if("function"==typeof t?(o=t,i={},t=null):"object"==typeof t&&null!==t&&(o=i,i=t,t=null),i=i||{},!(t=t||this._config&&this._config.table))throw new Error("SOQL based query needs SObject type information to bulk update.");var r=n.isFunction(e)?l.map(e):l.recordMapStream(e),a=!1===i.allowBulk?-1:"number"==typeof i.bulkThreshold?i.bulkThreshold:this._conn._ensureVersion(42)?200:this._conn.maxRequest/2,d=this;return new s((function(e,i){var o=[],n=null;d.on("error",i).pipe(r).on("data",(function(r){n?n.write(r):(o.push(r),(a<0||o.length>a)&&(n=d._conn.sobject(t).updateBulk().on("response",e).on("error",i),o.forEach((function(e){n.write(e)})),o=[]))})).on("end",(function(){n?n.end():d._conn.sobject(t).update(o,{allowRecursive:!0}).then(e,i)})).on("error",i)})).thenCall(o)},d.prototype.then=function(e,t){return this._chaining=!0,this._finished||this._executed||this.execute(),this._deferred.promise.then.apply(this._deferred.promise,arguments)},d.prototype.thenCall=function(e){return n.isFunction(e)&&this.then((function(t){i.nextTick((function(){e(null,t)}))}),(function(t){i.nextTick((function(){e(t)}))})),this};var u=function(e,t,i){u.super_.call(this,e,i),this._parent=t};o(u,d),u.prototype.include=function(){throw new Error("Not allowed to include another subquery in subquery.")},u.prototype.end=function(){return this._parent},u.prototype.run=u.prototype.exec=u.prototype.execute=function(){return this._parent.execute.apply(this._parent,arguments)}}).call(this,e("_process"))},{"./date":22,"./promise":27,"./record-stream":30,"./soql-builder":35,_process:92,events:48,inherits:85,"lodash/core":89,"readable-stream":108}],29:[function(e,t,i){"use strict";t=t.exports=function(e,t){this._conn=e,this._path=t},t.prototype.describe=function(e){var t=this._path+"/describe";return this._conn.request(t).thenCall(e)},t.prototype.defaultValues=function(e,t){"function"==typeof e&&(t=e,e=null);var i=this._path+"/defaultValues";return e&&(i+="/"+e),this._conn.request(i).thenCall(t)},t.prototype.execute=function(e,t,i){return t={contextId:e,record:t},this._conn.requestPost(this._path,t).thenCall(i)}},{}],30:[function(e,t,i){"use strict";e("events");var o=((n=e("readable-stream")).Duplex,n.Transform),r=n.PassThrough,n=e("inherits"),s=e("lodash/core"),a=e("./csv"),l=t.exports=function(){l.super_.call(this,{objectMode:!0})};n(l,o),l.prototype._transform=function(e,t,i){this.emit("record",e),this.push(e),i()},l.prototype.map=function(e){return this.pipe(l.map(e))},l.prototype.filter=function(e){return this.pipe(l.filter(e))};var d=l.Serializable=function(){d.super_.call(this),this._dataStream=null};n(d,l),d.prototype.stream=function(e,t){var i=u[e=e||"csv"];if(!i)throw new Error("Converting ["+e+"] data stream is not supported.");return this._dataStream||(this._dataStream=new r,this.pipe(i.serialize(t)).pipe(this._dataStream)),this._dataStream};var c=l.Parsable=function(){c.super_.call(this),this._dataStream=null};n(c,l),c.prototype.stream=function(e,t){var i=u[e=e||"csv"],o=this;if(!i)throw new Error("Converting ["+e+"] data stream is not supported.");return this._dataStream||(this._dataStream=new r,this._parserStream=i.parse(t).on("error",(function(e){o.emit("error",e)})),this._parserStream.pipe(this).pipe(new r({objectMode:!0,highWaterMark:5e5}))),this._dataStream},c.prototype.on=function(e,t){return"readable"!==e&&"record"!==e||this._dataStream.pipe(this._parserStream),c.super_.prototype.on.call(this,e,t)},c.prototype.addListener=c.prototype.on,l.map=function(e){var t=new l.Serializable;return t._transform=function(t,i,o){t=e(t)||t,this.push(t),o()},t},l.recordMapStream=function(e,t){return l.map((function(i){var o,r={Id:i.Id};for(o in e)r[o]=t?e[o]:function(e,t){if(s.isString(e)){var i=/^\$\{(\w+)\}$/.exec(e);return i?t[i[1]]:e.replace(/\$\{(\w+)\}/g,(function(e,i){return i=t[i],s.isNull(i)||s.isUndefined(i)?"":String(i)}))}return e}(e[o],i);return r}))},l.filter=function(e){var t=new l.Serializable;return t._transform=function(t,i,o){e(t)&&this.push(t),o()},t},n={serialize:function(e){return e=e||{},t=l.map((function(t){return function e(t,i){return Object.keys(t).reduce((function(t,o){var r,n=t[o],a={};return"attributes"===o?delete(t=s.extend({},t))[o]:i.nullValue&&null===n?(a[o]=i.nullValue,t=s.extend({},t,a)):null!==n&&"object"==typeof n&&(r=e(n,i),t=Object.keys(r).reduce((function(e,t){return e[o+"."+t]=r[t],e}),s.extend({},t))),t}),t)}(t,e)})),i=a.serializeCSVStream(e),(o=new r).on("pipe",(function(e){e.unpipe(o),e.pipe(t).pipe(i)})),o.pipe=function(e,t){return i.pipe(e,t)},o;var t,i,o},parse:function(e){return a.parseCSVStream(e)}};var u=l.DataStreamConverters={csv:n}},{"./csv":21,events:48,inherits:85,"lodash/core":89,"readable-stream":108}],31:[function(e,t,i){"use strict";var o=e("lodash/core");t=t.exports=function(e,t,i){this._conn=e,this.type=t,this.id=i},t.prototype.retrieve=function(e,t){return"function"==typeof e&&(t=e,e={}),this._conn.retrieve(this.type,this.id,e,t)},t.prototype.update=function(e,t,i){return"function"==typeof t&&(i=t,t={}),(e=o.clone(e)).Id=this.id,this._conn.update(this.type,e,t,i)},t.prototype.delete=t.prototype.del=t.prototype.destroy=function(e,t){return"function"==typeof e&&(t=e,e={}),this._conn.destroy(this.type,this.id,e,t)},t.prototype.blob=function(e){return e=[this._conn._baseUrl(),"sobjects",this.type,this.id,e].join("/"),this._conn.request(e).stream()}},{"lodash/core":89}],32:[function(e,t,i){"use strict";var o=e("./_required");t.exports=function(e){"./jsforce"!==e&&"jsforce"!==e||(e="./core");var t=o[e];if(void 0===t)throw new Error("Cannot find module '"+e+"'");return t}},{"./_required":3}],33:[function(e,t,i){"use strict";var o=e("inherits"),r=e("lodash/core"),n=(e("xml2js"),e=e("./http-api"),t.exports=function(e,t){n.super_.apply(this,arguments),this._endpointUrl=t.endpointUrl,this._xmlns=t.xmlns||"urn:partner.soap.sforce.com"});function s(e,t){var i=t.shift();if(i){for(var o in e)if(i.test(o))return s(e[o],t);return null}return e}function a(e,t){if(r.isObject(e)&&(t=e,e=null),r.isArray(t))return r.map(t,(function(t){return a(e,t)})).join("");var i=[],o=[];if(r.isObject(t)){for(var n in t){var s=t[n];"@"===n[0]?(n=n.substring(1),i.push(n+'="'+s+'"')):o.push(a(n,s))}t=o.join("")}else t=String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;");return(e?"<"+e+(0<i.length?" "+i.join(" "):"")+">":"")+t+(e?"</"+e+">":"")}o(n,e),n.prototype.invoke=function(e,t,i,o){"function"==typeof i&&(o=i,i=null);var n={};return n[e]=t,this.request({method:"POST",url:this._endpointUrl,headers:{"Content-Type":"text/xml",SOAPAction:'""'},message:n}).then((function(e){return i?function e(t,i){if(r.isArray(t))return t.map((function(t){return e(t,i&&i[0])}));if(r.isObject(t)){if(t.$&&"true"===t.$["xsi:nil"])return null;if(r.isArray(i))return[e(t,i[0])];var o,n={};for(o in t)n[o]=e(t[o],i&&i[o]);return n}if(r.isArray(i))return[e(t,i[0])];if(r.isObject(i))return{};switch(i){case"string":return String(t);case"number":return Number(t);case"boolean":return"true"===t;default:return t}}(e,i):e})).thenCall(o)},n.prototype.beforeSend=function(e){e.body=this._createEnvelope(e.message)},n.prototype.isSessionExpired=function(e){return 500===e.statusCode&&/<faultcode>[a-zA-Z]+:INVALID_SESSION_ID<\/faultcode>/.test(e.body)},n.prototype.parseError=function(e){return{errorCode:(e=s(e,[/:Envelope$/,/:Body$/,/:Fault$/])).faultcode,message:e.faultstring}},n.prototype.getResponseBody=function(e){return s(n.super_.prototype.getResponseBody.call(this,e),[/:Envelope$/,/:Body$/,/.+/])},n.prototype._createEnvelope=function(e){var t={},i=this._conn;return i.accessToken&&(t.SessionHeader={sessionId:this._conn.accessToken}),i.callOptions&&(t.CallOptions=i.callOptions),['<?xml version="1.0" encoding="UTF-8"?>','<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"',' xmlns:xsd="http://www.w3.org/2001/XMLSchema"',' xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">','<soapenv:Header xmlns="'+this._xmlns+'">',a(t),"</soapenv:Header>",'<soapenv:Body xmlns="'+this._xmlns+'">',a(e),"</soapenv:Body>","</soapenv:Envelope>"].join("")}},{"./http-api":23,inherits:85,"lodash/core":89,xml2js:124}],34:[function(e,t,i){"use strict";var o=e("lodash/core"),r=e("./record"),n=e("./query"),s=(e("./cache"),e("./quick-action"));t=t.exports=function(e,t){this._conn=e,this.type=t,t={key:"describe."+this.type},this.describe$=e.cache.makeCacheable(this.describe,this,t),this.describe=e.cache.makeResponseCacheable(this.describe,this,t),t={key:"layouts."+this.type},this.layouts$=e.cache.makeCacheable(this.layouts,this,t),this.layouts=e.cache.makeResponseCacheable(this.layouts,this,t),t={key:"compactLayouts."+this.type},this.compactLayouts$=e.cache.makeCacheable(this.compactLayouts,this,t),this.compactLayouts=e.cache.makeResponseCacheable(this.compactLayouts,this,t),t={key:"approvalLayouts."+this.type},this.approvalLayouts$=e.cache.makeCacheable(this.approvalLayouts,this,t),this.approvalLayouts=e.cache.makeResponseCacheable(this.approvalLayouts,this,t)},t.prototype.insert=t.prototype.create=function(e,t,i){return"function"==typeof t&&(i=t,t={}),this._conn.create(this.type,e,t,i)},t.prototype.retrieve=function(e,t,i){return"function"==typeof t&&(i=t,t={}),this._conn.retrieve(this.type,e,t,i)},t.prototype.update=function(e,t,i){return"function"==typeof t&&(i=t,t={}),this._conn.update(this.type,e,t,i)},t.prototype.upsert=function(e,t,i,o){return"function"==typeof i&&(o=i,i={}),this._conn.upsert(this.type,e,t,i,o)},t.prototype.delete=t.prototype.del=t.prototype.destroy=function(e,t,i){return"function"==typeof t&&(i=t,t={}),this._conn.destroy(this.type,e,t,i)},t.prototype.describe=function(e){return this._conn.describe(this.type,e)},t.prototype.record=function(e){return new r(this._conn,this.type,e)},t.prototype.find=function(e,t,i,o){return"function"==typeof e?(o=e,e={},i=t=null):"function"==typeof t?(o=t,i=t=null):"function"==typeof i&&(o=i,i=null),e={fields:t,includes:(i=i||{}).includes,table:this.type,conditions:e,limit:i.limit,sort:i.sort,offset:i.offset||i.skip},(i=new n(this._conn,e,i)).setResponseTarget(n.ResponseTargets.Records),o&&i.run(o),i},t.prototype.findOne=function(e,t,i,r){return"function"==typeof e?(r=e,e={},i=t=null):"function"==typeof t?(r=t,i=t=null):"function"==typeof i&&(r=i,i=null),i=o.extend(i||{},{limit:1}),(i=this.find(e,t,i)).setResponseTarget(n.ResponseTargets.SingleRecord),r&&i.run(r),i},t.prototype.select=function(e,t){return this.find(null,e,null,t)},t.prototype.count=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=this.find(e,{"count()":!0})).setResponseTarget("Count"),t&&e.run(t),e},t.prototype.bulkload=function(e,t,i,o){return this._conn.bulk.load(this.type,e,t,i,o)},t.prototype.insertBulk=t.prototype.createBulk=function(e,t){return this.bulkload("insert",e,t)},t.prototype.updateBulk=function(e,t){return this.bulkload("update",e,t)},t.prototype.upsertBulk=function(e,t,i){return this.bulkload("upsert",{extIdField:t},e,i)},t.prototype.deleteBulk=t.prototype.destroyBulk=function(e,t){return this.bulkload("delete",e,t)},t.prototype.deleteHardBulk=t.prototype.destroyHardBulk=function(e,t){return this.bulkload("hardDelete",e,t)},t.prototype.recent=function(e){return this._conn.recent(this.type,e)},t.prototype.updated=function(e,t,i){return this._conn.updated(this.type,e,t,i)},t.prototype.deleted=function(e,t,i){return this._conn.deleted(this.type,e,t,i)},t.prototype.layouts=function(e,t){return"function"==typeof e&&(t=e,e=null),e="/sobjects/"+this.type+"/describe/"+(e?"namedLayouts/"+e:"layouts"),this._conn.request(e,t)},t.prototype.compactLayouts=function(e){var t="/sobjects/"+this.type+"/describe/compactLayouts";return this._conn.request(t,e)},t.prototype.approvalLayouts=function(e){var t="/sobjects/"+this.type+"/describe/approvalLayouts";return this._conn.request(t,e)},t.prototype.listviews=function(e){var t=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews";return this._conn.request(t,e)},t.prototype.listview=function(e){return new a(this._conn,this.type,e)},t.prototype.quickActions=function(e){return this._conn.request("/sobjects/"+this.type+"/quickActions").thenCall(e)},t.prototype.quickAction=function(e){return new s(this._conn,"/sobjects/"+this.type+"/quickActions/"+e)};var a=function(e,t,i){this._conn=e,this.type=t,this.id=i};a.prototype.results=function(e){var t=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/results";return this._conn.request(t,e)},a.prototype.describe=function(e,t){"function"==typeof e&&(t=e,e={}),e=e||{};var i=this._conn._baseUrl()+"/sobjects/"+this.type+"/listviews/"+this.id+"/describe";return this._conn.request({method:"GET",url:i,headers:e.headers},t)},a.prototype.explain=function(e){var t="/query/?explain="+this.id;return this._conn.request(t,e)}},{"./cache":18,"./query":28,"./quick-action":29,"./record":31,"lodash/core":89}],35:[function(e,t,i){"use strict";var o=e("lodash/core"),r=e("./date");function n(e){var t=["SELECT ",(t=e.fields,i=e.includes,i=o.map(o.values(i||{}),(function(e){return"("+n(e)+")"})),(t||["Id"]).concat(i).join(", "))," FROM ",e.table].join(""),i=function e(t,i,r){return o.isString(t)?t:(i=i||"AND",r=r||0,t=c(t=t||[])?t.map((function(e){var t,i=[];for(t in e)i.push({key:t,value:e[t]});return 1<i.length?i:i[0]})):o.keys(t).map((function(e){return{key:e,value:t[e]}})),t=t.map((function(o){var n,s=r+1;switch(o.key){case"$or":case"$and":case"$not":return"NOT"!==i&&1===t.length&&(s=r),n="$or"===o.key?"OR":"$and"===o.key?"AND":"NOT",e(o.value,n,s);default:return a(o.key,o.value)}})).filter((function(e){return e})),"NOT"===i?((n=0<r)?"(":"")+"NOT "+t[0]+(n?")":""):((n=0<r&&1<t.length)?"(":"")+t.join(" "+i+" ")+(n?")":""));var n}(e.conditions);return i&&(t+=" WHERE "+i),i=function(e){if(e=e||[],o.isString(e)){if(/,|\s+(asc|desc)\s*$/.test(e))return e;e=e.split(/\s+/).map((function(e){var t="ASC",i=e[0];return"-"===i?(t="DESC",e=e.substring(1)):"+"===i&&(e=e.substring(1)),[e,t]}))}else c(e)||(e=o.keys(e).map((function(t){return[t,e[t]]})));return e.map((function(e){var t=e[0],i=e[1];switch(String(i)){case"DESC":case"desc":case"descending":case"-":case"-1":i="DESC";break;default:i="ASC"}return t+" "+i})).join(", ")}(e.sort),i&&(t+=" ORDER BY "+i),e.limit&&(t+=" LIMIT "+e.limit),e.offset&&(t+=" OFFSET "+e.offset),t}var s={"=":"=",$eq:"=","!=":"!=",$ne:"!=",">":">",$gt:">","<":"<",$lt:"<",">=":">=",$gte:">=","<=":"<=",$lte:"<=",$like:"LIKE",$nlike:"NOT LIKE",$in:"IN",$nin:"NOT IN",$includes:"INCLUDES",$excludes:"EXCLUDES",$exists:"EXISTS"};function a(e,t){return o.isArray(t)?l(e,"$in",t):o.isObject(t)?o.map(t,(function(t,i){if("$"===i[0])return l(e,i,t)})).join(" AND "):l(e,"$eq",t)}function l(e,t,i){var r=s[t];if(!r||o.isUndefined(i))return null;var n=d(i);if(o.isUndefined(n))return null;switch(r){case"NOT LIKE":return"("+["NOT",e,"LIKE",n].join(" ")+")";case"EXISTS":return[e,i?"!=":"=","null"].join(" ");default:return[e,r,n].join(" ")}}function d(e){return c(e)?0<e.length?"("+e.map(d).join(", ")+")":void 0:e instanceof r?e.toString():o.isString(e)?"'"+String(e||"").replace(/'/g,"\\'")+"'":o.isNumber(e)?e.toString():o.isNull(e)?"null":e}function c(e){return o.isObject(e)&&o.isFunction(e.pop)}i.createSOQL=n},{"./date":22,"lodash/core":89}],36:[function(e,t,i){(function(i){"use strict";var o,r,n=e("inherits"),s=e("./promise"),a=e("request"),l=e("./browser/canvas"),d=e("./browser/jsonp");a.defaults&&(o={followAllRedirects:!0},i.env.HTTP_PROXY&&(o.proxy=i.env.HTTP_PROXY),parseInt(i.env.HTTP_TIMEOUT)&&(o.timeout=parseInt(i.env.HTTP_TIMEOUT)),a=a.defaults(o)),r="undefined"==typeof window?i.env.LOCATION_BASE_URL||"":(c=function(e){var t=/(\w+)\.(visual\.force|salesforce)\.com$/.exec(e);return t&&(e=t[1]+".salesforce.com"),e}(window.location.host))?"https://"+c:"",(i=t.exports=function(){}).prototype.httpRequest=function(e,t){var i,o=s.defer(),r=this._getHttpRequestModule();return function e(t,i){var o=t.then;return t.then=function(){return i(),e(o.apply(t,arguments),i)},t.stream=i,t}(o.promise,(function(){return i=i||r(e,(function(e,t){e?o.reject(e):o.resolve(t)}))})).thenCall(t)},i.prototype._getHttpRequestModule=function(){return a};var c=i.JsonpTransport=function(e){this._jsonpParam=e};n(c,i),c.prototype._getHttpRequestModule=function(){return d.createRequest(this._jsonpParam)},c.supported=d.supported,n(c=i.CanvasTransport=function(e){this._signedRequest=e},i),c.prototype._getHttpRequestModule=function(){return l.createRequest(this._signedRequest)},c.supported=l.supported;var u=i.ProxyTransport=function(e){this._proxyUrl=e};n(u,i),u.prototype.httpRequest=function(e,t){var i=e.url;0===i.indexOf("/")&&(i=r+i);var o={method:e.method,url:this._proxyUrl+"?"+Date.now()+"."+(""+Math.random()).substring(2),headers:{"salesforceproxy-endpoint":i}};if(!e.body&&""!==e.body||(o.body=e.body),e.headers)for(var n in e.headers)o.headers[n]=e.headers[n];return u.super_.prototype.httpRequest.call(this,o,t)};var h=i.HttpProxyTransport=function(e){this._httpProxy=e};n(h,i),h.prototype.httpRequest=function(e,t){var i=e.url;0===i.indexOf("/")&&(i=r+i);var o={method:e.method,url:e.url,proxy:this._httpProxy,headers:{}};if(!e.body&&""!==e.body||(o.body=e.body),e.headers)for(var n in e.headers)o.headers[n]=e.headers[n];return h.super_.prototype.httpRequest.call(this,o,t)}}).call(this,e("_process"))},{"./browser/canvas":14,"./browser/jsonp":16,"./promise":27,_process:92,inherits:85,request:17}],37:[function(e,t,i){"use strict";var o=e("./raw"),r=[],n=[],s=o.makeRequestCallFromTimer((function(){if(n.length)throw n.shift()}));function a(e){var t=r.length?r.pop():new l;t.task=e,o(t)}function l(){this.task=null}t.exports=a,l.prototype.call=function(){try{this.task.call()}catch(e){a.onerror?a.onerror(e):(n.push(e),s())}finally{this.task=null,r[r.length]=this}}},{"./raw":38}],38:[function(e,t,o){(function(e){"use strict";function i(e){r.length||o(),r[r.length]=e}t.exports=i;var o,r=[],n=0;function s(){for(;n<r.length;){var e=n;if(n+=1,r[e].call(),1024<n){for(var t=0,i=r.length-n;t<i;t++)r[t]=r[t+n];r.length-=n,n=0}}r.length=0,n=0}var a,l,d,c=(e=void 0!==e?e:self).MutationObserver||e.WebKitMutationObserver;function u(e){return function(){var t=setTimeout(o,0),i=setInterval(o,50);function o(){clearTimeout(t),clearInterval(i),e()}}}o="function"==typeof c?(l=1,a=new c(a=s),d=document.createTextNode(""),a.observe(d,{characterData:!0}),function(){l=-l,d.data=l}):u(s),i.requestFlush=o,i.makeRequestCallFromTimer=u}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],39:[function(e,t,i){"use strict";i.byteLength=function(e){var t;return 3*((e=(t=d(e))[0])+(t=t[1]))/4-t},i.toByteArray=function(e){for(var t,i=(o=d(e))[0],o=o[1],s=new n(function(e,t){return 3*(e+t)/4-t}(i,o)),a=0,l=0<o?i-4:i,c=0;c<l;c+=4)t=r[e.charCodeAt(c)]<<18|r[e.charCodeAt(c+1)]<<12|r[e.charCodeAt(c+2)]<<6|r[e.charCodeAt(c+3)],s[a++]=t>>16&255,s[a++]=t>>8&255,s[a++]=255&t;return 2===o&&(t=r[e.charCodeAt(c)]<<2|r[e.charCodeAt(c+1)]>>4,s[a++]=255&t),1===o&&(t=r[e.charCodeAt(c)]<<10|r[e.charCodeAt(c+1)]<<4|r[e.charCodeAt(c+2)]>>2,s[a++]=t>>8&255,s[a++]=255&t),s},i.fromByteArray=function(e){for(var t,i=e.length,r=i%3,n=[],s=0,a=i-r;s<a;s+=16383)n.push(function(e,t,i){for(var r,n=[],s=t;s<i;s+=3)r=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),n.push(function(e){return o[e>>18&63]+o[e>>12&63]+o[e>>6&63]+o[63&e]}(r));return n.join("")}(e,s,a<s+16383?a:s+16383));return 1==r?(t=e[i-1],n.push(o[t>>2]+o[t<<4&63]+"==")):2==r&&(t=(e[i-2]<<8)+e[i-1],n.push(o[t>>10]+o[t>>4&63]+o[t<<2&63]+"=")),n.join("")};for(var o=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,l=s.length;a<l;++a)o[a]=s[a],r[s.charCodeAt(a)]=a;function d(e){var t=e.length;if(0<t%4)throw new Error("Invalid string. Length must be a multiple of 4");return-1===(e=e.indexOf("="))&&(e=t),[e,e===t?0:4-e%4]}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},{}],40:[function(e,t,i){},{}],41:[function(e,t,i){"use strict";var o=e("base64-js"),r=e("ieee754");i.Buffer=a,i.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},i.INSPECT_MAX_BYTES=50;var n=2147483647;function s(e){if(n<e)throw new RangeError("Invalid typed array length");return(e=new Uint8Array(e)).__proto__=a.prototype,e}function a(e,t,i){if("number"!=typeof e)return l(e,t,i);if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return c(e)}function l(e,t,i){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return B(e)||e&&B(e.buffer)?function(e,t,i){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(i||0))throw new RangeError('"length" is outside of buffer bounds');return(i=void 0===t&&void 0===i?new Uint8Array(e):void 0===i?new Uint8Array(e,t):new Uint8Array(e,t,i)).__proto__=a.prototype,i}(e,t,i):"string"==typeof e?function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var i=0|p(e,t),o=s(i);return(t=o.write(e,t))!==i&&(o=o.slice(0,t)),o}(e,t):function(e){if(a.isBuffer(e)){var t=0|h(e.length),i=s(t);return 0===i.length||e.copy(i,0,0,t),i}if(e){if(ArrayBuffer.isView(e)||"length"in e)return"number"!=typeof e.length||D(e.length)?s(0):u(e);if("Buffer"===e.type&&Array.isArray(e.data))return u(e.data)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object.")}(e)}function d(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('"size" argument must not be negative')}function c(e){return d(e),s(e<0?0:0|h(e))}function u(e){for(var t=e.length<0?0:0|h(e.length),i=s(t),o=0;o<t;o+=1)i[o]=255&e[o];return i}function h(e){if(n<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+n.toString(16)+" bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||B(e))return e.byteLength;"string"!=typeof e&&(e=""+e);var i=e.length;if(0===i)return 0;for(var o=!1;;)switch(t){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return I(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return T(e).length;default:if(o)return I(e).length;t=(""+t).toLowerCase(),o=!0}}function f(e,t,i){var r,n,s,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if((i>>>=0)<=(t>>>=0))return"";for(e=e||"utf8";;)switch(e){case"hex":return function(e,t,i){var o=e.length;(!t||t<0)&&(t=0),(!i||i<0||o<i)&&(i=o);for(var r="",n=t;n<i;++n)r+=function(e){return e<16?"0"+e.toString(16):e.toString(16)}(e[n]);return r}(this,t,i);case"utf8":case"utf-8":return _(this,t,i);case"ascii":return function(e,t,i){var o="";i=Math.min(e.length,i);for(var r=t;r<i;++r)o+=String.fromCharCode(127&e[r]);return o}(this,t,i);case"latin1":case"binary":return function(e,t,i){var o="";i=Math.min(e.length,i);for(var r=t;r<i;++r)o+=String.fromCharCode(e[r]);return o}(this,t,i);case"base64":return r=this,s=i,0===(n=t)&&s===r.length?o.fromByteArray(r):o.fromByteArray(r.slice(n,s));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,i){for(var o=e.slice(t,i),r="",n=0;n<o.length;n+=2)r+=String.fromCharCode(o[n]+256*o[n+1]);return r}(this,t,i);default:if(a)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function b(e,t,i){var o=e[t];e[t]=e[i],e[i]=o}function g(e,t,i,o,r){if(0===e.length)return-1;if("string"==typeof i?(o=i,i=0):2147483647<i?i=2147483647:i<-2147483648&&(i=-2147483648),D(i=+i)&&(i=r?0:e.length-1),i<0&&(i=e.length+i),i>=e.length){if(r)return-1;i=e.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof t&&(t=a.from(t,o)),a.isBuffer(t))return 0===t.length?-1:m(e,t,i,o,r);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?(r?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(e,t,i):m(e,[t],i,o,r);throw new TypeError("val must be string, number or Buffer")}function m(e,t,i,o,r){var n=1,s=e.length,a=t.length;if(void 0!==o&&("ucs2"===(o=String(o).toLowerCase())||"ucs-2"===o||"utf16le"===o||"utf-16le"===o)){if(e.length<2||t.length<2)return-1;s/=n=2,a/=2,i/=2}function l(e,t){return 1===n?e[t]:e.readUInt16BE(t*n)}if(r)for(var d=-1,c=i;c<s;c++)if(l(e,c)===l(t,-1===d?0:c-d)){if(-1===d&&(d=c),c-d+1===a)return d*n}else-1!==d&&(c-=c-d),d=-1;else for(s<i+a&&(i=s-a),c=i;0<=c;c--){for(var u=!0,h=0;h<a;h++)if(l(e,c+h)!==l(t,h)){u=!1;break}if(u)return c}return-1}function y(e,t,i,o){return M(function(e){for(var t=[],i=0;i<e.length;++i)t.push(255&e.charCodeAt(i));return t}(t),e,i,o)}function v(e,t,i,o){return M(function(e,t){for(var i,o,r=[],n=0;n<e.length&&!((t-=2)<0);++n)i=(o=e.charCodeAt(n))>>8,o%=256,r.push(o),r.push(i);return r}(t,e.length-i),e,i,o)}function _(e,t,i){i=Math.min(e.length,i);for(var o=[],r=t;r<i;){var n,s,a,l,d=e[r],c=null,u=239<d?4:223<d?3:191<d?2:1;if(r+u<=i)switch(u){case 1:d<128&&(c=d);break;case 2:128==(192&(n=e[r+1]))&&127<(l=(31&d)<<6|63&n)&&(c=l);break;case 3:n=e[r+1],s=e[r+2],128==(192&n)&&128==(192&s)&&2047<(l=(15&d)<<12|(63&n)<<6|63&s)&&(l<55296||57343<l)&&(c=l);break;case 4:n=e[r+1],s=e[r+2],a=e[r+3],128==(192&n)&&128==(192&s)&&128==(192&a)&&65535<(l=(15&d)<<18|(63&n)<<12|(63&s)<<6|63&a)&&l<1114112&&(c=l)}null===c?(c=65533,u=1):65535<c&&(c-=65536,o.push(c>>>10&1023|55296),c=56320|1023&c),o.push(c),r+=u}return function(e){var t=e.length;if(t<=w)return String.fromCharCode.apply(String,e);for(var i="",o=0;o<t;)i+=String.fromCharCode.apply(String,e.slice(o,o+=w));return i}(o)}i.kMaxLength=n,(a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{get:function(){if(this instanceof a)return this.buffer}}),Object.defineProperty(a.prototype,"offset",{get:function(){if(this instanceof a)return this.byteOffset}}),"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=l,a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(e,t,i){return d(e),e<=0||void 0===t?s(e):"string"==typeof i?s(e).fill(t,i):s(e).fill(t)},a.allocUnsafe=c,a.allocUnsafeSlow=c,a.isBuffer=function(e){return null!=e&&!0===e._isBuffer},a.compare=function(e,t){if(!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var i=e.length,o=t.length,r=0,n=Math.min(i,o);r<n;++r)if(e[r]!==t[r]){i=e[r],o=t[r];break}return i<o?-1:o<i?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=t=0;r<e.length;++r)t+=e[r].length;for(var i=a.allocUnsafe(t),o=0,r=0;r<e.length;++r){var n=e[r];if(ArrayBuffer.isView(n)&&(n=a.from(n)),!a.isBuffer(n))throw new TypeError('"list" argument must be an Array of Buffers');n.copy(i,o),o+=n.length}return i},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)b(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)b(this,t,t+3),b(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)b(this,t,t+7),b(this,t+1,t+6),b(this,t+2,t+5),b(this,t+3,t+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?_(this,0,e):f.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",t=i.INSPECT_MAX_BYTES;return 0<this.length&&(e=this.toString("hex",0,t).match(/.{2}/g).join(" "),this.length>t&&(e+=" ... ")),"<Buffer "+e+">"},a.prototype.compare=function(e,t,i,o,r){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===i&&(i=e?e.length:0),void 0===o&&(o=0),void 0===r&&(r=this.length),t<0||i>e.length||o<0||r>this.length)throw new RangeError("out of range index");if(r<=o&&i<=t)return 0;if(r<=o)return-1;if(i<=t)return 1;if(this===e)return 0;for(var n=(r>>>=0)-(o>>>=0),s=(i>>>=0)-(t>>>=0),l=Math.min(n,s),d=this.slice(o,r),c=e.slice(t,i),u=0;u<l;++u)if(d[u]!==c[u]){n=d[u],s=c[u];break}return n<s?-1:s<n?1:0},a.prototype.includes=function(e,t,i){return-1!==this.indexOf(e,t,i)},a.prototype.indexOf=function(e,t,i){return g(this,e,t,i,!0)},a.prototype.lastIndexOf=function(e,t,i){return g(this,e,t,i,!1)},a.prototype.write=function(e,t,i,o){if(void 0===t)o="utf8",i=this.length,t=0;else if(void 0===i&&"string"==typeof t)o=t,i=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(i)?(i>>>=0,void 0===o&&(o="utf8")):(o=i,i=void 0)}var r=this.length-t;if((void 0===i||r<i)&&(i=r),0<e.length&&(i<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");o=o||"utf8";for(var n,s,a,l=!1;;)switch(o){case"hex":return function(e,t,i,o){i=Number(i)||0;var r=e.length-i;(!o||r<(o=Number(o)))&&(o=r),(r=t.length)/2<o&&(o=r/2);for(var n=0;n<o;++n){var s=parseInt(t.substr(2*n,2),16);if(D(s))return n;e[i+n]=s}return n}(this,e,t,i);case"utf8":case"utf-8":return s=t,a=i,M(I(e,(n=this).length-s),n,s,a);case"ascii":case"latin1":case"binary":return y(this,e,t,i);case"base64":return n=this,s=t,a=i,M(T(e),n,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return v(this,e,t,i);default:if(l)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),l=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var w=4096;function x(e,t,i){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(i<e+t)throw new RangeError("Trying to access beyond buffer length")}function C(e,t,i,o,r,n){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(r<t||t<n)throw new RangeError('"value" argument is out of bounds');if(i+o>e.length)throw new RangeError("Index out of range")}function S(e,t,i,o){if(i+o>e.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function O(e,t,i,o,n){return t=+t,i>>>=0,n||S(e,0,i,4),r.write(e,t,i,o,23,4),i+4}function k(e,t,i,o,n){return t=+t,i>>>=0,n||S(e,0,i,8),r.write(e,t,i,o,52,8),i+8}a.prototype.slice=function(e,t){var i=this.length;return(e=~~e)<0?(e+=i)<0&&(e=0):i<e&&(e=i),(t=void 0===t?i:~~t)<0?(t+=i)<0&&(t=0):i<t&&(t=i),t<e&&(t=e),(t=this.subarray(e,t)).__proto__=a.prototype,t},a.prototype.readUIntLE=function(e,t,i){e>>>=0,t>>>=0,i||x(e,t,this.length);for(var o=this[e],r=1,n=0;++n<t&&(r*=256);)o+=this[e+n]*r;return o},a.prototype.readUIntBE=function(e,t,i){e>>>=0,t>>>=0,i||x(e,t,this.length);for(var o=this[e+--t],r=1;0<t&&(r*=256);)o+=this[e+--t]*r;return o},a.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,i){e>>>=0,t>>>=0,i||x(e,t,this.length);for(var o=this[e],r=1,n=0;++n<t&&(r*=256);)o+=this[e+n]*r;return(r*=128)<=o&&(o-=Math.pow(2,8*t)),o},a.prototype.readIntBE=function(e,t,i){e>>>=0,t>>>=0,i||x(e,t,this.length);for(var o=t,r=1,n=this[e+--o];0<o&&(r*=256);)n+=this[e+--o]*r;return(r*=128)<=n&&(n-=Math.pow(2,8*t)),n},a.prototype.readInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),32768&(e=this[e]|this[e+1]<<8)?4294901760|e:e},a.prototype.readInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),32768&(e=this[e+1]|this[e]<<8)?4294901760|e:e},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),r.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),r.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),r.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),r.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,i,o){e=+e,t>>>=0,i>>>=0,o||C(this,e,t,i,Math.pow(2,8*i)-1,0);var r=1,n=0;for(this[t]=255&e;++n<i&&(r*=256);)this[t+n]=e/r&255;return t+i},a.prototype.writeUIntBE=function(e,t,i,o){e=+e,t>>>=0,i>>>=0,o||C(this,e,t,i,Math.pow(2,8*i)-1,0);var r=i-1,n=1;for(this[t+r]=255&e;0<=--r&&(n*=256);)this[t+r]=e/n&255;return t+i},a.prototype.writeUInt8=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,i,o){e=+e,t>>>=0,o||C(this,e,t,i,(o=Math.pow(2,8*i-1))-1,-o);var r=0,n=1,s=0;for(this[t]=255&e;++r<i&&(n*=256);)e<0&&0===s&&0!==this[t+r-1]&&(s=1),this[t+r]=(e/n|0)-s&255;return t+i},a.prototype.writeIntBE=function(e,t,i,o){e=+e,t>>>=0,o||C(this,e,t,i,(o=Math.pow(2,8*i-1))-1,-o);var r=i-1,n=1,s=0;for(this[t+r]=255&e;0<=--r&&(n*=256);)e<0&&0===s&&0!==this[t+r+1]&&(s=1),this[t+r]=(e/n|0)-s&255;return t+i},a.prototype.writeInt8=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,i){return e=+e,t>>>=0,i||C(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,i){return O(this,e,t,!0,i)},a.prototype.writeFloatBE=function(e,t,i){return O(this,e,t,!1,i)},a.prototype.writeDoubleLE=function(e,t,i){return k(this,e,t,!0,i)},a.prototype.writeDoubleBE=function(e,t,i){return k(this,e,t,!1,i)},a.prototype.copy=function(e,t,i,o){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i=i||0,o||0===o||(o=this.length),t>=e.length&&(t=e.length),t=t||0,0<o&&o<i&&(o=i),o===i)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),e.length-t<o-i&&(o=e.length-t+i);var r=o-i;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,i,o);else if(this===e&&i<t&&t<o)for(var n=r-1;0<=n;--n)e[n+t]=this[n+i];else Uint8Array.prototype.set.call(e,this.subarray(i,o),t);return r},a.prototype.fill=function(e,t,i,o){if("string"==typeof e){if("string"==typeof t?(o=t,t=0,i=this.length):"string"==typeof i&&(o=i,i=this.length),void 0!==o&&"string"!=typeof o)throw new TypeError("encoding must be a string");if("string"==typeof o&&!a.isEncoding(o))throw new TypeError("Unknown encoding: "+o);var r;1===e.length&&(r=e.charCodeAt(0),("utf8"===o&&r<128||"latin1"===o)&&(e=r))}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<i)throw new RangeError("Out of range index");if(i<=t)return this;var n;if(t>>>=0,i=void 0===i?this.length:i>>>0,"number"==typeof(e=e||0))for(n=t;n<i;++n)this[n]=e;else{var s=a.isBuffer(e)?e:new a(e,o),l=s.length;if(0===l)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(n=0;n<i-t;++n)this[n+t]=s[n%l]}return this};var E=/[^+/0-9A-Za-z-_]/g;function I(e,t){var i;t=t||1/0;for(var o=e.length,r=null,n=[],s=0;s<o;++s){if(55295<(i=e.charCodeAt(s))&&i<57344){if(!r){if(56319<i){-1<(t-=3)&&n.push(239,191,189);continue}if(s+1===o){-1<(t-=3)&&n.push(239,191,189);continue}r=i;continue}if(i<56320){-1<(t-=3)&&n.push(239,191,189),r=i;continue}i=65536+(r-55296<<10|i-56320)}else r&&-1<(t-=3)&&n.push(239,191,189);if(r=null,i<128){if(--t<0)break;n.push(i)}else if(i<2048){if((t-=2)<0)break;n.push(i>>6|192,63&i|128)}else if(i<65536){if((t-=3)<0)break;n.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;n.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return n}function T(e){return o.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(E,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function M(e,t,i,o){for(var r=0;r<o&&!(r+i>=t.length||r>=e.length);++r)t[r+i]=e[r];return r}function B(e){return e instanceof ArrayBuffer||null!=e&&null!=e.constructor&&"ArrayBuffer"===e.constructor.name&&"number"==typeof e.byteLength}function D(e){return e!=e}},{"base64-js":39,ieee754:84}],42:[function(e,t,i){(function(e){function t(e){return Object.prototype.toString.call(e)}i.isArray=function(e){return Array.isArray?Array.isArray(e):"[object Array]"===t(e)},i.isBoolean=function(e){return"boolean"==typeof e},i.isNull=function(e){return null===e},i.isNullOrUndefined=function(e){return null==e},i.isNumber=function(e){return"number"==typeof e},i.isString=function(e){return"string"==typeof e},i.isSymbol=function(e){return"symbol"==typeof e},i.isUndefined=function(e){return void 0===e},i.isRegExp=function(e){return"[object RegExp]"===t(e)},i.isObject=function(e){return"object"==typeof e&&null!==e},i.isDate=function(e){return"[object Date]"===t(e)},i.isError=function(e){return"[object Error]"===t(e)||e instanceof Error},i.isFunction=function(e){return"function"==typeof e},i.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},i.isBuffer=e.isBuffer}).call(this,{isBuffer:e("../../is-buffer/index.js")})},{"../../is-buffer/index.js":86}],43:[function(e,t,i){(function(e){"use strict";function i(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var o=function(){function t(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100;!function(e){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this),this.size=i,this.length=0,this.buf=e.alloc(i)}var o,r,n;return o=t,(r=[{key:"prepend",value:function(e){var t=this.length++;t===this.size&&this.resize();var i=this.clone();this.buf[0]=e,i.copy(this.buf,1,0,t)}},{key:"append",value:function(e){var t=this.length++;t===this.size&&this.resize(),this.buf[t]=e}},{key:"clone",value:function(){return e.from(this.buf.slice(0,this.length))}},{key:"resize",value:function(){var t=this.length;this.size=2*this.size;var i=e.alloc(this.size);this.buf.copy(i,0,0,t),this.buf=i}},{key:"toString",value:function(){return this.buf.slice(0,this.length).toString()}},{key:"toJSON",value:function(){return this.toString()}},{key:"reset",value:function(){this.length=0}}])&&i(o.prototype,r),n&&i(o,n),t}();t.exports=o}).call(this,e("buffer").Buffer)},{buffer:41}],44:[function(e,t,i){(function(i,o){"use strict";function r(e){var t="function"==typeof Map?new Map:void 0;return(r=function(e){if(null===e||(i=e,-1===Function.toString.call(i).indexOf("[native code]")))return e;var i;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return n(e,arguments,b(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),m(o,e)})(e)}function n(e,t,i){return(n=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),1}catch(e){return}}}()?Reflect.construct:function(e,t,i){var o=[null];return o.push.apply(o,t),o=new(Function.bind.apply(e,o)),i&&m(o,i.prototype),o}).apply(null,arguments)}function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var i=[],o=!0,r=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(o=(s=a.next()).done)&&(i.push(s.value),!t||i.length!==t);o=!0);}catch(e){r=!0,n=e}finally{try{o||null==a.return||a.return()}finally{if(r)throw n}}return i}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,i=new Array(e.length);t<e.length;t++)i[t]=e[t];return i}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(e,t){var i,o=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,i)),o}function c(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){var o,r;o=e,t=i[r=t],r in o?Object.defineProperty(o,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):o[r]=t})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var i=0;i<t.length;i++){var o=t[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function p(e,t){return!t||"object"!==s(t)&&"function"!=typeof t?f(e):t}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(){var e,t,r,n;for(n in arguments){var a=arguments[n],l=s(a);if(void 0!==e||"string"!=typeof a&&!i.isBuffer(a))if(void 0===t&&O(a))t=a;else{if(void 0!==r||"function"!==l)throw new C("CSV_INVALID_ARGUMENT",["Invalid argument:","got ".concat(JSON.stringify(a)," at index ").concat(n)]);r=a}else e=a}var d,c=new x(t);return r&&(d=void 0===t||void 0===t.objname?[]:{},c.on("readable",(function(){for(var e;null!==(e=this.read());)void 0===t||void 0===t.objname?d.push(e):d[e[0]]=e[1]})),c.on("error",(function(e){r(e,void 0,c.info)})),c.on("end",(function(){r(void 0,d,c.info)}))),void 0!==e&&("function"==typeof o?o((function(){c.write(e),c.end()})):(c.write(e),c.end())),c}var v=e("stream").Transform,_=e("./ResizeableBuffer"),w=i.from([239,187,191]),x=function(){function e(){var t,o=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};u(this,e),t=p(this,b(e).call(this,c({},{readableObjectMode:!0},{},o)));var r,n={};for(r in o)n[S(r)]=o[r];if(void 0===n.bom||null===n.bom||!1===n.bom)n.bom=!1;else if(!0!==n.bom)throw new C("CSV_INVALID_OPTION_BOM",["Invalid option bom:","bom must be true,","got ".concat(JSON.stringify(n.bom))]);var s=null;if(void 0===n.cast||null===n.cast||!1===n.cast||""===n.cast)n.cast=void 0;else if("function"==typeof n.cast)s=n.cast,n.cast=!0;else if(!0!==n.cast)throw new C("CSV_INVALID_OPTION_CAST",["Invalid option cast:","cast must be true or a function,","got ".concat(JSON.stringify(n.cast))]);if(void 0===n.cast_date||null===n.cast_date||!1===n.cast_date||""===n.cast_date)n.cast_date=!1;else if(!0===n.cast_date)n.cast_date=function(e){var t=Date.parse(e);return isNaN(t)?e:new Date(t)};else if("function"!=typeof n.cast_date)throw new C("CSV_INVALID_OPTION_CAST_DATE",["Invalid option cast_date:","cast_date must be true or a function,","got ".concat(JSON.stringify(n.cast_date))]);var a=null;if(!0===n.columns)a=void 0;else if("function"==typeof n.columns)a=n.columns,n.columns=!0;else if(Array.isArray(n.columns))n.columns=E(n.columns);else{if(void 0!==n.columns&&null!==n.columns&&!1!==n.columns)throw new C("CSV_INVALID_OPTION_COLUMNS",["Invalid option columns:","expect an object, a function or true,","got ".concat(JSON.stringify(n.columns))]);n.columns=!1}if(void 0===n.columns_duplicates_to_array||null===n.columns_duplicates_to_array||!1===n.columns_duplicates_to_array)n.columns_duplicates_to_array=!1;else if(!0!==n.columns_duplicates_to_array)throw new C("CSV_INVALID_OPTION_COLUMNS_DUPLICATES_TO_ARRAY",["Invalid option columns_duplicates_to_array:","expect an boolean,","got ".concat(JSON.stringify(n.columns_duplicates_to_array))]);if(void 0===n.comment||null===n.comment||!1===n.comment||""===n.comment)n.comment=null;else if("string"==typeof n.comment&&(n.comment=i.from(n.comment)),!i.isBuffer(n.comment))throw new C("CSV_INVALID_OPTION_COMMENT",["Invalid option comment:","comment must be a buffer or a string,","got ".concat(JSON.stringify(n.comment))]);var d=JSON.stringify(n.delimiter);if(Array.isArray(n.delimiter)||(n.delimiter=[n.delimiter]),0===n.delimiter.length)throw new C("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,","got ".concat(d)]);if(n.delimiter=n.delimiter.map((function(e){if(null==e||!1===e)return i.from(",");if("string"==typeof e&&(e=i.from(e)),!i.isBuffer(e)||0===e.length)throw new C("CSV_INVALID_OPTION_DELIMITER",["Invalid option delimiter:","delimiter must be a non empty string or buffer or array of string|buffer,","got ".concat(d)]);return e})),void 0===n.escape||null===n.escape?n.escape=i.from('"'):"string"==typeof n.escape&&(n.escape=i.from(n.escape)),!i.isBuffer(n.escape))throw new Error("Invalid Option: escape must be a buffer or a string, got ".concat(JSON.stringify(n.escape)));if(1!==n.escape.length)throw new Error("Invalid Option Length: escape must be one character, got ".concat(n.escape.length));if(n.escape=n.escape[0],void 0===n.from||null===n.from)n.from=1;else{if("string"==typeof n.from&&/\d+/.test(n.from)&&(n.from=parseInt(n.from)),!Number.isInteger(n.from))throw new Error("Invalid Option: from must be an integer, got ".concat(JSON.stringify(n.from)));if(n.from<0)throw new Error("Invalid Option: from must be a positive integer, got ".concat(JSON.stringify(o.from)))}if(void 0===n.from_line||null===n.from_line)n.from_line=1;else{if("string"==typeof n.from_line&&/\d+/.test(n.from_line)&&(n.from_line=parseInt(n.from_line)),!Number.isInteger(n.from_line))throw new Error("Invalid Option: from_line must be an integer, got ".concat(JSON.stringify(o.from_line)));if(n.from_line<=0)throw new Error("Invalid Option: from_line must be a positive integer greater than 0, got ".concat(JSON.stringify(o.from_line)))}if(void 0===n.info||null===n.info||!1===n.info)n.info=!1;else if(!0!==n.info)throw new Error("Invalid Option: info must be true, got ".concat(JSON.stringify(n.info)));if(void 0===n.max_record_size||null===n.max_record_size||!1===n.max_record_size)n.max_record_size=0;else if(!(Number.isInteger(n.max_record_size)&&0<=n.max_record_size)){if("string"!=typeof n.max_record_size||!/\d+/.test(n.max_record_size))throw new Error("Invalid Option: max_record_size must be a positive integer, got ".concat(JSON.stringify(n.max_record_size)));n.max_record_size=parseInt(n.max_record_size)}if(void 0===n.objname||null===n.objname||!1===n.objname)n.objname=void 0;else if(i.isBuffer(n.objname)){if(0===n.objname.length)throw new Error("Invalid Option: objname must be a non empty buffer");n.objname=n.objname.toString()}else{if("string"!=typeof n.objname)throw new Error("Invalid Option: objname must be a string or a buffer, got ".concat(n.objname));if(0===n.objname.length)throw new Error("Invalid Option: objname must be a non empty string")}if(void 0===n.on_record||null===n.on_record)n.on_record=void 0;else if("function"!=typeof n.on_record)throw new C("CSV_INVALID_OPTION_ON_RECORD",["Invalid option `on_record`:","expect a function,","got ".concat(JSON.stringify(n.on_record))]);if(null===n.quote||!1===n.quote||""===n.quote)n.quote=null;else{if(void 0===n.quote||!0===n.quote?n.quote=i.from('"'):"string"==typeof n.quote&&(n.quote=i.from(n.quote)),!i.isBuffer(n.quote))throw new Error("Invalid Option: quote must be a buffer or a string, got ".concat(JSON.stringify(n.quote)));if(1!==n.quote.length)throw new Error("Invalid Option Length: quote must be one character, got ".concat(n.quote.length));n.quote=n.quote[0]}if(void 0===n.raw||null===n.raw||!1===n.raw)n.raw=!1;else if(!0!==n.raw)throw new Error("Invalid Option: raw must be true, got ".concat(JSON.stringify(n.raw)));if(n.record_delimiter?Array.isArray(n.record_delimiter)||(n.record_delimiter=[n.record_delimiter]):n.record_delimiter=[],n.record_delimiter=n.record_delimiter.map((function(e){return"string"==typeof e&&(e=i.from(e)),e})),"boolean"!=typeof n.relax){if(void 0!==n.relax&&null!==n.relax)throw new Error("Invalid Option: relax must be a boolean, got ".concat(JSON.stringify(n.relax)));n.relax=!1}if("boolean"!=typeof n.relax_column_count){if(void 0!==n.relax_column_count&&null!==n.relax_column_count)throw new Error("Invalid Option: relax_column_count must be a boolean, got ".concat(JSON.stringify(n.relax_column_count)));n.relax_column_count=!1}if("boolean"!=typeof n.relax_column_count_less){if(void 0!==n.relax_column_count_less&&null!==n.relax_column_count_less)throw new Error("Invalid Option: relax_column_count_less must be a boolean, got ".concat(JSON.stringify(n.relax_column_count_less)));n.relax_column_count_less=!1}if("boolean"!=typeof n.relax_column_count_more){if(void 0!==n.relax_column_count_more&&null!==n.relax_column_count_more)throw new Error("Invalid Option: relax_column_count_more must be a boolean, got ".concat(JSON.stringify(n.relax_column_count_more)));n.relax_column_count_more=!1}if("boolean"!=typeof n.skip_empty_lines){if(void 0!==n.skip_empty_lines&&null!==n.skip_empty_lines)throw new Error("Invalid Option: skip_empty_lines must be a boolean, got ".concat(JSON.stringify(n.skip_empty_lines)));n.skip_empty_lines=!1}if("boolean"!=typeof n.skip_lines_with_empty_values){if(void 0!==n.skip_lines_with_empty_values&&null!==n.skip_lines_with_empty_values)throw new Error("Invalid Option: skip_lines_with_empty_values must be a boolean, got ".concat(JSON.stringify(n.skip_lines_with_empty_values)));n.skip_lines_with_empty_values=!1}if("boolean"!=typeof n.skip_lines_with_error){if(void 0!==n.skip_lines_with_error&&null!==n.skip_lines_with_error)throw new Error("Invalid Option: skip_lines_with_error must be a boolean, got ".concat(JSON.stringify(n.skip_lines_with_error)));n.skip_lines_with_error=!1}if(void 0===n.rtrim||null===n.rtrim||!1===n.rtrim)n.rtrim=!1;else if(!0!==n.rtrim)throw new Error("Invalid Option: rtrim must be a boolean, got ".concat(JSON.stringify(n.rtrim)));if(void 0===n.ltrim||null===n.ltrim||!1===n.ltrim)n.ltrim=!1;else if(!0!==n.ltrim)throw new Error("Invalid Option: ltrim must be a boolean, got ".concat(JSON.stringify(n.ltrim)));if(void 0===n.trim||null===n.trim||!1===n.trim)n.trim=!1;else if(!0!==n.trim)throw new Error("Invalid Option: trim must be a boolean, got ".concat(JSON.stringify(n.trim)));if(!0===n.trim&&!1!==o.ltrim?n.ltrim=!0:!0!==n.ltrim&&(n.ltrim=!1),!0===n.trim&&!1!==o.rtrim?n.rtrim=!0:!0!==n.rtrim&&(n.rtrim=!1),void 0===n.to||null===n.to)n.to=-1;else{if("string"==typeof n.to&&/\d+/.test(n.to)&&(n.to=parseInt(n.to)),!Number.isInteger(n.to))throw new Error("Invalid Option: to must be an integer, got ".concat(JSON.stringify(o.to)));if(n.to<=0)throw new Error("Invalid Option: to must be a positive integer greater than 0, got ".concat(JSON.stringify(o.to)))}if(void 0===n.to_line||null===n.to_line)n.to_line=-1;else{if("string"==typeof n.to_line&&/\d+/.test(n.to_line)&&(n.to_line=parseInt(n.to_line)),!Number.isInteger(n.to_line))throw new Error("Invalid Option: to_line must be an integer, got ".concat(JSON.stringify(o.to_line)));if(n.to_line<=0)throw new Error("Invalid Option: to_line must be a positive integer greater than 0, got ".concat(JSON.stringify(o.to_line)))}return t.info={comment_lines:0,empty_lines:0,invalid_field_length:0,lines:1,records:0},t.options=n,t.state={bomSkipped:!1,castField:s,commenting:!1,enabled:1===n.from_line,escaping:!1,escapeIsQuote:n.escape===n.quote,expectedRecordLength:null===n.columns?0:n.columns.length,field:new _(20),firstLineToHeaders:a,info:Object.assign({},t.info),previousBuf:void 0,quoting:!1,stop:!1,rawBuffer:new _(100),record:[],recordHasError:!1,record_length:0,recordDelimiterMaxLength:0===n.record_delimiter.length?2:Math.max.apply(Math,l(n.record_delimiter.map((function(e){return e.length})))),trimChars:[i.from(" ")[0],i.from("\t")[0]],wasQuoting:!1,wasRowDelimiter:!1},t}var t,o,r;return g(e,v),t=e,(o=[{key:"_transform",value:function(e,t,i){!0!==this.state.stop&&(void 0!==(e=this.__parse(e,!1))&&(this.state.stop=!0),i(e))}},{key:"_flush",value:function(e){!0!==this.state.stop&&e(this.__parse(void 0,!0))}},{key:"__parse",value:function(e,t){var o,r=(x=this.options).bom,n=x.comment,s=x.escape,a=x.from_line,l=x.info,d=x.ltrim,c=x.max_record_size,u=x.quote,h=x.raw,p=x.relax,f=x.rtrim,b=x.skip_empty_lines,g=x.to,m=x.to_line,y=this.options.record_delimiter,v=this.state,_=v.bomSkipped,x=v.previousBuf,S=v.rawBuffer,O=v.escapeIsQuote;if(void 0===x){if(void 0===e)return void this.push(null);o=e}else o=void 0!==x&&void 0===e?x:i.concat([x,e]);if(!1===_)if(!1===r)this.state.bomSkipped=!0;else if(o.length<3){if(!1===t)return void(this.state.previousBuf=o)}else 0===w.compare(o,0,3)&&(o=o.slice(3)),this.state.bomSkipped=!0;for(var k=o.length,E=0;E<k&&!this.__needMoreData(E,k,t);E++){if(!0===this.state.wasRowDelimiter&&(this.info.lines++,!0===l&&0===this.state.record.length&&0===this.state.field.length&&!1===this.state.wasQuoting&&(this.state.info=Object.assign({},this.info)),this.state.wasRowDelimiter=!1),-1!==m&&this.info.lines>m)return this.state.stop=!0,void this.push(null);!1===this.state.quoting&&0===y.length&&this.__autoDiscoverRowDelimiter(o,E)&&(y=this.options.record_delimiter);var I=o[E];if(!0===h&&S.append(I),13!==I&&10!==I||!1!==this.state.wasRowDelimiter||(this.state.wasRowDelimiter=!0),!0===this.state.escaping)this.state.escaping=!1;else{if(!0===this.state.quoting&&I===s&&E+1<k){if(!O){this.state.escaping=!0;continue}if(o[E+1]===u){this.state.escaping=!0;continue}}if(!1===this.state.commenting&&I===u)if(!0===this.state.quoting){var T=o[E+1],M=f&&this.__isCharTrimable(T),B=null!==n&&this.__compareBytes(n,o,E+1,T),D=this.__isDelimiter(T,o,E+1),P=0===y.length?this.__autoDiscoverRowDelimiter(o,E+1):this.__isRecordDelimiter(T,o,E+1);if(I===s&&T===u)E++;else{if(!T||D||P||B||M){this.state.quoting=!1,this.state.wasQuoting=!0;continue}if(!1===p){if(void 0!==(T=this.__error(new C("CSV_INVALID_CLOSING_QUOTE",["Invalid Closing Quote:",'got "'.concat(String.fromCharCode(T),'"'),"at line ".concat(this.info.lines),"instead of delimiter, row delimiter, trimable character","(if activated) or comment"],this.__context()))))return T}else this.state.quoting=!1,this.state.wasQuoting=!0,this.state.field.prepend(u)}}else{if(0===this.state.field.length){this.state.quoting=!0;continue}if(!1===p){var L=this.__error(new C("INVALID_OPENING_QUOTE",["Invalid Opening Quote:","a quote is found inside a field at line ".concat(this.info.lines)],this.__context(),{field:this.state.field}));if(void 0!==L)return L}}if(!1===this.state.quoting){if(0!==(L=this.__isRecordDelimiter(I,o,E))){if(this.state.commenting&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length)this.info.comment_lines++;else{if(!0===b&&!1===this.state.wasQuoting&&0===this.state.record.length&&0===this.state.field.length){this.info.empty_lines++,E+=L-1;continue}if(!1===this.state.enabled&&this.info.lines+(!0===this.state.wasRowDelimiter?1:0)>=a){this.state.enabled=!0,this.__resetField(),this.__resetRow(),E+=L-1;continue}var A=this.__onField();if(void 0!==A)return A;if(void 0!==(A=this.__onRow()))return A;if(-1!==g&&this.info.records>=g)return this.state.stop=!0,void this.push(null)}this.state.commenting=!1,E+=L-1;continue}if(this.state.commenting)continue;if(0!==(null===n?0:this.__compareBytes(n,o,E,I))){this.state.commenting=!0;continue}if(0!==(A=this.__isDelimiter(I,o,E))){if(void 0!==(L=this.__onField()))return L;E+=A-1;continue}}}if(!1===this.state.commenting&&0!==c&&this.state.record_length+this.state.field.length>c){var F=this.__error(new C("CSV_MAX_RECORD_SIZE",["Max Record Size:","record exceed the maximum number of tolerated bytes","of ".concat(c),"at line ".concat(this.info.lines)],this.__context()));if(void 0!==F)return F}if(A=!1===d||!0===this.state.quoting||0!==this.state.field.length||!this.__isCharTrimable(I),F=!1===f||!1===this.state.wasQuoting,1==A&&1==F)this.state.field.append(I);else if(!0===f&&!this.__isCharTrimable(I)&&void 0!==(I=this.__error(new C("CSV_NON_TRIMABLE_CHAR_AFTER_CLOSING_QUOTE",["Invalid Closing Quote:","found non trimable byte after quote","at line ".concat(this.info.lines)],this.__context()))))return I}if(!0===t)if(!0===this.state.quoting){var N=this.__error(new C("CSV_QUOTE_NOT_CLOSED",["Quote Not Closed:","the parsing is finished with an opening quote at line ".concat(this.info.lines)],this.__context()));if(void 0!==N)return N}else if(!0===this.state.wasQuoting||0!==this.state.record.length||0!==this.state.field.length){if(void 0!==(N=this.__onField()))return N;if(void 0!==(N=this.__onRow()))return N}else!0===this.state.wasRowDelimiter?this.info.empty_lines++:!0===this.state.commenting&&this.info.comment_lines++;else this.state.previousBuf=o.slice(E);!0===this.state.wasRowDelimiter&&(this.info.lines++,this.state.wasRowDelimiter=!1)}},{key:"__isCharTrimable",value:function(e){return 32===e||9===e||13===e||10===e||12===e}},{key:"__onRow",value:function(){var e=(c=this.options).columns,t=c.columns_duplicates_to_array,i=c.info,o=c.from,r=c.relax_column_count,n=c.relax_column_count_less,s=c.relax_column_count_more,a=c.raw,l=c.skip_lines_with_empty_values,d=this.state,c=d.enabled,u=d.record;if(!1===c)return this.__resetRow();if(c=u.length,!0===e)return k(u)?void this.__resetRow():this.__firstLineToColumns(u);if(!1===e&&0===this.info.records&&(this.state.expectedRecordLength=c),c!==this.state.expectedRecordLength)if(!0===r||!0===n&&c<this.state.expectedRecordLength||!0===s&&c>this.state.expectedRecordLength)this.info.invalid_field_length++;else if(!1===e){if(void 0!==(s=this.__error(new C("CSV_INCONSISTENT_RECORD_LENGTH",["Invalid Record Length:","expect ".concat(this.state.expectedRecordLength,","),"got ".concat(c," on line ").concat(this.info.lines)],this.__context(),{record:u}))))return s}else if(void 0!==(c=this.__error(new C("CSV_RECORD_DONT_MATCH_COLUMNS_LENGTH",["Invalid Record Length:","columns length is ".concat(e.length,","),"got ".concat(c," on line ").concat(this.info.lines)],this.__context(),{record:u}))))return c;if(!0===l&&k(u))this.__resetRow();else{if(!0===this.state.recordHasError)return this.__resetRow(),void(this.state.recordHasError=!1);if(this.info.records++,1===o||this.info.records>=o)if(!1!==e){for(var h={},p=0,f=u.length;p<f;p++)void 0===e[p]||e[p].disabled||(!0===t&&h[e[p].name]?Array.isArray(h[e[p].name])?h[e[p].name]=h[e[p].name].concat(u[p]):h[e[p].name]=[h[e[p].name],u[p]]:h[e[p].name]=u[p]);if(void 0===(l=this.options.objname))if(!0===a||!0===i){if(o=this.__push(Object.assign({record:h},!0===a?{raw:this.state.rawBuffer.toString()}:{},!0===i?{info:this.state.info}:{})))return o}else{var b=this.__push(h);if(b)return b}else if(!0===a||!0===i){if(b=this.__push(Object.assign({record:[h[l],h]},!0===a?{raw:this.state.rawBuffer.toString()}:{},!0===i?{info:this.state.info}:{})))return b}else if(l=this.__push([h[l],h]))return l}else if(!0===a||!0===i){var g=this.__push(Object.assign({record:u},!0===a?{raw:this.state.rawBuffer.toString()}:{},!0===i?{info:this.state.info}:{}));if(g)return g}else if(g=this.__push(u))return g;this.__resetRow()}}},{key:"__firstLineToColumns",value:function(e){var t=this.state.firstLineToHeaders;try{var i=void 0===t?e:t.call(null,e);return Array.isArray(i)?(i=E(i),this.state.expectedRecordLength=i.length,this.options.columns=i,void this.__resetRow()):this.__error(new C("CSV_INVALID_COLUMN_MAPPING",["Invalid Column Mapping:","expect an array from column function,","got ".concat(JSON.stringify(i))],this.__context(),{headers:i}))}catch(e){return e}}},{key:"__resetRow",value:function(){!0===this.options.raw&&this.state.rawBuffer.reset(),this.state.record=[],this.state.record_length=0}},{key:"__onField",value:function(){var e=(o=this.options).cast,t=o.rtrim,i=o.max_record_size,o=(r=this.state).enabled,r=r.wasQuoting;if(!1===o)return this.__resetField();if(o=this.state.field.toString(),!0===t&&!1===r&&(o=o.trimRight()),!0===e){if(e=(r=a(this.__cast(o),2))[0],r=r[1],void 0!==e)return e;o=r}this.state.record.push(o),0!==i&&"string"==typeof o&&(this.state.record_length+=o.length),this.__resetField()}},{key:"__resetField",value:function(){this.state.field.reset(),this.state.wasQuoting=!1}},{key:"__push",value:function(e){var t=this.options.on_record;if(void 0!==t){var i=this.__context();try{e=t.call(null,e,i)}catch(e){return e}if(null==e)return}this.push(e)}},{key:"__cast",value:function(e){var t=(i=this.options).columns,i=i.relax_column_count;if(!0===Array.isArray(t)&&i&&this.options.columns.length<=this.state.record.length)return[void 0,void 0];var o=this.__context();if(null!==this.state.castField)try{return[void 0,this.state.castField.call(null,e,o)]}catch(e){return[e]}return this.__isFloat(e)?[void 0,parseFloat(e)]:!1!==this.options.cast_date?[void 0,this.options.cast_date.call(null,e,o)]:[void 0,e]}},{key:"__isFloat",value:function(e){return 0<=e-parseFloat(e)+1}},{key:"__compareBytes",value:function(e,t,i,o){if(e[0]!==o)return 0;for(var r=e.length,n=1;n<r;n++)if(e[n]!==t[i+n])return 0;return r}},{key:"__needMoreData",value:function(e,t,i){if(i)return!1;var o=(n=this.options).comment,r=n.delimiter,n=(i=this.state).quoting;return i=i.recordDelimiterMaxLength,t-e-1<Math.max(o?o.length:0,i,n?1+i:0,r.length,1)}},{key:"__isDelimiter",value:function(e,t,i){var o=this.options.delimiter;e:for(var r=0;r<o.length;r++){var n=o[r];if(n[0]===e){for(var s=1;s<n.length;s++)if(n[s]!==t[i+s])continue e;return n.length}}return 0}},{key:"__isRecordDelimiter",value:function(e,t,i){var o=this.options.record_delimiter,r=o.length;e:for(var n=0;n<r;n++){var s=o[n],a=s.length;if(s[0]===e){for(var l=1;l<a;l++)if(s[l]!==t[i+l])continue e;return s.length}}return 0}},{key:"__autoDiscoverRowDelimiter",value:function(e,t){var o=e[t];return 13===o?10===e[t+1]?(this.options.record_delimiter.push(i.from("\r\n")),this.state.recordDelimiterMaxLength=2):(this.options.record_delimiter.push(i.from("\r")),this.state.recordDelimiterMaxLength=1):10===o?(this.options.record_delimiter.push(i.from("\n")),this.state.recordDelimiterMaxLength=1):0}},{key:"__error",value:function(e){var t=this.options.skip_lines_with_error;if(e="string"==typeof e?new Error(e):e,!t)return e;this.state.recordHasError=!0,this.emit("skip",e)}},{key:"__context",value:function(){var e=this.options.columns;return{column:!0===Array.isArray(e)?e.length>this.state.record.length?e[this.state.record.length].name:null:this.state.record.length,empty_lines:this.info.empty_lines,header:!0===e,index:this.state.record.length,invalid_field_length:this.info.invalid_field_length,quoting:this.state.wasQuoting,lines:this.info.lines,records:this.info.records}}}])&&h(t.prototype,o),r&&h(t,r),e}(),C=function(){function e(t,o){var r;u(this,e),Array.isArray(o)&&(o=o.join(" ")),r=p(this,b(e).call(this,o)),void 0!==Error.captureStackTrace&&Error.captureStackTrace(f(r),e),r.code=t;for(var n=arguments.length,s=new Array(2<n?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];for(var l=0,d=s;l<d.length;l++){var c,h=d[l];for(c in h){var g=h[c];r[c]=i.isBuffer(g)?g.toString():null==g?g:JSON.parse(JSON.stringify(g))}}return r}return g(e,r(Error)),e}();y.Parser=x,y.CsvError=C,t.exports=y;var S=function(e){return e.replace(/([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()}))},O=function(e){return"object"===s(e)&&null!==e&&!Array.isArray(e)},k=function(e){return e.every((function(e){return null==e||e.toString&&""===e.toString().trim()}))},E=function(e){for(var t=[],i=0,o=e.length;i<o;i++){var r=e[i];if(null==r||!1===r)t[i]={disabled:!0};else if("string"==typeof r)t[i]={name:r};else{if(!O(r))throw new C("CSV_INVALID_COLUMN_DEFINITION",["Invalid column definition:","expect a string or a literal object,","got ".concat(JSON.stringify(r)," at position ").concat(i)]);if("string"!=typeof r.name)throw new C("CSV_OPTION_COLUMNS_MISSING_NAME",["Option columns missing name:",'property "name" is required at position '.concat(i),"when column is an object literal"]);t[i]=r}}return t}}).call(this,e("buffer").Buffer,e("timers").setImmediate)},{"./ResizeableBuffer":43,buffer:41,stream:113,timers:115}],45:[function(e,t,i){(function(i){"use strict";var o=e(".");t.exports=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};"string"==typeof e&&(e=i.from(e));var r=t&&t.objname?{}:[],n=new o.Parser(t);if(n.push=function(e){null!==e&&(void 0===t.objname?r.push(e):r[e[0]]=e[1])},void 0!==(e=n.__parse(e,!1)))throw e;if(void 0!==(n=n.__parse(void 0,!0)))throw n;return r}}).call(this,e("buffer").Buffer)},{".":44,buffer:41}],46:[function(e,t,i){(function(i){var o,r=e("stream"),n=e("util"),s=e("lodash.get");t.exports=function(){var e,t,r,n,s;return 3===arguments.length?(r=arguments[0],n=arguments[1],e=arguments[2]):2===arguments.length?(Array.isArray(arguments[0])?r=arguments[0]:n=arguments[0],"function"==typeof arguments[1]?e=arguments[1]:n=arguments[1]):1===arguments.length&&("function"==typeof arguments[0]?e=arguments[0]:Array.isArray(arguments[0])?r=arguments[0]:n=arguments[0]),null==n&&(n={}),s=new o(n),r&&i.nextTick((function(){for(var e,t=0,i=r.length;t<i;t++)e=r[t],s.write(e);return s.end()})),e&&(t=[],s.on("readable",(function(){for(var e,i=[];e=s.read();)i.push(t.push(e));return i})),s.on("error",(function(t){return e(t)})),s.on("end",(function(){return e(null,t.join(""))}))),s},o=function(e){var t,i,o,n;for(i in null==e&&(e={}),o={},e)n=e[i],o[i]=n;switch(r.Transform.call(this,o),this.options=o,null==(t=this.options).delimiter&&(t.delimiter=","),null==(t=this.options).quote&&(t.quote='"'),null==(t=this.options).quoted&&(t.quoted=!1),null==(t=this.options).quotedEmpty&&(t.quotedEmpty=void 0),null==(t=this.options).quotedString&&(t.quotedString=!1),null==(t=this.options).eof&&(t.eof=!0),null==(t=this.options).escape&&(t.escape='"'),null==(t=this.options).columns&&(t.columns=null),null==(t=this.options).header&&(t.header=!1),null==(t=this.options).formatters&&(t.formatters={}),null==(t=this.options.formatters).date&&(t.date=function(e){return""+e.getTime()}),null==(t=this.options.formatters).bool&&(t.bool=function(e){return e?"1":""}),null==(t=this.options.formatters).object&&(t.object=function(e){return JSON.stringify(e)}),null==(t=this.options).rowDelimiter&&(t.rowDelimiter="\n"),null==this.countWriten&&(this.countWriten=0),this.options.rowDelimiter){case"auto":this.options.rowDelimiter=null;break;case"unix":this.options.rowDelimiter="\n";break;case"mac":this.options.rowDelimiter="\r";break;case"windows":this.options.rowDelimiter="\r\n";break;case"unicode":this.options.rowDelimiter="\u2028"}return this},n.inherits(o,r.Transform),(t.exports.Stringifier=o).prototype.headers=function(){var e,t,i;if(this.options.header&&this.options.columns)return"object"==typeof(i=this.options.columns)&&(i=function(){var o=[];for(e in i)t=i[e],o.push(t);return o}()),i=this.options.eof?this.stringify(i)+this.options.rowDelimiter:this.stringify(i),r.Transform.prototype.write.call(this,i)},o.prototype.end=function(e,t,i){return 0===this.countWriten&&this.headers(),r.Transform.prototype.end.apply(this,arguments)},o.prototype.write=function(e,t,i){var o,n;if(null!=e){if(!(n="object"!=typeof e)){0!==this.countWriten||Array.isArray(e)||null==(o=this.options).columns&&(o.columns=Object.keys(e));try{this.emit("record",e,this.countWriten)}catch(e){return this.emit("error",e)}this.options.eof?e=this.stringify(e)+this.options.rowDelimiter:(e=this.stringify(e),(this.options.header||this.countWriten)&&(e=this.options.rowDelimiter+e))}return"number"==typeof e&&(e=""+e),0===this.countWriten&&this.headers(),n||this.countWriten++,r.Transform.prototype.write.call(this,e,t,i)}},o.prototype._transform=function(e,t,i){return this.push(e),i()},o.prototype.stringify=function(e){var t,i,o,r,n,a,l,d,c,u,h,p,f,b,g,m,y,v,_;if("object"!=typeof e)return e;if("object"!=typeof(o=this.options.columns)||null===o||Array.isArray(o)||(o=Object.keys(o)),l=this.options.delimiter,b=this.options.quote,d=this.options.escape,Array.isArray(e))o&&e.splice(o.length);else{if(t=[],o)for(u=h=0,g=o.length;0<=g?h<g:g<h;u=0<=g?++h:--h)i=o[u],_=s(e,i),t[u]=null==_?"":_;else for(i in e)t.push(e[i]);e=t,t=null}if(Array.isArray(e)){for(f="",u=p=0,m=e.length;0<=m?p<m:m<p;u=0<=m?++p:--p)"string"==typeof(c=e[u])||("number"==typeof c?c=""+c:"boolean"==typeof c?c=this.options.formatters.bool(c):c instanceof Date?c=this.options.formatters.date(c):"object"==typeof c&&null!==c&&(c=this.options.formatters.object(c))),c?(a=0<=c.indexOf(l),n=0<=c.indexOf(b),r=0<=c.indexOf(d)&&d!==b,v=0<=c.indexOf("\r")||0<=c.indexOf("\n"),(v=n||a||v||this.options.quoted||this.options.quotedString&&"string"==typeof e[u])&&r&&(y="\\"===d?new RegExp(d+d,"g"):new RegExp(d,"g"),c=c.replace(y,d+d)),n&&(y=new RegExp(b,"g"),c=c.replace(y,d+b)),v&&(c=b+c+b),f+=c):(this.options.quotedEmpty||null==this.options.quotedEmpty&&""===e[u]&&this.options.quotedString)&&(f+=b+b),u!==e.length-1&&(f+=l);e=f}return e}}).call(this,e("_process"))},{_process:92,"lodash.get":88,stream:113,util:118}],47:[function(e,t,i){(function(i){var o=e("string_decoder").StringDecoder,r=e("./index");t.exports=function(e,t){var n,s,a,l,d;for(null==t&&(t={}),n=[],e instanceof i&&(e=(new o).write(e)),(d=new r.Stringifier(t)).push=function(e){if(e)return n.push(e.toString())},s=0,a=e.length;s<a;s++)l=e[s],d.write(l);return d.end(),n.join("")}}).call(this,e("buffer").Buffer)},{"./index":46,buffer:41,string_decoder:114}],48:[function(e,t,i){var o=Object.create||function(e){function t(){}return t.prototype=e,new t},r=Object.keys||function(e){var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return t},n=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}};function s(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=o(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}((t.exports=s).EventEmitter=s).prototype._events=void 0,s.prototype._maxListeners=void 0;var a,l=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),a=0===d.x}catch(e){a=!1}function c(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function u(e,t,i,r){var n,s;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');return(n=e._events)?(n.newListener&&(e.emit("newListener",t,i.listener||i),n=e._events),s=n[t]):(n=e._events=o(null),e._eventsCount=0),s?("function"==typeof s?s=n[t]=r?[i,s]:[s,i]:r?s.unshift(i):s.push(i),s.warned||(r=c(e))&&0<r&&s.length>r&&(s.warned=!0,(r=new Error("Possible EventEmitter memory leak detected. "+s.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.')).name="MaxListenersExceededWarning",r.emitter=e,r.type=t,r.count=s.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",r.name,r.message))):(s=n[t]=i,++e._eventsCount),e}function h(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function p(e,t,i){return e={fired:!1,wrapFn:void 0,target:e,type:t,listener:i},(t=n.call(h,e)).listener=i,e.wrapFn=t}function f(e,t,i){return(e=e._events)&&(t=e[t])?"function"==typeof t?i?[t.listener||t]:[t]:i?function(e){for(var t=new Array(e.length),i=0;i<t.length;++i)t[i]=e[i].listener||e[i];return t}(t):g(t,t.length):[]}function b(e){var t=this._events;if(t){if("function"==typeof(e=t[e]))return 1;if(e)return e.length}return 0}function g(e,t){for(var i=new Array(t),o=0;o<t;++o)i[o]=e[o];return i}a?Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return l},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');l=e}}):s.defaultMaxListeners=l,s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(e,t,i,o){var r,n,s,a,l="error"===e,d=this._events;if(d)l=l&&null==d.error;else if(!l)return!1;if(l){if(1<arguments.length&&(r=t),r instanceof Error)throw r;throw(l=new Error('Unhandled "error" event. ('+r+")")).context=r,l}if(!(n=d[e]))return!1;var c,u="function"==typeof n;switch(c=arguments.length){case 1:!function(e,t){if(u)e.call(t);else for(var i=e.length,o=g(e,i),r=0;r<i;++r)o[r].call(t)}(n,this);break;case 2:!function(e,t,i){if(u)e.call(t,i);else for(var o=e.length,r=g(e,o),n=0;n<o;++n)r[n].call(t,i)}(n,this,t);break;case 3:!function(e,t,i,o){if(u)e.call(t,i,o);else for(var r=e.length,n=g(e,r),s=0;s<r;++s)n[s].call(t,i,o)}(n,this,t,i);break;case 4:!function(e,t,i,o,r){if(u)e.call(t,i,o,r);else for(var n=e.length,s=g(e,n),a=0;a<n;++a)s[a].call(t,i,o,r)}(n,this,t,i,o);break;default:for(s=new Array(c-1),a=1;a<c;a++)s[a-1]=arguments[a];!function(e,t,i){if(u)e.apply(t,i);else for(var o=e.length,r=g(e,o),n=0;n<o;++n)r[n].apply(t,i)}(n,this,s)}return!0},s.prototype.on=s.prototype.addListener=function(e,t){return u(this,e,t,!1)},s.prototype.prependListener=function(e,t){return u(this,e,t,!0)},s.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var i,r,n,s,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(i=r[e]))return this;if(i===t||i.listener===t)0==--this._eventsCount?this._events=o(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,i.listener||t));else if("function"!=typeof i){for(n=-1,s=i.length-1;0<=s;s--)if(i[s]===t||i[s].listener===t){a=i[s].listener,n=s;break}if(n<0)return this;0===n?i.shift():function(e){for(var t=n,i=t+1,o=e.length;i<o;t+=1,i+=1)e[t]=e[i];e.pop()}(i),1===i.length&&(r[e]=i[0]),r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.removeAllListeners=function(e){var t,i=this._events;if(!i)return this;if(!i.removeListener)return 0===arguments.length?(this._events=o(null),this._eventsCount=0):i[e]&&(0==--this._eventsCount?this._events=o(null):delete i[e]),this;if(0===arguments.length){for(var n,s=r(i),a=0;a<s.length;++a)"removeListener"!==(n=s[a])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=o(null),this._eventsCount=0,this}if("function"==typeof(t=i[e]))this.removeListener(e,t);else if(t)for(a=t.length-1;0<=a;a--)this.removeListener(e,t[a]);return this},s.prototype.listeners=function(e){return f(this,e,!0)},s.prototype.rawListeners=function(e){return f(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):b.call(e,t)},s.prototype.listenerCount=b,s.prototype.eventNames=function(){return 0<this._eventsCount?Reflect.ownKeys(this._events):[]}},{}],49:[function(e,t,i){"use strict";var o=e("./util/constants"),r=e("./mixins/logging");e={VERSION:o.VERSION,Client:e("./protocol/client"),Scheduler:e("./protocol/scheduler")},r.wrapper=e,t.exports=e},{"./mixins/logging":51,"./protocol/client":55,"./protocol/scheduler":61,"./util/constants":74}],50:[function(e,t,o){(function(i){"use strict";var o=e("../util/promise");t.exports={then:function(e,t){var i=this;return this._promise||(this._promise=new o((function(e,t){i._resolve=e,i._reject=t}))),0===arguments.length?this._promise:this._promise.then(e,t)},callback:function(e,t){return this.then((function(i){e.call(t,i)}))},errback:function(e,t){return this.then(null,(function(i){e.call(t,i)}))},timeout:function(e,t){this.then();var o=this;this._timer=i.setTimeout((function(){o._reject(t)}),1e3*e)},setDeferredStatus:function(e,t){this._timer&&i.clearTimeout(this._timer),this.then(),"succeeded"===e?this._resolve(t):"failed"===e?this._reject(t):delete this._promise}}}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/promise":78}],51:[function(e,t,i){"use strict";var o,r=e("../util/to_json"),n={LOG_LEVELS:{fatal:4,error:3,warn:2,info:1,debug:0},writeLog:function(e,t){var i,o,s,a=n.logger||(n.wrapper||n).logger;a&&(i=Array.prototype.slice.apply(e),o="[Faye",s=this.className,e=i.shift().replace(/\?/g,(function(){try{return r(i.shift())}catch(e){return"[Object]"}})),s&&(o+="."+s),o+="] ","function"==typeof a[t]?a[t](o+e):"function"==typeof a&&a(o+e))}};for(o in n.LOG_LEVELS)!function(e){n[e]=function(){this.writeLog(arguments,e)}}(o);t.exports=n},{"../util/to_json":80}],52:[function(e,t,i){"use strict";var o={countListeners:function(e){return this.listeners(e).length},bind:function(e,t,i){function o(){t.apply(i,r.call(arguments))}var r=Array.prototype.slice;return this._listeners=this._listeners||[],this._listeners.push([e,t,i,o]),this.on(e,o)},unbind:function(e,t,i){this._listeners=this._listeners||[];for(var o,r=this._listeners.length;r--;)(o=this._listeners[r])[0]===e&&(t&&(o[1]!==t||o[2]!==i)||(this._listeners.splice(r,1),this.removeListener(e,o[3])))}};e("../util/assign")(o,e("../util/event_emitter").prototype),o.trigger=o.emit,t.exports=o},{"../util/assign":71,"../util/event_emitter":77}],53:[function(e,t,o){(function(e){"use strict";t.exports={addTimeout:function(t,i,o,r){var n;this._timeouts=this._timeouts||{},this._timeouts.hasOwnProperty(t)||((n=this)._timeouts[t]=e.setTimeout((function(){delete n._timeouts[t],o.call(r)}),1e3*i))},removeTimeout:function(t){this._timeouts=this._timeouts||{};var i=this._timeouts[t];i&&(e.clearTimeout(i),delete this._timeouts[t])},removeAllTimeouts:function(){for(var e in this._timeouts=this._timeouts||{},this._timeouts)this.removeTimeout(e)}}}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],54:[function(e,t,i){"use strict";var o=e("../util/class"),r=e("../util/assign"),n=e("../mixins/publisher"),s=e("./grammar"),a=o({initialize:function(e){this.id=this.name=e},push:function(e){this.trigger("message",e)},isUnused:function(){return 0===this.countListeners("message")}});r(a.prototype,n),r(a,{HANDSHAKE:"/meta/handshake",CONNECT:"/meta/connect",SUBSCRIBE:"/meta/subscribe",UNSUBSCRIBE:"/meta/unsubscribe",DISCONNECT:"/meta/disconnect",META:"meta",SERVICE:"service",expand:function(e){var t=this.parse(e),i=["/**",e],o=t.slice();o[o.length-1]="*",i.push(this.unparse(o));for(var r=1,n=t.length;r<n;r++)(o=t.slice(0,r)).push("**"),i.push(this.unparse(o));return i},isValid:function(e){return s.CHANNEL_NAME.test(e)||s.CHANNEL_PATTERN.test(e)},parse:function(e){return this.isValid(e)?e.split("/").slice(1):null},unparse:function(e){return"/"+e.join("/")},isMeta:function(e){return(e=this.parse(e))?e[0]===this.META:null},isService:function(e){return(e=this.parse(e))?e[0]===this.SERVICE:null},isSubscribable:function(e){return this.isValid(e)?!this.isMeta(e)&&!this.isService(e):null},Set:o({initialize:function(){this._channels={}},getKeys:function(){var e,t=[];for(e in this._channels)t.push(e);return t},remove:function(e){delete this._channels[e]},hasSubscription:function(e){return this._channels.hasOwnProperty(e)},subscribe:function(e,t){for(var i=0,o=e.length;i<o;i++){var r=e[i];(this._channels[r]=this._channels[r]||new a(r)).bind("message",t)}},unsubscribe:function(e,t){var i=this._channels[e];return!!i&&(i.unbind("message",t),!!i.isUnused()&&(this.remove(e),!0))},distributeMessage:function(e){for(var t=a.expand(e.channel),i=0,o=t.length;i<o;i++){var r=this._channels[t[i]];r&&r.trigger("message",e)}}})}),t.exports=a},{"../mixins/publisher":52,"../util/assign":71,"../util/class":73,"./grammar":59}],55:[function(e,t,o){(function(i){"use strict";var o=e("asap"),r=e("../util/class"),n=(e("../util/promise"),e("../util/array")),s=e("../util/browser"),a=e("../util/constants"),l=e("../util/assign"),d=e("../util/validate_options"),c=e("../mixins/deferrable"),u=e("../mixins/logging"),h=e("../mixins/publisher"),p=e("./channel"),f=e("./dispatcher"),b=e("./error"),g=e("./extensible"),m=e("./publication"),y=e("./subscription");r=r({className:"Client",UNCONNECTED:1,CONNECTING:2,CONNECTED:3,DISCONNECTED:4,HANDSHAKE:"handshake",RETRY:"retry",NONE:"none",CONNECTION_TIMEOUT:60,DEFAULT_ENDPOINT:"/bayeux",INTERVAL:0,initialize:function(e,t){this.info("New client created for ?",e),d(t=t||{},["interval","timeout","endpoints","proxy","retry","scheduler","websocketExtensions","tls","ca"]),this._channels=new p.Set,this._dispatcher=f.create(this,e||this.DEFAULT_ENDPOINT,t),this._messageId=0,this._state=this.UNCONNECTED,this._responseCallbacks={},this._advice={reconnect:this.RETRY,interval:1e3*(t.interval||this.INTERVAL),timeout:1e3*(t.timeout||this.CONNECTION_TIMEOUT)},this._dispatcher.timeout=this._advice.timeout/1e3,this._dispatcher.bind("message",this._receiveMessage,this),s.Event&&void 0!==i.onbeforeunload&&s.Event.on(i,"beforeunload",(function(){n.indexOf(this._dispatcher._disabled,"autodisconnect")<0&&this.disconnect()}),this)},addWebsocketExtension:function(e){return this._dispatcher.addWebsocketExtension(e)},disable:function(e){return this._dispatcher.disable(e)},setHeader:function(e,t){return this._dispatcher.setHeader(e,t)},handshake:function(e,t){var r;this._advice.reconnect!==this.NONE&&this._state===this.UNCONNECTED&&(this._state=this.CONNECTING,(r=this).info("Initiating handshake with ?",this._dispatcher.endpoint.href),this._dispatcher.selectTransport(a.MANDATORY_CONNECTION_TYPES),this._sendMessage({channel:p.HANDSHAKE,version:a.BAYEUX_VERSION,supportedConnectionTypes:this._dispatcher.getConnectionTypes()},{},(function(n){n.successful?(this._state=this.CONNECTED,this._dispatcher.clientId=n.clientId,this._dispatcher.selectTransport(n.supportedConnectionTypes),this.info("Handshake successful: ?",this._dispatcher.clientId),this.subscribe(this._channels.getKeys(),!0),e&&o((function(){e.call(t)}))):(this.info("Handshake unsuccessful"),i.setTimeout((function(){r.handshake(e,t)}),1e3*this._dispatcher.retry),this._state=this.UNCONNECTED)}),this))},connect:function(e,t){if(this._advice.reconnect!==this.NONE&&this._state!==this.DISCONNECTED){if(this._state===this.UNCONNECTED)return this.handshake((function(){this.connect(e,t)}),this);this.callback(e,t),this._state===this.CONNECTED&&(this.info("Calling deferred actions for ?",this._dispatcher.clientId),this.setDeferredStatus("succeeded"),this.setDeferredStatus("unknown"),this._connectRequest||(this._connectRequest=!0,this.info("Initiating connection for ?",this._dispatcher.clientId),this._sendMessage({channel:p.CONNECT,clientId:this._dispatcher.clientId,connectionType:this._dispatcher.connectionType},{},this._cycleConnection,this)))}},disconnect:function(){if(this._state===this.CONNECTED){this._state=this.DISCONNECTED,this.info("Disconnecting ?",this._dispatcher.clientId);var e=new m;return this._sendMessage({channel:p.DISCONNECT,clientId:this._dispatcher.clientId},{},(function(t){t.successful?(this._dispatcher.close(),e.setDeferredStatus("succeeded")):e.setDeferredStatus("failed",b.parse(t.error))}),this),this.info("Clearing channel listeners for ?",this._dispatcher.clientId),this._channels=new p.Set,e}},subscribe:function(e,t,i){if(e instanceof Array)return n.map(e,(function(e){return this.subscribe(e,t,i)}),this);var o=new y(this,e,t,i),r=!0===t;return this._channels.hasSubscription(e)&&!r?(this._channels.subscribe([e],o),o.setDeferredStatus("succeeded")):this.connect((function(){this.info("Client ? attempting to subscribe to ?",this._dispatcher.clientId,e),r||this._channels.subscribe([e],o),this._sendMessage({channel:p.SUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},(function(t){if(!t.successful)return o.setDeferredStatus("failed",b.parse(t.error)),this._channels.unsubscribe(e,o);t=[].concat(t.subscription),this.info("Subscription acknowledged for ? to ?",this._dispatcher.clientId,t),o.setDeferredStatus("succeeded")}),this)}),this),o},unsubscribe:function(e,t){if(e instanceof Array)return n.map(e,(function(e){return this.unsubscribe(e,t)}),this);this._channels.unsubscribe(e,t)&&this.connect((function(){this.info("Client ? attempting to unsubscribe from ?",this._dispatcher.clientId,e),this._sendMessage({channel:p.UNSUBSCRIBE,clientId:this._dispatcher.clientId,subscription:e},{},(function(e){e.successful&&(e=[].concat(e.subscription),this.info("Unsubscription acknowledged for ? from ?",this._dispatcher.clientId,e))}),this)}),this)},publish:function(e,t,i){d(i||{},["attempts","deadline"]);var o=new m;return this.connect((function(){this.info("Client ? queueing published message to ?: ?",this._dispatcher.clientId,e,t),this._sendMessage({channel:e,data:t,clientId:this._dispatcher.clientId},i,(function(e){e.successful?o.setDeferredStatus("succeeded"):o.setDeferredStatus("failed",b.parse(e.error))}),this)}),this),o},_sendMessage:function(e,t,i,o){e.id=this._generateMessageId();var r=this._advice.timeout?1.2*this._advice.timeout/1e3:1.2*this._dispatcher.retry;this.pipeThroughExtensions("outgoing",e,null,(function(e){e&&(i&&(this._responseCallbacks[e.id]=[i,o]),this._dispatcher.sendMessage(e,r,t||{}))}),this)},_generateMessageId:function(){return this._messageId+=1,this._messageId>=Math.pow(2,32)&&(this._messageId=0),this._messageId.toString(36)},_receiveMessage:function(e){var t,i=e.id;void 0!==e.successful&&(t=this._responseCallbacks[i],delete this._responseCallbacks[i]),this.pipeThroughExtensions("incoming",e,null,(function(e){e&&(e.advice&&this._handleAdvice(e.advice),this._deliverMessage(e),t&&t[0].call(t[1],e))}),this)},_handleAdvice:function(e){l(this._advice,e),this._dispatcher.timeout=this._advice.timeout/1e3,this._advice.reconnect===this.HANDSHAKE&&this._state!==this.DISCONNECTED&&(this._state=this.UNCONNECTED,this._dispatcher.clientId=null,this._cycleConnection())},_deliverMessage:function(e){e.channel&&void 0!==e.data&&(this.info("Client ? calling listeners for ? with ?",this._dispatcher.clientId,e.channel,e.data),this._channels.distributeMessage(e))},_cycleConnection:function(){this._connectRequest&&(this._connectRequest=null,this.info("Closed connection for ?",this._dispatcher.clientId));var e=this;i.setTimeout((function(){e.connect()}),this._advice.interval)}}),l(r.prototype,c),l(r.prototype,h),l(r.prototype,u),l(r.prototype,g),t.exports=r}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":50,"../mixins/logging":51,"../mixins/publisher":52,"../util/array":70,"../util/assign":71,"../util/browser":72,"../util/class":73,"../util/constants":74,"../util/promise":78,"../util/validate_options":82,"./channel":54,"./dispatcher":56,"./error":57,"./extensible":58,"./publication":60,"./subscription":62,asap:37}],56:[function(e,t,o){(function(i){"use strict";var o=e("../util/class"),r=e("../util/uri"),n=e("../util/cookies"),s=e("../util/assign"),a=e("../mixins/logging"),l=e("../mixins/publisher"),d=e("../transport"),c=e("./scheduler"),u=o({className:"Dispatcher",MAX_REQUEST_SIZE:2048,DEFAULT_RETRY:5,UP:1,DOWN:2,initialize:function(e,t,i){this._client=e,this.endpoint=r.parse(t),this._alternates=i.endpoints||{},this.cookies=n.CookieJar&&new n.CookieJar,this._disabled=[],this._envelopes={},this.headers={},this.retry=i.retry||this.DEFAULT_RETRY,this._scheduler=i.scheduler||c,this._state=0,this.transports={},this.wsExtensions=[],this.proxy=i.proxy||{},"string"==typeof this._proxy&&(this._proxy={origin:this._proxy});var o,s=i.websocketExtensions;if(s)for(var a=0,l=(s=[].concat(s)).length;a<l;a++)this.addWebsocketExtension(s[a]);for(o in this.tls=i.tls||{},this.tls.ca=this.tls.ca||i.ca,this._alternates)this._alternates[o]=r.parse(this._alternates[o]);this.maxRequestSize=this.MAX_REQUEST_SIZE},endpointFor:function(e){return this._alternates[e]||this.endpoint},addWebsocketExtension:function(e){this.wsExtensions.push(e)},disable:function(e){this._disabled.push(e),d.disable(e)},setHeader:function(e,t){this.headers[e]=t},close:function(){var e=this._transport;delete this._transport,e&&e.close()},getConnectionTypes:function(){return d.getConnectionTypes()},selectTransport:function(e){d.get(this,e,this._disabled,(function(e){this.debug("Selected ? transport for ?",e.connectionType,e.endpoint.href),e!==this._transport&&(this._transport&&this._transport.close(),this._transport=e,this.connectionType=e.connectionType)}),this)},sendMessage:function(e,t,i){i=i||{};var o=e.id,r=i.attempts,n=i.deadline&&(new Date).getTime()+1e3*i.deadline;(i=this._envelopes[o])||(n=new this._scheduler(e,{timeout:t,interval:this.retry,attempts:r,deadline:n}),i=this._envelopes[o]={message:e,scheduler:n}),this._sendEnvelope(i)},_sendEnvelope:function(e){if(this._transport&&!e.request&&!e.timer){var t=e.message,o=e.scheduler,r=this;if(!o.isDeliverable())return o.abort(),void delete this._envelopes[t.id];e.timer=i.setTimeout((function(){r.handleError(t)}),1e3*o.getTimeout()),o.send(),e.request=this._transport.sendMessage(t)}},handleResponse:function(e){var t=this._envelopes[e.id];void 0!==e.successful&&t&&(t.scheduler.succeed(),delete this._envelopes[e.id],i.clearTimeout(t.timer)),this.trigger("message",e),this._state!==this.UP&&(this._state=this.UP,this._client.trigger("transport:up"))},handleError:function(e,t){var o=this._envelopes[e.id],r=(e=o&&o.request,this);e&&(e.then((function(e){e&&e.abort&&e.abort()})),(e=o.scheduler).fail(),i.clearTimeout(o.timer),o.request=o.timer=null,t?this._sendEnvelope(o):o.timer=i.setTimeout((function(){o.timer=null,r._sendEnvelope(o)}),1e3*e.getInterval()),this._state!==this.DOWN&&(this._state=this.DOWN,this._client.trigger("transport:down")))}});u.create=function(e,t,i){return new u(e,t,i)},s(u.prototype,l),s(u.prototype,a),t.exports=u}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/logging":51,"../mixins/publisher":52,"../transport":63,"../util/assign":71,"../util/class":73,"../util/cookies":75,"../util/uri":81,"./scheduler":61}],57:[function(e,t,i){"use strict";var o=e("../util/class"),r=e("./grammar"),n=o({initialize:function(e,t,i){this.code=e,this.params=Array.prototype.slice.call(t),this.message=i},toString:function(){return this.code+":"+this.params.join(",")+":"+this.message}});n.parse=function(e){if(e=e||"",!r.ERROR.test(e))return new n(null,[],e);var t=e.split(":"),i=parseInt(t[0]),o=t[1].split(",");return e=t[2],new n(i,o,e)};var s,a={versionMismatch:[300,"Version mismatch"],conntypeMismatch:[301,"Connection types not supported"],extMismatch:[302,"Extension mismatch"],badRequest:[400,"Bad request"],clientUnknown:[401,"Unknown client"],parameterMissing:[402,"Missing required parameter"],channelForbidden:[403,"Forbidden channel"],channelUnknown:[404,"Unknown channel"],channelInvalid:[405,"Invalid channel"],extUnknown:[406,"Unknown extension"],publishFailed:[407,"Failed to publish"],serverError:[500,"Internal server error"]};for(s in a)!function(e){n[e]=function(){return new n(a[e][0],arguments,a[e][1]).toString()}}(s);t.exports=n},{"../util/class":73,"./grammar":59}],58:[function(e,t,i){"use strict";var o={addExtension:function(e){this._extensions=this._extensions||[],this._extensions.push(e),e.added&&e.added(this)},removeExtension:function(e){if(this._extensions)for(var t=this._extensions.length;t--;)this._extensions[t]===e&&(this._extensions.splice(t,1),e.removed&&e.removed(this))},pipeThroughExtensions:function(e,t,i,o,r){if(this.debug("Passing through ? extensions: ?",e,t),!this._extensions)return o.call(r,t);var n=this._extensions.slice(),s=function(t){if(!t)return o.call(r,t);var a=n.shift();if(!a)return o.call(r,t);var l=a[e];if(!l)return s(t);3<=l.length?a[e](t,i,s):a[e](t,s)};s(t)}};e("../util/assign")(o,e("../mixins/logging")),t.exports=o},{"../mixins/logging":51,"../util/assign":71}],59:[function(e,t,i){"use strict";t.exports={CHANNEL_NAME:/^\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*$/,CHANNEL_PATTERN:/^(\/(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)))+)*\/\*{1,2}$/,ERROR:/^([0-9][0-9][0-9]:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*(,(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)*:(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*|[0-9][0-9][0-9]::(((([a-z]|[A-Z])|[0-9])|(\-|\_|\!|\~|\(|\)|\$|\@)| |\/|\*|\.))*)$/,VERSION:/^([0-9])+(\.(([a-z]|[A-Z])|[0-9])(((([a-z]|[A-Z])|[0-9])|\-|\_))*)*$/}},{}],60:[function(e,t,i){"use strict";var o=e("../util/class");e=e("../mixins/deferrable"),t.exports=o(e)},{"../mixins/deferrable":50,"../util/class":73}],61:[function(e,t,i){"use strict";function o(e,t){this.message=e,this.options=t,this.attempts=0}e("../util/assign")(o.prototype,{getTimeout:function(){return this.options.timeout},getInterval:function(){return this.options.interval},isDeliverable:function(){var e=this.options.attempts,t=this.attempts,i=this.options.deadline,o=(new Date).getTime();return!(void 0!==e&&e<=t||void 0!==i&&i<o)},send:function(){this.attempts+=1},succeed:function(){},fail:function(){},abort:function(){}}),t.exports=o},{"../util/assign":71}],62:[function(e,t,i){"use strict";var o=e("../util/class"),r=e("../util/assign");e=e("../mixins/deferrable"),o=o({initialize:function(e,t,i,o){this._client=e,this._channels=t,this._callback=i,this._context=o,this._cancelled=!1},withChannel:function(e,t){return this._withChannel=[e,t],this},apply:function(e,t){t=t[0],this._callback&&this._callback.call(this._context,t.data),this._withChannel&&this._withChannel[0].call(this._withChannel[1],t.channel,t.data)},cancel:function(){this._cancelled||(this._client.unsubscribe(this._channels,this),this._cancelled=!0)},unsubscribe:function(){this.cancel()}}),r(o.prototype,e),t.exports=o},{"../mixins/deferrable":50,"../util/assign":71,"../util/class":73}],63:[function(e,t,i){"use strict";var o=e("./transport");o.register("websocket",e("./web_socket")),o.register("eventsource",e("./event_source")),o.register("long-polling",e("./xhr")),o.register("cross-origin-long-polling",e("./cors")),o.register("callback-polling",e("./jsonp")),t.exports=o},{"./cors":64,"./event_source":65,"./jsonp":66,"./transport":67,"./web_socket":68,"./xhr":69}],64:[function(e,t,o){(function(i){"use strict";var o=e("../util/class"),r=e("../util/set"),n=e("../util/uri"),s=e("../util/assign"),a=e("../util/to_json"),l=s(o(e("./transport"),{encode:function(e){return"message="+encodeURIComponent(a(e))},request:function(e){var t,o=i.XDomainRequest?XDomainRequest:XMLHttpRequest,r=new o,n=++l._id,s=this._dispatcher.headers,a=this;if(r.open("POST",this.endpoint.href,!0),r.withCredentials=!0,r.setRequestHeader)for(t in r.setRequestHeader("Pragma","no-cache"),s)s.hasOwnProperty(t)&&r.setRequestHeader(t,s[t]);function d(){r&&(l._pending.remove(n),r.onload=r.onerror=r.ontimeout=r.onprogress=null,r=null)}return r.onload=function(){var t;try{t=JSON.parse(r.responseText)}catch(t){}d(),t?a._receive(t):a._handleError(e)},r.onerror=r.ontimeout=function(){d(),a._handleError(e)},r.onprogress=function(){},o===i.XDomainRequest&&l._pending.add({id:n,xhr:r}),r.send(this.encode(e)),r}}),{_id:0,_pending:new r,isUsable:function(e,t,o,r){return n.isSameOrigin(t)?o.call(r,!1):i.XDomainRequest?o.call(r,t.protocol===location.protocol):i.XMLHttpRequest?(t=new XMLHttpRequest,o.call(r,void 0!==t.withCredentials)):o.call(r,!1)}});t.exports=l}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/assign":71,"../util/class":73,"../util/set":79,"../util/to_json":80,"../util/uri":81,"./transport":67}],65:[function(e,t,o){(function(i){"use strict";var o=e("../util/class"),r=e("../util/uri"),n=e("../util/copy_object"),s=e("../util/assign"),a=e("../mixins/deferrable"),l=e("./transport"),d=e("./xhr");o=s(o(l,{initialize:function(e,t){if(l.prototype.initialize.call(this,e,t),!i.EventSource)return this.setDeferredStatus("failed");this._xhr=new d(e,t),(t=n(t)).pathname+="/"+e.clientId;var o=new i.EventSource(r.stringify(t)),s=this;o.onopen=function(){s._everConnected=!0,s.setDeferredStatus("succeeded")},o.onerror=function(){s._everConnected?s._handleError([]):(s.setDeferredStatus("failed"),o.close())},o.onmessage=function(e){var t;try{t=JSON.parse(e.data)}catch(e){}t?s._receive(t):s._handleError([])},this._socket=o},close:function(){this._socket&&(this._socket.onopen=this._socket.onerror=this._socket.onmessage=null,this._socket.close(),delete this._socket)},isUsable:function(e,t){this.callback((function(){e.call(t,!0)})),this.errback((function(){e.call(t,!1)}))},encode:function(e){return this._xhr.encode(e)},request:function(e){return this._xhr.request(e)}}),{isUsable:function(e,t,i,o){if(!e.clientId)return i.call(o,!1);d.isUsable(e,t,(function(r){return r?void this.create(e,t).isUsable(i,o):i.call(o,!1)}),this)},create:function(e,t){var i=e.transports.eventsource=e.transports.eventsource||{},o=e.clientId,s=n(t);return s.pathname+="/"+(o||""),i[s=r.stringify(s)]=i[s]||new this(e,t),i[s]}}),s(o.prototype,a),t.exports=o}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":50,"../util/assign":71,"../util/class":73,"../util/copy_object":76,"../util/uri":81,"./transport":67,"./xhr":69}],66:[function(e,t,o){(function(i){"use strict";var o=e("../util/class"),r=e("../util/uri"),n=e("../util/copy_object"),s=e("../util/assign"),a=e("../util/to_json"),l=s(o(e("./transport"),{encode:function(e){var t=n(this.endpoint);return t.query.message=a(e),t.query.jsonp="__jsonp"+l._cbCount+"__",r.stringify(t)},request:function(e){var t=document.getElementsByTagName("head")[0],o=document.createElement("script"),s=l.getCallbackName(),d=n(this.endpoint),c=this;function u(){if(!i[s])return!1;i[s]=void 0;try{delete i[s]}catch(e){}o.parentNode.removeChild(o)}return d.query.message=a(e),d.query.jsonp=s,i[s]=function(e){u(),c._receive(e)},o.type="text/javascript",o.src=r.stringify(d),t.appendChild(o),o.onerror=function(){u(),c._handleError(e)},{abort:u}}}),{_cbCount:0,getCallbackName:function(){return this._cbCount+=1,"__jsonp"+this._cbCount+"__"},isUsable:function(e,t,i,o){i.call(o,!0)}});t.exports=l}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/assign":71,"../util/class":73,"../util/copy_object":76,"../util/to_json":80,"../util/uri":81,"./transport":67}],67:[function(e,t,i){(function(i){"use strict";var o=e("../util/class"),r=e("../util/cookies").Cookie,n=e("../util/promise"),s=e("../util/array"),a=e("../util/assign"),l=e("../mixins/logging"),d=e("../mixins/timeouts"),c=e("../protocol/channel");o=a(o({className:"Transport",DEFAULT_PORTS:{"http:":80,"https:":443,"ws:":80,"wss:":443},MAX_DELAY:0,batching:!0,initialize:function(e,t){this._dispatcher=e,this.endpoint=t,this._outbox=[],this._proxy=a({},this._dispatcher.proxy),this._proxy.origin||(this._proxy.origin=this._findProxy())},close:function(){},encode:function(e){return""},sendMessage:function(e){return this.debug("Client ? sending message to ?: ?",this._dispatcher.clientId,this.endpoint.href,e),this.batching?(this._outbox.push(e),this._flushLargeBatch(),e.channel===c.HANDSHAKE?this._publish(.01):(e.channel===c.CONNECT&&(this._connectMessage=e),this._publish(this.MAX_DELAY))):n.resolve(this.request([e]))},_makePromise:function(){var e=this;this._requestPromise=this._requestPromise||new n((function(t){e._resolvePromise=t}))},_publish:function(e){return this._makePromise(),this.addTimeout("publish",e,(function(){this._flush(),delete this._requestPromise}),this),this._requestPromise},_flush:function(){this.removeTimeout("publish"),1<this._outbox.length&&this._connectMessage&&(this._connectMessage.advice={timeout:0}),this._resolvePromise(this.request(this._outbox)),this._connectMessage=null,this._outbox=[]},_flushLargeBatch:function(){var e;this.encode(this._outbox).length<this._dispatcher.maxRequestSize||(e=this._outbox.pop(),this._makePromise(),this._flush(),e&&this._outbox.push(e))},_receive:function(e){if(e){e=[].concat(e),this.debug("Client ? received from ? via ?: ?",this._dispatcher.clientId,this.endpoint.href,this.connectionType,e);for(var t=0,i=e.length;t<i;t++)this._dispatcher.handleResponse(e[t])}},_handleError:function(e,t){e=[].concat(e),this.debug("Client ? failed to send to ? via ?: ?",this._dispatcher.clientId,this.endpoint.href,this.connectionType,e);for(var i=0,o=e.length;i<o;i++)this._dispatcher.handleError(e[i])},_getCookies:function(){var e=this._dispatcher.cookies,t=this.endpoint.href;return e?s.map(e.getCookiesSync(t),(function(e){return e.cookieString()})).join("; "):""},_storeCookies:function(e){var t,i=this._dispatcher.cookies,o=this.endpoint.href;if(e&&i)for(var n=0,s=(e=[].concat(e)).length;n<s;n++)t=r.parse(e[n]),i.setCookieSync(t,o)},_findProxy:function(){if(void 0!==i){var e=this.endpoint.protocol;if(e){var t,o=e.replace(/:$/,"").toLowerCase()+"_proxy",r=o.toUpperCase(),n=i.env;return"http_proxy"===o&&n.REQUEST_METHOD?(1===(e=Object.keys(n).filter((function(e){return/^http_proxy$/i.test(e)}))).length?e[0]===o&&void 0===n[r]&&(t=n[o]):1<e.length&&(t=n[o]),t=t||n["CGI_"+r]):(t=n[o]||n[r])&&!n[o]&&console.warn("The environment variable "+r+" is discouraged. Use "+o+"."),t}}}}),{get:function(e,t,i,o,r){var n=e.endpoint;s.asyncEach(this._transports,(function(n,a){var l=n[0],d=n[1],c=e.endpointFor(l);return 0<=s.indexOf(i,l)?a():s.indexOf(t,l)<0?(d.isUsable(e,c,(function(){})),a()):void d.isUsable(e,c,(function(t){if(!t)return a();t=d.hasOwnProperty("create")?d.create(e,c):new d(e,c),o.call(r,t)}))}),(function(){throw new Error("Could not find a usable connection type for "+n.href)}))},register:function(e,t){this._transports.push([e,t]),t.prototype.connectionType=e},getConnectionTypes:function(){return s.map(this._transports,(function(e){return e[0]}))},disable:function(e){if("autodisconnect"===e)for(var t=0;t<this._transports.length;t++)this._transports[t][1]._unloaded=!1},_transports:[]}),a(o.prototype,l),a(o.prototype,d),t.exports=o}).call(this,e("_process"))},{"../mixins/logging":51,"../mixins/timeouts":53,"../protocol/channel":54,"../util/array":70,"../util/assign":71,"../util/class":73,"../util/cookies":75,"../util/promise":78,_process:92}],68:[function(e,t,o){(function(i){"use strict";var o=e("../util/class"),r=e("../util/promise"),n=e("../util/set"),s=e("../util/uri"),a=e("../util/browser"),l=e("../util/copy_object"),d=e("../util/assign"),c=e("../util/to_json"),u=e("../util/websocket"),h=e("../mixins/deferrable"),p=d(o(e("./transport"),{UNCONNECTED:1,CONNECTING:2,CONNECTED:3,batching:!1,isUsable:function(e,t){this.callback((function(){e.call(t,!0)})),this.errback((function(){e.call(t,!1)})),this.connect()},request:function(e){this._pending=this._pending||new n;for(var t=0,i=e.length;t<i;t++)this._pending.add(e[t]);var o=this,s=new r((function(t,i){o.callback((function(i){i&&1===i.readyState&&(i.send(c(e)),t(i))})),o.connect()}));return{abort:function(){s.then((function(e){e.close()}))}}},connect:function(){if(!p._unloaded&&(this._state=this._state||this.UNCONNECTED,this._state===this.UNCONNECTED)){this._state=this.CONNECTING;var e=this._createSocket();if(!e)return this.setDeferredStatus("failed");var t=this,i=!(e.onopen=function(){e.headers&&t._storeCookies(e.headers["set-cookie"]),t._socket=e,t._state=t.CONNECTED,t._everConnected=!0,t.setDeferredStatus("succeeded",e)});e.onclose=e.onerror=function(){var o,r;i||(i=!0,o=t._state===t.CONNECTED,e.onopen=e.onclose=e.onerror=e.onmessage=null,delete t._socket,t._state=t.UNCONNECTED,r=t._pending?t._pending.toArray():[],delete t._pending,o||t._everConnected?(t.setDeferredStatus("unknown"),t._handleError(r,o)):t.setDeferredStatus("failed"))},e.onmessage=function(e){var i;try{i=JSON.parse(e.data)}catch(e){}if(i){for(var o=0,r=(i=[].concat(i)).length;o<r;o++)void 0!==i[o].successful&&t._pending.remove(i[o]);t._receive(i)}}}},close:function(){this._socket&&this._socket.close()},_createSocket:function(){var e=p.getSocketUrl(this.endpoint),t=this._dispatcher.headers,i=this._dispatcher.wsExtensions,o=this._getCookies(),r=this._dispatcher.tls,n={extensions:i,headers:t,proxy:this._proxy,tls:r};""!==o&&(n.headers.Cookie=o);try{return u.create(e,[],n)}catch(e){}}}),{PROTOCOLS:{"http:":"ws:","https:":"wss:"},create:function(e,t){var i=e.transports.websocket=e.transports.websocket||{};return i[t.href]=i[t.href]||new this(e,t),i[t.href]},getSocketUrl:function(e){return(e=l(e)).protocol=this.PROTOCOLS[e.protocol],s.stringify(e)},isUsable:function(e,t,i,o){this.create(e,t).isUsable(i,o)}});d(p.prototype,h),a.Event&&void 0!==i.onbeforeunload&&a.Event.on(i,"beforeunload",(function(){void 0===p._unloaded&&(p._unloaded=!0)})),t.exports=p}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../mixins/deferrable":50,"../util/assign":71,"../util/browser":72,"../util/class":73,"../util/copy_object":76,"../util/promise":78,"../util/set":79,"../util/to_json":80,"../util/uri":81,"../util/websocket":83,"./transport":67}],69:[function(e,t,o){(function(i){"use strict";var o=e("../util/class"),r=e("../util/uri"),n=e("../util/browser"),s=e("../util/assign"),a=e("../util/to_json");o=s(o(e("./transport"),{encode:function(e){return a(e)},request:function(e){var t,o=this.endpoint.href,r=this;if(i.XMLHttpRequest)t=new XMLHttpRequest;else{if(!i.ActiveXObject)return this._handleError(e);t=new ActiveXObject("Microsoft.XMLHTTP")}t.open("POST",o,!0),t.setRequestHeader("Content-Type","application/json"),t.setRequestHeader("Pragma","no-cache"),t.setRequestHeader("X-Requested-With","XMLHttpRequest");var s,a=this._dispatcher.headers;for(s in a)a.hasOwnProperty(s)&&t.setRequestHeader(s,a[s]);function l(){t.abort()}return void 0!==i.onbeforeunload&&n.Event.on(i,"beforeunload",l),t.onreadystatechange=function(){if(t&&4===t.readyState){var o=null,s=t.status,a=t.responseText;if(s=200<=s&&s<300||304===s||1223===s,void 0!==i.onbeforeunload&&n.Event.detach(i,"beforeunload",l),t.onreadystatechange=function(){},t=null,!s)return r._handleError(e);try{o=JSON.parse(a)}catch(o){}o?r._receive(o):r._handleError(e)}},t.send(this.encode(e)),t}}),{isUsable:function(e,t,i,o){t="ReactNative"===navigator.product||r.isSameOrigin(t),i.call(o,t)}}),t.exports=o}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../util/assign":71,"../util/browser":72,"../util/class":73,"../util/to_json":80,"../util/uri":81,"./transport":67}],70:[function(e,t,i){"use strict";t.exports={commonElement:function(e,t){for(var i=0,o=e.length;i<o;i++)if(-1!==this.indexOf(t,e[i]))return e[i];return null},indexOf:function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0,o=e.length;i<o;i++)if(e[i]===t)return i;return-1},map:function(e,t,i){if(e.map)return e.map(t,i);var o=[];if(e instanceof Array)for(var r=0,n=e.length;r<n;r++)o.push(t.call(i||null,e[r],r));else for(var s in e)e.hasOwnProperty(s)&&o.push(t.call(i||null,s,e[s]));return o},filter:function(e,t,i){if(e.filter)return e.filter(t,i);for(var o=[],r=0,n=e.length;r<n;r++)t.call(i||null,e[r],r)&&o.push(e[r]);return o},asyncEach:function(e,t,i,o){function r(){if(!l){for(l=!0;0<a;)--a,(s+=1)===n?i&&i.call(o):t(e[s],d);l=!1}}var n=e.length,s=-1,a=0,l=!1,d=function(){a+=1,r()};d()}}},{}],71:[function(e,t,i){"use strict";var o=Array.prototype.forEach,r=Object.prototype.hasOwnProperty;t.exports=function(e){return o.call(arguments,(function(t,i){if(0!==i)for(var o in t)r.call(t,o)&&(e[o]=t[o])})),e}},{}],72:[function(e,t,o){(function(e){"use strict";var i={_registry:[],on:function(e,t,i,o){function r(){i.call(o)}e.addEventListener?e.addEventListener(t,r,!1):e.attachEvent("on"+t,r),this._registry.push({_element:e,_type:t,_callback:i,_context:o,_handler:r})},detach:function(e,t,i,o){for(var r,n=this._registry.length;n--;)r=this._registry[n],e&&e!==r._element||t&&t!==r._type||i&&i!==r._callback||o&&o!==r._context||(r._element.removeEventListener?r._element.removeEventListener(r._type,r._handler,!1):r._element.detachEvent("on"+r._type,r._handler),this._registry.splice(n,1),r=null)}};void 0!==e.onunload&&i.on(e,"unload",i.detach,i),t.exports={Event:i}}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],73:[function(e,t,i){"use strict";var o=e("./assign");t.exports=function(e,t){function i(){return this.initialize&&this.initialize.apply(this,arguments)||this}function r(){}return"function"!=typeof e&&(t=e,e=Object),r.prototype=e.prototype,i.prototype=new r,o(i.prototype,t),i}},{"./assign":71}],74:[function(e,t,i){t.exports={VERSION:"1.4.0",BAYEUX_VERSION:"1.0",ID_LENGTH:160,JSONP_CALLBACK:"jsonpcallback",CONNECTION_TYPES:["long-polling","cross-origin-long-polling","callback-polling","websocket","eventsource","in-process"],MANDATORY_CONNECTION_TYPES:["long-polling","callback-polling","in-process"]}},{}],75:[function(e,t,i){"use strict";t.exports={}},{}],76:[function(e,t,i){"use strict";var o=function(e){var t,i,r;if(e instanceof Array){for(t=[],i=e.length;i--;)t[i]=o(e[i]);return t}if("object"!=typeof e)return e;for(r in t=null===e?null:{},e)t[r]=o(e[r]);return t};t.exports=o},{}],77:[function(e,t,i){var o="function"==typeof Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};function r(){}(t.exports=r).prototype.emit=function(e){if("error"===e&&(!this._events||!this._events.error||o(this._events.error)&&!this._events.error.length))throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");if(!this._events)return!1;var t=this._events[e];if(!t)return!1;if("function"==typeof t){switch(arguments.length){case 1:t.call(this);break;case 2:t.call(this,arguments[1]);break;case 3:t.call(this,arguments[1],arguments[2]);break;default:var i=Array.prototype.slice.call(arguments,1);t.apply(this,i)}return!0}if(o(t)){i=Array.prototype.slice.call(arguments,1);for(var r=t.slice(),n=0,s=r.length;n<s;n++)r[n].apply(this,i);return!0}return!1},r.prototype.on=r.prototype.addListener=function(e,t){if("function"!=typeof t)throw new Error("addListener only takes instances of Function");return this._events||(this._events={}),this.emit("newListener",e,t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,this},r.prototype.once=function(e,t){var i=this;return i.on(e,(function o(){i.removeListener(e,o),t.apply(this,arguments)})),this},r.prototype.removeListener=function(e,t){if("function"!=typeof t)throw new Error("removeListener only takes instances of Function");if(!this._events||!this._events[e])return this;var i=this._events[e];if(o(i)){var r=function(e,t){if(e.indexOf)return e.indexOf(t);for(var i=0;i<e.length;i++)if(t===e[i])return i;return-1}(i,t);if(r<0)return this;i.splice(r,1),0==i.length&&delete this._events[e]}else this._events[e]===t&&delete this._events[e];return this},r.prototype.removeAllListeners=function(e){return 0===arguments.length?this._events={}:e&&this._events&&this._events[e]&&(this._events[e]=null),this},r.prototype.listeners=function(e){return this._events||(this._events={}),this._events[e]||(this._events[e]=[]),o(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]}},{}],78:[function(e,t,i){"use strict";function o(e){this._state=-1,this._value=null,this._defer=[],n(this,e)}var r=e("asap");o.prototype.then=function(e,t){var i=new o;return t={promise:i,onFulfilled:e,onRejected:t},-1===this._state?this._defer.push(t):s(this,t),i},o.prototype.catch=function(e){return this.then(null,e)};var n=function(e,t){if("function"==typeof t){var i=0,o=function(t){0==i++&&c(e,t)};try{t((function(t){0==i++&&a(e,t)}),o)}catch(t){o(t)}}},s=function(e,t){var i=e._state,o=e._value,n=t.promise,s=[t.onFulfilled,t.onRejected][i];if("function"!=typeof s)return(0,[a,c][i])(n,o);r((function(){try{a(n,s(o))}catch(e){c(n,e)}}))},a=function(e,t){if(e===t)return c(e,new TypeError("Recursive promise chain detected"));var i;try{i=l(t)}catch(t){return c(e,t)}if(!i)return d(e,t);n(e,(function(e,o){i.call(t,e,o)}))},l=function(e){var t=typeof e;return"function"==typeof(e=("object"==t||"function"==t)&&e&&e.then)?e:null},d=function(e,t){u(e,0,t)},c=function(e,t){u(e,1,t)},u=function(e,t,i){var o=e._defer,r=0;if(e._state=t,e._value=i,e._defer=null,0!==o.length)for(;r<o.length;)s(e,o[r++])};o.resolve=function(e){try{if(l(e))return e}catch(e){return o.reject(e)}return new o((function(t,i){t(e)}))},o.reject=function(e){return new o((function(t,i){i(e)}))},o.all=function(e){return new o((function(t,i){var r=[],n=e.length;if(0===n)return t(r);for(var s=0;s<n;s++)!function(e,s){o.resolve(e).then((function(e){r[s]=e,0==--n&&t(r)}),i)}(e[s],s)}))},o.race=function(e){return new o((function(t,i){for(var r=0,n=e.length;r<n;r++)o.resolve(e[r]).then(t,i)}))},o.deferred=function(){var e={};return e.promise=new o((function(t,i){e.resolve=t,e.reject=i})),e},t.exports=o},{asap:37}],79:[function(e,t,i){"use strict";e=e("./class"),t.exports=e({initialize:function(){this._index={}},add:function(e){var t=void 0!==e.id?e.id:e;return!this._index.hasOwnProperty(t)&&(this._index[t]=e,!0)},forEach:function(e,t){for(var i in this._index)this._index.hasOwnProperty(i)&&e.call(t,this._index[i])},isEmpty:function(){for(var e in this._index)if(this._index.hasOwnProperty(e))return!1;return!0},member:function(e){for(var t in this._index)if(this._index[t]===e)return!0;return!1},remove:function(e){var t=void 0!==e.id?e.id:e;return e=this._index[t],delete this._index[t],e},toArray:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}})},{"./class":73}],80:[function(e,t,i){"use strict";t.exports=function(e){return JSON.stringify(e,(function(e,t){return this[e]instanceof Array?this[e]:t}))}},{}],81:[function(e,t,i){"use strict";t.exports={isURI:function(e){return e&&e.protocol&&e.host&&e.path},isSameOrigin:function(e){return e.protocol===location.protocol&&e.hostname===location.hostname&&e.port===location.port},parse:function(e){if("string"!=typeof e)return e;var t,i,o,r,n,s={},a=function(t,i){e=e.replace(i,(function(e){return s[t]=e,""})),s[t]=s[t]||""};for(a("protocol",/^[a-z]+\:/i),a("host",/^\/\/[^\/\?#]+/),/^\//.test(e)||s.host||(e=location.pathname.replace(/[^\/]*$/,"")+e),a("pathname",/^[^\?#]*/),a("search",/^\?[^#]*/),a("hash",/^#.*/),s.protocol=s.protocol||location.protocol,s.host?(s.host=s.host.substr(2),/@/.test(s.host)&&(s.auth=s.host.split("@")[0],s.host=s.host.split("@")[1]),t=s.host.match(/^\[([^\]]+)\]|^[^:]+/),s.hostname=t[1]||t[0],s.port=(s.host.match(/:(\d+)$/)||[])[1]||""):(s.host=location.host,s.hostname=location.hostname,s.port=location.port),s.pathname=s.pathname||"/",s.path=s.pathname+s.search,n={},o=0,r=(i=(a=s.search.replace(/^\?/,""))?a.split("&"):[]).length;o<r;o++)t=i[o].split("="),n[decodeURIComponent(t[0]||"")]=decodeURIComponent(t[1]||"");return s.query=n,s.href=this.stringify(s),s},stringify:function(e){var t=e.auth?e.auth+"@":"";return(t=e.protocol+"//"+t+e.host)+(e.pathname+this.queryString(e.query)+(e.hash||""))},queryString:function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(encodeURIComponent(t)+"="+encodeURIComponent(e[t]));return 0===i.length?"":"?"+i.join("&")}}},{}],82:[function(e,t,i){"use strict";var o=e("./array");t.exports=function(e,t){for(var i in e)if(o.indexOf(t,i)<0)throw new Error("Unrecognized option: "+i)}},{"./array":70}],83:[function(e,t,o){(function(e){"use strict";var i=e.MozWebSocket||e.WebSocket;t.exports={create:function(e,t,o){return"function"!=typeof i?null:new i(e)}}}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],84:[function(e,t,i){i.read=function(e,t,i,o,r){var n,s,a=8*r-o-1,l=(1<<a)-1,d=l>>1,c=-7,u=i?r-1:0,h=i?-1:1;for(i=e[t+u],u+=h,n=i&(1<<-c)-1,i>>=-c,c+=a;0<c;n=256*n+e[t+u],u+=h,c-=8);for(s=n&(1<<-c)-1,n>>=-c,c+=o;0<c;s=256*s+e[t+u],u+=h,c-=8);if(0===n)n=1-d;else{if(n===l)return s?NaN:1/0*(i?-1:1);s+=Math.pow(2,o),n-=d}return(i?-1:1)*s*Math.pow(2,n-o)},i.write=function(e,t,i,o,r,n){var s,a,l=8*n-r-1,d=(1<<l)-1,c=d>>1,u=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,h=o?0:n-1,p=o?1:-1;for(n=t<0||0===t&&1/t<0?1:0,t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=d):(s=Math.floor(Math.log(t)/Math.LN2),t*(o=Math.pow(2,-s))<1&&(s--,o*=2),2<=(t+=1<=s+c?u/o:u*Math.pow(2,1-c))*o&&(s++,o/=2),d<=s+c?(a=0,s=d):1<=s+c?(a=(t*o-1)*Math.pow(2,r),s+=c):(a=t*Math.pow(2,c-1)*Math.pow(2,r),s=0));8<=r;e[i+h]=255&a,h+=p,a/=256,r-=8);for(s=s<<r|a,l+=r;0<l;e[i+h]=255&s,h+=p,s/=256,l-=8);e[i+h-p]|=128*n}},{}],85:[function(e,t,i){"function"==typeof Object.create?t.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(e,t){function i(){}e.super_=t,i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},{}],86:[function(e,t,i){function o(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}t.exports=function(e){return null!=e&&(o(e)||"function"==typeof(t=e).readFloatLE&&"function"==typeof t.slice&&o(t.slice(0,0))||!!e._isBuffer);var t}},{}],87:[function(e,t,i){var o={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==o.call(e)}},{}],88:[function(e,t,o){(function(e){var i="Expected a function",o="__lodash_hash_undefined__",r=1/0,n="[object Function]",s="[object GeneratorFunction]",a="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,d=/^\w*$/,c=/^\./,u=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,p=/^\[object .+?Constructor\]$/,f="object"==typeof e&&e&&e.Object===Object&&e,b="object"==typeof self&&self&&self.Object===Object&&self,g=f||b||Function("return this")(),m=Array.prototype,y=(e=Function.prototype,f=Object.prototype,b=g["__core-js_shared__"],(b=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+b:""),v=e.toString,_=f.hasOwnProperty,w=f.toString,x=RegExp("^"+v.call(_).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),C=(f=g.Symbol,m.splice),S=L(g,"Map"),O=L(Object,"create"),k=(f=f?f.prototype:void 0)?f.toString:void 0;function E(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function I(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function T(e){var t=-1,i=e?e.length:0;for(this.clear();++t<i;){var o=e[t];this.set(o[0],o[1])}}function M(e,t){for(var i,o,r=e.length;r--;)if((i=e[r][0])===(o=t)||i!=i&&o!=o)return r;return-1}function B(e,t){for(var i,o=0,n=(t=function(e,t){if(N(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!q(e))||d.test(e)||!l.test(e)||null!=t&&e in Object(t)}(t,e)?[t]:N(i=t)?i:A(i)).length;null!=e&&o<n;)e=e[function(e){if("string"==typeof e||q(e))return e;var t=e+"";return"0"==t&&1/e==-r?"-0":t}(t[o++])];return o&&o==n?e:void 0}function D(e){return R(e)&&!(y&&y in e)&&(function(e){return(e=R(e)?w.call(e):"")==n||e==s}(e)||function(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}(e)?x:p).test(function(e){if(null!=e){try{return v.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function P(e,t){var i,o=e.__data__;return("string"==(e=typeof(i=t))||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==i:null===i)?o["string"==typeof t?"string":"hash"]:o.map}function L(e,t){return D(t=null==e?void 0:e[t])?t:void 0}E.prototype.clear=function(){this.__data__=O?O(null):{}},E.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},E.prototype.get=function(e){var t=this.__data__;if(O){var i=t[e];return i===o?void 0:i}return _.call(t,e)?t[e]:void 0},E.prototype.has=function(e){var t=this.__data__;return O?void 0!==t[e]:_.call(t,e)},E.prototype.set=function(e,t){return this.__data__[e]=O&&void 0===t?o:t,this},I.prototype.clear=function(){this.__data__=[]},I.prototype.delete=function(e){var t=this.__data__;return!((e=M(t,e))<0||(e==t.length-1?t.pop():C.call(t,e,1),0))},I.prototype.get=function(e){var t=this.__data__;return(e=M(t,e))<0?void 0:t[e][1]},I.prototype.has=function(e){return-1<M(this.__data__,e)},I.prototype.set=function(e,t){var i=this.__data__,o=M(i,e);return o<0?i.push([e,t]):i[o][1]=t,this},T.prototype.clear=function(){this.__data__={hash:new E,map:new(S||I),string:new E}},T.prototype.delete=function(e){return P(this,e).delete(e)},T.prototype.get=function(e){return P(this,e).get(e)},T.prototype.has=function(e){return P(this,e).has(e)},T.prototype.set=function(e,t){return P(this,e).set(e,t),this};var A=F((function(e){var t;e=null==(t=e)?"":function(e){if("string"==typeof e)return e;if(q(e))return k?k.call(e):"";var t=e+"";return"0"==t&&1/e==-r?"-0":t}(t);var i=[];return c.test(e)&&i.push(""),e.replace(u,(function(e,t,o,r){i.push(o?r.replace(h,"$1"):t||e)})),i}));function F(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var o=function(){var i=arguments,r=t?t.apply(this,i):i[0],n=o.cache;return n.has(r)?n.get(r):(i=e.apply(this,i),o.cache=n.set(r,i),i)};return o.cache=new(F.Cache||T),o}F.Cache=T;var N=Array.isArray;function R(e){var t=typeof e;return e&&("object"==t||"function"==t)}function q(e){return"symbol"==typeof e||!!(t=e)&&"object"==typeof t&&w.call(e)==a;var t}t.exports=function(e,t,i){return void 0===(t=null==e?void 0:B(e,t))?i:t}}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],89:[function(e,t,o){(function(e){(function(){var i,r="Expected a function",n=1,s=2,a=9007199254740991,l="[object Arguments]",d="[object Array]",c="[object AsyncFunction]",u="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Function]",b="[object GeneratorFunction]",g="[object Number]",m="[object Object]",y="[object Proxy]",v="[object RegExp]",_="[object String]",w=/[&<>"']/g,x=RegExp(w.source),C=/^(?:0|[1-9]\d*)$/,S="object"==typeof e&&e&&e.Object===Object&&e,O="object"==typeof self&&self&&self.Object===Object&&self,k=S||O||Function("return this")(),E="object"==typeof o&&o&&!o.nodeType&&o,I=E&&"object"==typeof t&&t&&!t.nodeType&&t;function T(e,t){return e.push.apply(e,t),e}function M(e){return function(t){return null==t?i:t[e]}}var B,D,P,L=(B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},function(e){return null==B?i:B[e]}),A=Array.prototype,F=Object.prototype,N=F.hasOwnProperty,R=0,q=F.toString,j=k._,H=Object.create,V=F.propertyIsEnumerable,U=k.isFinite,z=(D=Object.keys,P=Object,function(e){return D(P(e))}),$=Math.max;function W(e){return e instanceof K?e:new K(e)}var Q=function(e){return We(e)?H?H(e):(G.prototype=e,e=new G,G.prototype=i,e):{}};function G(){}function K(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t}function Y(e,t,i){e[t]=i}function X(e,t,o){if("function"!=typeof e)throw new TypeError(r);return setTimeout((function(){e.apply(i,o)}),t)}(K.prototype=Q(W.prototype)).constructor=K;var J,Z,ee=(J=se,function(e,t){if(null==e)return e;if(!Ue(e))return J(e,t);for(var i=e.length,o=Z?i:-1,r=Object(e);(Z?o--:++o<i)&&!1!==t(r[o],o,r););return e});function te(e,t,o){for(var r=-1,n=e.length;++r<n;){var s,a,l=e[r],d=t(l);null!=d&&(s===i?d==d:o(d,s))&&(s=d,a=l)}return a}function ie(e,t){var i=[];return ee(e,(function(e,o,r){t(e,o,r)&&i.push(e)})),i}function oe(e,t,i,o,r){var n=-1,s=e.length;for(i=i||Ce,r=r||[];++n<s;){var a=e[n];0<t&&i(a)?1<t?oe(a,t-1,i,o,r):T(r,a):o||(r[r.length]=a)}return r}var re,ne=function(e,t,i){for(var o=-1,r=Object(e),n=i(e),s=n.length;s--;){var a=n[re?s:++o];if(!1===t(r[a],a,r))break}return e};function se(e,t){return e&&ne(e,t,rt)}function ae(e,t){return ie(t,(function(t){return $e(e[t])}))}function le(e){return q.call(e)}function de(e,t){return t<e}var ce=dt;function ue(e,t,o,r,a){return e===t||(null==e||null==t||!Qe(e)&&!Qe(t)?e!=e&&t!=t:function(e,t,o,r,a,c){var f=Ve(e),b=Ve(t),y=f?d:le(e),w=b?d:le(t),x=(y=y==l?m:y)==m,C=(w=w==l?m:w)==m,S=y==w;if(b=Pe(c=c||[],(function(t){return t[0]==e})),w=Pe(c,(function(e){return e[0]==t})),b&&w)return b[1]==t;if(c.push([e,t]),c.push([t,e]),S&&!x){var O=f?function(e,t,o,r,a,l){var d=o&n,c=e.length,u=t.length;if(c!=u&&!(d&&c<u))return!1;for(var h=-1,p=!0,f=o&s?[]:i;++h<c;){var b=e[h],g=t[h];if(void 0!==i){p=!1;break}if(f){if(!ve(t,(function(e,t){if(!Me(f,t)&&(b===e||a(b,e,o,r,l)))return f.push(t)}))){p=!1;break}}else if(b!==g&&!a(b,g,o,r,l)){p=!1;break}}return p}(e,t,o,r,a,c):function(e,t,i){switch(i){case u:case h:case g:return je(+e,+t);case p:return e.name==t.name&&e.message==t.message;case v:case _:return e==t+""}return!1}(e,t,y);return c.pop(),O}return o&n||(x=x&&N.call(e,"__wrapped__"),C=C&&N.call(t,"__wrapped__"),!x&&!C)?!!S&&(O=function(e,t,o,r,s,a){var l=o&n,d=rt(e),c=d.length,u=rt(t).length;if(c!=u&&!l)return!1;for(var h=c;h--;){var p=d[h];if(!(l?p in t:N.call(t,p)))return!1}for(var f,b=!0,g=l;++h<c;){var m=e[p=d[h]],y=t[p];if(void 0!==i||m!==y&&!s(m,y,o,r,a)){b=!1;break}g=g||"constructor"==p}return b&&!g&&(f=e.constructor)!=(u=t.constructor)&&"constructor"in e&&"constructor"in t&&!("function"==typeof f&&f instanceof f&&"function"==typeof u&&u instanceof u)&&(b=!1),b}(e,t,o,r,a,c),c.pop(),O):(O=a(x=x?e.value():e,C=C?t.value():t,o,r,c),c.pop(),O)}(e,t,o,r,ue,a))}function he(e){return"function"==typeof e?e:null==e?at:("object"==typeof e?be:M)(e)}function pe(e,t){return e<t}function fe(e,t){var i=-1,o=Ue(e)?Array(e.length):[];return ee(e,(function(e,r,n){o[++i]=t(e,r,n)})),o}function be(e){var t=z(e);return function(i){var o=t.length;if(null==i)return!o;for(i=Object(i);o--;){var r=t[o];if(!(r in i)||!ue(e[r],i[r],n|s))return!1}return!0}}function ge(e,t){return Ee(ke(e,t,at),e+"")}function me(e,t,i){var o=-1,r=e.length;t<0&&(t=r<-t?0:r+t),(i=r<i?r:i)<0&&(i+=r),r=i<t?0:i-t>>>0,t>>>=0;for(var n=Array(r);++o<r;)n[o]=e[o+t];return n}function ye(e){return me(e,0,e.length)}function ve(e,t){var i;return ee(e,(function(e,o,r){return!(i=t(e,o,r))})),!!i}function _e(e,t,o,r){var n=!o;o=o||{};for(var s,a,l=-1,d=t.length;++l<d;){var c=t[l],u=r?r(o[c],e[c],c,o,e):i;u===i&&(u=e[c]),n?Y(o,c,u):(s=u,a=void 0,a=(u=o)[c],N.call(u,c)&&je(a,s)&&(s!==i||c in u)||Y(u,c,s))}return o}function we(e){return ge((function(t,o){var r=-1,n=o.length,s=1<n?o[n-1]:i;for(s=3<e.length&&"function"==typeof s?(n--,s):i,t=Object(t);++r<n;){var a=o[r];a&&e(t,a,r,s)}return t}))}function xe(e,t,i,o){if("function"!=typeof e)throw new TypeError(r);var n,s=1&t,a=(n=e,function(){var e=arguments,t=Q(n.prototype);return We(e=n.apply(t,e))?e:t});return function t(){for(var r=-1,n=arguments.length,l=-1,d=o.length,c=Array(d+n),u=this&&this!==k&&this instanceof t?a:e;++l<d;)c[l]=o[l];for(;n--;)c[l++]=arguments[++r];return u.apply(s?i:this,c)}}function Ce(e){return Ve(e)||He(e)}function Se(e,t,i){if(We(i)){var o,r,n,s=typeof t;return("number"==s?Ue(i)&&(n=typeof(o=t),(r=null==(r=i.length)?a:r)&&("number"==n||"symbol"!=n&&C.test(o))&&-1<o&&o%1==0&&o<r):"string"==s&&t in i)&&je(i[t],e)}}function Oe(e){var t=[];if(null!=e)for(var i in Object(e))t.push(i);return t}function ke(e,t,o){return t=$(t===i?e.length-1:t,0),function(){for(var i=arguments,r=-1,n=$(i.length-t,0),s=Array(n);++r<n;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=o(s),e.apply(this,a)}}var Ee=at;function Ie(e){return null!=e&&e.length?oe(e,1):[]}function Te(e){return e&&e.length?e[0]:i}function Me(e,t,i){for(var o=null==e?0:e.length,r=((i="number"==typeof i?i<0?$(o+i,0):i:0)||0)-1,n=t==t;++r<o;){var s=e[r];if(n?s===t:s!=s)return r}return-1}function Be(e){return(e=W(e)).__chain__=!0,e}var De,Pe=(De=function(e,t,i){var o=null==e?0:e.length;return o?((i=null==i?0:Xe(i))<0&&(i=$(o+i,0)),function(e,t,i,o){for(var r=e.length,n=i+(o?1:-1);o?n--:++n<r;)if(t(e[n],n,e))return n;return-1}(e,he(t),i)):-1},function(e,t,o){var r,n=Object(e);return Ue(e)||(r=he(t),e=rt(e),t=function(e){return r(n[e],e,n)}),-1<(o=De(e,t,o))?n[r?e[o]:o]:i});function Le(e,t){return ee(e,he(t))}function Ae(e,t,i){return o=e,r=he(t),n=i,s=arguments.length<3,ee(o,(function(e,t,i){n=s?(s=!1,e):r(n,e,t,i)})),n;var o,r,n,s}function Fe(e,t){var o;if("function"!=typeof t)throw new TypeError(r);return e=Xe(e),function(){return 0<--e&&(o=t.apply(this,arguments)),e<=1&&(t=i),o}}var Ne=ge((function(e,t,i){return xe(e,33,t,i)})),Re=ge((function(e,t){return X(e,1,t)})),qe=ge((function(e,t,i){return X(e,Je(t)||0,i)}));function je(e,t){return e===t||e!=e&&t!=t}var He=ce(function(){return arguments}())?ce:function(e){return Qe(e)&&N.call(e,"callee")&&!V.call(e,"callee")},Ve=Array.isArray;function Ue(e){return null!=e&&"number"==typeof(t=e.length)&&-1<t&&t%1==0&&t<=a&&!$e(e);var t}function ze(e){return Qe(e)&&le(e)==h}function $e(e){return!!We(e)&&((e=le(e))==f||e==b||e==c||e==y)}function We(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Qe(e){return null!=e&&"object"==typeof e}function Ge(e){return"number"==typeof e||Qe(e)&&le(e)==g}function Ke(e){return Qe(e)&&le(e)==v}function Ye(e){return"string"==typeof e||!Ve(e)&&Qe(e)&&le(e)==_}var Xe=Number,Je=Number;function Ze(e){return"string"==typeof e?e:null==e?"":e+""}var et=we((function(e,t){_e(t,z(t),e)})),tt=we((function(e,t){_e(t,Oe(t),e)}));S=ge((function(e,t){e=Object(e);var o=-1,r=t.length,n=2<r?t[2]:i;for(n&&Se(t[0],t[1],n)&&(r=1);++o<r;)for(var s=t[o],a=nt(s),l=-1,d=a.length;++l<d;){var c=a[l],u=e[c];(u===i||je(u,F[c])&&!N.call(e,c))&&(e[c]=s[c])}return e}));var it,ot,rt=z,nt=Oe;function st(e){return null==e?[]:fe(rt(t=e),(function(e){return t[e]}));var t}function at(e){return e}function lt(e,t,i){var o=rt(t),r=ae(t,o);null!=i||We(t)&&(r.length||!o.length)||(i=t,t=e,e=this,r=ae(t,rt(t)));var n=!(We(i)&&"chain"in i&&!i.chain),s=$e(e);return ee(r,(function(i){var o=t[i];e[i]=o,s&&(e.prototype[i]=function(){var t=this.__chain__;if(n||t){var i=e(this.__wrapped__);return(i.__actions__=ye(this.__actions__)).push({func:o,args:arguments,thisArg:e}),i.__chain__=t,i}return o.apply(e,T([this.value()],arguments))})})),e}function dt(){}O=Ee(ke(it=function(e,t){return null==e?{}:(i=e,i=Object(i),Ae(t,(function(e,t){return t in i&&(e[t]=i[t]),e}),{}));var i},i,Ie),it+""),ce=he,W.assignIn=tt,W.before=Fe,W.bind=Ne,W.chain=Be,W.compact=function(e){return ie(e,Boolean)},W.concat=function(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),i=arguments[0],o=e;o--;)t[o-1]=arguments[o];return T(Ve(i)?ye(i):[i],oe(t,1))},W.create=function(e,t){return e=Q(e),null==t?e:et(e,t)},W.defaults=S,W.defer=Re,W.delay=qe,W.filter=function(e,t){return ie(e,he(t))},W.flatten=Ie,W.flattenDeep=function(e){return null!=e&&e.length?oe(e,1/0):[]},W.iteratee=ce,W.keys=rt,W.map=function(e,t){return fe(e,he(t))},W.matches=function(e){return be(et({},e))},W.mixin=lt,W.negate=function(e){if("function"!=typeof e)throw new TypeError(r);return function(){var t=arguments;return!e.apply(this,t)}},W.once=function(e){return Fe(2,e)},W.pick=O,W.slice=function(e,t,o){var r=null==e?0:e.length;return t=null==t?0:+t,o=o===i?r:+o,r?me(e,t,o):[]},W.sortBy=function(e,t){var o=0;return t=he(t),fe(fe(e,(function(e,i,r){return{value:e,index:o++,criteria:t(e,i,r)}})).sort((function(e,t){return function(e,t){if(e!==t){var o=e!==i,r=null===e,n=e==e,s=t!==i,a=null===t,l=t==t;if(!a&&t<e||r&&s&&l||!o&&l||!n)return 1;if(!r&&e<t||a&&o&&n||!s&&n||!l)return-1}return 0}(e.criteria,t.criteria)||e.index-t.index})),M("value"))},W.tap=function(e,t){return t(e),e},W.thru=function(e,t){return t(e)},W.toArray=function(e){return Ue(e)?e.length?ye(e):[]:st(e)},W.values=st,W.extend=tt,lt(W,W),W.clone=function(e){return We(e)?Ve(e)?ye(e):_e(e,z(e)):e},W.escape=function(e){return(e=Ze(e))&&x.test(e)?e.replace(w,L):e},W.every=function(e,t,o){return r=he(t=o?i:t),n=!0,ee(e,(function(e,t,i){return n=!!r(e,t,i)})),n;var r,n},W.find=Pe,W.forEach=Le,W.has=function(e,t){return null!=e&&N.call(e,t)},W.head=Te,W.identity=at,W.indexOf=Me,W.isArguments=He,W.isArray=Ve,W.isBoolean=function(e){return!0===e||!1===e||Qe(e)&&le(e)==u},W.isDate=ze,W.isEmpty=function(e){return Ue(e)&&(Ve(e)||Ye(e)||$e(e.splice)||He(e))?!e.length:!z(e).length},W.isEqual=function(e,t){return ue(e,t)},W.isFinite=function(e){return"number"==typeof e&&U(e)},W.isFunction=$e,W.isNaN=function(e){return Ge(e)&&e!=+e},W.isNull=function(e){return null===e},W.isNumber=Ge,W.isObject=We,W.isRegExp=Ke,W.isString=Ye,W.isUndefined=function(e){return e===i},W.last=function(e){var t=null==e?0:e.length;return t?e[t-1]:i},W.max=function(e){return e&&e.length?te(e,at,de):i},W.min=function(e){return e&&e.length?te(e,at,pe):i},W.noConflict=function(){return k._===this&&(k._=j),this},W.noop=dt,W.reduce=Ae,W.result=function(e,t,o){return(t=null==e?i:e[t])===i&&(t=o),$e(t)?t.call(e):t},W.size=function(e){return null==e?0:(e=Ue(e)?e:z(e)).length},W.some=function(e,t,o){return ve(e,he(t=o?i:t))},W.uniqueId=function(e){var t=++R;return Ze(e)+t},W.each=Le,W.first=Te,lt(W,(ot={},se(W,(function(e,t){N.call(W.prototype,t)||(ot[t]=e)})),ot),{chain:!1}),W.VERSION="4.17.15",ee(["pop","join","replace","reverse","split","push","shift","sort","splice","unshift"],(function(e){var t=(/^(?:replace|split)$/.test(e)?String.prototype:A)[e],i=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|join|replace|shift)$/.test(e);W.prototype[e]=function(){var e=arguments;if(!o||this.__chain__)return this[i]((function(i){return t.apply(Ve(i)?i:[],e)}));var r=this.value();return t.apply(Ve(r)?r:[],e)}})),W.prototype.toJSON=W.prototype.valueOf=W.prototype.value=function(){return e=this.__wrapped__,Ae(this.__actions__,(function(e,t){return t.func.apply(t.thisArg,T([e],t.args))}),e);var e},I&&((I.exports=W)._=W,E._=W)}).call(this)}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],90:[function(e,t,i){t.exports=r,t=e("inherits");var o=e("readable-stream");function r(e,t){var i=this;if(!(i instanceof r))return new r(e,t);o.Readable.call(i,t),i.destroyed=!1,i._drained=!1,i._forwarding=!1,i._current=null,i._toStreams2=t&&t.objectMode?n:s,"function"==typeof e?i._queue=e:(i._queue=e.map(i._toStreams2),i._queue.forEach((function(e){"function"!=typeof e&&i._attachErrorListener(e)}))),i._next()}function n(e){return a(e,{objectMode:!0,highWaterMark:16})}function s(e){return a(e)}function a(e,t){return!e||"function"==typeof e||e._readableState?e:(t=new o.Readable(t).wrap(e),e.destroy&&(t.destroy=e.destroy.bind(e)),t)}t(r,o.Readable),r.obj=function(e){return new r(e,{objectMode:!0,highWaterMark:16})},r.prototype._read=function(){this._drained=!0,this._forward()},r.prototype._forward=function(){if(!this._forwarding&&this._drained&&this._current){var e;for(this._forwarding=!0;null!==(e=this._current.read());)this._drained=this.push(e);this._forwarding=!1}},r.prototype.destroy=function(e){this.destroyed||(this.destroyed=!0,this._current&&this._current.destroy&&this._current.destroy(),"function"!=typeof this._queue&&this._queue.forEach((function(e){e.destroy&&e.destroy()})),e&&this.emit("error",e),this.emit("close"))},r.prototype._next=function(){var e,t=this;t._current=null,"function"==typeof t._queue?t._queue((function(e,i){return e?t.destroy(e):(i=t._toStreams2(i),t._attachErrorListener(i),void t._gotNextStream(i))})):("function"==typeof(e=t._queue.shift())&&(e=t._toStreams2(e()),t._attachErrorListener(e)),t._gotNextStream(e))},r.prototype._gotNextStream=function(e){var t=this;if(!e)return t.push(null),void t.destroy();function i(){t._forward()}function o(){e._readableState.ended||t.destroy()}t._current=e,t._forward(),e.on("readable",i),e.once("end",(function r(){t._current=null,e.removeListener("readable",i),e.removeListener("end",r),e.removeListener("close",o),t._next()})),e.once("close",o)},r.prototype._attachErrorListener=function(e){var t=this;e&&e.once("error",(function i(o){e.removeListener("error",i),t.destroy(o)}))}},{inherits:85,"readable-stream":108}],91:[function(e,t,i){(function(e){"use strict";!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:function(t,i,o,r){if("function"!=typeof t)throw new TypeError('"callback" argument must be a function');var n,s,a=arguments.length;switch(a){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick((function(){t.call(null,i)}));case 3:return e.nextTick((function(){t.call(null,i,o)}));case 4:return e.nextTick((function(){t.call(null,i,o,r)}));default:for(n=new Array(a-1),s=0;s<n.length;)n[s++]=arguments[s];return e.nextTick((function(){t.apply(null,n)}))}}}:t.exports=e}).call(this,e("_process"))},{_process:92}],92:[function(e,t,i){var o,r;function n(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(o===setTimeout)return setTimeout(e,0);if((o===n||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}t=t.exports={},function(){try{o="function"==typeof setTimeout?setTimeout:n}catch(e){o=n}try{r="function"==typeof clearTimeout?clearTimeout:s}catch(e){r=s}}();var l,d=[],c=!1,u=-1;function h(){c&&l&&(c=!1,l.length?d=l.concat(d):u=-1,d.length&&p())}function p(){if(!c){var e=a(h);c=!0;for(var t=d.length;t;){for(l=d,d=[];++u<t;)l&&l[u].run();u=-1,t=d.length}l=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===s||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function b(){}t.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];d.push(new f(e,t)),1!==d.length||c||a(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=b,t.addListener=b,t.once=b,t.off=b,t.removeListener=b,t.removeAllListeners=b,t.emit=b,t.prependListener=b,t.prependOnceListener=b,t.listeners=function(e){return[]},t.binding=function(e){throw new Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw new Error("process.chdir is not supported")},t.umask=function(){return 0}},{}],93:[function(e,t,i){"use strict";var o=e("asap/raw");function r(){}var n=null,s={};function a(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,e!==r&&p(e,this)}function l(e,t){for(;3===e._65;)e=e._55;if(a._37&&a._37(e),0===e._65)return 0===e._40?(e._40=1,void(e._72=t)):1===e._40?(e._40=2,void(e._72=[e._72,t])):void e._72.push(t);var i,r;i=e,r=t,o((function(){var e=1===i._65?r.onFulfilled:r.onRejected;null!==e?(e=function(e,t){try{return e(t)}catch(e){return n=e,s}}(e,i._55))===s?c(r.promise,n):d(r.promise,e):(1===i._65?d:c)(r.promise,i._55)}))}function d(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself.")),0;if(t&&("object"==typeof t||"function"==typeof t)){var i=function(e){try{return e.then}catch(e){return n=e,s}}(t);if(i===s)return c(e,n),0;if(i===e.then&&t instanceof a)return e._65=3,e._55=t,void u(e);if("function"==typeof i)return void p(i.bind(t),e)}e._65=1,e._55=t,u(e)}function c(e,t){e._65=2,e._55=t,a._87&&a._87(e,t),u(e)}function u(e){if(1===e._40&&(l(e,e._72),e._72=null),2===e._40){for(var t=0;t<e._72.length;t++)l(e,e._72[t]);e._72=null}}function h(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function p(e,t){var i=!1;e=function(e,t,i){try{e(t,i)}catch(e){return n=e,s}}(e,(function(e){i||(i=!0,d(t,e))}),(function(e){i||(i=!0,c(t,e))})),i||e!==s||(i=!0,c(t,n))}(t.exports=a)._37=null,a._87=null,a._61=r,a.prototype.then=function(e,t){if(this.constructor!==a)return o=e,n=t,new(i=this).constructor((function(e,t){var s=new a(r);s.then(e,t),l(i,new h(o,n,s))}));var i,o,n,s=new a(r);return l(this,new h(e,t,s)),s}},{"asap/raw":38}],94:[function(e,t,i){"use strict";var o=e("./core.js");t.exports=o;var r=c(!0),n=c(!1),s=c(null),a=c(void 0),l=c(0),d=c("");function c(e){var t=new o(o._61);return t._65=1,t._55=e,t}o.resolve=function(e){if(e instanceof o)return e;if(null===e)return s;if(void 0===e)return a;if(!0===e)return r;if(!1===e)return n;if(0===e)return l;if(""===e)return d;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new o(t.bind(e))}catch(e){return new o((function(t,i){i(e)}))}return c(e)},o.all=function(e){var t=Array.prototype.slice.call(e);return new o((function(e,i){if(0===t.length)return e([]);for(var r=t.length,n=0;n<t.length;n++)!function n(s,a){if(a&&("object"==typeof a||"function"==typeof a)){if(a instanceof o&&a.then===o.prototype.then){for(;3===a._65;)a=a._55;return 1===a._65?n(s,a._55):(2===a._65&&i(a._55),void a.then((function(e){n(s,e)}),i))}var l=a.then;if("function"==typeof l)return void new o(l.bind(a)).then((function(e){n(s,e)}),i)}t[s]=a,0==--r&&e(t)}(n,t[n])}))},o.reject=function(e){return new o((function(t,i){i(e)}))},o.race=function(e){return new o((function(t,i){e.forEach((function(e){o.resolve(e).then(t,i)}))}))},o.prototype.catch=function(e){return this.then(null,e)}},{"./core.js":93}],95:[function(e,t,i){"use strict";t.exports=function(e,t,i,r){t=t||"&",i=i||"=";var n={};if("string"!=typeof e||0===e.length)return n;var s=/\+/g;e=e.split(t),t=1e3,r&&"number"==typeof r.maxKeys&&(t=r.maxKeys);var a=e.length;0<t&&t<a&&(a=t);for(var l=0;l<a;++l){var d,c=e[l].replace(s,"%20"),u=0<=(p=c.indexOf(i))?(d=c.substr(0,p),c.substr(p+1)):(d=c,""),h=decodeURIComponent(d),p=decodeURIComponent(u);c=n,u=h,Object.prototype.hasOwnProperty.call(c,u)?o(n[h])?n[h].push(p):n[h]=[n[h],p]:n[h]=p}return n};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],96:[function(e,t,i){"use strict";function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}}t.exports=function(e,t,i,a){return t=t||"&",i=i||"=",null===e&&(e=void 0),"object"==typeof e?n(s(e),(function(s){var a=encodeURIComponent(o(s))+i;return r(e[s])?n(e[s],(function(e){return a+encodeURIComponent(o(e))})).join(t):a+encodeURIComponent(o(e[s]))})).join(t):a?encodeURIComponent(o(a))+i+encodeURIComponent(o(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function n(e,t){if(e.map)return e.map(t);for(var i=[],o=0;o<e.length;o++)i.push(t(e[o],o));return i}var s=Object.keys||function(e){var t,i=[];for(t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return i}},{}],97:[function(e,t,i){"use strict";i.decode=i.parse=e("./decode"),i.encode=i.stringify=e("./encode")},{"./decode":95,"./encode":96}],98:[function(e,t,i){t.exports=e("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":99}],99:[function(e,t,i){"use strict";var o=e("process-nextick-args"),r=Object.keys||function(e){var t,i=[];for(t in e)i.push(t);return i};t.exports=c,(t=e("core-util-is")).inherits=e("inherits");var n=e("./_stream_readable"),s=e("./_stream_writable");t.inherits(c,n);for(var a=r(s.prototype),l=0;l<a.length;l++){var d=a[l];c.prototype[d]||(c.prototype[d]=s.prototype[d])}function c(e){if(!(this instanceof c))return new c(e);n.call(this,e),s.call(this,e),e&&!1===e.readable&&(this.readable=!1),e&&!1===e.writable&&(this.writable=!1),this.allowHalfOpen=!0,e&&!1===e.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||o.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(c.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&this._readableState.destroyed&&this._writableState.destroyed},set:function(e){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}),c.prototype._destroy=function(e,t){this.push(null),this.end(),o.nextTick(t,e)}},{"./_stream_readable":101,"./_stream_writable":103,"core-util-is":42,inherits:85,"process-nextick-args":91}],100:[function(e,t,i){"use strict";t.exports=r;var o=e("./_stream_transform");function r(e){if(!(this instanceof r))return new r(e);o.call(this,e)}(t=e("core-util-is")).inherits=e("inherits"),t.inherits(r,o),r.prototype._transform=function(e,t,i){i(null,e)}},{"./_stream_transform":102,"core-util-is":42,inherits:85}],101:[function(e,t,o){(function(i,o){"use strict";var r=e("process-nextick-args");t.exports=m;var n,s=e("isarray");function a(e,t){return e.listeners(t).length}m.ReadableState=g,e("events").EventEmitter;var l=e("./internal/streams/stream"),d=e("safe-buffer").Buffer,c=o.Uint8Array||function(){},u=e("core-util-is");u.inherits=e("inherits"),o=e("util");var h,p=void 0,f=(p=o&&o.debuglog?o.debuglog("stream"):function(){},e("./internal/streams/BufferList"));o=e("./internal/streams/destroy"),u.inherits(m,l);var b=["error","close","destroy","pause","resume"];function g(t,i){t=t||{};var o=i instanceof(n=n||e("./_stream_duplex"));this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var r=t.highWaterMark,s=t.readableHighWaterMark;i=this.objectMode?16:16384,this.highWaterMark=r||0===r?r:o&&(s||0===s)?s:i,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new f,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(h=h||e("string_decoder/").StringDecoder,this.decoder=new h(t.encoding),this.encoding=t.encoding)}function m(t){if(n=n||e("./_stream_duplex"),!(this instanceof m))return new m(t);this._readableState=new g(t,this),this.readable=!0,t&&("function"==typeof t.read&&(this._read=t.read),"function"==typeof t.destroy&&(this._destroy=t.destroy)),l.call(this)}function y(e,t,i,o,r){var n,s,a,l,u=e._readableState;return null===t?(u.reading=!1,s=e,(a=u).ended||(!a.decoder||(l=a.decoder.end())&&l.length&&(a.buffer.push(l),a.length+=a.objectMode?1:l.length),a.ended=!0,x(s))):(r||(n=function(e,t){var i;return function(e){return d.isBuffer(e)||e instanceof c}(t)||"string"==typeof t||void 0===t||e.objectMode||(i=new TypeError("Invalid non-string/buffer chunk")),i}(u,t)),n?e.emit("error",n):u.objectMode||t&&0<t.length?("string"==typeof t||u.objectMode||Object.getPrototypeOf(t)===d.prototype||(n=t,t=d.from(n)),o?u.endEmitted?e.emit("error",new Error("stream.unshift() after end event")):v(e,u,t,!0):u.ended?e.emit("error",new Error("stream.push() after EOF")):(u.reading=!1,u.decoder&&!i?(t=u.decoder.write(t),u.objectMode||0!==t.length?v(e,u,t,!1):S(e,u)):v(e,u,t,!1))):o||(u.reading=!1)),!u.ended&&(u.needReadable||u.length<u.highWaterMark||0===u.length)}function v(e,t,i,o){t.flowing&&0===t.length&&!t.sync?(e.emit("data",i),e.read(0)):(t.length+=t.objectMode?1:i.length,o?t.buffer.unshift(i):t.buffer.push(i),t.needReadable&&x(e)),S(e,t)}Object.defineProperty(m.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}}),m.prototype.destroy=o.destroy,m.prototype._undestroy=o.undestroy,m.prototype._destroy=function(e,t){this.push(null),t(e)},m.prototype.push=function(e,t){var i,o=this._readableState;return o.objectMode?i=!0:"string"==typeof e&&((t=t||o.defaultEncoding)!==o.encoding&&(e=d.from(e,t),t=""),i=!0),y(this,e,t,!1,i)},m.prototype.unshift=function(e){return y(this,e,null,!0,!1)},m.prototype.isPaused=function(){return!1===this._readableState.flowing},m.prototype.setEncoding=function(t){return h=h||e("string_decoder/").StringDecoder,this._readableState.decoder=new h(t),this._readableState.encoding=t,this};var _=8388608;function w(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:e!=e?(t.flowing&&t.length?t.buffer.head.data:t).length:(e>t.highWaterMark&&(t.highWaterMark=(_<=(i=e)?i=_:(i--,i|=i>>>1,i|=i>>>2,i|=i>>>4,i|=i>>>8,i|=i>>>16,i++),i)),e<=t.length?e:t.ended?t.length:(t.needReadable=!0,0));var i}function x(e){var t=e._readableState;t.needReadable=!1,t.emittedReadable||(p("emitReadable",t.flowing),t.emittedReadable=!0,t.sync?r.nextTick(C,e):C(e))}function C(e){p("emit readable"),e.emit("readable"),I(e)}function S(e,t){t.readingMore||(t.readingMore=!0,r.nextTick(O,e,t))}function O(e,t){for(var i=t.length;!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark&&(p("maybeReadMore read 0"),e.read(0),i!==t.length);)i=t.length;t.readingMore=!1}function k(e){p("readable nexttick read 0"),e.read(0)}function E(e,t){t.reading||(p("resume read 0"),e.read(0)),t.resumeScheduled=!1,t.awaitDrain=0,e.emit("resume"),I(e),t.flowing&&!t.reading&&e.read(0)}function I(e){var t=e._readableState;for(p("flow",t.flowing);t.flowing&&null!==e.read(););}function T(e,t){return 0===t.length?null:(t.objectMode?i=t.buffer.shift():!e||e>=t.length?(i=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.head.data:t.buffer.concat(t.length),t.buffer.clear()):i=function(e,t,i){var o;return e<t.head.data.length?(o=t.head.data.slice(0,e),t.head.data=t.head.data.slice(e)):o=e===t.head.data.length?t.shift():(i?function(e,t){var i=t.head,o=1,r=i.data;for(e-=r.length;i=i.next;){var n=i.data,s=e>n.length?n.length:e;if(s===n.length?r+=n:r+=n.slice(0,e),0==(e-=s)){s===n.length?(++o,i.next?t.head=i.next:t.head=t.tail=null):(t.head=i).data=n.slice(s);break}++o}return t.length-=o,r}:function(e,t){var i=d.allocUnsafe(e),o=t.head,r=1;for(o.data.copy(i),e-=o.data.length;o=o.next;){var n=o.data,s=e>n.length?n.length:e;if(n.copy(i,i.length-e,0,s),0==(e-=s)){s===n.length?(++r,o.next?t.head=o.next:t.head=t.tail=null):(t.head=o).data=n.slice(s);break}++r}return t.length-=r,i})(e,t),o}(e,t.buffer,t.decoder),i);var i}function M(e){var t=e._readableState;if(0<t.length)throw new Error('"endReadable()" called on non-empty stream');t.endEmitted||(t.ended=!0,r.nextTick(B,t,e))}function B(e,t){e.endEmitted||0!==e.length||(e.endEmitted=!0,t.readable=!1,t.emit("end"))}function D(e,t){for(var i=0,o=e.length;i<o;i++)if(e[i]===t)return i;return-1}m.prototype.read=function(e){p("read",e),e=parseInt(e,10);var t=this._readableState,i=e;if(0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&(t.length>=t.highWaterMark||t.ended))return p("read: emitReadable",t.length,t.ended),(0===t.length&&t.ended?M:x)(this),null;if(0===(e=w(e,t))&&t.ended)return 0===t.length&&M(this),null;var o=t.needReadable;return p("need readable",o),(0===t.length||t.length-e<t.highWaterMark)&&p("length less than watermark",o=!0),t.ended||t.reading?p("reading or ended",o=!1):o&&(p("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0),this._read(t.highWaterMark),t.sync=!1,t.reading||(e=w(i,t))),null===(o=0<e?T(e,t):null)?(t.needReadable=!0,e=0):t.length-=e,0===t.length&&(t.ended||(t.needReadable=!0),i!==e&&t.ended&&M(this)),null!==o&&this.emit("data",o),o},m.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))},m.prototype.pipe=function(e,t){var o=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=e;break;case 1:n.pipes=[n.pipes,e];break;default:n.pipes.push(e)}n.pipesCount+=1,p("pipe count=%d opts=%j",n.pipesCount,t);var l=t&&!1===t.end||e===i.stdout||e===i.stderr?w:c;function d(t,i){p("onunpipe"),t===o&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,p("cleanup"),e.removeListener("close",v),e.removeListener("finish",_),e.removeListener("drain",h),e.removeListener("error",y),e.removeListener("unpipe",d),o.removeListener("end",c),o.removeListener("end",w),o.removeListener("data",m),b=!0,!n.awaitDrain||e._writableState&&!e._writableState.needDrain||h())}function c(){p("onend"),e.end()}n.endEmitted?r.nextTick(l):o.once("end",l),e.on("unpipe",d);var u,h=(u=o,function(){var e=u._readableState;p("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&a(u,"data")&&(e.flowing=!0,I(u))});e.on("drain",h);var f,b=!1,g=!1;function m(t){p("ondata"),(g=!1)!==e.write(t)||g||((1===n.pipesCount&&n.pipes===e||1<n.pipesCount&&-1!==D(n.pipes,e))&&!b&&(p("false write response, pause",o._readableState.awaitDrain),o._readableState.awaitDrain++,g=!0),o.pause())}function y(t){p("onerror",t),w(),e.removeListener("error",y),0===a(e,"error")&&e.emit("error",t)}function v(){e.removeListener("finish",_),w()}function _(){p("onfinish"),e.removeListener("close",v),w()}function w(){p("unpipe"),o.unpipe(e)}return o.on("data",m),f="error",t=y,"function"==typeof(l=e).prependListener?l.prependListener(f,t):l._events&&l._events[f]?s(l._events[f])?l._events[f].unshift(t):l._events[f]=[t,l._events[f]]:l.on(f,t),e.once("close",v),e.once("finish",_),e.emit("pipe",o),n.flowing||(p("pipe resume"),o.resume()),e},m.prototype.unpipe=function(e){var t=this._readableState,i={hasUnpiped:!1};if(0===t.pipesCount)return this;if(1===t.pipesCount)return e&&e!==t.pipes||(e=e||t.pipes,t.pipes=null,t.pipesCount=0,t.flowing=!1,e&&e.emit("unpipe",this,i)),this;if(!e){var o=t.pipes,r=t.pipesCount;t.pipes=null,t.pipesCount=0,t.flowing=!1;for(var n=0;n<r;n++)o[n].emit("unpipe",this,i);return this}var s=D(t.pipes,e);return-1===s||(t.pipes.splice(s,1),--t.pipesCount,1===t.pipesCount&&(t.pipes=t.pipes[0]),e.emit("unpipe",this,i)),this},m.prototype.addListener=m.prototype.on=function(e,t){return t=l.prototype.on.call(this,e,t),"data"===e?!1!==this._readableState.flowing&&this.resume():"readable"===e&&((e=this._readableState).endEmitted||e.readableListening||(e.readableListening=e.needReadable=!0,e.emittedReadable=!1,e.reading?e.length&&x(this):r.nextTick(k,this))),t},m.prototype.resume=function(){var e,t=this._readableState;return t.flowing||(p("resume"),t.flowing=!0,e=this,t.resumeScheduled||(t.resumeScheduled=!0,r.nextTick(E,e,t))),this},m.prototype.pause=function(){return p("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(p("pause"),this._readableState.flowing=!1,this.emit("pause")),this},m.prototype.wrap=function(e){var t,i=this,o=this._readableState,r=!1;for(t in e.on("end",(function(){var e;p("wrapped end"),!o.decoder||o.ended||(e=o.decoder.end())&&e.length&&i.push(e),i.push(null)})),e.on("data",(function(t){p("wrapped data"),o.decoder&&(t=o.decoder.write(t)),o.objectMode&&null==t||(o.objectMode||t&&t.length)&&(i.push(t)||(r=!0,e.pause()))})),e)void 0===this[t]&&"function"==typeof e[t]&&(this[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t));for(var n=0;n<b.length;n++)e.on(b[n],this.emit.bind(this,b[n]));return this._read=function(t){p("wrapped _read",t),r&&(r=!1,e.resume())},this},Object.defineProperty(m.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),m._fromList=T}).call(this,e("_process"),void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":99,"./internal/streams/BufferList":104,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:92,"core-util-is":42,events:48,inherits:85,isarray:87,"process-nextick-args":91,"safe-buffer":111,"string_decoder/":114,util:40}],102:[function(e,t,i){"use strict";t.exports=r;var o=e("./_stream_duplex");function r(e){if(!(this instanceof r))return new r(e);o.call(this,e),this._transformState={afterTransform:function(e,t){var i=this._transformState;i.transforming=!1;var o=i.writecb;if(!o)return this.emit("error",new Error("write callback called multiple times"));i.writechunk=null,(i.writecb=null)!=t&&this.push(t),o(e),(e=this._readableState).reading=!1,(e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,e&&("function"==typeof e.transform&&(this._transform=e.transform),"function"==typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",n)}function n(){var e=this;"function"==typeof this._flush?this._flush((function(t,i){s(e,t,i)})):s(this,null,null)}function s(e,t,i){if(t)return e.emit("error",t);if(null!=i&&e.push(i),e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}(t=e("core-util-is")).inherits=e("inherits"),t.inherits(r,o),r.prototype.push=function(e,t){return this._transformState.needTransform=!1,o.prototype.push.call(this,e,t)},r.prototype._transform=function(e,t,i){throw new Error("_transform() is not implemented")},r.prototype._write=function(e,t,i){var o=this._transformState;o.writecb=i,o.writechunk=e,o.writeencoding=t,o.transforming||(t=this._readableState,(o.needTransform||t.needReadable||t.length<t.highWaterMark)&&this._read(t.highWaterMark))},r.prototype._read=function(e){var t=this._transformState;null!==t.writechunk&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},r.prototype._destroy=function(e,t){var i=this;o.prototype._destroy.call(this,e,(function(e){t(e),i.emit("close")}))}},{"./_stream_duplex":99,"core-util-is":42,inherits:85}],103:[function(e,t,o){(function(i,o,r){"use strict";var n=e("process-nextick-args");function s(e){var t=this;this.next=null,this.entry=null,this.finish=function(){!function(e,t,i){var o=e.entry;for(e.entry=null;o;){var r=o.callback;t.pendingcb--,r(i),o=o.next}t.corkedRequestsFree?t.corkedRequestsFree.next=e:t.corkedRequestsFree=e}(t,e)}}t.exports=g;var a,l=!i.browser&&-1<["v0.10","v0.9."].indexOf(i.version.slice(0,5))?r:n.nextTick;g.WritableState=b,(r=e("core-util-is")).inherits=e("inherits");var d,c={deprecate:e("util-deprecate")},u=e("./internal/streams/stream"),h=e("safe-buffer").Buffer,p=o.Uint8Array||function(){};function f(){}function b(t,i){a=a||e("./_stream_duplex"),t=t||{};var o=i instanceof a;this.objectMode=!!t.objectMode,o&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var r=t.highWaterMark,d=t.writableHighWaterMark,c=this.objectMode?16:16384;this.highWaterMark=r||0===r?r:o&&(d||0===d)?d:c,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,c=(this.destroyed=!1)===t.decodeStrings,this.decodeStrings=!c,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(e){var t,o,r,s;o=e,s=(r=(t=i)._writableState).sync,e=r.writecb,function(e){e.writing=!1,e.writecb=null,e.length-=e.writelen,e.writelen=0}(r),o?function(e,t,i,o,r){--t.pendingcb,i?(n.nextTick(r,o),n.nextTick(x,e,t),e._writableState.errorEmitted=!0,e.emit("error",o)):(r(o),e._writableState.errorEmitted=!0,e.emit("error",o),x(e,t))}(t,r,s,o,e):((o=_(r))||r.corked||r.bufferProcessing||!r.bufferedRequest||v(t,r),s?l(y,t,r,o,e):y(t,r,o,e))},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new s(this)}function g(t){if(a=a||e("./_stream_duplex"),!(d.call(g,this)||this instanceof a))return new g(t);this._writableState=new b(t,this),this.writable=!0,t&&("function"==typeof t.write&&(this._write=t.write),"function"==typeof t.writev&&(this._writev=t.writev),"function"==typeof t.destroy&&(this._destroy=t.destroy),"function"==typeof t.final&&(this._final=t.final)),u.call(this)}function m(e,t,i,o,r,n,s){t.writelen=o,t.writecb=s,t.writing=!0,t.sync=!0,i?e._writev(r,t.onwrite):e._write(r,n,t.onwrite),t.sync=!1}function y(e,t,i,o){var r;i||(r=e,0===(i=t).length&&i.needDrain&&(i.needDrain=!1,r.emit("drain"))),t.pendingcb--,o(),x(e,t)}function v(e,t){t.bufferProcessing=!0;var i=t.bufferedRequest;if(e._writev&&i&&i.next){var o=t.bufferedRequestCount,r=new Array(o);(o=t.corkedRequestsFree).entry=i;for(var n=0,a=!0;i;)(r[n]=i).isBuf||(a=!1),i=i.next,n+=1;r.allBuffers=a,m(e,t,!0,t.length,r,"",o.finish),t.pendingcb++,t.lastBufferedRequest=null,o.next?(t.corkedRequestsFree=o.next,o.next=null):t.corkedRequestsFree=new s(t),t.bufferedRequestCount=0}else{for(;i;){var l=i.chunk,d=i.encoding,c=i.callback;if(m(e,t,!1,t.objectMode?1:l.length,l,d,c),i=i.next,t.bufferedRequestCount--,t.writing)break}null===i&&(t.lastBufferedRequest=null)}t.bufferedRequest=i,t.bufferProcessing=!1}function _(e){return e.ending&&0===e.length&&null===e.bufferedRequest&&!e.finished&&!e.writing}function w(e,t){e._final((function(i){t.pendingcb--,i&&e.emit("error",i),t.prefinished=!0,e.emit("prefinish"),x(e,t)}))}function x(e,t){var i,o,r=_(t);return r&&(i=e,(o=t).prefinished||o.finalCalled||("function"==typeof i._final?(o.pendingcb++,o.finalCalled=!0,n.nextTick(w,i,o)):(o.prefinished=!0,i.emit("prefinish"))),0===t.pendingcb&&(t.finished=!0,e.emit("finish"))),r}o=e("./internal/streams/destroy"),r.inherits(g,u),b.prototype.getBuffer=function(){for(var e=this.bufferedRequest,t=[];e;)t.push(e),e=e.next;return t},function(){try{Object.defineProperty(b.prototype,"buffer",{get:c.deprecate((function(){return this.getBuffer()}),"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(e){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(d=Function.prototype[Symbol.hasInstance],Object.defineProperty(g,Symbol.hasInstance,{value:function(e){return!!d.call(this,e)||this===g&&e&&e._writableState instanceof b}})):d=function(e){return e instanceof this},g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(e,t,i){var o,r,s,a,l,d,c=this._writableState,u=!1,b=!c.objectMode&&(r=e,h.isBuffer(r)||r instanceof p);return b&&!h.isBuffer(e)&&(s=e,e=h.from(s)),"function"==typeof t&&(i=t,t=null),t=b?"buffer":t||c.defaultEncoding,"function"!=typeof i&&(i=f),c.ended?(a=this,l=i,d=new Error("write after end"),a.emit("error",d),n.nextTick(l,d)):(b||(o=this,r=c,s=i,l=!(a=!0),null===(d=e)?l=new TypeError("May not write null values to stream"):"string"==typeof d||void 0===d||r.objectMode||(l=new TypeError("Invalid non-string/buffer chunk")),l&&(o.emit("error",l),n.nextTick(s,l),a=!1),a))&&(c.pendingcb++,u=function(e,t,i,o,r,n){i||(a=function(e,t,i){return e.objectMode||!1===e.decodeStrings||"string"!=typeof t||(t=h.from(t,i)),t}(t,o,r),o!==a&&(i=!0,r="buffer",o=a));var s=t.objectMode?1:o.length;t.length+=s;var a,l=t.length<t.highWaterMark;return l||(t.needDrain=!0),t.writing||t.corked?(a=t.lastBufferedRequest,t.lastBufferedRequest={chunk:o,encoding:r,isBuf:i,callback:n,next:null},a?a.next=t.lastBufferedRequest:t.bufferedRequest=t.lastBufferedRequest,t.bufferedRequestCount+=1):m(e,t,!1,s,o,r,n),l}(this,c,b,e,t,i)),u},g.prototype.cork=function(){this._writableState.corked++},g.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||e.corked||e.finished||e.bufferProcessing||!e.bufferedRequest||v(this,e))},g.prototype.setDefaultEncoding=function(e){if("string"==typeof e&&(e=e.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((e+"").toLowerCase())))throw new TypeError("Unknown encoding: "+e);return this._writableState.defaultEncoding=e,this},Object.defineProperty(g.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),g.prototype._write=function(e,t,i){i(new Error("_write() is not implemented"))},g.prototype._writev=null,g.prototype.end=function(e,t,i){var o=this._writableState;"function"==typeof e?(i=e,t=e=null):"function"==typeof t&&(i=t,t=null),null!=e&&this.write(e,t),o.corked&&(o.corked=1,this.uncork()),o.ending||o.finished||(t=this,o.ending=!0,x(t,o),i&&(o.finished?n.nextTick(i):t.once("finish",i)),o.ended=!0,t.writable=!1)},Object.defineProperty(g.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}}),g.prototype.destroy=o.destroy,g.prototype._undestroy=o.undestroy,g.prototype._destroy=function(e,t){this.end(),t(e)}}).call(this,e("_process"),void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},e("timers").setImmediate)},{"./_stream_duplex":99,"./internal/streams/destroy":105,"./internal/streams/stream":106,_process:92,"core-util-is":42,inherits:85,"process-nextick-args":91,"safe-buffer":111,timers:115,"util-deprecate":116}],104:[function(e,t,i){"use strict";var o=e("safe-buffer").Buffer,r=e("util");function n(){!function(e){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this),this.head=null,this.tail=null,this.length=0}t.exports=(n.prototype.push=function(e){e={data:e,next:null},0<this.length?this.tail.next=e:this.head=e,this.tail=e,++this.length},n.prototype.unshift=function(e){e={data:e,next:this.head},0===this.length&&(this.tail=e),this.head=e,++this.length},n.prototype.shift=function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(e){if(0===this.length)return"";for(var t=this.head,i=""+t.data;t=t.next;)i+=e+t.data;return i},n.prototype.concat=function(e){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var t,i,r=o.allocUnsafe(e>>>0),n=this.head,s=0;n;)t=r,i=s,n.data.copy(t,i),s+=n.data.length,n=n.next;return r},n),r&&r.inspect&&r.inspect.custom&&(t.exports.prototype[r.inspect.custom]=function(){var e=r.inspect({length:this.length});return this.constructor.name+" "+e})},{"safe-buffer":111,util:40}],105:[function(e,t,i){"use strict";var o=e("process-nextick-args");function r(e,t){e.emit("error",t)}t.exports={destroy:function(e,t){var i=this,n=this._readableState&&this._readableState.destroyed,s=this._writableState&&this._writableState.destroyed;return n||s?t?t(e):!e||this._writableState&&this._writableState.errorEmitted||o.nextTick(r,this,e):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(e||null,(function(e){!t&&e?(o.nextTick(r,i,e),i._writableState&&(i._writableState.errorEmitted=!0)):t&&t(e)}))),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":91}],106:[function(e,t,i){t.exports=e("events").EventEmitter},{events:48}],107:[function(e,t,i){t.exports=e("./readable").PassThrough},{"./readable":108}],108:[function(e,t,i){(((i=t.exports=e("./lib/_stream_readable.js")).Stream=i).Readable=i).Writable=e("./lib/_stream_writable.js"),i.Duplex=e("./lib/_stream_duplex.js"),i.Transform=e("./lib/_stream_transform.js"),i.PassThrough=e("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":99,"./lib/_stream_passthrough.js":100,"./lib/_stream_readable.js":101,"./lib/_stream_transform.js":102,"./lib/_stream_writable.js":103}],109:[function(e,t,i){t.exports=e("./readable").Transform},{"./readable":108}],110:[function(e,t,i){t.exports=e("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":103}],111:[function(e,t,i){var o=e("buffer"),r=o.Buffer;function n(e,t){for(var i in e)t[i]=e[i]}function s(e,t,i){return r(e,t,i)}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?t.exports=o:(n(o,i),i.Buffer=s),n(r,s),s.from=function(e,t,i){if("number"==typeof e)throw new TypeError("Argument must not be a number");return r(e,t,i)},s.alloc=function(e,t,i){if("number"!=typeof e)throw new TypeError("Argument must be a number");return e=r(e),void 0!==t?"string"==typeof i?e.fill(t,i):e.fill(t):e.fill(0),e},s.allocUnsafe=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return r(e)},s.allocUnsafeSlow=function(e){if("number"!=typeof e)throw new TypeError("Argument must be a number");return o.SlowBuffer(e)}},{buffer:41}],112:[function(e,t,i){(function(t){!function(i){i.parser=function(e,t){return new n(e,t)},i.SAXParser=n,i.SAXStream=a,i.createStream=function(e,t){return new a(e,t)},i.MAX_BUFFER_LENGTH=65536;var o,r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function n(e,t){if(!(this instanceof n))return new n(e,t);var o=this;!function(e){for(var t=0,i=r.length;t<i;t++)e[r[t]]=""}(o),o.q=o.c="",o.bufferCheckPosition=i.MAX_BUFFER_LENGTH,o.opt=t||{},o.opt.lowercase=o.opt.lowercase||o.opt.lowercasetags,o.looseCase=o.opt.lowercase?"toLowerCase":"toUpperCase",o.tags=[],o.closed=o.closedRoot=o.sawRoot=!1,o.tag=o.error=null,o.strict=!!e,o.noscript=!(!e&&!o.opt.noscript),o.state=C.BEGIN,o.strictEntities=o.opt.strictEntities,o.ENTITIES=o.strictEntities?Object.create(i.XML_ENTITIES):Object.create(i.ENTITIES),o.attribList=[],o.opt.xmlns&&(o.ns=Object.create(h)),o.trackPosition=!1!==o.opt.position,o.trackPosition&&(o.position=o.line=o.column=0),S(o,"onready")}i.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t,i=[];for(t in e)e.hasOwnProperty(t)&&i.push(t);return i}),n.prototype={end:function(){T(this)},write:function(e){var t=this;if(this.error)throw this.error;if(t.closed)return I(t,"Cannot write after close. Assign an onready handler.");if(null===e)return T(t);"object"==typeof e&&(e=e.toString());for(var o,n,s=0,a="";a=F(e,s++),t.c=a;)switch(t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++),t.state){case C.BEGIN:if(t.state=C.BEGIN_WHITESPACE,"\ufeff"===a)continue;A(t,a);continue;case C.BEGIN_WHITESPACE:A(t,a);continue;case C.TEXT:if(t.sawRoot&&!t.closedRoot){for(var c=s-1;a&&"<"!==a&&"&"!==a;)(a=F(e,s++))&&t.trackPosition&&(t.position++,"\n"===a?(t.line++,t.column=0):t.column++);t.textNode+=e.substring(c,s-1)}"<"!==a||t.sawRoot&&t.closedRoot&&!t.strict?(m(a)||t.sawRoot&&!t.closedRoot||M(t,"Text data outside of root node."),"&"===a?t.state=C.TEXT_ENTITY:t.textNode+=a):(t.state=C.OPEN_WAKA,t.startTagPosition=t.position);continue;case C.SCRIPT:"<"===a?t.state=C.SCRIPT_ENDING:t.script+=a;continue;case C.SCRIPT_ENDING:"/"===a?t.state=C.CLOSE_TAG:(t.script+="<"+a,t.state=C.SCRIPT);continue;case C.OPEN_WAKA:"!"===a?(t.state=C.SGML_DECL,t.sgmlDecl=""):m(a)||(v(p,a)?(t.state=C.OPEN_TAG,t.tagName=a):"/"===a?(t.state=C.CLOSE_TAG,t.tagName=""):"?"===a?(t.state=C.PROC_INST,t.procInstName=t.procInstBody=""):(M(t,"Unencoded <"),t.startTagPosition+1<t.position&&(c=t.position-t.startTagPosition,a=new Array(c).join(" ")+a),t.textNode+="<"+a,t.state=C.TEXT));continue;case C.SGML_DECL:(t.sgmlDecl+a).toUpperCase()===l?(O(t,"onopencdata"),t.state=C.CDATA,t.sgmlDecl="",t.cdata=""):t.sgmlDecl+a==="--"?(t.state=C.COMMENT,t.comment="",t.sgmlDecl=""):(t.sgmlDecl+a).toUpperCase()===d?(t.state=C.DOCTYPE,(t.doctype||t.sawRoot)&&M(t,"Inappropriately located doctype declaration"),t.doctype="",t.sgmlDecl=""):">"===a?(O(t,"onsgmldeclaration",t.sgmlDecl),t.sgmlDecl="",t.state=C.TEXT):(y(a)&&(t.state=C.SGML_DECL_QUOTED),t.sgmlDecl+=a);continue;case C.SGML_DECL_QUOTED:a===t.q&&(t.state=C.SGML_DECL,t.q=""),t.sgmlDecl+=a;continue;case C.DOCTYPE:">"===a?(t.state=C.TEXT,O(t,"ondoctype",t.doctype),t.doctype=!0):(t.doctype+=a,"["===a?t.state=C.DOCTYPE_DTD:y(a)&&(t.state=C.DOCTYPE_QUOTED,t.q=a));continue;case C.DOCTYPE_QUOTED:t.doctype+=a,a===t.q&&(t.q="",t.state=C.DOCTYPE);continue;case C.DOCTYPE_DTD:t.doctype+=a,"]"===a?t.state=C.DOCTYPE:y(a)&&(t.state=C.DOCTYPE_DTD_QUOTED,t.q=a);continue;case C.DOCTYPE_DTD_QUOTED:t.doctype+=a,a===t.q&&(t.state=C.DOCTYPE_DTD,t.q="");continue;case C.COMMENT:"-"===a?t.state=C.COMMENT_ENDING:t.comment+=a;continue;case C.COMMENT_ENDING:"-"===a?(t.state=C.COMMENT_ENDED,t.comment=E(t.opt,t.comment),t.comment&&O(t,"oncomment",t.comment),t.comment=""):(t.comment+="-"+a,t.state=C.COMMENT);continue;case C.COMMENT_ENDED:">"!==a?(M(t,"Malformed comment"),t.comment+="--"+a,t.state=C.COMMENT):t.state=C.TEXT;continue;case C.CDATA:"]"===a?t.state=C.CDATA_ENDING:t.cdata+=a;continue;case C.CDATA_ENDING:"]"===a?t.state=C.CDATA_ENDING_2:(t.cdata+="]"+a,t.state=C.CDATA);continue;case C.CDATA_ENDING_2:">"===a?(t.cdata&&O(t,"oncdata",t.cdata),O(t,"onclosecdata"),t.cdata="",t.state=C.TEXT):"]"===a?t.cdata+="]":(t.cdata+="]]"+a,t.state=C.CDATA);continue;case C.PROC_INST:"?"===a?t.state=C.PROC_INST_ENDING:m(a)?t.state=C.PROC_INST_BODY:t.procInstName+=a;continue;case C.PROC_INST_BODY:if(!t.procInstBody&&m(a))continue;"?"===a?t.state=C.PROC_INST_ENDING:t.procInstBody+=a;continue;case C.PROC_INST_ENDING:">"===a?(O(t,"onprocessinginstruction",{name:t.procInstName,body:t.procInstBody}),t.procInstName=t.procInstBody="",t.state=C.TEXT):(t.procInstBody+="?"+a,t.state=C.PROC_INST_BODY);continue;case C.OPEN_TAG:v(f,a)?t.tagName+=a:(function(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,i=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(i.ns=t.ns),e.attribList.length=0,O(e,"onopentagstart",i)}(t),">"===a?P(t):"/"===a?t.state=C.OPEN_TAG_SLASH:(m(a)||M(t,"Invalid character in tag name"),t.state=C.ATTRIB));continue;case C.OPEN_TAG_SLASH:">"===a?(P(t,!0),L(t)):(M(t,"Forward-slash in opening tag not followed by >"),t.state=C.ATTRIB);continue;case C.ATTRIB:if(m(a))continue;">"===a?P(t):"/"===a?t.state=C.OPEN_TAG_SLASH:v(p,a)?(t.attribName=a,t.attribValue="",t.state=C.ATTRIB_NAME):M(t,"Invalid attribute name");continue;case C.ATTRIB_NAME:"="===a?t.state=C.ATTRIB_VALUE:">"===a?(M(t,"Attribute without value"),t.attribValue=t.attribName,D(t),P(t)):m(a)?t.state=C.ATTRIB_NAME_SAW_WHITE:v(f,a)?t.attribName+=a:M(t,"Invalid attribute name");continue;case C.ATTRIB_NAME_SAW_WHITE:if("="===a)t.state=C.ATTRIB_VALUE;else{if(m(a))continue;M(t,"Attribute without value"),t.tag.attributes[t.attribName]="",t.attribValue="",O(t,"onattribute",{name:t.attribName,value:""}),t.attribName="",">"===a?P(t):v(p,a)?(t.attribName=a,t.state=C.ATTRIB_NAME):(M(t,"Invalid attribute name"),t.state=C.ATTRIB)}continue;case C.ATTRIB_VALUE:if(m(a))continue;y(a)?(t.q=a,t.state=C.ATTRIB_VALUE_QUOTED):(M(t,"Unquoted attribute value"),t.state=C.ATTRIB_VALUE_UNQUOTED,t.attribValue=a);continue;case C.ATTRIB_VALUE_QUOTED:if(a!==t.q){"&"===a?t.state=C.ATTRIB_VALUE_ENTITY_Q:t.attribValue+=a;continue}D(t),t.q="",t.state=C.ATTRIB_VALUE_CLOSED;continue;case C.ATTRIB_VALUE_CLOSED:m(a)?t.state=C.ATTRIB:">"===a?P(t):"/"===a?t.state=C.OPEN_TAG_SLASH:v(p,a)?(M(t,"No whitespace between attributes"),t.attribName=a,t.attribValue="",t.state=C.ATTRIB_NAME):M(t,"Invalid attribute name");continue;case C.ATTRIB_VALUE_UNQUOTED:if(!function(e){return">"===e||m(e)}(a)){"&"===a?t.state=C.ATTRIB_VALUE_ENTITY_U:t.attribValue+=a;continue}D(t),">"===a?P(t):t.state=C.ATTRIB;continue;case C.CLOSE_TAG:if(t.tagName)">"===a?L(t):v(f,a)?t.tagName+=a:t.script?(t.script+="</"+t.tagName,t.tagName="",t.state=C.SCRIPT):(m(a)||M(t,"Invalid tagname in closing tag"),t.state=C.CLOSE_TAG_SAW_WHITE);else{if(m(a))continue;!function(e,t){return!v(e,t)}(p,a)?t.tagName=a:t.script?(t.script+="</"+a,t.state=C.SCRIPT):M(t,"Invalid tagname in closing tag.")}continue;case C.CLOSE_TAG_SAW_WHITE:if(m(a))continue;">"===a?L(t):M(t,"Invalid characters in closing tag");continue;case C.TEXT_ENTITY:case C.ATTRIB_VALUE_ENTITY_Q:case C.ATTRIB_VALUE_ENTITY_U:switch(t.state){case C.TEXT_ENTITY:o=C.TEXT,n="textNode";break;case C.ATTRIB_VALUE_ENTITY_Q:o=C.ATTRIB_VALUE_QUOTED,n="attribValue";break;case C.ATTRIB_VALUE_ENTITY_U:o=C.ATTRIB_VALUE_UNQUOTED,n="attribValue"}";"===a?(t[n]+=function(e){var t,i=e.entity,o=i.toLowerCase(),r="";return e.ENTITIES[i]?e.ENTITIES[i]:e.ENTITIES[o]?e.ENTITIES[o]:("#"===(i=o).charAt(0)&&(r="x"===i.charAt(1)?(i=i.slice(2),(t=parseInt(i,16)).toString(16)):(i=i.slice(1),(t=parseInt(i,10)).toString(10))),i=i.replace(/^0+/,""),isNaN(t)||r.toLowerCase()!==i?(M(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}(t),t.entity="",t.state=o):v(t.entity.length?g:b,a)?t.entity+=a:(M(t,"Invalid character in entity name"),t[n]+="&"+t.entity+a,t.entity="",t.state=o);continue;default:throw new Error(t,"Unknown state: "+t.state)}return t.position>=t.bufferCheckPosition&&function(e){for(var t=Math.max(i.MAX_BUFFER_LENGTH,10),o=0,n=0,s=r.length;n<s;n++){var a=e[r[n]].length;if(t<a)switch(r[n]){case"textNode":k(e);break;case"cdata":O(e,"oncdata",e.cdata),e.cdata="";break;case"script":O(e,"onscript",e.script),e.script="";break;default:I(e,"Max buffer length exceeded: "+r[n])}o=Math.max(o,a)}var l=i.MAX_BUFFER_LENGTH-o;e.bufferCheckPosition=l+e.position}(t),t},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;k(e=this),""!==e.cdata&&(O(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(O(e,"onscript",e.script),e.script="")}};try{o=e("stream").Stream}catch(_){o=function(){}}var s=i.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function a(e,t){if(!(this instanceof a))return new a(e,t);o.apply(this),this._parser=new n(e,t),this.writable=!0,this.readable=!0;var i=this;this._parser.onend=function(){i.emit("end")},this._parser.onerror=function(e){i.emit("error",e),i._parser.error=null},this._decoder=null,s.forEach((function(e){Object.defineProperty(i,"on"+e,{get:function(){return i._parser["on"+e]},set:function(t){if(!t)return i.removeAllListeners(e),i._parser["on"+e]=t;i.on(e,t)},enumerable:!0,configurable:!1})}))}(a.prototype=Object.create(o.prototype,{constructor:{value:a}})).write=function(i){var o;return"function"==typeof t&&"function"==typeof t.isBuffer&&t.isBuffer(i)&&(this._decoder||(o=e("string_decoder").StringDecoder,this._decoder=new o("utf8")),i=this._decoder.write(i)),this._parser.write(i.toString()),this.emit("data",i),!0},a.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},a.prototype.on=function(e,t){var i=this;return i._parser["on"+e]||-1===s.indexOf(e)||(i._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),i.emit.apply(i,t)}),o.prototype.on.call(i,e,t)};var l="[CDATA[",d="DOCTYPE",c="http://www.w3.org/XML/1998/namespace",u="http://www.w3.org/2000/xmlns/",h={xml:c,xmlns:u},p=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,g=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function m(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function y(e){return'"'===e||"'"===e}function v(e,t){return e.test(t)}var _,w,x,C=0;for(_ in i.STATE={BEGIN:C++,BEGIN_WHITESPACE:C++,TEXT:C++,TEXT_ENTITY:C++,OPEN_WAKA:C++,SGML_DECL:C++,SGML_DECL_QUOTED:C++,DOCTYPE:C++,DOCTYPE_QUOTED:C++,DOCTYPE_DTD:C++,DOCTYPE_DTD_QUOTED:C++,COMMENT_STARTING:C++,COMMENT:C++,COMMENT_ENDING:C++,COMMENT_ENDED:C++,CDATA:C++,CDATA_ENDING:C++,CDATA_ENDING_2:C++,PROC_INST:C++,PROC_INST_BODY:C++,PROC_INST_ENDING:C++,OPEN_TAG:C++,OPEN_TAG_SLASH:C++,ATTRIB:C++,ATTRIB_NAME:C++,ATTRIB_NAME_SAW_WHITE:C++,ATTRIB_VALUE:C++,ATTRIB_VALUE_QUOTED:C++,ATTRIB_VALUE_CLOSED:C++,ATTRIB_VALUE_UNQUOTED:C++,ATTRIB_VALUE_ENTITY_Q:C++,ATTRIB_VALUE_ENTITY_U:C++,CLOSE_TAG:C++,CLOSE_TAG_SAW_WHITE:C++,SCRIPT:C++,SCRIPT_ENDING:C++},i.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},i.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(i.ENTITIES).forEach((function(e){var t="number"==typeof(t=i.ENTITIES[e])?String.fromCharCode(t):t;i.ENTITIES[e]=t})),i.STATE)i.STATE[i.STATE[_]]=_;function S(e,t,i){e[t]&&e[t](i)}function O(e,t,i){e.textNode&&k(e),S(e,t,i)}function k(e){e.textNode=E(e.opt,e.textNode),e.textNode&&S(e,"ontext",e.textNode),e.textNode=""}function E(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function I(e,t){return k(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,S(e,"onerror",t),e}function T(e){return e.sawRoot&&!e.closedRoot&&M(e,"Unclosed root tag"),e.state!==C.BEGIN&&e.state!==C.BEGIN_WHITESPACE&&e.state!==C.TEXT&&I(e,"Unexpected end"),k(e),e.c="",e.closed=!0,S(e,"onend"),n.call(e,e.strict,e.opt),e}function M(e,t){if("object"!=typeof e||!(e instanceof n))throw new Error("bad call to strictFail");e.strict&&I(e,t)}function B(e,t){var i=(o=e.indexOf(":")<0?["",e]:e.split(":"))[0],o=o[1];return t&&"xmlns"===e&&(i="xmlns",o=""),{prefix:i,local:o}}function D(e){var t,i,o;e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName)||(e.opt.xmlns?(o=(i=B(e.attribName,!0)).prefix,t=i.local,"xmlns"===o&&("xml"===t&&e.attribValue!==c?M(e,"xml: prefix must be bound to "+c+"\nActual: "+e.attribValue):"xmlns"===t&&e.attribValue!==u?M(e,"xmlns: prefix must be bound to "+u+"\nActual: "+e.attribValue):(i=e.tag,o=e.tags[e.tags.length-1]||e,i.ns===o.ns&&(i.ns=Object.create(o.ns)),i.ns[t]=e.attribValue)),e.attribList.push([e.attribName,e.attribValue])):(e.tag.attributes[e.attribName]=e.attribValue,O(e,"onattribute",{name:e.attribName,value:e.attribValue}))),e.attribName=e.attribValue=""}function P(e,t){if(e.opt.xmlns){var i=e.tag,o=B(e.tagName);i.prefix=o.prefix,i.local=o.local,i.uri=i.ns[o.prefix]||"",i.prefix&&!i.uri&&(M(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),i.uri=o.prefix),o=e.tags[e.tags.length-1]||e,i.ns&&o.ns!==i.ns&&Object.keys(i.ns).forEach((function(t){O(e,"onopennamespace",{prefix:t,uri:i.ns[t]})}));for(var r=0,n=e.attribList.length;r<n;r++){var s,a=(c=e.attribList[r])[0],l=c[1],d=(s=B(a,!0)).prefix,c={name:a,value:l,prefix:d,local:c=s.local,uri:s=""!==d&&i.ns[d]||""};d&&"xmlns"!==d&&!s&&(M(e,"Unbound namespace prefix: "+JSON.stringify(d)),c.uri=d),e.tag.attributes[a]=c,O(e,"onattribute",c)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),O(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=C.TEXT:e.state=C.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function L(e){if(!e.tagName)return M(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=C.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=C.SCRIPT);O(e,"onscript",e.script),e.script=""}var t=e.tags.length,i=e.tagName;e.strict||(i=i[e.looseCase]());for(var o=i;t--&&e.tags[t].name!==o;)M(e,"Unexpected close tag");if(t<0)return M(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=C.TEXT);e.tagName=i;for(var r=e.tags.length;r-- >t;){var n=e.tag=e.tags.pop();e.tagName=e.tag.name,O(e,"onclosetag",e.tagName);var s,a={};for(s in n.ns)a[s]=n.ns[s];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&n.ns!==l.ns&&Object.keys(n.ns).forEach((function(t){var i=n.ns[t];O(e,"onclosenamespace",{prefix:t,uri:i})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=C.TEXT}function A(e,t){"<"===t?(e.state=C.OPEN_WAKA,e.startTagPosition=e.position):m(t)||(M(e,"Non-whitespace before first tag."),e.textNode=t,e.state=C.TEXT)}function F(e,t){var i="";return t<e.length&&(i=e.charAt(t)),i}function N(){var e,t=[],i=-1,o=arguments.length;if(!o)return"";for(var r="";++i<o;){var n=Number(arguments[i]);if(!isFinite(n)||n<0||1114111<n||x(n)!==n)throw RangeError("Invalid code point: "+n);n<=65535?t.push(n):(e=55296+((n-=65536)>>10),n=n%1024+56320,t.push(e,n)),(i+1===o||16384<t.length)&&(r+=w.apply(null,t),t.length=0)}return r}C=i.STATE,String.fromCodePoint||(w=String.fromCharCode,x=Math.floor,Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:N,configurable:!0,writable:!0}):String.fromCodePoint=N)}(void 0===i?this.sax={}:i)}).call(this,e("buffer").Buffer)},{buffer:41,stream:113,string_decoder:114}],113:[function(e,t,i){t.exports=r;var o=e("events").EventEmitter;function r(){o.call(this)}e("inherits")(r,o),r.Readable=e("readable-stream/readable.js"),r.Writable=e("readable-stream/writable.js"),r.Duplex=e("readable-stream/duplex.js"),r.Transform=e("readable-stream/transform.js"),r.PassThrough=e("readable-stream/passthrough.js"),(r.Stream=r).prototype.pipe=function(e,t){var i=this;function r(t){e.writable&&!1===e.write(t)&&i.pause&&i.pause()}function n(){i.readable&&i.resume&&i.resume()}i.on("data",r),e.on("drain",n),e._isStdio||t&&!1===t.end||(i.on("end",a),i.on("close",l));var s=!1;function a(){s||(s=!0,e.end())}function l(){s||(s=!0,"function"==typeof e.destroy&&e.destroy())}function d(e){if(c(),0===o.listenerCount(this,"error"))throw e}function c(){i.removeListener("data",r),e.removeListener("drain",n),i.removeListener("end",a),i.removeListener("close",l),i.removeListener("error",d),e.removeListener("error",d),i.removeListener("end",c),i.removeListener("close",c),e.removeListener("close",c)}return i.on("error",d),e.on("error",d),i.on("end",c),i.on("close",c),e.on("close",c),e.emit("pipe",i),e}},{events:48,inherits:85,"readable-stream/duplex.js":98,"readable-stream/passthrough.js":107,"readable-stream/readable.js":108,"readable-stream/transform.js":109,"readable-stream/writable.js":110}],114:[function(e,t,i){"use strict";var o=e("safe-buffer").Buffer,r=o.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!=typeof t&&(o.isEncoding===r||!r(e)))throw new Error("Unknown encoding: "+e);return t||e}function s(e){var t;switch(this.encoding=n(e),this.encoding){case"utf16le":this.text=d,this.end=c,t=4;break;case"utf8":this.fillLast=l,t=4;break;case"base64":this.text=u,this.end=h,t=3;break;default:return this.write=p,void(this.end=f)}this.lastNeed=0,this.lastTotal=0,this.lastChar=o.allocUnsafe(t)}function a(e){return e<=127?0:e>>5==6?2:e>>4==14?3:e>>3==30?4:e>>6==2?-1:-2}function l(e){var t,i,o=this.lastTotal-this.lastNeed;return void 0!==(i=this,i=128!=(192&(t=e)[0])?(i.lastNeed=0,"�"):1<i.lastNeed&&1<t.length?128!=(192&t[1])?(i.lastNeed=1,"�"):2<i.lastNeed&&2<t.length&&128!=(192&t[2])?(i.lastNeed=2,"�"):void 0:void 0)?i:this.lastNeed<=e.length?(e.copy(this.lastChar,o,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,o,0,e.length),void(this.lastNeed-=e.length))}function d(e,t){if((e.length-t)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1);var i=e.toString("utf16le",t);return i&&55296<=(t=i.charCodeAt(i.length-1))&&t<=56319?(this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],i.slice(0,-1)):i}function c(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?(e=this.lastTotal-this.lastNeed,t+this.lastChar.toString("utf16le",0,e)):t}function u(e,t){var i=(e.length-t)%3;return 0==i?e.toString("base64",t):(this.lastNeed=3-i,this.lastTotal=3,1==i?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-i))}function h(e){return e=e&&e.length?this.write(e):"",this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function p(e){return e.toString(this.encoding)}function f(e){return e&&e.length?this.write(e):""}(i.StringDecoder=s).prototype.write=function(e){if(0===e.length)return"";var t,i;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<e.length?t?t+this.text(e,i):this.text(e,i):t||""},s.prototype.end=function(e){return e=e&&e.length?this.write(e):"",this.lastNeed?e+"�":e},s.prototype.text=function(e,t){var i=function(e,t,i){var o=t.length-1;if(o<i)return 0;var r=a(t[o]);return 0<=r?(0<r&&(e.lastNeed=r-1),r):--o<i||-2===r?0:0<=(r=a(t[o]))?(0<r&&(e.lastNeed=r-2),r):--o<i||-2===r?0:0<=(r=a(t[o]))?(0<r&&(2===r?r=0:e.lastNeed=r-3),r):0}(this,e,t);return this.lastNeed?(this.lastTotal=i,i=e.length-(i-this.lastNeed),e.copy(this.lastChar,0,i),e.toString("utf8",t,i)):e.toString("utf8",t)},s.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},{"safe-buffer":111}],115:[function(e,t,i){(function(t,o){var r=e("process/browser.js").nextTick,n=Function.prototype.apply,s=Array.prototype.slice,a={},l=0;function d(e,t){this._id=e,this._clearFn=t}i.setTimeout=function(){return new d(n.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new d(n.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(e){e.close()},d.prototype.unref=d.prototype.ref=function(){},d.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},i.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},i._unrefActive=i.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i.setImmediate="function"==typeof t?t:function(e){var t=l++,o=!(arguments.length<2)&&s.call(arguments,1);return a[t]=!0,r((function(){a[t]&&(o?e.apply(null,o):e.call(null),i.clearImmediate(t))})),t},i.clearImmediate="function"==typeof o?o:function(e){delete a[e]}}).call(this,e("timers").setImmediate,e("timers").clearImmediate)},{"process/browser.js":92,timers:115}],116:[function(e,t,o){(function(e){function i(t){try{if(!e.localStorage)return}catch(t){return}return null!=(t=e.localStorage[t])&&"true"===String(t).toLowerCase()}t.exports=function(e,t){if(i("noDeprecation"))return e;var o=!1;return function(){if(!o){if(i("throwDeprecation"))throw new Error(t);i("traceDeprecation")?console.trace(t):console.warn(t),o=!0}return e.apply(this,arguments)}}}).call(this,void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],117:[function(e,t,i){t.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},{}],118:[function(e,t,o){(function(t,i){var r=/%[sdj%]/g;o.format=function(e){if(!m(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(a(arguments[i]));return t.join(" ")}i=1;for(var o=arguments,n=o.length,s=String(e).replace(r,(function(e){if("%%"===e)return"%";if(n<=i)return e;switch(e){case"%s":return String(o[i++]);case"%d":return Number(o[i++]);case"%j":try{return JSON.stringify(o[i++])}catch(e){return"[Circular]"}default:return e}})),l=o[i];i<n;l=o[++i])b(l)||!_(l)?s+=" "+l:s+=" "+a(l);return s},o.deprecate=function(e,r){if(y(i.process))return function(){return o.deprecate(e,r).apply(this,arguments)};if(!0===t.noDeprecation)return e;var n=!1;return function(){if(!n){if(t.throwDeprecation)throw new Error(r);t.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}};var n,s={};function a(e,t){var i={seen:[],stylize:d};return 3<=arguments.length&&(i.depth=arguments[2]),4<=arguments.length&&(i.colors=arguments[3]),f(t)?i.showHidden=t:t&&o._extend(i,t),y(i.showHidden)&&(i.showHidden=!1),y(i.depth)&&(i.depth=2),y(i.colors)&&(i.colors=!1),y(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=l),c(i,e,i.depth)}function l(e,t){return(t=a.styles[t])?"["+a.colors[t][0]+"m"+e+"["+a.colors[t][1]+"m":e}function d(e,t){return e}function c(e,t,i){if(e.customInspect&&t&&C(t.inspect)&&t.inspect!==o.inspect&&(!t.constructor||t.constructor.prototype!==t))return m(s=t.inspect(i,e))||(s=c(e,s,i)),s;var r=function(e,t){if(y(t))return e.stylize("undefined","undefined");if(m(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}return g(t)?e.stylize(""+t,"number"):f(t)?e.stylize(""+t,"boolean"):b(t)?e.stylize("null","null"):void 0}(e,t);if(r)return r;var n,s=Object.keys(t),a=(n={},s.forEach((function(e,t){n[e]=!0})),n);if(e.showHidden&&(s=Object.getOwnPropertyNames(t)),x(t)&&(0<=s.indexOf("message")||0<=s.indexOf("description")))return u(t);if(0===s.length){if(C(t)){var l=t.name?": "+t.name:"";return e.stylize("[Function"+l+"]","special")}if(v(t))return e.stylize(RegExp.prototype.toString.call(t),"regexp");if(w(t))return e.stylize(Date.prototype.toString.call(t),"date");if(x(t))return u(t)}r="";var d=!1;return l=["{","}"],p(t)&&(d=!0,l=["[","]"]),C(t)&&(r=" [Function"+(t.name?": "+t.name:"")+"]"),v(t)&&(r=" "+RegExp.prototype.toString.call(t)),w(t)&&(r=" "+Date.prototype.toUTCString.call(t)),x(t)&&(r=" "+u(t)),0!==s.length||d&&0!=t.length?i<0?v(t)?e.stylize(RegExp.prototype.toString.call(t),"regexp"):e.stylize("[Object]","special"):(e.seen.push(t),s=d?function(e,t,i,o,r){for(var n=[],s=0,a=t.length;s<a;++s)E(t,String(s))?n.push(h(e,t,i,o,String(s),!0)):n.push("");return r.forEach((function(r){r.match(/^\d+$/)||n.push(h(e,t,i,o,r,!0))})),n}(e,t,i,a,s):s.map((function(o){return h(e,t,i,a,o,d)})),e.seen.pop(),function(e,t,i){return 60<e.reduce((function(e,t){return t.indexOf("\n"),e+t.replace(/\u001b\[\d\d?m/g,"").length+1}),0)?i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1]:i[0]+t+" "+e.join(", ")+" "+i[1]}(s,r,l)):l[0]+r+l[1]}function u(e){return"["+Error.prototype.toString.call(e)+"]"}function h(e,t,i,o,r,n){var s,a;if((t=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?a=t.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):t.set&&(a=e.stylize("[Setter]","special")),E(o,r)||(s="["+r+"]"),a||(e.seen.indexOf(t.value)<0?-1<(a=b(i)?c(e,t.value,null):c(e,t.value,i-1)).indexOf("\n")&&(a=n?a.split("\n").map((function(e){return"  "+e})).join("\n").substr(2):"\n"+a.split("\n").map((function(e){return"   "+e})).join("\n")):a=e.stylize("[Circular]","special")),y(s)){if(n&&r.match(/^\d+$/))return a;s=(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),e.stylize(s,"string"))}return s+": "+a}function p(e){return Array.isArray(e)}function f(e){return"boolean"==typeof e}function b(e){return null===e}function g(e){return"number"==typeof e}function m(e){return"string"==typeof e}function y(e){return void 0===e}function v(e){return _(e)&&"[object RegExp]"===S(e)}function _(e){return"object"==typeof e&&null!==e}function w(e){return _(e)&&"[object Date]"===S(e)}function x(e){return _(e)&&("[object Error]"===S(e)||e instanceof Error)}function C(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function O(e){return e<10?"0"+e.toString(10):e.toString(10)}o.debuglog=function(e){var i;return y(n)&&(n=t.env.NODE_DEBUG||""),e=e.toUpperCase(),s[e]||(new RegExp("\\b"+e+"\\b","i").test(n)?(i=t.pid,s[e]=function(){var t=o.format.apply(o,arguments);console.error("%s %d: %s",e,i,t)}):s[e]=function(){}),s[e]},(o.inspect=a).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},o.isArray=p,o.isBoolean=f,o.isNull=b,o.isNullOrUndefined=function(e){return null==e},o.isNumber=g,o.isString=m,o.isSymbol=function(e){return"symbol"==typeof e},o.isUndefined=y,o.isRegExp=v,o.isObject=_,o.isDate=w,o.isError=x,o.isFunction=C,o.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},o.isBuffer=e("./support/isBuffer");var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function E(e,t){return Object.prototype.hasOwnProperty.call(e,t)}o.log=function(){var e,t;console.log("%s - %s",(t=[O((e=new Date).getHours()),O(e.getMinutes()),O(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],t].join(" ")),o.format.apply(o,arguments))},o.inherits=e("inherits"),o._extend=function(e,t){if(!t||!_(t))return e;for(var i=Object.keys(t),o=i.length;o--;)e[i[o]]=t[i[o]];return e}}).call(this,e("_process"),void 0!==i.g?i.g:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":117,_process:92,inherits:85}],119:[function(e,t,i){(function(){"use strict";i.stripBOM=function(e){return"\ufeff"===e[0]?e.substring(1):e}}).call(this)},{}],120:[function(e,t,i){(function(){"use strict";var t,o,r,n,s,a={}.hasOwnProperty;function l(e){var t,i,r;for(t in this.options={},i=o[.2])a.call(i,t)&&(r=i[t],this.options[t]=r);for(t in e)a.call(e,t)&&(r=e[t],this.options[t]=r)}t=e("xmlbuilder"),o=e("./defaults").defaults,n=function(e){return"string"==typeof e&&(0<=e.indexOf("&")||0<=e.indexOf(">")||0<=e.indexOf("<"))},s=function(e){return"<![CDATA["+r(e)+"]]>"},r=function(e){return e.replace("]]>","]]]]><![CDATA[>")},i.Builder=(l.prototype.buildObject=function(e){var i,r,l,d=this.options.attrkey,c=this.options.charkey;return 1===Object.keys(e).length&&this.options.rootName===o[.2].rootName?e=e[r=Object.keys(e)[0]]:r=this.options.rootName,l=this,i=function(e,t){var o,r,u,h,p,f;if("object"!=typeof t)l.options.cdata&&n(t)?e.raw(s(t)):e.txt(t);else if(Array.isArray(t)){for(h in t)if(a.call(t,h))for(p in r=t[h])u=r[p],e=i(e.ele(p),u).up()}else for(p in t)if(a.call(t,p))if(r=t[p],p===d){if("object"==typeof r)for(o in r)f=r[o],e=e.att(o,f)}else if(p===c)e=l.options.cdata&&n(r)?e.raw(s(r)):e.txt(r);else if(Array.isArray(r))for(h in r)a.call(r,h)&&(e=("string"==typeof(u=r[h])?l.options.cdata&&n(u)?e.ele(p).raw(s(u)):e.ele(p,u):i(e.ele(p),u)).up());else e="object"==typeof r?i(e.ele(p),r).up():"string"==typeof r&&l.options.cdata&&n(r)?e.ele(p).raw(s(r)).up():(null==r&&(r=""),e.ele(p,r.toString()).up());return e},r=t.create(r,this.options.xmldec,this.options.doctype,{headless:this.options.headless,allowSurrogateChars:this.options.allowSurrogateChars}),i(r,e).end(this.options.renderOpts)},l)}).call(this)},{"./defaults":121,xmlbuilder:157}],121:[function(e,t,i){(function(){i.defaults={.1:{explicitCharkey:!1,trim:!0,normalize:!0,normalizeTags:!1,attrkey:"@",charkey:"#",explicitArray:!1,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!1,validator:null,xmlns:!1,explicitChildren:!1,childkey:"@@",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,emptyTag:""},.2:{explicitCharkey:!1,trim:!1,normalize:!1,normalizeTags:!1,attrkey:"$",charkey:"_",explicitArray:!0,ignoreAttrs:!1,mergeAttrs:!1,explicitRoot:!0,validator:null,xmlns:!1,explicitChildren:!1,preserveChildrenOrder:!1,childkey:"$$",charsAsChildren:!1,includeWhiteChars:!1,async:!1,strict:!0,attrNameProcessors:null,attrValueProcessors:null,tagNameProcessors:null,valueProcessors:null,rootName:"root",xmldec:{version:"1.0",encoding:"UTF-8",standalone:!0},doctype:null,renderOpts:{pretty:!0,indent:"  ",newline:"\n"},headless:!1,chunkSize:1e4,emptyTag:"",cdata:!1}}}).call(this)},{}],122:[function(e,t,i){(function(){"use strict";function t(e,t){return function(){return e.apply(t,arguments)}}var o,r,n,s,a,l,d,c,u={}.hasOwnProperty;function h(e){var o,n,s;if(this.parseStringPromise=t(this.parseStringPromise,this),this.parseString=t(this.parseString,this),this.reset=t(this.reset,this),this.assignOrPush=t(this.assignOrPush,this),this.processAsync=t(this.processAsync,this),!(this instanceof i.Parser))return new i.Parser(e);for(o in this.options={},n=r[.2])u.call(n,o)&&(s=n[o],this.options[o]=s);for(o in e)u.call(e,o)&&(s=e[o],this.options[o]=s);this.options.xmlns&&(this.options.xmlnskey=this.options.attrkey+"ns"),this.options.normalizeTags&&(this.options.tagNameProcessors||(this.options.tagNameProcessors=[]),this.options.tagNameProcessors.unshift(l.normalize)),this.reset()}d=e("sax"),n=e("events"),o=e("./bom"),l=e("./processors"),c=e("timers").setImmediate,r=e("./defaults").defaults,s=function(e){return"object"==typeof e&&null!=e&&0===Object.keys(e).length},a=function(e,t,i){for(var o=0,r=e.length;o<r;o++)t=(0,e[o])(t,i);return t},i.Parser=(function(e,t){for(var i in t)u.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(h,n),h.prototype.processAsync=function(){var e,t;try{return this.remaining.length<=this.options.chunkSize?(e=this.remaining,this.remaining="",this.saxParser=this.saxParser.write(e),this.saxParser.close()):(e=this.remaining.substr(0,this.options.chunkSize),this.remaining=this.remaining.substr(this.options.chunkSize,this.remaining.length),this.saxParser=this.saxParser.write(e),c(this.processAsync))}catch(e){if(t=e,!this.saxParser.errThrown)return this.saxParser.errThrown=!0,this.emit(t)}},h.prototype.assignOrPush=function(e,t,i){return t in e?(e[t]instanceof Array||(e[t]=[e[t]]),e[t].push(i)):this.options.explicitArray?e[t]=[i]:e[t]=i},h.prototype.reset=function(){var e,t,i,o,r,n,l,c,h;return this.removeAllListeners(),this.saxParser=d.parser(this.options.strict,{trim:!1,normalize:!1,xmlns:this.options.xmlns}),this.saxParser.errThrown=!1,this.saxParser.onerror=(r=this,function(e){if(r.saxParser.resume(),!r.saxParser.errThrown)return r.saxParser.errThrown=!0,r.emit("error",e)}),this.saxParser.onend=(n=this,function(){if(!n.saxParser.ended)return n.saxParser.ended=!0,n.emit("end",n.resultObject)}),this.saxParser.ended=!1,this.EXPLICIT_CHARKEY=this.options.explicitCharkey,this.resultObject=null,o=[],e=this.options.attrkey,t=this.options.charkey,this.saxParser.onopentag=(l=this,function(i){var r,n,s,d,c=Object.create(null);if(c[t]="",!l.options.ignoreAttrs)for(r in d=i.attributes)u.call(d,r)&&(e in c||l.options.mergeAttrs||(c[e]=Object.create(null)),n=l.options.attrValueProcessors?a(l.options.attrValueProcessors,i.attributes[r],r):i.attributes[r],s=l.options.attrNameProcessors?a(l.options.attrNameProcessors,r):r,l.options.mergeAttrs?l.assignOrPush(c,s,n):c[e][s]=n);return c["#name"]=l.options.tagNameProcessors?a(l.options.tagNameProcessors,i.name):i.name,l.options.xmlns&&(c[l.options.xmlnskey]={uri:i.uri,local:i.local}),o.push(c)}),this.saxParser.onclosetag=(c=this,function(){var e,i,r,n,l,d,h,p=o.pop(),f=p["#name"];if(c.options.explicitChildren&&c.options.preserveChildrenOrder||delete p["#name"],!0===p.cdata&&(e=p.cdata,delete p.cdata),d=o[o.length-1],p[t].match(/^\s*$/)&&!e?(l=p[t],delete p[t]):(c.options.trim&&(p[t]=p[t].trim()),c.options.normalize&&(p[t]=p[t].replace(/\s{2,}/g," ").trim()),p[t]=c.options.valueProcessors?a(c.options.valueProcessors,p[t],f):p[t],1===Object.keys(p).length&&t in p&&!c.EXPLICIT_CHARKEY&&(p=p[t])),s(p)&&(p="function"==typeof c.options.emptyTag?c.options.emptyTag():""!==c.options.emptyTag?c.options.emptyTag:l),null!=c.options.validator&&(h="/"+function(){for(var e=[],t=0,i=o.length;t<i;t++)r=o[t],e.push(r["#name"]);return e}().concat(f).join("/"),function(){try{p=c.options.validator(h,d&&d[f],p)}catch(e){return c.emit("error",e)}}()),c.options.explicitChildren&&!c.options.mergeAttrs&&"object"==typeof p)if(c.options.preserveChildrenOrder){if(d){for(i in d[c.options.childkey]=d[c.options.childkey]||[],n=Object.create(null),p)u.call(p,i)&&(n[i]=p[i]);d[c.options.childkey].push(n),delete p["#name"],1===Object.keys(p).length&&t in p&&!c.EXPLICIT_CHARKEY&&(p=p[t])}}else r=Object.create(null),c.options.attrkey in p&&(r[c.options.attrkey]=p[c.options.attrkey],delete p[c.options.attrkey]),!c.options.charsAsChildren&&c.options.charkey in p&&(r[c.options.charkey]=p[c.options.charkey],delete p[c.options.charkey]),0<Object.getOwnPropertyNames(p).length&&(r[c.options.childkey]=p),p=r;return 0<o.length?c.assignOrPush(d,f,p):(c.options.explicitRoot&&(l=p,(p=Object.create(null))[f]=l),c.resultObject=p,c.saxParser.ended=!0,c.emit("end",c.resultObject))}),i=function(e){var i,r=o[o.length-1];if(r)return r[t]+=e,h.options.explicitChildren&&h.options.preserveChildrenOrder&&h.options.charsAsChildren&&(h.options.includeWhiteChars||""!==e.replace(/\\n/g,"").trim())&&(r[h.options.childkey]=r[h.options.childkey]||[],(i={"#name":"__text__"})[t]=e,h.options.normalize&&(i[t]=i[t].replace(/\s{2,}/g," ").trim()),r[h.options.childkey].push(i)),r},(h=this).saxParser.ontext=i,this.saxParser.oncdata=function(e){if(e=i(e))return e.cdata=!0}},h.prototype.parseString=function(e,t){var i;null!=t&&"function"==typeof t&&(this.on("end",(function(e){return this.reset(),t(null,e)})),this.on("error",(function(e){return this.reset(),t(e)})));try{return""===(e=e.toString()).trim()?(this.emit("end",null),!0):(e=o.stripBOM(e),this.options.async?(this.remaining=e,c(this.processAsync),this.saxParser):this.saxParser.write(e).close())}catch(e){if(i=e,!this.saxParser.errThrown&&!this.saxParser.ended)return this.emit("error",i),this.saxParser.errThrown=!0;if(this.saxParser.ended)throw i}},h.prototype.parseStringPromise=function(e){return new Promise((t=this,function(i,o){return t.parseString(e,(function(e,t){return e?o(e):i(t)}))}));var t},h),i.parseString=function(e,t,o){var r,n;return null!=o?("function"==typeof o&&(r=o),"object"==typeof t&&(n=t)):("function"==typeof t&&(r=t),n={}),new i.Parser(n).parseString(e,r)},i.parseStringPromise=function(e,t){var o;return"object"==typeof t&&(o=t),new i.Parser(o).parseStringPromise(e)}}).call(this)},{"./bom":119,"./defaults":121,"./processors":123,events:48,sax:112,timers:115}],123:[function(e,t,i){(function(){"use strict";var e=new RegExp(/(?!xmlns)^.*:/);i.normalize=function(e){return e.toLowerCase()},i.firstCharLowerCase=function(e){return e.charAt(0).toLowerCase()+e.slice(1)},i.stripPrefix=function(t){return t.replace(e,"")},i.parseNumbers=function(e){return isNaN(e)||(e=e%1==0?parseInt(e,10):parseFloat(e)),e},i.parseBooleans=function(e){return/^(?:true|false)$/i.test(e)&&(e="true"===e.toLowerCase()),e}}).call(this)},{}],124:[function(e,t,i){(function(){"use strict";var t,o,r,n,s={}.hasOwnProperty;function a(e){this.message=e}o=e("./defaults"),t=e("./builder"),r=e("./parser"),n=e("./processors"),i.defaults=o.defaults,i.processors=n,i.ValidationError=(function(e,t){for(var i in t)s.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(a,Error),a),i.Builder=t.Builder,i.Parser=r.Parser,i.parseString=r.parseString,i.parseStringPromise=r.parseStringPromise}).call(this)},{"./builder":120,"./defaults":121,"./parser":122,"./processors":123}],125:[function(e,t,i){(function(){t.exports={Disconnected:1,Preceding:2,Following:4,Contains:8,ContainedBy:16,ImplementationSpecific:32}}).call(this)},{}],126:[function(e,t,i){(function(){t.exports={Element:1,Attribute:2,Text:3,CData:4,EntityReference:5,EntityDeclaration:6,ProcessingInstruction:7,Comment:8,Document:9,DocType:10,DocumentFragment:11,NotationDeclaration:12,Declaration:201,Raw:202,AttributeDeclaration:203,ElementDeclaration:204,Dummy:205}}).call(this)},{}],127:[function(e,t,i){(function(){var e=[].slice,i={}.hasOwnProperty,o=function(){var t,o,n,s,a=arguments[0],l=2<=arguments.length?e.call(arguments,1):[];if(r(Object.assign))Object.assign.apply(null,arguments);else for(t=0,n=l.length;t<n;t++)if(null!=(s=l[t]))for(o in s)i.call(s,o)&&(a[o]=s[o]);return a},r=function(e){return!!e&&"[object Function]"===Object.prototype.toString.call(e)},n=function(e){return!!e&&("function"==(e=typeof e)||"object"==e)},s=function(e){return r(Array.isArray)?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)},a=function(e){if(s(e))return!e.length;for(var t in e)if(i.call(e,t))return!1;return!0},l=function(e){var t,i;return n(e)&&(i=Object.getPrototypeOf(e))&&(t=i.constructor)&&"function"==typeof t&&t instanceof t&&Function.prototype.toString.call(t)===Function.prototype.toString.call(Object)},d=function(e){return r(e.valueOf)?e.valueOf():e};t.exports.assign=o,t.exports.isFunction=r,t.exports.isObject=n,t.exports.isArray=s,t.exports.isEmpty=a,t.exports.isPlainObject=l,t.exports.getValue=d}).call(this)},{}],128:[function(e,t,i){(function(){t.exports={None:0,OpenTag:1,InsideTag:2,CloseTag:3}}).call(this)},{}],129:[function(e,t,i){(function(){var i;function o(e,t,o){if(this.parent=e,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),null==t)throw new Error("Missing attribute name. "+this.debugInfo(t));this.name=this.stringify.name(t),this.value=this.stringify.attValue(o),this.type=i.Attribute,this.isId=!1,this.schemaTypeInfo=null}i=e("./NodeType"),e("./XMLNode"),t.exports=(Object.defineProperty(o.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(o.prototype,"ownerElement",{get:function(){return this.parent}}),Object.defineProperty(o.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(o.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(o.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(o.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(o.prototype,"specified",{get:function(){return!0}}),o.prototype.clone=function(){return Object.create(this)},o.prototype.toString=function(e){return this.options.writer.attribute(this,this.options.writer.filterOptions(e))},o.prototype.debugInfo=function(e){return null==(e=e||this.name)?"parent: <"+this.parent.name+">":"attribute: {"+e+"}, parent: <"+this.parent.name+">"},o.prototype.isEqualNode=function(e){return e.namespaceURI===this.namespaceURI&&e.prefix===this.prefix&&e.localName===this.localName&&e.value===this.value},o)}).call(this)},{"./NodeType":126,"./XMLNode":148}],130:[function(e,t,i){(function(){var i,o,r={}.hasOwnProperty;function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing CDATA text. "+this.debugInfo());this.name="#cdata-section",this.type=i.CData,this.value=this.stringify.cdata(t)}i=e("./NodeType"),o=e("./XMLCharacterData"),t.exports=(function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(n,o),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.cdata(this,this.options.writer.filterOptions(e))},n)}).call(this)},{"./NodeType":126,"./XMLCharacterData":131}],131:[function(e,t,i){(function(){var i,o={}.hasOwnProperty;function r(e){r.__super__.constructor.call(this,e),this.value=""}i=e("./XMLNode"),t.exports=(function(e,t){for(var i in t)o.call(t,i)&&(e[i]=t[i]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,i),Object.defineProperty(r.prototype,"data",{get:function(){return this.value},set:function(e){return this.value=e||""}}),Object.defineProperty(r.prototype,"length",{get:function(){return this.value.length}}),Object.defineProperty(r.prototype,"textContent",{get:function(){return this.value},set:function(e){return this.value=e||""}}),r.prototype.clone=function(){return Object.create(this)},r.prototype.substringData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.appendData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.insertData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.deleteData=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.replaceData=function(e,t,i){throw new Error("This DOM method is not implemented."+this.debugInfo())},r.prototype.isEqualNode=function(e){return!!r.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.data===this.data},r)}).call(this)},{"./XMLNode":148}],132:[function(e,t,i){(function(){var i,o,r={}.hasOwnProperty;function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing comment text. "+this.debugInfo());this.name="#comment",this.type=i.Comment,this.value=this.stringify.comment(t)}i=e("./NodeType"),o=e("./XMLCharacterData"),t.exports=(function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(n,o),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.comment(this,this.options.writer.filterOptions(e))},n)}).call(this)},{"./NodeType":126,"./XMLCharacterData":131}],133:[function(e,t,i){(function(){var i,o;function r(){this.defaultParams={"canonical-form":!1,"cdata-sections":!1,comments:!1,"datatype-normalization":!1,"element-content-whitespace":!0,entities:!0,"error-handler":new i,infoset:!0,"validate-if-schema":!1,namespaces:!0,"namespace-declarations":!0,"normalize-characters":!1,"schema-location":"","schema-type":"","split-cdata-sections":!0,validate:!1,"well-formed":!0},this.params=Object.create(this.defaultParams)}i=e("./XMLDOMErrorHandler"),o=e("./XMLDOMStringList"),t.exports=(Object.defineProperty(r.prototype,"parameterNames",{get:function(){return new o(Object.keys(this.defaultParams))}}),r.prototype.getParameter=function(e){return this.params.hasOwnProperty(e)?this.params[e]:null},r.prototype.canSetParameter=function(e,t){return!0},r.prototype.setParameter=function(e,t){return null!=t?this.params[e]=t:delete this.params[e]},r)}).call(this)},{"./XMLDOMErrorHandler":134,"./XMLDOMStringList":136}],134:[function(e,t,i){(function(){function e(){}t.exports=(e.prototype.handleError=function(e){throw new Error(e)},e)}).call(this)},{}],135:[function(e,t,i){(function(){function e(){}t.exports=(e.prototype.hasFeature=function(e,t){return!0},e.prototype.createDocumentType=function(e,t,i){throw new Error("This DOM method is not implemented.")},e.prototype.createDocument=function(e,t,i){throw new Error("This DOM method is not implemented.")},e.prototype.createHTMLDocument=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented.")},e)}).call(this)},{}],136:[function(e,t,i){(function(){function e(e){this.arr=e||[]}t.exports=(Object.defineProperty(e.prototype,"length",{get:function(){return this.arr.length}}),e.prototype.item=function(e){return this.arr[e]||null},e.prototype.contains=function(e){return-1!==this.arr.indexOf(e)},e)}).call(this)},{}],137:[function(e,t,i){(function(){var i,o,r={}.hasOwnProperty;function n(e,t,o,r,s,a){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing DTD element name. "+this.debugInfo());if(null==o)throw new Error("Missing DTD attribute name. "+this.debugInfo(t));if(!r)throw new Error("Missing DTD attribute type. "+this.debugInfo(t));if(!s)throw new Error("Missing DTD attribute default. "+this.debugInfo(t));if(0!==s.indexOf("#")&&(s="#"+s),!s.match(/^(#REQUIRED|#IMPLIED|#FIXED|#DEFAULT)$/))throw new Error("Invalid default value type; expected: #REQUIRED, #IMPLIED, #FIXED or #DEFAULT. "+this.debugInfo(t));if(a&&!s.match(/^(#FIXED|#DEFAULT)$/))throw new Error("Default value only applies to #FIXED or #DEFAULT. "+this.debugInfo(t));this.elementName=this.stringify.name(t),this.type=i.AttributeDeclaration,this.attributeName=this.stringify.name(o),this.attributeType=this.stringify.dtdAttType(r),a&&(this.defaultValue=this.stringify.dtdAttDefault(a)),this.defaultValueType=s}o=e("./XMLNode"),i=e("./NodeType"),t.exports=(function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(n,o),n.prototype.toString=function(e){return this.options.writer.dtdAttList(this,this.options.writer.filterOptions(e))},n)}).call(this)},{"./NodeType":126,"./XMLNode":148}],138:[function(e,t,i){(function(){var i,o,r={}.hasOwnProperty;function n(e,t,o){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing DTD element name. "+this.debugInfo());o=o||"(#PCDATA)",Array.isArray(o)&&(o="("+o.join(",")+")"),this.name=this.stringify.name(t),this.type=i.ElementDeclaration,this.value=this.stringify.dtdElementValue(o)}o=e("./XMLNode"),i=e("./NodeType"),t.exports=(function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(n,o),n.prototype.toString=function(e){return this.options.writer.dtdElement(this,this.options.writer.filterOptions(e))},n)}).call(this)},{"./NodeType":126,"./XMLNode":148}],139:[function(e,t,i){(function(){var i,o,r,n={}.hasOwnProperty;function s(e,t,o,n){if(s.__super__.constructor.call(this,e),null==o)throw new Error("Missing DTD entity name. "+this.debugInfo(o));if(null==n)throw new Error("Missing DTD entity value. "+this.debugInfo(o));if(this.pe=!!t,this.name=this.stringify.name(o),this.type=i.EntityDeclaration,r(n)){if(!n.pubID&&!n.sysID)throw new Error("Public and/or system identifiers are required for an external entity. "+this.debugInfo(o));if(n.pubID&&!n.sysID)throw new Error("System identifier is required for a public external entity. "+this.debugInfo(o));if(this.internal=!1,null!=n.pubID&&(this.pubID=this.stringify.dtdPubID(n.pubID)),null!=n.sysID&&(this.sysID=this.stringify.dtdSysID(n.sysID)),null!=n.nData&&(this.nData=this.stringify.dtdNData(n.nData)),this.pe&&this.nData)throw new Error("Notation declaration is not allowed in a parameter entity. "+this.debugInfo(o))}else this.value=this.stringify.dtdEntityValue(n),this.internal=!0}r=e("./Utility").isObject,o=e("./XMLNode"),i=e("./NodeType"),t.exports=(function(e,t){for(var i in t)n.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(s,o),Object.defineProperty(s.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(s.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(s.prototype,"notationName",{get:function(){return this.nData||null}}),Object.defineProperty(s.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlEncoding",{get:function(){return null}}),Object.defineProperty(s.prototype,"xmlVersion",{get:function(){return null}}),s.prototype.toString=function(e){return this.options.writer.dtdEntity(this,this.options.writer.filterOptions(e))},s)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLNode":148}],140:[function(e,t,i){(function(){var i,o,r={}.hasOwnProperty;function n(e,t,o){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing DTD notation name. "+this.debugInfo(t));if(!o.pubID&&!o.sysID)throw new Error("Public or system identifiers are required for an external entity. "+this.debugInfo(t));this.name=this.stringify.name(t),this.type=i.NotationDeclaration,null!=o.pubID&&(this.pubID=this.stringify.dtdPubID(o.pubID)),null!=o.sysID&&(this.sysID=this.stringify.dtdSysID(o.sysID))}o=e("./XMLNode"),i=e("./NodeType"),t.exports=(function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(n,o),Object.defineProperty(n.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(n.prototype,"systemId",{get:function(){return this.sysID}}),n.prototype.toString=function(e){return this.options.writer.dtdNotation(this,this.options.writer.filterOptions(e))},n)}).call(this)},{"./NodeType":126,"./XMLNode":148}],141:[function(e,t,i){(function(){var i,o,r,n={}.hasOwnProperty;function s(e,t,o,n){s.__super__.constructor.call(this,e),r(t)&&(t=(e=t).version,o=e.encoding,n=e.standalone),t=t||"1.0",this.type=i.Declaration,this.version=this.stringify.xmlVersion(t),null!=o&&(this.encoding=this.stringify.xmlEncoding(o)),null!=n&&(this.standalone=this.stringify.xmlStandalone(n))}r=e("./Utility").isObject,o=e("./XMLNode"),i=e("./NodeType"),t.exports=(function(e,t){for(var i in t)n.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(s,o),s.prototype.toString=function(e){return this.options.writer.declaration(this,this.options.writer.filterOptions(e))},s)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLNode":148}],142:[function(e,t,i){(function(){var i,o,r,n,s,a,l,d,c={}.hasOwnProperty;function u(e,t,o){var r,n,s,a,l;if(u.__super__.constructor.call(this,e),this.type=i.DocType,e.children)for(n=0,s=(a=e.children).length;n<s;n++)if((r=a[n]).type===i.Element){this.name=r.name;break}this.documentObject=e,d(t)&&(t=(l=t).pubID,o=l.sysID),null==o&&(o=(l=[t,o])[0],t=l[1]),null!=t&&(this.pubID=this.stringify.dtdPubID(t)),null!=o&&(this.sysID=this.stringify.dtdSysID(o))}d=e("./Utility").isObject,l=e("./XMLNode"),i=e("./NodeType"),o=e("./XMLDTDAttList"),n=e("./XMLDTDEntity"),r=e("./XMLDTDElement"),s=e("./XMLDTDNotation"),a=e("./XMLNamedNodeMap"),t.exports=(function(e,t){for(var i in t)c.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(u,l),Object.defineProperty(u.prototype,"entities",{get:function(){for(var e,t={},o=this.children,r=0,n=o.length;r<n;r++)(e=o[r]).type!==i.EntityDeclaration||e.pe||(t[e.name]=e);return new a(t)}}),Object.defineProperty(u.prototype,"notations",{get:function(){for(var e,t={},o=this.children,r=0,n=o.length;r<n;r++)(e=o[r]).type===i.NotationDeclaration&&(t[e.name]=e);return new a(t)}}),Object.defineProperty(u.prototype,"publicId",{get:function(){return this.pubID}}),Object.defineProperty(u.prototype,"systemId",{get:function(){return this.sysID}}),Object.defineProperty(u.prototype,"internalSubset",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),u.prototype.element=function(e,t){return t=new r(this,e,t),this.children.push(t),this},u.prototype.attList=function(e,t,i,r,n){return n=new o(this,e,t,i,r,n),this.children.push(n),this},u.prototype.entity=function(e,t){return t=new n(this,!1,e,t),this.children.push(t),this},u.prototype.pEntity=function(e,t){return t=new n(this,!0,e,t),this.children.push(t),this},u.prototype.notation=function(e,t){return t=new s(this,e,t),this.children.push(t),this},u.prototype.toString=function(e){return this.options.writer.docType(this,this.options.writer.filterOptions(e))},u.prototype.ele=function(e,t){return this.element(e,t)},u.prototype.att=function(e,t,i,o,r){return this.attList(e,t,i,o,r)},u.prototype.ent=function(e,t){return this.entity(e,t)},u.prototype.pent=function(e,t){return this.pEntity(e,t)},u.prototype.not=function(e,t){return this.notation(e,t)},u.prototype.up=function(){return this.root()||this.documentObject},u.prototype.isEqualNode=function(e){return!!u.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.name===this.name&&e.publicId===this.publicId&&e.systemId===this.systemId},u)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLDTDAttList":137,"./XMLDTDElement":138,"./XMLDTDEntity":139,"./XMLDTDNotation":140,"./XMLNamedNodeMap":147,"./XMLNode":148}],143:[function(e,t,i){(function(){var i,o,r,n,s,a,l,d={}.hasOwnProperty;function c(e){c.__super__.constructor.call(this,null),this.name="#document",this.type=i.Document,this.documentURI=null,this.domConfig=new o,(e=e||{}).writer||(e.writer=new s),this.options=e,this.stringify=new a(e)}l=e("./Utility").isPlainObject,r=e("./XMLDOMImplementation"),o=e("./XMLDOMConfiguration"),n=e("./XMLNode"),i=e("./NodeType"),a=e("./XMLStringifier"),s=e("./XMLStringWriter"),t.exports=(function(e,t){for(var i in t)d.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(c,n),Object.defineProperty(c.prototype,"implementation",{value:new r}),Object.defineProperty(c.prototype,"doctype",{get:function(){for(var e,t=this.children,o=0,r=t.length;o<r;o++)if((e=t[o]).type===i.DocType)return e;return null}}),Object.defineProperty(c.prototype,"documentElement",{get:function(){return this.rootObject||null}}),Object.defineProperty(c.prototype,"inputEncoding",{get:function(){return null}}),Object.defineProperty(c.prototype,"strictErrorChecking",{get:function(){return!1}}),Object.defineProperty(c.prototype,"xmlEncoding",{get:function(){return 0!==this.children.length&&this.children[0].type===i.Declaration?this.children[0].encoding:null}}),Object.defineProperty(c.prototype,"xmlStandalone",{get:function(){return 0!==this.children.length&&this.children[0].type===i.Declaration&&"yes"===this.children[0].standalone}}),Object.defineProperty(c.prototype,"xmlVersion",{get:function(){return 0!==this.children.length&&this.children[0].type===i.Declaration?this.children[0].version:"1.0"}}),Object.defineProperty(c.prototype,"URL",{get:function(){return this.documentURI}}),Object.defineProperty(c.prototype,"origin",{get:function(){return null}}),Object.defineProperty(c.prototype,"compatMode",{get:function(){return null}}),Object.defineProperty(c.prototype,"characterSet",{get:function(){return null}}),Object.defineProperty(c.prototype,"contentType",{get:function(){return null}}),c.prototype.end=function(e){var t={};return e?l(e)&&(t=e,e=this.options.writer):e=this.options.writer,e.document(this,e.filterOptions(t))},c.prototype.toString=function(e){return this.options.writer.document(this,this.options.writer.filterOptions(e))},c.prototype.createElement=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createDocumentFragment=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createTextNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createComment=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createCDATASection=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createProcessingInstruction=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createAttribute=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createEntityReference=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.importNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createElementNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementById=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.adoptNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.normalizeDocument=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.renameNode=function(e,t,i){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createEvent=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createRange=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createNodeIterator=function(e,t,i){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.createTreeWalker=function(e,t,i){throw new Error("This DOM method is not implemented."+this.debugInfo())},c)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLDOMConfiguration":133,"./XMLDOMImplementation":135,"./XMLNode":148,"./XMLStringWriter":153,"./XMLStringifier":154}],144:[function(e,t,i){(function(){var i,o,r,n,s,a,l,d,c,u,h,p,f,b,g,m,y,v,_,w,x,C,S,O={}.hasOwnProperty;function k(e,t,o){var r;this.name="?xml",this.type=i.Document,r={},(e=e||{}).writer?C(e.writer)&&(r=e.writer,e.writer=new m):e.writer=new m,this.options=e,this.writer=e.writer,this.writerOptions=this.writer.filterOptions(r),this.stringify=new y(e),this.onDataCallback=t||function(){},this.onEndCallback=o||function(){},this.currentNode=null,this.currentLevel=-1,this.openTags={},this.documentStarted=!1,this.documentCompleted=!1,this.root=null}S=e("./Utility"),x=S.isObject,w=S.isFunction,C=S.isPlainObject,_=S.getValue,i=e("./NodeType"),p=e("./XMLDocument"),f=e("./XMLElement"),n=e("./XMLCData"),s=e("./XMLComment"),g=e("./XMLRaw"),v=e("./XMLText"),b=e("./XMLProcessingInstruction"),u=e("./XMLDeclaration"),h=e("./XMLDocType"),a=e("./XMLDTDAttList"),d=e("./XMLDTDEntity"),l=e("./XMLDTDElement"),c=e("./XMLDTDNotation"),r=e("./XMLAttribute"),y=e("./XMLStringifier"),m=e("./XMLStringWriter"),o=e("./WriterState"),t.exports=(k.prototype.createChildNode=function(e){var t,o,r,n,s,a,l,d;switch(e.type){case i.CData:this.cdata(e.value);break;case i.Comment:this.comment(e.value);break;case i.Element:for(o in r={},l=e.attribs)O.call(l,o)&&(t=l[o],r[o]=t.value);this.node(e.name,r);break;case i.Dummy:this.dummy();break;case i.Raw:this.raw(e.value);break;case i.Text:this.text(e.value);break;case i.ProcessingInstruction:this.instruction(e.target,e.value);break;default:throw new Error("This XML node type is not supported in a JS object: "+e.constructor.name)}for(s=0,a=(d=e.children).length;s<a;s++)n=d[s],this.createChildNode(n),n.type===i.Element&&this.up();return this},k.prototype.dummy=function(){return this},k.prototype.node=function(e,t,i){var o;if(null==e)throw new Error("Missing node name.");if(this.root&&-1===this.currentLevel)throw new Error("Document can only have one root node. "+this.debugInfo(e));return this.openCurrent(),e=_(e),null==t&&(t={}),t=_(t),x(t)||(i=(o=[t,i])[0],t=o[1]),this.currentNode=new f(this,e,t),this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,null!=i&&this.text(i),this},k.prototype.element=function(e,t,o){var r,n,s,a,l,d;if(this.currentNode&&this.currentNode.type===i.DocType)this.dtdElement.apply(this,arguments);else if(Array.isArray(e)||x(e)||w(e))for(a=this.options.noValidation,this.options.noValidation=!0,(d=new p(this.options).element("TEMP_ROOT")).element(e),this.options.noValidation=a,n=0,s=(l=d.children).length;n<s;n++)r=l[n],this.createChildNode(r),r.type===i.Element&&this.up();else this.node(e,t,o);return this},k.prototype.attribute=function(e,t){var i,o;if(!this.currentNode||this.currentNode.children)throw new Error("att() can only be used immediately after an ele() call in callback mode. "+this.debugInfo(e));if(null!=e&&(e=_(e)),x(e))for(i in e)O.call(e,i)&&(o=e[i],this.attribute(i,o));else w(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.currentNode.attribs[e]=new r(this,e,""):null!=t&&(this.currentNode.attribs[e]=new r(this,e,t));return this},k.prototype.text=function(e){return this.openCurrent(),e=new v(this,e),this.onData(this.writer.text(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.cdata=function(e){return this.openCurrent(),e=new n(this,e),this.onData(this.writer.cdata(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.comment=function(e){return this.openCurrent(),e=new s(this,e),this.onData(this.writer.comment(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.raw=function(e){return this.openCurrent(),e=new g(this,e),this.onData(this.writer.raw(e,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.instruction=function(e,t){var i,o,r,n;if(this.openCurrent(),null!=e&&(e=_(e)),null!=t&&(t=_(t)),Array.isArray(e))for(i=0,n=e.length;i<n;i++)o=e[i],this.instruction(o);else if(x(e))for(o in e)O.call(e,o)&&(r=e[o],this.instruction(o,r));else w(t)&&(t=t.apply()),t=new b(this,e,t),this.onData(this.writer.processingInstruction(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1);return this},k.prototype.declaration=function(e,t,i){if(this.openCurrent(),this.documentStarted)throw new Error("declaration() must be the first node.");return i=new u(this,e,t,i),this.onData(this.writer.declaration(i,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.doctype=function(e,t,i){if(this.openCurrent(),null==e)throw new Error("Missing root node name.");if(this.root)throw new Error("dtd() must come before the root node.");return this.currentNode=new h(this,t,i),this.currentNode.rootNodeName=e,this.currentNode.children=!1,this.currentLevel++,this.openTags[this.currentLevel]=this.currentNode,this},k.prototype.dtdElement=function(e,t){return this.openCurrent(),t=new l(this,e,t),this.onData(this.writer.dtdElement(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.attList=function(e,t,i,o,r){return this.openCurrent(),r=new a(this,e,t,i,o,r),this.onData(this.writer.dtdAttList(r,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.entity=function(e,t){return this.openCurrent(),t=new d(this,!1,e,t),this.onData(this.writer.dtdEntity(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.pEntity=function(e,t){return this.openCurrent(),t=new d(this,!0,e,t),this.onData(this.writer.dtdEntity(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.notation=function(e,t){return this.openCurrent(),t=new c(this,e,t),this.onData(this.writer.dtdNotation(t,this.writerOptions,this.currentLevel+1),this.currentLevel+1),this},k.prototype.up=function(){if(this.currentLevel<0)throw new Error("The document node has no parent.");return this.currentNode?(this.currentNode.children?this.closeNode(this.currentNode):this.openNode(this.currentNode),this.currentNode=null):this.closeNode(this.openTags[this.currentLevel]),delete this.openTags[this.currentLevel],this.currentLevel--,this},k.prototype.end=function(){for(;0<=this.currentLevel;)this.up();return this.onEnd()},k.prototype.openCurrent=function(){if(this.currentNode)return this.currentNode.children=!0,this.openNode(this.currentNode)},k.prototype.openNode=function(e){var t,r,n,s;if(!e.isOpen){if(this.root||0!==this.currentLevel||e.type!==i.Element||(this.root=e),r="",e.type===i.Element){for(n in this.writerOptions.state=o.OpenTag,r=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<"+e.name,s=e.attribs)O.call(s,n)&&(t=s[n],r+=this.writer.attribute(t,this.writerOptions,this.currentLevel));r+=(e.children?">":"/>")+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=o.InsideTag}else this.writerOptions.state=o.OpenTag,r=this.writer.indent(e,this.writerOptions,this.currentLevel)+"<!DOCTYPE "+e.rootNodeName,e.pubID&&e.sysID?r+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(r+=' SYSTEM "'+e.sysID+'"'),e.children?(r+=" [",this.writerOptions.state=o.InsideTag):(this.writerOptions.state=o.CloseTag,r+=">"),r+=this.writer.endline(e,this.writerOptions,this.currentLevel);return this.onData(r,this.currentLevel),e.isOpen=!0}},k.prototype.closeNode=function(e){var t;if(!e.isClosed)return t="",this.writerOptions.state=o.CloseTag,t=e.type===i.Element?this.writer.indent(e,this.writerOptions,this.currentLevel)+"</"+e.name+">"+this.writer.endline(e,this.writerOptions,this.currentLevel):this.writer.indent(e,this.writerOptions,this.currentLevel)+"]>"+this.writer.endline(e,this.writerOptions,this.currentLevel),this.writerOptions.state=o.None,this.onData(t,this.currentLevel),e.isClosed=!0},k.prototype.onData=function(e,t){return this.documentStarted=!0,this.onDataCallback(e,t+1)},k.prototype.onEnd=function(){return this.documentCompleted=!0,this.onEndCallback()},k.prototype.debugInfo=function(e){return null==e?"":"node: <"+e+">"},k.prototype.ele=function(){return this.element.apply(this,arguments)},k.prototype.nod=function(e,t,i){return this.node(e,t,i)},k.prototype.txt=function(e){return this.text(e)},k.prototype.dat=function(e){return this.cdata(e)},k.prototype.com=function(e){return this.comment(e)},k.prototype.ins=function(e,t){return this.instruction(e,t)},k.prototype.dec=function(e,t,i){return this.declaration(e,t,i)},k.prototype.dtd=function(e,t,i){return this.doctype(e,t,i)},k.prototype.e=function(e,t,i){return this.element(e,t,i)},k.prototype.n=function(e,t,i){return this.node(e,t,i)},k.prototype.t=function(e){return this.text(e)},k.prototype.d=function(e){return this.cdata(e)},k.prototype.c=function(e){return this.comment(e)},k.prototype.r=function(e){return this.raw(e)},k.prototype.i=function(e,t){return this.instruction(e,t)},k.prototype.att=function(){return(this.currentNode&&this.currentNode.type===i.DocType?this.attList:this.attribute).apply(this,arguments)},k.prototype.a=function(){return(this.currentNode&&this.currentNode.type===i.DocType?this.attList:this.attribute).apply(this,arguments)},k.prototype.ent=function(e,t){return this.entity(e,t)},k.prototype.pent=function(e,t){return this.pEntity(e,t)},k.prototype.not=function(e,t){return this.notation(e,t)},k)}).call(this)},{"./NodeType":126,"./Utility":127,"./WriterState":128,"./XMLAttribute":129,"./XMLCData":130,"./XMLComment":132,"./XMLDTDAttList":137,"./XMLDTDElement":138,"./XMLDTDEntity":139,"./XMLDTDNotation":140,"./XMLDeclaration":141,"./XMLDocType":142,"./XMLDocument":143,"./XMLElement":146,"./XMLProcessingInstruction":150,"./XMLRaw":151,"./XMLStringWriter":153,"./XMLStringifier":154,"./XMLText":155}],145:[function(e,t,i){(function(){var i,o,r={}.hasOwnProperty;function n(e){n.__super__.constructor.call(this,e),this.type=i.Dummy}o=e("./XMLNode"),i=e("./NodeType"),t.exports=(function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(n,o),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return""},n)}).call(this)},{"./NodeType":126,"./XMLNode":148}],146:[function(e,t,i){(function(){var i,o,r,n,s,a,l,d={}.hasOwnProperty;function c(e,t,o){var r,n,s,a;if(c.__super__.constructor.call(this,e),null==t)throw new Error("Missing element name. "+this.debugInfo());if(this.name=this.stringify.name(t),this.type=i.Element,this.attribs={},this.schemaTypeInfo=null,null!=o&&this.attribute(o),e.type===i.Document&&(this.isRoot=!0,(this.documentObject=e).rootObject=this,e.children))for(n=0,s=(a=e.children).length;n<s;n++)if((r=a[n]).type===i.DocType){r.name=this.name;break}}l=e("./Utility"),a=l.isObject,s=l.isFunction,n=l.getValue,l=e("./XMLNode"),i=e("./NodeType"),o=e("./XMLAttribute"),r=e("./XMLNamedNodeMap"),t.exports=(function(e,t){for(var i in t)d.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(c,l),Object.defineProperty(c.prototype,"tagName",{get:function(){return this.name}}),Object.defineProperty(c.prototype,"namespaceURI",{get:function(){return""}}),Object.defineProperty(c.prototype,"prefix",{get:function(){return""}}),Object.defineProperty(c.prototype,"localName",{get:function(){return this.name}}),Object.defineProperty(c.prototype,"id",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"className",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"classList",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(c.prototype,"attributes",{get:function(){return this.attributeMap&&this.attributeMap.nodes||(this.attributeMap=new r(this.attribs)),this.attributeMap}}),c.prototype.clone=function(){var e,t,i,o=Object.create(this);for(t in o.isRoot&&(o.documentObject=null),o.attribs={},i=this.attribs)d.call(i,t)&&(e=i[t],o.attribs[t]=e.clone());return o.children=[],this.children.forEach((function(e){return((e=e.clone()).parent=o).children.push(e)})),o},c.prototype.attribute=function(e,t){var i,r;if(null!=e&&(e=n(e)),a(e))for(i in e)d.call(e,i)&&(r=e[i],this.attribute(i,r));else s(t)&&(t=t.apply()),this.options.keepNullAttributes&&null==t?this.attribs[e]=new o(this,e,""):null!=t&&(this.attribs[e]=new o(this,e,t));return this},c.prototype.removeAttribute=function(e){var t,i,o;if(null==e)throw new Error("Missing attribute name. "+this.debugInfo());if(e=n(e),Array.isArray(e))for(i=0,o=e.length;i<o;i++)t=e[i],delete this.attribs[t];else delete this.attribs[e];return this},c.prototype.toString=function(e){return this.options.writer.element(this,this.options.writer.filterOptions(e))},c.prototype.att=function(e,t){return this.attribute(e,t)},c.prototype.a=function(e,t){return this.attribute(e,t)},c.prototype.getAttribute=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e].value:null},c.prototype.setAttribute=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getAttributeNode=function(e){return this.attribs.hasOwnProperty(e)?this.attribs[e]:null},c.prototype.setAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.removeAttributeNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setAttributeNS=function(e,t,i){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.removeAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getAttributeNodeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setAttributeNodeNS=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.hasAttribute=function(e){return this.attribs.hasOwnProperty(e)},c.prototype.hasAttributeNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setIdAttribute=function(e,t){return this.attribs.hasOwnProperty(e)?this.attribs[e].isId:t},c.prototype.setIdAttributeNS=function(e,t,i){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.setIdAttributeNode=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByTagNameNS=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.getElementsByClassName=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},c.prototype.isEqualNode=function(e){var t,i,o;if(!c.__super__.isEqualNode.apply(this,arguments).isEqualNode(e))return!1;if(e.namespaceURI!==this.namespaceURI)return!1;if(e.prefix!==this.prefix)return!1;if(e.localName!==this.localName)return!1;if(e.attribs.length!==this.attribs.length)return!1;for(t=i=0,o=this.attribs.length-1;0<=o?i<=o:o<=i;t=0<=o?++i:--i)if(!this.attribs[t].isEqualNode(e.attribs[t]))return!1;return!0},c)}).call(this)},{"./NodeType":126,"./Utility":127,"./XMLAttribute":129,"./XMLNamedNodeMap":147,"./XMLNode":148}],147:[function(e,t,i){(function(){function e(e){this.nodes=e}t.exports=(Object.defineProperty(e.prototype,"length",{get:function(){return Object.keys(this.nodes).length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.getNamedItem=function(e){return this.nodes[e]},e.prototype.setNamedItem=function(e){var t=this.nodes[e.nodeName];return this.nodes[e.nodeName]=e,t||null},e.prototype.removeNamedItem=function(e){var t=this.nodes[e];return delete this.nodes[e],t||null},e.prototype.item=function(e){return this.nodes[Object.keys(this.nodes)[e]]||null},e.prototype.getNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e.prototype.setNamedItemNS=function(e){throw new Error("This DOM method is not implemented.")},e.prototype.removeNamedItemNS=function(e,t){throw new Error("This DOM method is not implemented.")},e)}).call(this)},{}],148:[function(e,t,i){(function(){var i,o,r,n,s,a,l,d,c,u,h,p,f,b,g,m,y,v={}.hasOwnProperty;function _(t){this.parent=t,this.parent&&(this.options=this.parent.options,this.stringify=this.parent.stringify),this.value=null,this.children=[],this.baseURI=null,d||(d=e("./XMLElement"),r=e("./XMLCData"),n=e("./XMLComment"),s=e("./XMLDeclaration"),a=e("./XMLDocType"),h=e("./XMLRaw"),p=e("./XMLText"),u=e("./XMLProcessingInstruction"),l=e("./XMLDummy"),o=e("./NodeType"),c=e("./XMLNodeList"),e("./XMLNamedNodeMap"),i=e("./DocumentPosition"))}y=e("./Utility"),m=y.isObject,g=y.isFunction,b=y.isEmpty,f=y.getValue,i=c=o=l=u=p=h=a=s=n=r=d=null,t.exports=(Object.defineProperty(_.prototype,"nodeName",{get:function(){return this.name}}),Object.defineProperty(_.prototype,"nodeType",{get:function(){return this.type}}),Object.defineProperty(_.prototype,"nodeValue",{get:function(){return this.value}}),Object.defineProperty(_.prototype,"parentNode",{get:function(){return this.parent}}),Object.defineProperty(_.prototype,"childNodes",{get:function(){return this.childNodeList&&this.childNodeList.nodes||(this.childNodeList=new c(this.children)),this.childNodeList}}),Object.defineProperty(_.prototype,"firstChild",{get:function(){return this.children[0]||null}}),Object.defineProperty(_.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null}}),Object.defineProperty(_.prototype,"previousSibling",{get:function(){var e=this.parent.children.indexOf(this);return this.parent.children[e-1]||null}}),Object.defineProperty(_.prototype,"nextSibling",{get:function(){var e=this.parent.children.indexOf(this);return this.parent.children[e+1]||null}}),Object.defineProperty(_.prototype,"ownerDocument",{get:function(){return this.document()||null}}),Object.defineProperty(_.prototype,"textContent",{get:function(){var e,t,i,r,n;if(this.nodeType!==o.Element&&this.nodeType!==o.DocumentFragment)return null;for(n="",t=0,i=(r=this.children).length;t<i;t++)(e=r[t]).textContent&&(n+=e.textContent);return n},set:function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),_.prototype.setParent=function(e){var t,i,o,r,n;for((this.parent=e)&&(this.options=e.options,this.stringify=e.stringify),n=[],i=0,o=(r=this.children).length;i<o;i++)t=r[i],n.push(t.setParent(this));return n},_.prototype.element=function(e,t,i){var o,r,n,s,a,l,d,c,u,h=null;if(null===t&&null==i&&(t=(c=[{},null])[0],i=c[1]),null==t&&(t={}),t=f(t),m(t)||(i=(c=[t,i])[0],t=c[1]),null!=e&&(e=f(e)),Array.isArray(e))for(n=0,l=e.length;n<l;n++)r=e[n],h=this.element(r);else if(g(e))h=this.element(e.apply());else if(m(e)){for(a in e)if(v.call(e,a))if(u=e[a],g(u)&&(u=u.apply()),!this.options.ignoreDecorators&&this.stringify.convertAttKey&&0===a.indexOf(this.stringify.convertAttKey))h=this.attribute(a.substr(this.stringify.convertAttKey.length),u);else if(!this.options.separateArrayItems&&Array.isArray(u)&&b(u))h=this.dummy();else if(m(u)&&b(u))h=this.element(a);else if(this.options.keepNullNodes||null!=u)if(!this.options.separateArrayItems&&Array.isArray(u))for(s=0,d=u.length;s<d;s++)r=u[s],(o={})[a]=r,h=this.element(o);else m(u)?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===a.indexOf(this.stringify.convertTextKey)?h=this.element(u):(h=this.element(a)).element(u):h=this.element(a,u);else h=this.dummy()}else h=this.options.keepNullNodes||null!==i?!this.options.ignoreDecorators&&this.stringify.convertTextKey&&0===e.indexOf(this.stringify.convertTextKey)?this.text(i):!this.options.ignoreDecorators&&this.stringify.convertCDataKey&&0===e.indexOf(this.stringify.convertCDataKey)?this.cdata(i):!this.options.ignoreDecorators&&this.stringify.convertCommentKey&&0===e.indexOf(this.stringify.convertCommentKey)?this.comment(i):!this.options.ignoreDecorators&&this.stringify.convertRawKey&&0===e.indexOf(this.stringify.convertRawKey)?this.raw(i):!this.options.ignoreDecorators&&this.stringify.convertPIKey&&0===e.indexOf(this.stringify.convertPIKey)?this.instruction(e.substr(this.stringify.convertPIKey.length),i):this.node(e,t,i):this.dummy();if(null==h)throw new Error("Could not create any elements with: "+e+". "+this.debugInfo());return h},_.prototype.insertBefore=function(e,t,i){var o,r,n,s;if(null!=e&&e.type)return n=t,(r=e).setParent(this),n?(o=children.indexOf(n),s=children.splice(o),children.push(r),Array.prototype.push.apply(children,s)):children.push(r),r;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),s=this.parent.children.splice(o),i=this.parent.element(e,t,i),Array.prototype.push.apply(this.parent.children,s),i},_.prototype.insertAfter=function(e,t,i){var o;if(this.isRoot)throw new Error("Cannot insert elements at root level. "+this.debugInfo(e));return o=this.parent.children.indexOf(this),o=this.parent.children.splice(o+1),i=this.parent.element(e,t,i),Array.prototype.push.apply(this.parent.children,o),i},_.prototype.remove=function(){var e;if(this.isRoot)throw new Error("Cannot remove the root element. "+this.debugInfo());return e=this.parent.children.indexOf(this),[].splice.apply(this.parent.children,[e,e-e+1].concat([])),this.parent},_.prototype.node=function(e,t,i){var o;return null!=e&&(e=f(e)),t=f(t=t||{}),m(t)||(i=(o=[t,i])[0],t=o[1]),t=new d(this,e,t),null!=i&&t.text(i),this.children.push(t),t},_.prototype.text=function(e){return m(e)&&this.element(e),e=new p(this,e),this.children.push(e),this},_.prototype.cdata=function(e){return e=new r(this,e),this.children.push(e),this},_.prototype.comment=function(e){return e=new n(this,e),this.children.push(e),this},_.prototype.commentBefore=function(e){var t=this.parent.children.indexOf(this);return t=this.parent.children.splice(t),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,t),this},_.prototype.commentAfter=function(e){var t=this.parent.children.indexOf(this);return t=this.parent.children.splice(t+1),this.parent.comment(e),Array.prototype.push.apply(this.parent.children,t),this},_.prototype.raw=function(e){return e=new h(this,e),this.children.push(e),this},_.prototype.dummy=function(){return new l(this)},_.prototype.instruction=function(e,t){var i,o,r,n;if(null!=e&&(e=f(e)),null!=t&&(t=f(t)),Array.isArray(e))for(r=0,n=e.length;r<n;r++)i=e[r],this.instruction(i);else if(m(e))for(i in e)v.call(e,i)&&(o=e[i],this.instruction(i,o));else g(t)&&(t=t.apply()),t=new u(this,e,t),this.children.push(t);return this},_.prototype.instructionBefore=function(e,t){var i=this.parent.children.indexOf(this);return i=this.parent.children.splice(i),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,i),this},_.prototype.instructionAfter=function(e,t){var i=this.parent.children.indexOf(this);return i=this.parent.children.splice(i+1),this.parent.instruction(e,t),Array.prototype.push.apply(this.parent.children,i),this},_.prototype.declaration=function(e,t,i){var r=this.document();return i=new s(r,e,t,i),0!==r.children.length&&r.children[0].type===o.Declaration?r.children[0]=i:r.children.unshift(i),r.root()||r},_.prototype.dtd=function(e,t){for(var i,r,n,s,l=this.document(),d=new a(l,e,t),c=l.children,u=i=0,h=c.length;i<h;u=++i)if(c[u].type===o.DocType)return l.children[u]=d;for(u=r=0,n=(s=l.children).length;r<n;u=++r)if(s[u].isRoot)return l.children.splice(u,0,d),d;return l.children.push(d),d},_.prototype.up=function(){if(this.isRoot)throw new Error("The root node has no parent. Use doc() if you need to get the document object.");return this.parent},_.prototype.root=function(){for(var e=this;e;){if(e.type===o.Document)return e.rootObject;if(e.isRoot)return e;e=e.parent}},_.prototype.document=function(){for(var e=this;e;){if(e.type===o.Document)return e;e=e.parent}},_.prototype.end=function(e){return this.document().end(e)},_.prototype.prev=function(){var e=this.parent.children.indexOf(this);if(e<1)throw new Error("Already at the first node. "+this.debugInfo());return this.parent.children[e-1]},_.prototype.next=function(){var e=this.parent.children.indexOf(this);if(-1===e||e===this.parent.children.length-1)throw new Error("Already at the last node. "+this.debugInfo());return this.parent.children[e+1]},_.prototype.importDocument=function(e){return(e=e.root().clone()).parent=this,e.isRoot=!1,this.children.push(e),this},_.prototype.debugInfo=function(e){var t;return null!=(e=e||this.name)||null!=(t=this.parent)&&t.name?null==e?"parent: <"+this.parent.name+">":null!=(t=this.parent)&&t.name?"node: <"+e+">, parent: <"+this.parent.name+">":"node: <"+e+">":""},_.prototype.ele=function(e,t,i){return this.element(e,t,i)},_.prototype.nod=function(e,t,i){return this.node(e,t,i)},_.prototype.txt=function(e){return this.text(e)},_.prototype.dat=function(e){return this.cdata(e)},_.prototype.com=function(e){return this.comment(e)},_.prototype.ins=function(e,t){return this.instruction(e,t)},_.prototype.doc=function(){return this.document()},_.prototype.dec=function(e,t,i){return this.declaration(e,t,i)},_.prototype.e=function(e,t,i){return this.element(e,t,i)},_.prototype.n=function(e,t,i){return this.node(e,t,i)},_.prototype.t=function(e){return this.text(e)},_.prototype.d=function(e){return this.cdata(e)},_.prototype.c=function(e){return this.comment(e)},_.prototype.r=function(e){return this.raw(e)},_.prototype.i=function(e,t){return this.instruction(e,t)},_.prototype.u=function(){return this.up()},_.prototype.importXMLBuilder=function(e){return this.importDocument(e)},_.prototype.replaceChild=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.removeChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.appendChild=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.hasChildNodes=function(){return 0!==this.children.length},_.prototype.cloneNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.normalize=function(){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isSupported=function(e,t){return!0},_.prototype.hasAttributes=function(){return 0!==this.attribs.length},_.prototype.compareDocumentPosition=function(e){var t;return this===e?0:this.document()!==e.document()?(t=i.Disconnected|i.ImplementationSpecific,Math.random()<.5?t|=i.Preceding:t|=i.Following,t):this.isAncestor(e)?i.Contains|i.Preceding:this.isDescendant(e)?i.Contains|i.Following:this.isPreceding(e)?i.Preceding:i.Following},_.prototype.isSameNode=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.lookupPrefix=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isDefaultNamespace=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.lookupNamespaceURI=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.isEqualNode=function(e){var t,i,o;if(e.nodeType!==this.nodeType)return!1;if(e.children.length!==this.children.length)return!1;for(t=i=0,o=this.children.length-1;0<=o?i<=o:o<=i;t=0<=o?++i:--i)if(!this.children[t].isEqualNode(e.children[t]))return!1;return!0},_.prototype.getFeature=function(e,t){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.setUserData=function(e,t,i){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.getUserData=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},_.prototype.contains=function(e){return!!e&&(e===this||this.isDescendant(e))},_.prototype.isDescendant=function(e){for(var t,i=this.children,o=0,r=i.length;o<r;o++){if(e===(t=i[o]))return!0;if(t.isDescendant(e))return!0}return!1},_.prototype.isAncestor=function(e){return e.isDescendant(this)},_.prototype.isPreceding=function(e){var t=this.treePosition(e);return e=this.treePosition(this),-1!==t&&-1!==e&&t<e},_.prototype.isFollowing=function(e){var t=this.treePosition(e);return e=this.treePosition(this),-1!==t&&-1!==e&&e<t},_.prototype.treePosition=function(e){var t=0,i=!1;return this.foreachTreeNode(this.document(),(function(o){if(t++,!i&&o===e)return i=!0})),i?t:-1},_.prototype.foreachTreeNode=function(e,t){for(var i,o,r,n=0,s=(o=(e=e||this.document()).children).length;n<s;n++){if(r=t(i=o[n]))return r;if(r=this.foreachTreeNode(i,t))return r}},_)}).call(this)},{"./DocumentPosition":125,"./NodeType":126,"./Utility":127,"./XMLCData":130,"./XMLComment":132,"./XMLDeclaration":141,"./XMLDocType":142,"./XMLDummy":145,"./XMLElement":146,"./XMLNamedNodeMap":147,"./XMLNodeList":149,"./XMLProcessingInstruction":150,"./XMLRaw":151,"./XMLText":155}],149:[function(e,t,i){(function(){function e(e){this.nodes=e}t.exports=(Object.defineProperty(e.prototype,"length",{get:function(){return this.nodes.length||0}}),e.prototype.clone=function(){return this.nodes=null},e.prototype.item=function(e){return this.nodes[e]||null},e)}).call(this)},{}],150:[function(e,t,i){(function(){var i,o,r={}.hasOwnProperty;function n(e,t,o){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing instruction target. "+this.debugInfo());this.type=i.ProcessingInstruction,this.target=this.stringify.insTarget(t),this.name=this.target,o&&(this.value=this.stringify.insValue(o))}i=e("./NodeType"),o=e("./XMLCharacterData"),t.exports=(function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(n,o),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.processingInstruction(this,this.options.writer.filterOptions(e))},n.prototype.isEqualNode=function(e){return!!n.__super__.isEqualNode.apply(this,arguments).isEqualNode(e)&&e.target===this.target},n)}).call(this)},{"./NodeType":126,"./XMLCharacterData":131}],151:[function(e,t,i){(function(){var i,o,r={}.hasOwnProperty;function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing raw text. "+this.debugInfo());this.type=i.Raw,this.value=this.stringify.raw(t)}i=e("./NodeType"),o=e("./XMLNode"),t.exports=(function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(n,o),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.raw(this,this.options.writer.filterOptions(e))},n)}).call(this)},{"./NodeType":126,"./XMLNode":148}],152:[function(e,t,i){(function(){var i,o,r,n={}.hasOwnProperty;function s(e,t){this.stream=e,s.__super__.constructor.call(this,t)}i=e("./NodeType"),r=e("./XMLWriterBase"),o=e("./WriterState"),t.exports=(function(e,t){for(var i in t)n.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(s,r),s.prototype.endline=function(e,t,i){return e.isLastRootNode&&t.state===o.CloseTag?"":s.__super__.endline.call(this,e,t,i)},s.prototype.document=function(e,t){for(var i,o,r,n,s,a,l=e.children,d=o=0,c=l.length;o<c;d=++o)(i=l[d]).isLastRootNode=d===e.children.length-1;for(t=this.filterOptions(t),a=[],r=0,n=(s=e.children).length;r<n;r++)i=s[r],a.push(this.writeChildNode(i,t,0));return a},s.prototype.attribute=function(e,t,i){return this.stream.write(s.__super__.attribute.call(this,e,t,i))},s.prototype.cdata=function(e,t,i){return this.stream.write(s.__super__.cdata.call(this,e,t,i))},s.prototype.comment=function(e,t,i){return this.stream.write(s.__super__.comment.call(this,e,t,i))},s.prototype.declaration=function(e,t,i){return this.stream.write(s.__super__.declaration.call(this,e,t,i))},s.prototype.docType=function(e,t,i){var r,n,s,a;if(i=i||0,this.openNode(e,t,i),t.state=o.OpenTag,this.stream.write(this.indent(e,t,i)),this.stream.write("<!DOCTYPE "+e.root().name),e.pubID&&e.sysID?this.stream.write(' PUBLIC "'+e.pubID+'" "'+e.sysID+'"'):e.sysID&&this.stream.write(' SYSTEM "'+e.sysID+'"'),0<e.children.length){for(this.stream.write(" ["),this.stream.write(this.endline(e,t,i)),t.state=o.InsideTag,n=0,s=(a=e.children).length;n<s;n++)r=a[n],this.writeChildNode(r,t,i+1);t.state=o.CloseTag,this.stream.write("]")}return t.state=o.CloseTag,this.stream.write(t.spaceBeforeSlash+">"),this.stream.write(this.endline(e,t,i)),t.state=o.None,this.closeNode(e,t,i)},s.prototype.element=function(e,t,r){var s,a,l,d,c,u,h,p,f;for(h in r=r||0,this.openNode(e,t,r),t.state=o.OpenTag,this.stream.write(this.indent(e,t,r)+"<"+e.name),p=e.attribs)n.call(p,h)&&(s=p[h],this.attribute(s,t,r));if(d=0===(l=e.children.length)?null:e.children[0],0===l||e.children.every((function(e){return(e.type===i.Text||e.type===i.Raw)&&""===e.value})))t.allowEmpty?(this.stream.write(">"),t.state=o.CloseTag,this.stream.write("</"+e.name+">")):(t.state=o.CloseTag,this.stream.write(t.spaceBeforeSlash+"/>"));else if(!t.pretty||1!==l||d.type!==i.Text&&d.type!==i.Raw||null==d.value){for(this.stream.write(">"+this.endline(e,t,r)),t.state=o.InsideTag,c=0,u=(f=e.children).length;c<u;c++)a=f[c],this.writeChildNode(a,t,r+1);t.state=o.CloseTag,this.stream.write(this.indent(e,t,r)+"</"+e.name+">")}else this.stream.write(">"),t.state=o.InsideTag,t.suppressPrettyCount++,this.writeChildNode(d,t,r+1),t.suppressPrettyCount--,t.state=o.CloseTag,this.stream.write("</"+e.name+">");return this.stream.write(this.endline(e,t,r)),t.state=o.None,this.closeNode(e,t,r)},s.prototype.processingInstruction=function(e,t,i){return this.stream.write(s.__super__.processingInstruction.call(this,e,t,i))},s.prototype.raw=function(e,t,i){return this.stream.write(s.__super__.raw.call(this,e,t,i))},s.prototype.text=function(e,t,i){return this.stream.write(s.__super__.text.call(this,e,t,i))},s.prototype.dtdAttList=function(e,t,i){return this.stream.write(s.__super__.dtdAttList.call(this,e,t,i))},s.prototype.dtdElement=function(e,t,i){return this.stream.write(s.__super__.dtdElement.call(this,e,t,i))},s.prototype.dtdEntity=function(e,t,i){return this.stream.write(s.__super__.dtdEntity.call(this,e,t,i))},s.prototype.dtdNotation=function(e,t,i){return this.stream.write(s.__super__.dtdNotation.call(this,e,t,i))},s)}).call(this)},{"./NodeType":126,"./WriterState":128,"./XMLWriterBase":156}],153:[function(e,t,i){(function(){var i,o={}.hasOwnProperty;function r(e){r.__super__.constructor.call(this,e)}i=e("./XMLWriterBase"),t.exports=(function(e,t){for(var i in t)o.call(t,i)&&(e[i]=t[i]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,i),r.prototype.document=function(e,t){var i,o,r,n,s;for(t=this.filterOptions(t),n="",o=0,r=(s=e.children).length;o<r;o++)i=s[o],n+=this.writeChildNode(i,t,0);return t.pretty&&n.slice(-t.newline.length)===t.newline&&(n=n.slice(0,-t.newline.length)),n},r)}).call(this)},{"./XMLWriterBase":156}],154:[function(e,t,i){(function(){function e(e,t){return function(){return e.apply(t,arguments)}}var i={}.hasOwnProperty;function o(t){var o,r,n;for(o in this.assertLegalName=e(this.assertLegalName,this),this.assertLegalChar=e(this.assertLegalChar,this),t=t||{},this.options=t,this.options.version||(this.options.version="1.0"),r=t.stringify||{})i.call(r,o)&&(n=r[o],this[o]=n)}t.exports=(o.prototype.name=function(e){return this.options.noValidation?e:this.assertLegalName(""+e||"")},o.prototype.text=function(e){return this.options.noValidation?e:this.assertLegalChar(this.textEscape(""+e||""))},o.prototype.cdata=function(e){return this.options.noValidation?e:(e=(e=""+e||"").replace("]]>","]]]]><![CDATA[>"),this.assertLegalChar(e))},o.prototype.comment=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/--/))throw new Error("Comment text cannot contain double-hypen: "+e);return this.assertLegalChar(e)},o.prototype.raw=function(e){return this.options.noValidation?e:""+e||""},o.prototype.attValue=function(e){return this.options.noValidation?e:this.assertLegalChar(this.attEscape(e=""+e||""))},o.prototype.insTarget=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},o.prototype.insValue=function(e){if(this.options.noValidation)return e;if((e=""+e||"").match(/\?>/))throw new Error("Invalid processing instruction value: "+e);return this.assertLegalChar(e)},o.prototype.xmlVersion=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/1\.[0-9]+/))throw new Error("Invalid version number: "+e);return e},o.prototype.xmlEncoding=function(e){if(this.options.noValidation)return e;if(!(e=""+e||"").match(/^[A-Za-z](?:[A-Za-z0-9._-])*$/))throw new Error("Invalid encoding: "+e);return this.assertLegalChar(e)},o.prototype.xmlStandalone=function(e){return this.options.noValidation?e:e?"yes":"no"},o.prototype.dtdPubID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},o.prototype.dtdSysID=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},o.prototype.dtdElementValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},o.prototype.dtdAttType=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},o.prototype.dtdAttDefault=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},o.prototype.dtdEntityValue=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},o.prototype.dtdNData=function(e){return this.options.noValidation?e:this.assertLegalChar(""+e||"")},o.prototype.convertAttKey="@",o.prototype.convertPIKey="?",o.prototype.convertTextKey="#text",o.prototype.convertCDataKey="#cdata",o.prototype.convertCommentKey="#comment",o.prototype.convertRawKey="#raw",o.prototype.assertLegalChar=function(e){var t,i;if(this.options.noValidation)return e;if(t="","1.0"===this.options.version){if(t=/[\0-\x08\x0B\f\x0E-\x1F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,i=e.match(t))throw new Error("Invalid character in string: "+e+" at index "+i.index)}else if("1.1"===this.options.version&&(t=/[\0\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,i=e.match(t)))throw new Error("Invalid character in string: "+e+" at index "+i.index);return e},o.prototype.assertLegalName=function(e){var t;if(this.options.noValidation)return e;if(this.assertLegalChar(e),t=/^([:A-Z_a-z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])([\x2D\.0-:A-Z_a-z\xB7\xC0-\xD6\xD8-\xF6\xF8-\u037D\u037F-\u1FFF\u200C\u200D\u203F\u2040\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])*$/,!e.match(t))throw new Error("Invalid character in name");return e},o.prototype.textEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r/g,"&#xD;"))},o.prototype.attEscape=function(e){var t;return this.options.noValidation?e:(t=this.options.noDoubleEncoding?/(?!&\S+;)&/g:/&/g,e.replace(t,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;"))},o)}).call(this)},{}],155:[function(e,t,i){(function(){var i,o,r={}.hasOwnProperty;function n(e,t){if(n.__super__.constructor.call(this,e),null==t)throw new Error("Missing element text. "+this.debugInfo());this.name="#text",this.type=i.Text,this.value=this.stringify.text(t)}i=e("./NodeType"),o=e("./XMLCharacterData"),t.exports=(function(e,t){for(var i in t)r.call(t,i)&&(e[i]=t[i]);function o(){this.constructor=e}o.prototype=t.prototype,e.prototype=new o,e.__super__=t.prototype}(n,o),Object.defineProperty(n.prototype,"isElementContentWhitespace",{get:function(){throw new Error("This DOM method is not implemented."+this.debugInfo())}}),Object.defineProperty(n.prototype,"wholeText",{get:function(){for(var e,t="",i=this.previousSibling;i;)t=i.data+t,i=i.previousSibling;for(t+=this.data,e=this.nextSibling;e;)t+=e.data,e=e.nextSibling;return t}}),n.prototype.clone=function(){return Object.create(this)},n.prototype.toString=function(e){return this.options.writer.text(this,this.options.writer.filterOptions(e))},n.prototype.splitText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n.prototype.replaceWholeText=function(e){throw new Error("This DOM method is not implemented."+this.debugInfo())},n)}).call(this)},{"./NodeType":126,"./XMLCharacterData":131}],156:[function(e,t,i){(function(){var i,o,r,n={}.hasOwnProperty;function s(e){var t,i,o;for(t in e=e||{},i=(this.options=e).writer||{})n.call(i,t)&&(o=i[t],this["_"+t]=this[t],this[t]=o)}r=e("./Utility").assign,i=e("./NodeType"),e("./XMLDeclaration"),e("./XMLDocType"),e("./XMLCData"),e("./XMLComment"),e("./XMLElement"),e("./XMLRaw"),e("./XMLText"),e("./XMLProcessingInstruction"),e("./XMLDummy"),e("./XMLDTDAttList"),e("./XMLDTDElement"),e("./XMLDTDEntity"),e("./XMLDTDNotation"),o=e("./WriterState"),t.exports=(s.prototype.filterOptions=function(e){var t,i;return e=e||{},e=r({},this.options,e),(t={writer:this}).pretty=e.pretty||!1,t.allowEmpty=e.allowEmpty||!1,t.indent=null!=(i=e.indent)?i:"  ",t.newline=null!=(i=e.newline)?i:"\n",t.offset=null!=(i=e.offset)?i:0,t.dontPrettyTextNodes=null!=(i=null!=(i=e.dontPrettyTextNodes)?i:e.dontprettytextnodes)?i:0,t.spaceBeforeSlash=null!=(e=null!=(i=e.spaceBeforeSlash)?i:e.spacebeforeslash)?e:"",!0===t.spaceBeforeSlash&&(t.spaceBeforeSlash=" "),t.suppressPrettyCount=0,t.user={},t.state=o.None,t},s.prototype.indent=function(e,t,i){var o;return t.pretty&&!t.suppressPrettyCount&&t.pretty&&0<(o=(i||0)+t.offset+1)?new Array(o).join(t.indent):""},s.prototype.endline=function(e,t,i){return!t.pretty||t.suppressPrettyCount?"":t.newline},s.prototype.attribute=function(e,t,i){var o;return this.openAttribute(e,t,i),o=" "+e.name+'="'+e.value+'"',this.closeAttribute(e,t,i),o},s.prototype.cdata=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i)+"<![CDATA[",t.state=o.InsideTag,r+=e.value,t.state=o.CloseTag,r+="]]>"+this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.comment=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i)+"\x3c!-- ",t.state=o.InsideTag,r+=e.value,t.state=o.CloseTag,r+=" --\x3e"+this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.declaration=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i)+"<?xml",t.state=o.InsideTag,r+=' version="'+e.version+'"',null!=e.encoding&&(r+=' encoding="'+e.encoding+'"'),null!=e.standalone&&(r+=' standalone="'+e.standalone+'"'),t.state=o.CloseTag,r+=t.spaceBeforeSlash+"?>",r+=this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.docType=function(e,t,i){var r,n,s,a,l;if(i=i||0,this.openNode(e,t,i),t.state=o.OpenTag,a=this.indent(e,t,i),a+="<!DOCTYPE "+e.root().name,e.pubID&&e.sysID?a+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(a+=' SYSTEM "'+e.sysID+'"'),0<e.children.length){for(a+=" [",a+=this.endline(e,t,i),t.state=o.InsideTag,n=0,s=(l=e.children).length;n<s;n++)r=l[n],a+=this.writeChildNode(r,t,i+1);t.state=o.CloseTag,a+="]"}return t.state=o.CloseTag,a+=t.spaceBeforeSlash+">",a+=this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),a},s.prototype.element=function(e,t,r){var s,a,l,d,c,u,h,p,f,b,g,m,y,v;for(f in r=r||0,b=!1,g="",this.openNode(e,t,r),t.state=o.OpenTag,g+=this.indent(e,t,r)+"<"+e.name,m=e.attribs)n.call(m,f)&&(s=m[f],g+=this.attribute(s,t,r));if(d=0===(l=e.children.length)?null:e.children[0],0===l||e.children.every((function(e){return(e.type===i.Text||e.type===i.Raw)&&""===e.value})))t.allowEmpty?(g+=">",t.state=o.CloseTag,g+="</"+e.name+">"+this.endline(e,t,r)):(t.state=o.CloseTag,g+=t.spaceBeforeSlash+"/>"+this.endline(e,t,r));else if(!t.pretty||1!==l||d.type!==i.Text&&d.type!==i.Raw||null==d.value){if(t.dontPrettyTextNodes)for(c=0,h=(y=e.children).length;c<h;c++)if(((a=y[c]).type===i.Text||a.type===i.Raw)&&null!=a.value){t.suppressPrettyCount++,b=!0;break}for(g+=">"+this.endline(e,t,r),t.state=o.InsideTag,u=0,p=(v=e.children).length;u<p;u++)a=v[u],g+=this.writeChildNode(a,t,r+1);t.state=o.CloseTag,g+=this.indent(e,t,r)+"</"+e.name+">",b&&t.suppressPrettyCount--,g+=this.endline(e,t,r),t.state=o.None}else g+=">",t.state=o.InsideTag,t.suppressPrettyCount++,b=!0,g+=this.writeChildNode(d,t,r+1),t.suppressPrettyCount--,b=!1,t.state=o.CloseTag,g+="</"+e.name+">"+this.endline(e,t,r);return this.closeNode(e,t,r),g},s.prototype.writeChildNode=function(e,t,o){switch(e.type){case i.CData:return this.cdata(e,t,o);case i.Comment:return this.comment(e,t,o);case i.Element:return this.element(e,t,o);case i.Raw:return this.raw(e,t,o);case i.Text:return this.text(e,t,o);case i.ProcessingInstruction:return this.processingInstruction(e,t,o);case i.Dummy:return"";case i.Declaration:return this.declaration(e,t,o);case i.DocType:return this.docType(e,t,o);case i.AttributeDeclaration:return this.dtdAttList(e,t,o);case i.ElementDeclaration:return this.dtdElement(e,t,o);case i.EntityDeclaration:return this.dtdEntity(e,t,o);case i.NotationDeclaration:return this.dtdNotation(e,t,o);default:throw new Error("Unknown XML node type: "+e.constructor.name)}},s.prototype.processingInstruction=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i)+"<?",t.state=o.InsideTag,r+=e.target,e.value&&(r+=" "+e.value),t.state=o.CloseTag,r+=t.spaceBeforeSlash+"?>",r+=this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.raw=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i),t.state=o.InsideTag,r+=e.value,t.state=o.CloseTag,r+=this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.text=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i),t.state=o.InsideTag,r+=e.value,t.state=o.CloseTag,r+=this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.dtdAttList=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i)+"<!ATTLIST",t.state=o.InsideTag,r+=" "+e.elementName+" "+e.attributeName+" "+e.attributeType,"#DEFAULT"!==e.defaultValueType&&(r+=" "+e.defaultValueType),e.defaultValue&&(r+=' "'+e.defaultValue+'"'),t.state=o.CloseTag,r+=t.spaceBeforeSlash+">"+this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.dtdElement=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i)+"<!ELEMENT",t.state=o.InsideTag,r+=" "+e.name+" "+e.value,t.state=o.CloseTag,r+=t.spaceBeforeSlash+">"+this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.dtdEntity=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i)+"<!ENTITY",t.state=o.InsideTag,e.pe&&(r+=" %"),r+=" "+e.name,e.value?r+=' "'+e.value+'"':(e.pubID&&e.sysID?r+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.sysID&&(r+=' SYSTEM "'+e.sysID+'"'),e.nData&&(r+=" NDATA "+e.nData)),t.state=o.CloseTag,r+=t.spaceBeforeSlash+">"+this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.dtdNotation=function(e,t,i){var r;return this.openNode(e,t,i),t.state=o.OpenTag,r=this.indent(e,t,i)+"<!NOTATION",t.state=o.InsideTag,r+=" "+e.name,e.pubID&&e.sysID?r+=' PUBLIC "'+e.pubID+'" "'+e.sysID+'"':e.pubID?r+=' PUBLIC "'+e.pubID+'"':e.sysID&&(r+=' SYSTEM "'+e.sysID+'"'),t.state=o.CloseTag,r+=t.spaceBeforeSlash+">"+this.endline(e,t,i),t.state=o.None,this.closeNode(e,t,i),r},s.prototype.openNode=function(e,t,i){},s.prototype.closeNode=function(e,t,i){},s.prototype.openAttribute=function(e,t,i){},s.prototype.closeAttribute=function(e,t,i){},s)}).call(this)},{"./NodeType":126,"./Utility":127,"./WriterState":128,"./XMLCData":130,"./XMLComment":132,"./XMLDTDAttList":137,"./XMLDTDElement":138,"./XMLDTDEntity":139,"./XMLDTDNotation":140,"./XMLDeclaration":141,"./XMLDocType":142,"./XMLDummy":145,"./XMLElement":146,"./XMLProcessingInstruction":150,"./XMLRaw":151,"./XMLText":155}],157:[function(e,t,i){(function(){var i=(c=e("./Utility")).assign,o=c.isFunction,r=e("./XMLDOMImplementation"),n=e("./XMLDocument"),s=e("./XMLDocumentCB"),a=e("./XMLStringWriter"),l=e("./XMLStreamWriter"),d=e("./NodeType"),c=e("./WriterState");t.exports.create=function(e,t,o,r){if(null==e)throw new Error("Root element needs a name.");return r=i({},t,o,r),e=(o=new n(r)).element(e),r.headless||(o.declaration(r),null==r.pubID&&null==r.sysID||o.dtd(r)),e},t.exports.begin=function(e,t,i){var r;return o(e)&&(t=(r=[e,t])[0],i=r[1],e={}),t?new s(e,t,i):new n(e)},t.exports.stringWriter=function(e){return new a(e)},t.exports.streamWriter=function(e,t){return new l(e,t)},t.exports.implementation=new r,t.exports.nodeType=d,t.exports.writerState=c}).call(this)},{"./NodeType":126,"./Utility":127,"./WriterState":128,"./XMLDOMImplementation":135,"./XMLDocument":143,"./XMLDocumentCB":144,"./XMLStreamWriter":152,"./XMLStringWriter":153}]},{},[1])(1)},8008:(e,t,i)=>{"use strict";i.d(t,{W:()=>n});var o=i(6862),r=i(5986);class n{constructor(e){this.model=e,this.searchFilterData={}}buildFields(e){return e}getSearchTable(){return this.model.targetObjectName}getGroupKey(e){return this.model.hasCustomSearchFilters?e.record.Id:e.targetFieldName}setDefaultFilterValues(e,t){let i={},o=[];if(this.model.hasCustomSearchFilters){for(let n of e)for(let e of this.model.searchFilters)if(e.record.Id===n){i[n]={value:void 0===this.searchFilterData[n]?e.stringValue:this.searchFilterData[n].value,field:void 0===this.searchFilterData[n]?e.targetFieldName?e.targetFieldName:"":this.searchFilterData[n].field,hidden:e.hidden},t&&e.stringValue&&this.isLookupType(t[n].model.type)&&o.push(this.queryLookupFilterName(i[n].value,t[n].model.referenceTo[0]).then((function(e){let t=e.records[0];if(!t)return;let o=new r.X(t.attributes.type).getNameField();i[n].label=t[o]})));break}}else for(let o of e)i[o]={value:void 0===this.searchFilterData[o]?t[o].stringValue:this.searchFilterData[o].value,hidden:t[o].hidden},this.searchFilterData[o]&&this.searchFilterData[o].label&&(i[o].label=this.searchFilterData[o].label);return new Promise((e=>{Promise.all(o).then((()=>{this.searchFilterData=n.handleDynamicSearchFilters(i,this.dynamicSearchFilters),e(i)}))}))}static handleDynamicSearchFilters(e,t){if(!t)return e;for(let i of t)"Optional Filter"===i.type&&e[i.targetFieldName]&&(e[i.targetFieldName].value=i.stringValue);return e}getFieldSet(){return this.fieldSet}getFilterContext(){return this.model.hasCustomSearchFilters?this.loadCustomSearchFilterValues(this.model.searchFilters,this.searchFilterData):this.loadStandardSearchFilterValues(this.searchFilterData)}loadCustomSearchFilterValues(e,t){let i={};for(let o in t)for(let r of e)!0!==r.hidden&&o===r.record.Id&&void 0!==t[o]&&null!==t[o]&&!0!==this.isBlank(t[o].value)&&(i[r.targetFieldName]=t[o].value);return i}loadStandardSearchFilterValues(e){let t={};for(let i in e)!0!==this.isBlank(e[i].value)&&(t[i]=e[i].value);return t}getAdditionalProperties(){if(this.dynamicSearchFilters){let e=[];for(let t=0,i=this.dynamicSearchFilters.length;t<i;t++)"Default Filter"===this.dynamicSearchFilters[t].type&&e.push(JSON.stringify(this.dynamicSearchFilters[t]));return e}}clearFields(){let e={};for(let t in this.searchFilterData)e[t]=JSON.parse(JSON.stringify(this.searchFilterData[t])),e[t].value="";return this.searchFilterData=e}runOnLoad(e){this.searchFilterData=e}isLookupType(e){return"reference"===e||"id"===e}queryLookupFilterName(e,t){let i=new r.X(t).getNameField(),n=e?`'${e}'`:null;return(new o.N).query(`SELECT Id, ${i} FROM ${t} WHERE Id = `.concat(n))}hasSearchFilterValues(){let e=this.getFilterContext();for(let t in e)if(null!=e[t])return!0;return!1}isBlank(e){return null===e||""===e||void 0===e}}},8125:(e,t,i)=>{"use strict";i.r(t),i.d(t,{DynamicLookup:()=>f});var o=i(7571),r=i(8008),n=i(8873),s=i(4070),a=i(3613),l=i(1149),d=i(4886),c=i(9134),u=i(7734),h=i(6206);i(5001),i(4459),i(5305),i(7943),i(4482),i(8500),i(2804),i(1520),i(7533),i(8729),i(7543),i(2367),i(5523),i(9104),i(9235),i(4167),i(4);const p=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be ::content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-page-header> must import to maintain the
 * styles of sb-page-header.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-page-header > .icon {
  display: var(--sbPageHeaderIconDisplay);
  color: var(--sbPageHeaderIconColor);
  width: var(--sbPageHeaderIconSize);
  height: var(--sbPageHeaderIconSize);
  font-size: var(--sbPageHeaderIconSize);
  margin-right: 12px;
  border-radius: 4px;
}
sb-page-header > .icon:before {
  display: block;
}
sb-page-header > h2 {
  letter-spacing: 1px;
  color: var(--sbPageHeaderSecondaryColor);
  font-size: var(--sbPageHeaderSecondaryFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
}
sb-page-header > h1 {
  color: var(--sbPageHeaderColor);
  font-size: var(--sbPageHeaderFontSize);
  font-family: var(--sbPageHeaderFontFamily);
  font-style: var(--sbPageHeaderTitleFontStyle);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  text-decoration: var(--sbPageHeaderTitleTextDecoration);
}
@media screen and (max-width: 480px) {
  sb-page-header > h1 {
    display: var(--my-page-header-display, none);
    width: var(--my-page-header-width, 139px);
    line-height: 1.25;
    font-size: 1.25rem;
    font-weight: 300;
    text-overflow: ellipsis;
    white-space: nowrap;
    overflow: hidden;
  }
}
sb-page-header > .fixedActions {
  font-size: 0;
  white-space: nowrap;
  margin-right: 10px;
}
sb-page-header > .fixedActions > .end {
  margin-right: 14px;
}
sb-page-header > .fixedActions > *,
sb-page-header > .fixedActions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .fixedActions > *:first-of-type,
sb-page-header > .fixedActions > paper-button:first-of-type,
sb-page-header > .fixedActions > *.end + *,
sb-page-header > .fixedActions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .fixedActions > *:last-of-type,
sb-page-header > .fixedActions > paper-button:last-of-type,
sb-page-header > .fixedActions > *.end,
sb-page-header > .fixedActions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header div[slot="actions"]:not(.normal) > * {
  white-space: nowrap;
  display: block !important;
  text-align: left;
  border: 0 !important;
  margin-right: 0 !important;
}
sb-page-header > .actions {
  font-size: 0;
}
sb-page-header > .actions > .end {
  margin-right: 14px;
}
sb-page-header > .actions > *,
sb-page-header > .actions > paper-button {
  border-right: 0;
  border-radius: 0;
}
sb-page-header > .actions > *:first-of-type,
sb-page-header > .actions > paper-button:first-of-type,
sb-page-header > .actions > *.end + *,
sb-page-header > .actions > paper-button.end + * {
  border-top-left-radius: var(--sbBtnBorderRadius);
  border-bottom-left-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions > *:last-of-type,
sb-page-header > .actions > paper-button:last-of-type,
sb-page-header > .actions > *.end,
sb-page-header > .actions > paper-button.end {
  border-right: var(--sbBtnBorder);
  border-top-right-radius: var(--sbBtnBorderRadius);
  border-bottom-right-radius: var(--sbBtnBorderRadius);
}
sb-page-header > .actions .solutionGroups {
  min-width: 32px;
  max-height: 450px;
  overflow-y: auto;
  background-color: #ffffff;
  border-radius: var(--sbBtnBorderRadius);
  border: var(--sbBtnBorder);
  z-index: 4;
  position: absolute;
  right: 18px;
  top: 60px;
  padding: 0;
  display: none !important;
}
sb-page-header > .actions .solutionGroups li {
  cursor: pointer;
  padding: 5px 20px 5px 10px;
  text-align: left;
  font-size: 14px;
  color: #0070D2;
  margin: 0;
  white-space: nowrap;
  min-height: 24px;
  display: block;
  position: relative;
}
sb-page-header > .actions .solutionGroups.openSolutions {
  display: block !important;
}
sb-page-header > .actions .solutionGroups.mobile {
  position: fixed;
  right: 132px;
  top: 300px;
  max-height: 260px;
  max-width: 184px;
  overflow-x: hidden;
}
sb-page-header .icon.sf-icon-custom90 {
  background-color: #5A9CDD;
}
sb-page-header .icon.sf-icon-custom93 {
  background-color: #904D4C;
}
sb-page-header .icon.sf-icon-product {
  background-color: #B781D3;
}
sb-page-header .icon.sf-icon-settings {
  background-color: #EDB566;
}
sb-page-header .icon.sf-icon-download {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-contract-1 {
  background-color: #6EC06E;
}
sb-page-header .icon.sf-icon-approval {
  background-color: #00C6B7;
}
sb-page-header .icon.sf-icon-gdoc {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-document {
  background-color: #baac93;
}
sb-page-header .icon.sf-icon-recent {
  background-color: #6CA1E9;
}
sb-page-header .icon.sf-icon-copy {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-favorite {
  background-color: #FF7B84;
}
sb-page-header .icon.sf-icon-refresh.resize {
  background-color: #6CA0E9;
}
sb-page-header .icon.sf-icon-replace {
  background-color: #54698D;
}
sb-page-header .icon.sf-icon-custom_apps {
  background-color: #8199af;
}
sb-page-header .icon.sf-icon-custom_apps.resize {
  font-size: 24px !important;
  padding: 4px;
}
:host {
  color: #3c3d3e;
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: hidden;
}
:host > #filter {
  overflow: auto;
  flex: auto;
  -webkit-overflow-scrolling: touch;
}
:host .primary {
  background-color: #0070d2;
  color: #FFFFFF;
  font-weight: 400;
  width: initial;
}
:host .primary:hover {
  background-color: #005fb2;
  color: #FFFFFF;
}
:host #drawer {
  position: relative;
}
:host .panel {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: flex-start;
  overflow: auto;
  flex: auto;
  background-color: var(--sbFilterDrawerBgColor);
  color: var(--sbFilterDrawerFontColor);
}
:host .panelbutton {
  margin: 10px 0 10px 20px;
}
:host .panelbutton[class*='--mobile'] {
  border-bottom: inherit;
  background-color: #0070d2;
  width: initial;
  font-size: inherit;
}
:host [class*='--mobile'] .panelbutton {
  border-bottom: inherit;
  background-color: #0070d2;
  width: initial;
  font-size: inherit;
}
:host .click {
  padding-top: 10px;
  color: var(--sbLinkColor);
  margin-left: 18px;
  cursor: pointer;
}
:host .click:hover {
  color: var(--sbLinkColorHover);
}
:host .filter-buttons {
  margin: 10px 0 0 20px;
  display: flex;
  align-items: center;
}
:host .sf-icon-close {
  float: right;
  cursor: pointer;
  font-size: 14px;
}
:host .title {
  margin: 20px 20px 0 20px;
  font-size: 16px;
  margin-left: 20px;
}
:host .title[class*='--mobile'] {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
:host [class*='--mobile'] .title {
  font-weight: 400;
  font-size: 1.1rem;
  color: #16325c;
}
.datatable {
  position: relative;
}
.dynamic-header {
  padding: 15px 15px 30px 15px;
  font-size: 18px;
}
.dynamic-header .header-container {
  display: inline-block;
}
.dynamic-header .header-container .instructions-text {
  display: flex;
  font-size: 14px;
}
.dynamic-header .additional-instructions {
  display: inline-block;
  font-size: 14px;
}
.drawer {
  position: relative;
  top: inherit;
}
.drawer sb-lookup-layout {
  overflow: auto;
}
.additional-instructions[class*='--desktop'] {
  float: right;
}
[class*='--desktop'] .additional-instructions {
  float: right;
}
.modaloverflow {
  -webkit-overflow-scrolling: auto !important;
}
`;class f extends((0,d.$)((0,c.D)(o.YW))){static get is(){return"sb-dynamic-lookup"}static get properties(){return(0,h.X$)({quote:Object,model:Object,feature:Object,selectedProducts:{type:Object,value:{}},lineEditorModel:Object,redirectUrl:String,defaultFilters:{type:Object,value:{}},internal:{type:Boolean,value:!1},errors:{type:Array,value:[],notify:!0},error:{type:Array,value:[]},productIds:{type:String,computed:"getProductIds(ctx)"},optionId:{type:String,computed:"getOptionId(ctx)"},ignoreCache:{type:Boolean,computed:"getIgnoreCache(ctx)"},hasInstructions:{type:Boolean,computed:"setHasInstructions(feature)"},validationMessages:Array},o.YW.properties)}static get observers(){return["searchModelChanged(searchModel)"]}searchModelChanged(){this.deSelectAll()}ready(){super.ready(),Object.entries({"errors-changed":"clearStackTrace"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])})),this.$.lookupLayout.additionalFields=["PricebookEntry.UnitPrice"],this.$.drawer.addEventListener("transitionend",this.refocus.bind(this)),this.addEventListener("iron-deselect",this.handleDrawerClosed.bind(this)),this.handleOptionConfiguratorResponse()}cancel(){this.spinner=!0;let e=this._createQueryParams();this.nav("#",e,["product","pc"],!1)}add(){if(0===Object.keys(this.selectedProducts).length)return void this.cancel();let e=[];for(let t in this.selectedProducts)e.push(this.ctx.params.fId+":"+t);const t=this.validateMaximumOptionsNotExceeded(e.length);this.validationMessages=[],t>0?this.validationMessages=[this.i18n.l("Please deselect at least {0} option(s). The max number of options allowed for this feature is {1}.",[t,this.feature.record[this.prefix+"MaxOptionCount__c"]])]:(this.$.productLoader.featureOptionIds=e,this.$.productLoader.ignoreCache=!0)}convertProductsToOptions(e){for(let i in e){var t=e[i];t.record[this.prefix+"UnitPrice__c"]=this.selectedProducts[i].record.UnitPrice,t.isDynamicOption=!0,this.push("product.options",t),this.push("feature._transient_.optionConfigurations",t)}this.syncConfigurationAttributesToProduct(t);let i=this._createQueryParams();this.nav("#",i,["product","pc"],!1)}syncConfigurationAttributesToProduct(e){if(void 0===this.autoSelectAttributes){this.autoSelectAttributes={};for(let t of this.product.configurationAttributes)!0===t.autoSelect&&void 0===this.autoSelectAttributes[t.targetFieldName]&&e.record[`${this.prefix}Feature__c`]===t.featureId&&(this.autoSelectAttributes[t.targetFieldName]=!0)}for(let t in this.autoSelectAttributes)this.product.configuration.configurationData[t]=e.record[t]}_createQueryParams(){let e={qId:this.model.qId},t=this.ctx.params;return t?(t.pId&&(e.pId=t.pId),t.oId&&(e.oId=t.oId,e.origin="dl"),t.lineKey&&(e.lineKey=t.lineKey),t.redirectUrl&&(e.redirectUrl=t.redirectUrl),t.productIdx&&(e.productIdx=t.productIdx),t.tab&&(e.tab=t.tab),t.groupKey&&(e.groupKey=t.groupKey),t.aId&&(e.aId=t.aId),e):e}handleProductsLoadServerResponse(){this.$.qo.addEventListener("line-editor-model-changed",function(e){this.lineEditorModel=e.detail.value,this.isoCode=this.lineEditorModel.quote.record.CurrencyIsoCode||null,this.quote=e.detail.value.quote,this.$.productLoader.productIds=this.productIds,this.$.productLoader.quote=this.$.optionConfigure.quote=this.quote,this.headerSubtitle=e.detail.value.headerSubtitle}.bind(this)),this.$.productLoader.addEventListener("product-load-model-changed",function(e){if(Object.keys(this.selectedProducts).length>0)return this.convertProductsToOptions(e.detail.value);let t=this.ctx.params.productIdx?e.detail.value.configuredProducts[this.ctx.params.productIdx]:e.detail.value.configuredProducts[0];if(this.localizer=new n.N(this.prefix),""!==this.optionId)return this.$.optionConfigure.product=t;this.setCurrentProductModel(t)}.bind(this)),this.$.smLoadService.addEventListener("search-model-changed",function(e){let t=this.localizer.localizeSearchModel(e.detail.value),i=this.product.productFieldSets[this.feature.record[this.prefix+"DynamicProductLookupFieldSet__c"]];i&&(t.resultFieldNames=i),this.$.lookupLayout.fieldPrefix=t.targetObjectName+".",this.searchModel=t,this.buildDelegator()}.bind(this))}handleOptionConfiguratorResponse(){this.$.optionConfigure.addEventListener("option-configurator-response-changed",function(e){this.setCurrentProductModel(e.detail.value.configuredProducts[0])}.bind(this))}setCurrentProductModel(e){if(this.product=e,this.model=new s.y(this.quote.record.Id,e,this.app.org.prefix,this.isoCode,this.ctx.params.fId),this.feature=this.model.getFeature(this.ctx.params.fId),void 0===this.feature)return void(this.validationMessages=[this.i18n.l("Attempted to access a feature not associated with this bundle.")]);let t=[],i=!1;if(this.feature.searchFilters){null!=this.defaultFilters[this.feature.record.Id]?i=!0:this.defaultFilters[this.feature.record.Id]=[];for(let e of this.feature.searchFilters)null!=e.valueObject&&(e.stringValue=this.getStringValue(e)),t.push(JSON.stringify(e)),i||this.defaultFilters[this.feature.record.Id].push(e)}this.$.smLoadService.filters=t,this.$.smLoadService.fieldSet=this.feature.record[this.prefix+"DynamicProductFilterFieldSet__c"],this.$.smLoadService.quote=this.quote}buildDelegator(){let e=new r.W(this.searchModel);e.dynamicSearchFilters=this.defaultFilters[this.feature.record.Id]?this.defaultFilters[this.feature.record.Id]:[],e.fieldSet=this.feature.record[this.prefix+"DynamicProductLookupFieldSet__c"],this.searcher=e}toggleFilter(){this.shadowRoot.querySelector("sb-page-header")._closeMenu(),this.panelHeader="Product Filter",this.$.drawer.togglePanel(),this.refocus()}closeDrawer(){this.refocus(),this.$.drawer.closeDrawer()}refocus(){this.$.pf.focusFirstField()}reverseFocus(){this.$.clearfilter.focus()}runSearcher(){this.shadowRoot.querySelector("#submit").focus(),this.lastSubmit="pf",this.$.pf.runService(),this.closeDrawer()}removeFilter(){this.shadowRoot.querySelector(".actions").removeChild(this.shadowRoot.querySelector("#fb"))}getConfigProductIds(e){let t=[];for(let i of e.detail.value.configuredProducts)t.push(i.record.Id);return t.join(",")}deSelectAll(){this.$.lookupLayout.deSelectAll()}getOrderedSelectedProducts(){let e=Object.keys(this.selectedProducts).sort(function(e,t){return this.selectedProducts[e].index-this.selectedProducts[t].index}.bind(this)),t=[];for(let i of e)t.push(this.selectedProducts[i]);return t}handleDrawerClosed(){"main"===this.$.drawer.selected&&(0,l.rC)(l.sV.PANEL_CLOSED)}clearFilterFields(){this.filterData=this.searcher.clearFields()}getStringValue(e){return"Product"===e.valueObject?this.product.record[e.valueField]:"Quote"===e.valueObject?this.quote.record[e.valueField]:"Configuration Attributes"===e.valueObject?this.product.configuration.configurationData[e.valueField]:void 0}bindFilterEnterCallBacks(){this.$.pf.enterCallback=this.runSearcher.bind(this)}getProductIds(){return this.ctx.params&&this.ctx.params.pId||""}getOptionId(){return this.ctx.params&&this.ctx.params.oId||""}getIgnoreCache(){return!!this.ctx.params&&"true"===this.ctx.params.ignoreCache}get prefix(){return this.app.org.prefix?this.app.org.prefix+"__":""}clearStackTrace(){this.errors[0]&&(this.validationMessages=(0,a.W)(this.errors),this.spinner=!1)}setHasInstructions(){return!!this.feature.instructionsText||!!this.feature.additionalInstructions}validateMaximumOptionsNotExceeded(e){return this.feature._transient_.optionConfigurations.length+e-this.feature.record[this.prefix+"MaxOptionCount__c"]}static get template(){return u.qy`
		<style include="sb-tables-styles"></style>
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style>${p}</style>

		<sb-line-editor-read id="qo" quote-id="[[ctx.params.qId]]" line-editor-model="{{le}}" error="{{errors}}"></sb-line-editor-read>
		<sb-pc-product-load id="productLoader" product-ids="[[productIds]]" line-key="[[lineKey]]"
							ignore-cache="[[ignoreCache]]" error="{{errors}}"></sb-pc-product-load>
		<sb-search-model-load id="smLoadService" loader="ProductConfigurationServiceProvider.DynamicOptionsLoader" send-quote-record="true" error="{{errors}}"></sb-search-model-load>
		<sb-pc-option-configure id="optionConfigure" option-id="[[optionId]]" error="{{errors}}"></sb-pc-option-configure>

		<sb-loading-spinner show="[[spinner]]"></sb-loading-spinner>
		<div device id="messages">
			<sb-toast type="error" messages="[[validationMessages]]"/>
			<sb-toast type="error" messages="[[error]]"></sb-toast>
		</div>

		<sb-page-header>
			<i class="icon sf-icon-custom_apps resize" slot="icon"></i>
			<h1 slot="h1">
				<sb-i18n>Configure Products</sb-i18n>
			</h1>
			<h2 id="headerSubtitle" slot="h2">[[le.headerSubtitle]]</h2>
			<div class="fixedActions" slot="fixedActions">
				<paper-button noink on-click="toggleFilter" id="fb" class="sf-icon-filterlist">
					<span class="badge icon-badge-upper-left" id="numResults" hidden$="[[!hasTotalCount]]">[[totalCount]]</span>
				</paper-button>
				<paper-tooltip for="fb" position="bottom" animation-delay="0" offset="10" fit-to-visible-bounds="true">
					<sb-i18n>Filter</sb-i18n>
				</paper-tooltip>
			</div>
			<div class="actions" slot="actions">
				<paper-button on-click="add" noink>
					<sb-i18n>Add</sb-i18n>
				</paper-button>
				<paper-button on-click="cancel" noink>
					<sb-i18n>Cancel</sb-i18n>
				</paper-button>
			</div>
		</sb-page-header>
		<paper-drawer-panel device id="drawer" right-drawer="true" force-narrow disable-swipe="true">
			<div main slot="main">
				<sb-lookup-layout
					class="main"
					id="lookupLayout"
					search-model="{{searchModel}}"
					primary-mobile-cols='["Product2.Name", "UnitPrice"]'
					selection-id-data-path="[[searchModel.targetObjectName]].Id"
					selected-rows="{{selectedProducts}}"
					currency-iso-code="[[quote.record.CurrencyIsoCode]]"
					total-count="{{totalCount}}"
					has-total-count="{{hasTotalCount}}"
					no-results-message="[[lineEditorModel.customLabels.msg_no_search_results]]"
				>
					<header device class="dynamic-header" slot="dynamic-header">
						<div class="header-container">
							<span>[[feature.record.Name]]</span>
							<template is="dom-if" if="[[hasInstructions]]">
								<div class="instructions-text">[[feature.instructionsText]]</div>
							</template>
						</div>
						<template is="dom-if" if="[[hasInstructions]]">
							<div class="additional-instructions">[[feature.additionalInstructions]]</div>
						</template>
					</header>
				</sb-lookup-layout>
			</div>
			<div drawer class="panel" slot="drawer">
				<div device id="pflayout" class="panel-actions">
					<header class="title"><sb-i18n>Filter</sb-i18n>
						<i class="sf-icon-close" on-click="closeDrawer"></i>
					</header>
					<div tabindex="0" on-focus="reverseFocus"></div>

					<sb-filter-layout id="pf"
									  search-model="{{searchModel}}"
									  filter-path="searchFilters"
									  filter-delegator="{{searcher}}"
									  service-loader="ProductConfigurationServiceProvider.DynamicOptionsSearcher"
									  send-quote-record="true"
									  quote="[[quote]]"
									  search-filter-data="{{filterData}}"
									  spinner="{{spinner}}"
									  localizer="[[localizer]]"
									  error="{{errors}}"
					></sb-filter-layout>
					<paper-button id="submit" noink on-click="runSearcher" class="primary panelbutton"><sb-i18n>Apply</sb-i18n></paper-button>
					<text id="clearfilter" class="click" on-click="clearFilterFields" tabindex="0"><sb-i18n>Clear Fields</sb-i18n></text>
					<div tabindex="0" on-focus="refocus"></div>
				</div>
			</div>
		</paper-drawer-panel>
	    `}}customElements.define(f.is,f)},8212:(e,t,i)=>{var o;
/*!
	query-string
	Parse and stringify URL query strings
	https://github.com/sindresorhus/query-string
	by Sindre Sorhus
	MIT License
*/!function(){"use strict";var r={parse:function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#)/,""))?e.trim().split("&").reduce((function(e,t){var i=t.replace(/\+/g," ").split("="),o=i[0],r=i[1];return o=decodeURIComponent(o),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(o)?Array.isArray(e[o])?e[o].push(r):e[o]=[e[o],r]:e[o]=r,e}),{}):{}},stringify:function(e){return e?Object.keys(e).map((function(t){var i=e[t];return Array.isArray(i)?i.map((function(e){return encodeURIComponent(t)+"="+encodeURIComponent(e)})).join("&"):encodeURIComponent(t)+"="+encodeURIComponent(i)})).join("&"):""}};void 0===(o=function(){return r}.call(t,i,t,e))||(e.exports=o)}()},8221:(e,t,i)=>{"use strict";i.d(t,{C:()=>r});var o=i(3900);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/const r={templatize(e,t){this._templatizerTemplate=e,this.ctor=(0,o.sm)(e,this,{mutableData:Boolean(t),parentModel:this._parentModel,instanceProps:this._instanceProps,forwardHostProp:this._forwardHostPropV2,notifyInstanceProp:this._notifyInstancePropV2})},stamp(e){return new this.ctor(e)},modelForElement(e){return(0,o.lH)(this._templatizerTemplate,e)}}},8237:(e,t,i)=>{"use strict";var o=i(7734),r=(i(7543),i(2804),i(4886));i(4167),i(57),i(4);const n=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  text-align: center;
  white-space: nowrap;
}
#typeahead {
  --sidePanelInputWidth: 330px !important;
  --sidePanelInputHeight: 36px !important;
  --sbTypeaheadSelectorPadding: 4px 0px;
  --sbTypeaheadSelectorItemPadding: 8px 15px 8px 15px;
  --zIndex: 0;
  --sbTypeaheadSelectorLeft: 0px;
}
#typeahead[class*='--mobile'] {
  --sidePanelInputWidth: calc(98% - 60px) !important;
}
[class*='--mobile'] #typeahead {
  --sidePanelInputWidth: calc(98% - 60px) !important;
}
.searchActions {
  display: inline-flex;
  margin-top: -3px;
  position: relative;
  right: 21px;
}
.searchActions .sbPrimaryAction {
  border-color: var(--sbBrandedButtonBorderColor);
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
  font-weight: 400;
  width: initial;
}
.searchActions .sbPrimaryAction:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.noIcons {
  right: 3px;
}
.disabled {
  cursor: default;
  pointer-events: none;
  opacity: 0.2;
}
.shiftRight {
  right: 4px;
}
`;var s=i(6206),a=i(1149),l=i(7571),d=i(6902),c=i(9406),u=i(8873);i(9334),i(1306),i(4482);class h extends((0,r.$)(l.YW)){static get is(){return"sb-search-bar"}static get properties(){return(0,s.X$)({limit:{type:Number,value:5},value:{type:String,value:"",notify:!0},searchedValue:{type:String,notify:!0},label:{type:Array,value:["DisplayName"]},hideCancelIcon:{type:Boolean,value:!1},quote:Object,searchService:String,actionId:String,searchResultCallback:Function,showResetButton:{type:Boolean,value:!1},placeholder:{type:String,computed:"getPlaceholder(i18n)"},i18n:{type:Object,value:function(){return d.B.properties.i18n.value()}},searcher:Object},l.YW.properties)}static get observers(){return["valueChanged(value)","_realignObserver(reposition, isMobile)"]}ready(){super.ready(),this.$.typeahead.addEventListener("enter-without-selection",this.search.bind(this)),this.$.typeahead.addEventListener("selected-item-changed",this.handleItemSelected.bind(this)),this.$.typeahead.showAllResults=!0,this.$.typeahead.itemsCallback=this.typeAheadCallback.bind(this),this.localizer=new u.N(this.fieldPrefix)}valueChanged(){void 0===this.value||""===this.value?(this.dispatchEvent((0,a.uv)("sb-type-clear")),(0,s.p1)("disabled",!1,this.$.search)):(0,s.p1)("disabled",!1===this.isSearchValid(),this.$.search)}_realignObserver(e,t){if(void 0!==e&&void 0!==t)return this.realign(e,t)}realign(){this.isMobile&&(0,s.p1)("shiftRight",!0,this.$.buttons)}handleItemSelected(e){this.value=e.detail.value.Name,void 0!==this.value&&this.dispatchEvent((0,a.uv)("sb-search-item-selected",{item:this.getSearchResultRow(e.detail.value.Id),searchValue:this.value}))}toggleResetButton(e){!0===this.showResetButton&&(0,s.p1)("disabled",!1===e,this.shadowRoot.querySelector("#reset"))}reset(){this.dispatchEvent((0,a.uv)("sb-search-reset-clicked"))}search(){!1!==this.isSearchValid()?(this.spinner=!0,this.blur(),this.searchedValue=this.value,this.serviceCallout(null).then(function(e){this.dispatchEvent((0,a.uv)("sb-search-invoked",{searchModel:e,searchValue:this.value})),this.spinner=!1}.bind(this))):""!==this.value&&void 0!==this.value||this.dispatchEvent((0,a.uv)("sb-search-nil-search-invoked"))}getSearchResultRow(e){let t=Object.assign({},this.mostRecentResults);for(let i of t.results)if(i.record.Product2Id===e)return i}typeAheadCallback(){return new Promise(function(e){void 0!==this.searchService&&void 0!==this.quote&&!1!==this.isSearchValid()&&this.serviceCallout(this.limit).then(function(t){if(this.mostRecentResults=t,"function"==typeof this.searchResultCallback)return this.searchResultCallback(this.parseResults(t));e(this.parseResults(t))}.bind(this))}.bind(this))}getFilterContextFromSearcher(){return this.searcher?this.searcher.getFilterContext():{}}buildContext(e){return(new c.k).addObject("filterContext",this.getFilterContextFromSearcher(),void 0,void 0,!0).add("searchContext",this.getSearchContext()).add("resultLimit",e).add("pageNumber",null).add("actionId",this.actionId).addObject("quote",this.quote.record).build()}serviceCallout(e){return new Promise(function(t){this.$.service.client.load(this.prefix,this.searchService,null,this.buildContext(e)).then(function(e){t(this.localizer.localizeSearchModel(e))}.bind(this))}.bind(this))}parseResults(e){let t=[],i=this.getSearchContext();if(null===i)return t;for(let o of e.results){let e=o.record.Product2,r=new RegExp(i,"i"),n=e.Name.match(r);if(n){let t=e.Name.substring(0,n.index),o=e.Name.substring(n.index,n.index+i.length),r=e.Name.substring(n.index+i.length);e.DisplayName=t+"<b>"+o+"</b>"+r}else e.DisplayName=e.Name;t.push(e)}return t}get prefix(){return this.app.org.prefix}get fieldPrefix(){return void 0===this.app.org.prefix?"":this.app.org.prefix+"__"}getSearchContext(){return!0===this.isSearchValid()?this.value:null}isSearchValid(){if(void 0===this.value)return!1;return this.value.replace(/ /g,"").replace(/\*/g,"").replace(/\?/g,"").replace(/\(/g,"").replace(/\)/g,"").length>1}getPlaceholder(){return this.i18n&&"function"==typeof this.i18n.l?this.i18n.l("Search Products"):"Search Products"}static get template(){return o.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-forms-styles"></style>
		<style include="sb-icons-styles"></style>
		<style>${n}</style>

		<sb-service id="service"></sb-service>
		<sb-loading-spinner id="spinner" show="[[spinner]]"></sb-loading-spinner>
		<span device>
			<sb-typeahead
					id="typeahead"
					labels="[[label]]"
					placeholder="[[placeholder]]"
					label-value="{{value}}"
					show-left-search-icon="true"
					hide-cancel-icon="[[hideCancelIcon]]"
					disjoint-label="true"
					value="Name"
			></sb-typeahead>
			<div device id="buttons" class="searchActions">
				<paper-button id="search" class="sbPrimaryAction sb-icon-search" noink on-click="search"></paper-button>
				<template is="dom-if" if="[[showResetButton]]">
					<paper-button id="reset" class="disabled sf-icon-undo" noink on-click="reset"></paper-button>
				</template>
			</div>
		</span>
		`}}customElements.define(h.is,h)},8246:(e,t,i)=>{"use strict";i.d(t,{y:()=>n});i(8443);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let o=0;function r(){}r.prototype.__mixinApplications,r.prototype.__mixinSet;const n=function(e){let t=e.__mixinApplications;t||(t=new WeakMap,e.__mixinApplications=t);let i=o++;return function(o){let r=o.__mixinSet;if(r&&r[i])return o;let n=t,s=n.get(o);if(!s){s=e(o),n.set(o,s);let t=Object.create(s.__mixinSet||r||null);t[i]=!0,s.__mixinSet=t}return s}}},8260:(e,t,i)=>{"use strict";i.d(t,{A:()=>n,a:()=>s});i(1518),i(7659);var o=i(503),r=i(5565);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const n={properties:{pressed:{type:Boolean,readOnly:!0,value:!1,reflectToAttribute:!0,observer:"_pressedChanged"},toggles:{type:Boolean,value:!1,reflectToAttribute:!0},active:{type:Boolean,value:!1,notify:!0,reflectToAttribute:!0},pointerDown:{type:Boolean,readOnly:!0,value:!1},receivedFocusFromKeyboard:{type:Boolean,readOnly:!0},ariaActiveAttribute:{type:String,value:"aria-pressed",observer:"_ariaActiveAttributeChanged"}},listeners:{down:"_downHandler",up:"_upHandler",tap:"_tapHandler"},observers:["_focusChanged(focused)","_activeChanged(active, ariaActiveAttribute)"],keyBindings:{"enter:keydown":"_asyncClick","space:keydown":"_spaceKeyDownHandler","space:keyup":"_spaceKeyUpHandler"},_mouseEventRe:/^mouse/,_tapHandler:function(){this.toggles?this._userActivate(!this.active):this.active=!1},_focusChanged:function(e){this._detectKeyboardFocus(e),e||this._setPressed(!1)},_detectKeyboardFocus:function(e){this._setReceivedFocusFromKeyboard(!this.pointerDown&&e)},_userActivate:function(e){this.active!==e&&(this.active=e,this.fire("change"))},_downHandler:function(e){this._setPointerDown(!0),this._setPressed(!0),this._setReceivedFocusFromKeyboard(!1)},_upHandler:function(){this._setPointerDown(!1),this._setPressed(!1)},_spaceKeyDownHandler:function(e){var t=e.detail.keyboardEvent,i=(0,r.tT)(t).localTarget;this.isLightDescendant(i)||(t.preventDefault(),t.stopImmediatePropagation(),this._setPressed(!0))},_spaceKeyUpHandler:function(e){var t=e.detail.keyboardEvent,i=(0,r.tT)(t).localTarget;this.isLightDescendant(i)||(this.pressed&&this._asyncClick(),this._setPressed(!1))},_asyncClick:function(){this.async((function(){this.click()}),1)},_pressedChanged:function(e){this._changedButtonState()},_ariaActiveAttributeChanged:function(e,t){t&&t!=e&&this.hasAttribute(t)&&this.removeAttribute(t)},_activeChanged:function(e,t){this.toggles?this.setAttribute(this.ariaActiveAttribute,e?"true":"false"):this.removeAttribute(this.ariaActiveAttribute),this._changedButtonState()},_controlStateChanged:function(){this.disabled?this._setPressed(!1):this._changedButtonState()},_changedButtonState:function(){this._buttonStateChanged&&this._buttonStateChanged()}},s=[o.D,n]},8261:(e,t,i)=>{"use strict";i(1518);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const o=i(2619).q`
  <style css-build="shadow">[hidden] {
  display: none !important;
}

</style>


  <style css-build="shadow">html {
  --layout_-_display:  flex;;

      --layout-inline_-_display:  inline-flex;;

      --layout-horizontal_-_display:  var(--layout_-_display);
--layout-horizontal_-_-ms-flex-direction:  row;
--layout-horizontal_-_-webkit-flex-direction:  row;
--layout-horizontal_-_flex-direction:  row;;

      --layout-horizontal-reverse_-_display:  var(--layout_-_display);
--layout-horizontal-reverse_-_-ms-flex-direction:  row-reverse;
--layout-horizontal-reverse_-_-webkit-flex-direction:  row-reverse;
--layout-horizontal-reverse_-_flex-direction:  row-reverse;;

      --layout-vertical_-_display:  var(--layout_-_display);
--layout-vertical_-_-ms-flex-direction:  column;
--layout-vertical_-_-webkit-flex-direction:  column;
--layout-vertical_-_flex-direction:  column;;

      --layout-vertical-reverse_-_display:  var(--layout_-_display);
--layout-vertical-reverse_-_-ms-flex-direction:  column-reverse;
--layout-vertical-reverse_-_-webkit-flex-direction:  column-reverse;
--layout-vertical-reverse_-_flex-direction:  column-reverse;;

      --layout-wrap_-_-ms-flex-wrap:  wrap;
--layout-wrap_-_-webkit-flex-wrap:  wrap;
--layout-wrap_-_flex-wrap:  wrap;;

      --layout-wrap-reverse_-_-ms-flex-wrap:  wrap-reverse;
--layout-wrap-reverse_-_-webkit-flex-wrap:  wrap-reverse;
--layout-wrap-reverse_-_flex-wrap:  wrap-reverse;;

      --layout-flex-auto_-_-ms-flex:  1 1 auto;
--layout-flex-auto_-_-webkit-flex:  1 1 auto;
--layout-flex-auto_-_flex:  1 1 auto;;

      --layout-flex-none_-_-ms-flex:  none;
--layout-flex-none_-_-webkit-flex:  none;
--layout-flex-none_-_flex:  none;;

      --layout-flex_-_-ms-flex:  1 1 0.000000001px;
--layout-flex_-_-webkit-flex:  1;
--layout-flex_-_flex:  1;
--layout-flex_-_-webkit-flex-basis:  0.000000001px;
--layout-flex_-_flex-basis:  0.000000001px;;

      --layout-flex-2_-_-ms-flex:  2;
--layout-flex-2_-_-webkit-flex:  2;
--layout-flex-2_-_flex:  2;;

      --layout-flex-3_-_-ms-flex:  3;
--layout-flex-3_-_-webkit-flex:  3;
--layout-flex-3_-_flex:  3;;

      --layout-flex-4_-_-ms-flex:  4;
--layout-flex-4_-_-webkit-flex:  4;
--layout-flex-4_-_flex:  4;;

      --layout-flex-5_-_-ms-flex:  5;
--layout-flex-5_-_-webkit-flex:  5;
--layout-flex-5_-_flex:  5;;

      --layout-flex-6_-_-ms-flex:  6;
--layout-flex-6_-_-webkit-flex:  6;
--layout-flex-6_-_flex:  6;;

      --layout-flex-7_-_-ms-flex:  7;
--layout-flex-7_-_-webkit-flex:  7;
--layout-flex-7_-_flex:  7;;

      --layout-flex-8_-_-ms-flex:  8;
--layout-flex-8_-_-webkit-flex:  8;
--layout-flex-8_-_flex:  8;;

      --layout-flex-9_-_-ms-flex:  9;
--layout-flex-9_-_-webkit-flex:  9;
--layout-flex-9_-_flex:  9;;

      --layout-flex-10_-_-ms-flex:  10;
--layout-flex-10_-_-webkit-flex:  10;
--layout-flex-10_-_flex:  10;;

      --layout-flex-11_-_-ms-flex:  11;
--layout-flex-11_-_-webkit-flex:  11;
--layout-flex-11_-_flex:  11;;

      --layout-flex-12_-_-ms-flex:  12;
--layout-flex-12_-_-webkit-flex:  12;
--layout-flex-12_-_flex:  12;;

      

      --layout-start_-_-ms-flex-align:  start;
--layout-start_-_-webkit-align-items:  flex-start;
--layout-start_-_align-items:  flex-start;;

      --layout-center_-_-ms-flex-align:  center;
--layout-center_-_-webkit-align-items:  center;
--layout-center_-_align-items:  center;;

      --layout-end_-_-ms-flex-align:  end;
--layout-end_-_-webkit-align-items:  flex-end;
--layout-end_-_align-items:  flex-end;;

      --layout-baseline_-_-ms-flex-align:  baseline;
--layout-baseline_-_-webkit-align-items:  baseline;
--layout-baseline_-_align-items:  baseline;;

      

      --layout-start-justified_-_-ms-flex-pack:  start;
--layout-start-justified_-_-webkit-justify-content:  flex-start;
--layout-start-justified_-_justify-content:  flex-start;;

      --layout-center-justified_-_-ms-flex-pack:  center;
--layout-center-justified_-_-webkit-justify-content:  center;
--layout-center-justified_-_justify-content:  center;;

      --layout-end-justified_-_-ms-flex-pack:  end;
--layout-end-justified_-_-webkit-justify-content:  flex-end;
--layout-end-justified_-_justify-content:  flex-end;;

      --layout-around-justified_-_-ms-flex-pack:  distribute;
--layout-around-justified_-_-webkit-justify-content:  space-around;
--layout-around-justified_-_justify-content:  space-around;;

      --layout-justified_-_-ms-flex-pack:  justify;
--layout-justified_-_-webkit-justify-content:  space-between;
--layout-justified_-_justify-content:  space-between;;

      --layout-center-center_-_-ms-flex-align:  var(--layout-center_-_-ms-flex-align);
--layout-center-center_-_-webkit-align-items:  var(--layout-center_-_-webkit-align-items);
--layout-center-center_-_align-items:  var(--layout-center_-_align-items);
--layout-center-center_-_-ms-flex-pack:  var(--layout-center-justified_-_-ms-flex-pack);
--layout-center-center_-_-webkit-justify-content:  var(--layout-center-justified_-_-webkit-justify-content);
--layout-center-center_-_justify-content:  var(--layout-center-justified_-_justify-content);;

      

      --layout-self-start_-_-ms-align-self:  flex-start;
--layout-self-start_-_-webkit-align-self:  flex-start;
--layout-self-start_-_align-self:  flex-start;;

      --layout-self-center_-_-ms-align-self:  center;
--layout-self-center_-_-webkit-align-self:  center;
--layout-self-center_-_align-self:  center;;

      --layout-self-end_-_-ms-align-self:  flex-end;
--layout-self-end_-_-webkit-align-self:  flex-end;
--layout-self-end_-_align-self:  flex-end;;

      --layout-self-stretch_-_-ms-align-self:  stretch;
--layout-self-stretch_-_-webkit-align-self:  stretch;
--layout-self-stretch_-_align-self:  stretch;;

      --layout-self-baseline_-_-ms-align-self:  baseline;
--layout-self-baseline_-_-webkit-align-self:  baseline;
--layout-self-baseline_-_align-self:  baseline;;

      

      --layout-start-aligned_-_-ms-flex-line-pack:  start;
--layout-start-aligned_-_-ms-align-content:  flex-start;
--layout-start-aligned_-_-webkit-align-content:  flex-start;
--layout-start-aligned_-_align-content:  flex-start;;

      --layout-end-aligned_-_-ms-flex-line-pack:  end;
--layout-end-aligned_-_-ms-align-content:  flex-end;
--layout-end-aligned_-_-webkit-align-content:  flex-end;
--layout-end-aligned_-_align-content:  flex-end;;

      --layout-center-aligned_-_-ms-flex-line-pack:  center;
--layout-center-aligned_-_-ms-align-content:  center;
--layout-center-aligned_-_-webkit-align-content:  center;
--layout-center-aligned_-_align-content:  center;;

      --layout-between-aligned_-_-ms-flex-line-pack:  justify;
--layout-between-aligned_-_-ms-align-content:  space-between;
--layout-between-aligned_-_-webkit-align-content:  space-between;
--layout-between-aligned_-_align-content:  space-between;;

      --layout-around-aligned_-_-ms-flex-line-pack:  distribute;
--layout-around-aligned_-_-ms-align-content:  space-around;
--layout-around-aligned_-_-webkit-align-content:  space-around;
--layout-around-aligned_-_align-content:  space-around;;

      

      --layout-block_-_display:  block;;

      --layout-invisible_-_visibility:  hidden !important;;

      --layout-relative_-_position:  relative;;

      --layout-fit_-_position:  absolute;
--layout-fit_-_top:  0;
--layout-fit_-_right:  0;
--layout-fit_-_bottom:  0;
--layout-fit_-_left:  0;;

      --layout-scroll_-_-webkit-overflow-scrolling:  touch;
--layout-scroll_-_overflow:  auto;;

      --layout-fullbleed_-_margin:  0;
--layout-fullbleed_-_height:  100vh;;

      

      --layout-fixed-top_-_position:  fixed;
--layout-fixed-top_-_top:  0;
--layout-fixed-top_-_left:  0;
--layout-fixed-top_-_right:  0;;

      --layout-fixed-right_-_position:  fixed;
--layout-fixed-right_-_top:  0;
--layout-fixed-right_-_right:  0;
--layout-fixed-right_-_bottom:  0;;

      --layout-fixed-bottom_-_position:  fixed;
--layout-fixed-bottom_-_right:  0;
--layout-fixed-bottom_-_bottom:  0;
--layout-fixed-bottom_-_left:  0;;

      --layout-fixed-left_-_position:  fixed;
--layout-fixed-left_-_top:  0;
--layout-fixed-left_-_bottom:  0;
--layout-fixed-left_-_left:  0;;
}

</style>
`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content);var r=document.createElement("style");r.textContent="[hidden] { display: none !important; }",document.head.appendChild(r)},8314:()=>{
/**
 * @license
 * Copyright (c) 2018 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
!function(){"use strict";var e,t=!1,i=[],o=!1;function r(){window.WebComponents.ready=!0,document.dispatchEvent(new CustomEvent("WebComponentsReady",{bubbles:!0}))}function n(){window.customElements&&customElements.polyfillWrapFlushCallback&&customElements.polyfillWrapFlushCallback((function(t){e=t,o&&e()}))}function s(){window.HTMLTemplateElement&&HTMLTemplateElement.bootstrap&&HTMLTemplateElement.bootstrap(window.document),t=!0,a().then(r)}function a(){o=!1;var t=i.map((function(e){return e instanceof Function?e():e}));return i=[],Promise.all(t).then((function(){o=!0,e&&e()})).catch((function(e){console.error(e)}))}window.WebComponents=window.WebComponents||{},window.WebComponents.ready=window.WebComponents.ready||!1,window.WebComponents.waitFor=window.WebComponents.waitFor||function(e){e&&(i.push(e),t&&a())},window.WebComponents._batchCustomElements=n;var l="webcomponents-loader.js",d=[];(!("attachShadow"in Element.prototype)||!("getRootNode"in Element.prototype)||window.ShadyDOM&&window.ShadyDOM.force)&&d.push("sd"),window.customElements&&!window.customElements.forcePolyfill||d.push("ce");var c,u,h=function(){var e=document.createElement("template");if(!("content"in e))return!0;if(!(e.content.cloneNode()instanceof DocumentFragment))return!0;var t=document.createElement("template");t.content.appendChild(document.createElement("div")),e.content.appendChild(t);var i=e.cloneNode(!0);return 0===i.content.childNodes.length||0===i.content.firstChild.content.childNodes.length}();if(window.Promise&&Array.from&&window.URL&&window.Symbol&&!h||(d=["sd-ce-pf"]),d.length){var p,f=(u={createHTML:c=function(e){return e},createScript:c,createScriptURL:c},window.trustedTypes&&window.trustedTypes.createPolicy("webcomponents-loader",u)||u),b="bundles/webcomponents-"+d.join("-")+".js";if(window.WebComponents.root)p=window.WebComponents.root+b,window.trustedTypes&&window.trustedTypes.isScriptURL(window.WebComponents.root)&&(p=f.createScriptURL(p));else{var g=document.querySelector('script[src*="'+l+'"]');p=f.createScriptURL(g.src.replace(l,b))}var m=document.createElement("script");m.src=p,"loading"===document.readyState?(m.setAttribute("onload",f.createScript("window.WebComponents._batchCustomElements()")),document.write(f.createHTML(m.outerHTML)),document.addEventListener("DOMContentLoaded",s)):(m.addEventListener("load",(function(){n(),s()})),m.addEventListener("error",(function(){throw new Error("Could not load polyfill bundle"+p)})),document.head.appendChild(m))}else"complete"===document.readyState?(t=!0,r()):(window.addEventListener("load",s),window.addEventListener("DOMContentLoaded",(function(){window.removeEventListener("load",s),s()})))}()},8326:(e,t,i)=>{"use strict";i.d(t,{B:()=>n});var o=i(2214),r=i(8900);function n(e,t){let i=new o.z(r.i.is);return i.addAttribute("value",1,"value",e),t&&i.addAttribute("class",1,"fieldClass",t,"$="),i}},8332:(e,t,i)=>{"use strict";var o=i(4886),r=i(7734);i(7543),i(347),i(2804),i(7533),i(9139),i(1863);const n=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
.header {
  min-width: 600px;
}
.content {
  margin-top: -15px;
  margin-bottom: -15px;
}
.footer {
  border-top: none;
}
#alert-icon {
  font-size: 20px;
}
paper-button {
  margin: 0 !important;
  text-transform: none;
}
#alert-title {
  display: inline-block;
}
#alert-title > h2 {
  margin: 0;
}
#alert-title > h2 > sb-i18n {
  font-size: 24px;
  margin-left: 6px;
  font-weight: 300;
}
.alert-rule {
  padding: 12px;
}
#continue[class*='--mobile'] {
  padding: 4px 10px;
  margin-left: 10px;
  float: left;
  font-size: 16px;
}
.content[class*='--mobile'] {
  margin: 0;
}
[class*='--mobile'] #continue {
  padding: 4px 10px;
  margin-left: 10px;
  float: left;
  font-size: 16px;
}
[class*='--mobile'] .content {
  margin: 0;
}
`;var s=i(1924);class a extends((0,o.$)(r.Pu)){static get is(){return"sb-product-alert"}static get properties(){return{alerts:Array,continueCB:Object,cancelCB:Object,displayContinueButton:{type:Boolean,value:!1},cancelText:{type:String,value:s.F.localize("lbl_close")}}}ready(){super.ready(),this.$.dialog.addEventListener("sb-close-dialog",this._onCancel.bind(this))}static get observers(){return["init(alerts)"]}init(){this.$.dialog.toggle()}onRevise(){this.$.dialog.toggle()}toggle(){this.$.dialog.toggle()}onContinue(){"function"==typeof this.continueCB&&this.continueCB()}_onCancel(){"function"==typeof this.cancelCB&&this.cancelCB(),this.$.dialog.toggle()}static get template(){return r.qy`
		<style include="sb-icons-styles sb-dialogs-styles"></style>
		<style>${n}</style>
		<style include="sb-common-styles"></style>

		<div device>
			<sb-dialog id="dialog" modal="true" hide-close-icon="true" cancel-text="[[cancelText]]">
				<div slot="title" class="title">
					<i id="alert-icon" class="sf-icon-warning"></i>
					<div id="alert-title">
						<h2>
							<sb-i18n>Alert</sb-i18n>
						</h2>
					</div>
				</div>
				<div slot="content" class="content">
					<ul>
						<template is="dom-repeat" items="[[alerts]]" as="alertContent">
							<ul class="alert-rule"><sb-i18n key="[[alertContent]]"></sb-i18n></ul>
						</template>
					</ul>
				</div>
				<template is="dom-if" if="[[displayContinueButton]]">
					<paper-button slot="paper-button" id="continue" on-click="onContinue" noink>
						<sb-i18n>Continue</sb-i18n>
					</paper-button>
				</template>
			</sb-dialog>
		</div>
		`}}customElements.define(a.is,a)},8383:(e,t,i)=>{"use strict";i.d(t,{N:()=>n});var o=i(5367);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let r;r=o.H._mutablePropertyChange;const n={properties:{mutableData:Boolean},_shouldPropertyChange(e,t,i){return r(this,e,t,i,this.mutableData)}}},8421:(e,t,i)=>{"use strict";var o=i(6902),r=i(7734);i(622);class n extends r.Pu{static get is(){return"sb-field-md"}static get properties(){return{fields:Array,object:String,md:{type:Object,notify:!0},error:{type:String,notify:!0},background:{type:Boolean,value:!1},doNotFixObjectName:{type:Boolean,value:!1}}}get prefix(){return o.B.org.prefix?o.B.org.prefix+"__":""}static get observers(){return["initFieldSetDescribe(fields)"]}ready(){super.ready(),this.$.describe.addEventListener("describe-changed",function(e){let t=e.detail.value.md,i=e.detail.value.fields,o=[],r={};for(let e=0,n=i.length;e<n;e++){if(!t[i[e]])continue;let n=i[e].split(".")[0],s=i[e].split(".")[1];r[n]||(r[n]={}),o.push(t[i[e]]),r[n][s]=t[i[e]]}this.md={fields:o,fieldsByObject:r}}.bind(this)),this.$.describe.addEventListener("error-changed",function(e){this.error=e.detail.value}.bind(this))}initFieldSetDescribe(){let e=[];this.fields.forEach(function(t){let i=t.split(".");2===i.length?e.push(this.buildFieldList(i[0],i[1])):e.push(this.buildFieldList(this.object,t))}.bind(this)),this.$.describe.fields=e}buildFieldList(e,t){return this.doNotFixObjectName||!e.endsWith("__c")||e.startsWith(this.prefix)?e+"."+t:this.prefix+e+"."+t}static get template(){return r.qy`
			<sb-describe id="describe" background="[[background]]"></sb-describe>
		`}}customElements.define(n.is,n)},8443:()=>{"use strict";
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/window.JSCompiler_renameProperty=function(e,t){return e}},8449:(e,t,i)=>{"use strict";i.d(t,{M:()=>r});var o=i(7622);class r{constructor(e){this._quote=e,this._linesByKey=new Map,null!=this._quote.lineItems&&this._quote.lineItems.forEach((e=>{this._linesByKey.set(e.key,e)}));var t="Quote__c"===e.record.attributes.type?"":e.record.attributes.type.slice(0,-8);this._constants=new o.Y(t)}mapPriorBundledQuantityByLineKey(){let e={};return null!=this._quote.lineItems&&this._quote.lineItems.forEach((t=>{e[t.key+""]=this._getPriorBundledQuantity(t)})),e}getUpgradedAssetIdsAsArray(){let e=new Set,t=this._constants.UPGRADED_ASSET_FIELD;null!=this._quote.lineItems&&this._quote.lineItems.forEach((i=>{let o=i.record[t];null!=o&&e.add(o)}));let i=[];return e.forEach((e=>{i.push(e)})),i}getExistingProductIdsFromLines(){let e=new Set,t=this._constants.EXISTING_FIELD,i=this._constants.PRODUCT;null!=this._quote.lineItems&&this._quote.lineItems.forEach((o=>{o.record[t]&&e.add(o.record[i])}));let o=[];return e.forEach((e=>{o.push(e)})),o}getSegmentTemplatesByDimensionTypeForGroupKey(e){let t,i,o,r,n={},s=[],a=[],l=[],d=[],c=this._constants.DIMENSION_ID_FIELD,u=this._constants.DIMENSION_FIELD,h=this._constants.TYPE_FIELD,p=this._constants.SEGMENT_KEY_FIELD;return this._quote.lineItems&&this._quote.lineItems.forEach((n=>{if(n.parentGroupKey==e){let e=n.dimensionType||(n.record[c]?n.record[u][h]:null),f=n.record[p];switch(e){case this._constants.TYPE_CUSTOM_DIMENSION:t&&t!=f||(t=f,s.push(n));break;case this._constants.TYPE_YEARLY_DIMENSION:i&&i!=f||(i=f,l.push(n));break;case this._constants.TYPE_MONTHLY_DIMENSION:o&&o!=f||(o=f,a.push(n));break;case this._constants.TYPE_QUARTERLY_DIMENSION:r&&r!=f||(r=f,d.push(n))}}})),n[this._constants.TYPE_CUSTOM_DIMENSION]=s,n[this._constants.TYPE_MONTHLY_DIMENSION]=a,n[this._constants.TYPE_YEARLY_DIMENSION]=l,n[this._constants.TYPE_QUARTERLY_DIMENSION]=d,n}getKeysOfEmptyGroups(){if(!this._quote.lineItemGroups||0==this._quote.lineItemGroups.length)return[];let e=new Set;this._quote.lineItemGroups.forEach((t=>{e.add(t.key)})),this._quote.lineItems&&this._quote.lineItems.forEach((t=>{e.delete(t.parentGroupKey)}));let t=[];return e.forEach((e=>{t.push(e)})),t}_getPriorBundledQuantity(e){let t,i;return this._isCarryoverLine(e)?(t=this._getCarryoverQuantity(e),i=this._linesByKey.get(e.parentItemKey).record[this._constants.QUANTITY_FIELD]):(t=e.record[this._constants.PRIOR_QUANTITY_FIELD],i=this._linesByKey.get(e.parentItemKey)?this._linesByKey.get(e.parentItemKey).record[this._constants.PRIOR_QUANTITY_FIELD]:null),null!=i&&null!=t&&this._optionTypeIsComponent(e)?t/i:t}_isCarryoverLine(e){return 1==e.record[this._constants.CARRYOVER_LINE_FIELD]}_getCarryoverQuantity(e){let t=e.record[this._constants.PRIOR_QUANTITY_FIELD],i=this._linesByKey.get(e.parentItemKey);if(null!=e.sourceLineKey&&i){let o=this._linesByKey.get(e.sourceLineKey);o&&(t=this._getPriorBundledQuantity(o),this._optionTypeIsComponent(o)&&(t*=i.record[this._constants.QUANTITY_FIELD]))}return t}_optionTypeIsComponent(e){let t=e.record[this._constants.OPTION_TYPE_FIELD];return null!=t&&"component"===t.toLowerCase()}}},8500:(e,t,i)=>{"use strict";var o=i(7734),r=(i(7543),i(347),i(4886)),n=i(6206);const s=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host #toastContainer {
  z-index: var(--sbToastzIndex, 10000);
  box-sizing: border-box;
  width: 100%;
  left: 0;
  top: 0;
  position: absolute;
  text-align: center;
  pointer-events: none;
}
:host .repeat {
  animation: shake 1s;
}
@keyframes shake {
  10%,
  90% {
    transform: translate3d(-1px, 0, 0);
  }
  20%,
  80% {
    transform: translate3d(2px, 0, 0);
  }
  30%,
  50%,
  70% {
    transform: translate3d(-4px, 0, 0);
  }
  40%,
  60% {
    transform: translate3d(4px, 0, 0);
  }
}
:host .msgIcon {
  margin-right: 12px;
  vertical-align: middle;
  font-size: var(--sbFontSizeDefault);
  float: left;
}
:host .slds-notify_container {
  position: relative;
  text-align: center;
}
:host .slds-notify_container ::selection {
  background: #faffbd;
  text-shadow: none;
  color: #fff;
}
:host .slds-notify--toast {
  border-radius: 4px;
  padding: 12px 24px;
  display: inline-block;
  text-align: left;
  box-sizing: border-box;
  min-width: var(--sbToastMinWidth, 480px);
  margin: 8px 8px 0px 8px;
  border-bottom: 1px solid #d8dde6;
}
:host .slds-notify--toast[class*='--mobile'] {
  min-width: 0px;
}
:host [class*='--mobile'] .slds-notify--toast {
  min-width: 0px;
}
:host .slds-button__icon {
  color: #fff;
  font-size: var(--sbFontSizeDefault);
}
:host .slds-notify__close {
  float: right;
}
:host .slds-button--icon-inverse {
  color: #fff;
}
:host .slds-button {
  position: relative;
  display: inline-block;
  padding: 0;
  width: 16px;
  background: 0 0;
  background-clip: padding-box;
  border: 0;
  color: #0070d2;
  font-size: inherit;
  text-decoration: none;
  -webkit-appearance: none;
  white-space: normal;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  transition: color 50ms linear, background-color 50ms linear;
  cursor: pointer;
}
:host .slds-grid {
  display: -webkit-flex;
  display: -ms-flexbox;
  display: block;
  position: relative;
  align-items: center;
  line-height: 21px;
  margin-right: 24px;
}
:host .slds-notify {
  color: #fff;
  position: relative;
  background: #54698d;
  font-weight: 300;
  pointer-events: auto;
}
:host .slds-notify > .notify__content > h2 {
  padding-left: 26px;
  display: block;
  -webkit-margin-before: 0px;
  -webkit-margin-after: 0px;
  -webkit-margin-start: 0px;
  -webkit-margin-end: 0px;
  line-height: 21px;
  font-weight: 300;
  min-height: 21px;
  -webkit-font-smoothing: auto;
  font-size: var(--sbFontSizeDefault);
  font-family: var(--sbPageFontFamily);
}
:host .slds-theme--error {
  color: #fff;
  background-color: #c23934;
}
:host .slds-theme--success {
  color: #fff;
  background-color: #04844b;
}
:host .slds-theme--warning {
  background-color: #ffb75d;
  color: #16325c;
}
:host .slds-theme--warning ::selection {
  background: #faffbd;
  text-shadow: none;
  color: #16325c;
}
:host .slds-theme--warning .slds-button__icon {
  fill: #54698d;
}
#toastContainer[class*='--mobile'] {
  top: 9%;
}
.slds-notify--toast[class*='--mobile'] {
  margin: 8px 0px 0px 0px;
}
[class*='--mobile'] #toastContainer {
  top: 9%;
}
[class*='--mobile'] .slds-notify--toast {
  margin: 8px 0px 0px 0px;
}
`;i(4);class a extends((0,r.$)(o.Pu)){static get is(){return"sb-toast"}static get properties(){return{messages:{type:Array,notify:!0},messagesModel:Array,hasMessages:Boolean,type:String}}ready(){super.ready(),this.hasMessages=!1,this.messagesModel=[],this.repeatHandlers={}}static get observers(){return["validation(messages)"]}validation(){if(!this.messages)return this.messagesModel=[],this.hasMessages=!1,void(this.repeatHandlers={});const e={type:"error",class:"slds-theme--error",msgs:[],icon:"sf-icon-error"},t={type:"success",class:"slds-theme--success",msgs:[],icon:"sf-icon-success"},i={type:"warning",class:"slds-theme--warning",msgs:[],icon:"sf-icon-warning"},o={type:"info",class:"",msgs:[],icon:"sf-icon-info"};if("object"==typeof this.messages[0])this.messages.forEach((r=>{let{type:n,msg:s}=r;const a=this.decodeHTML(s).split("\n");"error"===n?e.msgs.push(a):"warning"===n?i.msgs.push(a):"success"===n?t.msgs.push(a):o.msgs.push(a)}));else if("string"==typeof this.messages[0]){const r=this.messages.map((e=>this.decodeHTML(e).split("\n")));"error"===this.type?e.msgs=r:"success"===this.type?t.msgs=r:"warning"===this.type?i.msgs=r:o.msgs=r}this.messages&&this.messages.length>0?(this.hasMessages=!0,this.removeRepeatedMessages(e,"error"),e.msgs.length>0&&this.push("messagesModel",e),this.removeRepeatedMessages(t,"success"),t.msgs.length>0&&this.push("messagesModel",t),this.removeRepeatedMessages(t,"warning"),i.msgs.length>0&&this.push("messagesModel",i),this.removeRepeatedMessages(o,"info"),o.msgs.length>0&&this.push("messagesModel",o)):(this.hasMessages=!1,this.messages=void 0)}decodeHTML(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}removeRepeatedMessages(e,t){if(this.messagesModel)for(let i=0,o=this.messagesModel.length;i<o;i++){let o=this.messagesModel[i];if(t!==o.type)continue;let r=this.isMessageRepeated(o,e);r&&(e.msgs=[]),this.toggleRepeatClass(t,r,i)}}isMessageRepeated(e,t){for(let i=0,o=e.msgs.length;i<o;i++)for(let o=0,r=e.msgs[i].length;o<r;o++)if(void 0!==t.msgs[i]&&e.msgs[i][o]!==t.msgs[i][o])return!1;return!0}toggleRepeatClass(e,t,i){this.removeAnimationListeners(e,i);let o=this.addAnimationListeners(e,i);(0,n.p1)("repeat",t,o)}removeAnimationListeners(e,t){let i=e+"_"+t,o=this.repeatHandlers[i];if(!o)return;let r=this.shadowRoot.querySelector("#"+i);r&&(r.removeEventListener("animationend",o),r.removeEventListener("webkitAnimationEnd",o))}addAnimationListeners(e,t){let i=e+"_"+t,o=this.shadowRoot.querySelector("#"+i),r=this.repeatHandlers[i]||this.removeRepeatClass.bind(this,o);if(this.repeatHandlers[i]=r,o){let e=this.repeatHandlers[i]||this.removeRepeatClass.bind(this,o);this.repeatHandlers[i]=e,o.addEventListener("animationend",e),o.addEventListener("webkitAnimationEnd",e)}return o}removeRepeatClass(e){(0,n.p1)("repeat",!1,e)}closeMessage(e){let t=e.model.messages.type,i=0;for(let e=0;e<this.messagesModel.length;e++)this.messagesModel[e].type==t&&(delete this.repeatHandlers[t+"_"+i++],this.splice("messagesModel",e,1),e--);0==this.messagesModel.length&&(this.hasMessages=!1,this.messages=void 0)}static get template(){return o.qy`
		<style include="sb-icons-styles"></style>
		<style>${s}</style>

		<span device>
		<template is="dom-if" if="[[hasMessages]]">
			<div id="toastContainer">
				<template is="dom-repeat" items="{{messagesModel}}" as="messages">
					<div class="slds-notify_container">
						<div id$="[[messages.type]]_[[index]]" class$="slds-notify slds-notify--toast [[messages.class]]">
							<button class="slds-button slds-button--icon-inverse slds-notify__close" on-click="closeMessage">
								<i class="slds-button__icon sf-icon-close"></i>
							</button>
							<div class="notify__content slds-grid">
								<template is="dom-repeat" items="{{messages.msgs}}" as="msg">
									<i class$="msgIcon [[messages.icon]]"></i>
									<template is="dom-repeat" items="{{msg}}" as="msgLine">
										<h2>
										  {{msgLine}}
										</h2>
									</template>
								</template>
							</div>
						</div>
					</div>
				</template>
			</div>
		</template>
		</span>
		`}}customElements.define(a.is,a)},8565:(e,t,i)=>{var o={"./assets/selection/routes/sb-asset-lookup/AssetLookup.route":4299,"./assets/selection/routes/sb-asset-lookup/AssetLookup.route.js":4299,"./assets/upgrade/routes/sb-asset-upgrade/AssetUpgrade.route":3061,"./assets/upgrade/routes/sb-asset-upgrade/AssetUpgrade.route.js":3061,"./contracts/selection/routes/sb-contract-lookup/ContractLookup.route":30,"./contracts/selection/routes/sb-contract-lookup/ContractLookup.route.js":30,"./docgen/sb-docgen-preview/DocgenPreview.route":5152,"./docgen/sb-docgen-preview/DocgenPreview.route.js":5152,"./favorites/sb-favorite-lookup/FavoriteLookup.route":7412,"./favorites/sb-favorite-lookup/FavoriteLookup.route.js":7412,"./products/config/routes/sb-dynamic-lookup/DynamicLookup.route":8125,"./products/config/routes/sb-dynamic-lookup/DynamicLookup.route.js":8125,"./products/config/routes/sb-option-lookup/OptionLookup.route":5469,"./products/config/routes/sb-option-lookup/OptionLookup.route.js":5469,"./products/config/routes/sb-product-config/ProductConfig.route":658,"./products/config/routes/sb-product-config/ProductConfig.route.js":658,"./products/selection/routes/sb-product-lookup/ProductLookup.route":7240,"./products/selection/routes/sb-product-lookup/ProductLookup.route.js":7240,"./quotes/pages/sb-line-editor/LineEditor.route":7299,"./quotes/pages/sb-line-editor/LineEditor.route.js":7299,"./recommendations/sb-recommendation-lookup/RecommendationLookup.route":7379,"./recommendations/sb-recommendation-lookup/RecommendationLookup.route.js":7379,"./subscriptions/selection/routes/sb-subscription-lookup/SubscriptionLookup.route":6254,"./subscriptions/selection/routes/sb-subscription-lookup/SubscriptionLookup.route.js":6254};function r(e){return n(e).then(i)}function n(e){return Promise.resolve().then((()=>{if(!i.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}))}r.keys=()=>Object.keys(o),r.resolve=n,r.id=8565,e.exports=r},8591:(e,t,i)=>{"use strict";i.d(t,{L:()=>o});
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const o=window.ShadyDOM&&window.ShadyDOM.noPatch&&window.ShadyDOM.wrap?window.ShadyDOM.wrap:window.ShadyDOM?e=>ShadyDOM.patch(e):e=>e},8678:(e,t,i)=>{"use strict";i.d(t,{AO:()=>d,Ej:()=>f,wB:()=>a,xq:()=>m});var o=i(6206),r=i(9406),n=i(6862);function s(e,t){if(e)for(let i in e)if(e[i])for(let o of e[i])t(o,i)}function a(e){return void 0===e.optionId&&void 0!==e.productId}function l(e,t,i,o,r,n){if(!1===i.selected&&!1===a(i))return;let p=d(r,i),b=f(o,p);if(void 0===b){const r=function(e,t,i,o,r,n){let s;if(a(i)){s=u(g(i.productId,t),i,n)}else{const e=i.optionId;s=h(t.staticOptions[e],i,n)}r.pop(),r=d(r,s);const l=c(o,s,r);return e.optionConfigurations=e.optionConfigurations||[],e.configured=!0,{path:r,option:l}}(e,t,i,o,p,n);p=r.path,b=r.option}s(i.optionConfigurations,(e=>{l(b,t,e,o,p,n)}))}function d(e,t){let i;return i=a(t)?{optionId:"This is a new dynamic option and does not yet exist in the NOM tree",index:t.index}:{optionId:t.optionId,index:t.index},e.concat([i])}function c(e,t,i){const o=f(e,i.slice(0,-1));let r=f(e,i);return r?e._updateSubtree(r,t,!0):(e._appendSubtree(t,o,t.index),r=f(e,i)),r}function u(e,t,i){e=e||{};const o=Object.assign({},e);o.record=Object.assign({},e.record);const r=p(t.configurationData);if(r)for(let e in r)o.record[e]=r[e];return o.configurationData={},o.optionId=e.record.Id,o.optionConfigurations=[],o.index=t.index,o.isDynamicOption=!0,o.added=!0,o.upgradedAssetId=null,o.isUpgrade=!1,o.record[i+"Quantity__c"]=t.Quantity,void 0===o.record[i+"UnitPrice__c"]&&(o.record[i+"UnitPrice__c"]=0),void 0!==t.selected?o.selected=t.selected:o.selected=!0,o.optionData=Object.assign({},o.record),o}function h(e,t,i){e=e||{};const r=Object.assign({},e);return r.optionData=Object.assign({},e.optionData),r.optionId=t.optionId,r.configured=!0,r.isDynamicOption=r.isDynamicOption||!1,r.upgradedAssetId=r.upgradedAssetId||null,r.isUpgrade=r.isUpgrade||!1,void 0!==t.selected?r.selected=t.selected:r.selected=!0,r.index=t.index,r.optionConfigurations=[],null!=t.Quantity&&(r.optionData[i+"Quantity__c"]=t.Quantity),function(e,t){if(e.configurationData=e.configurationData||{},!t.configurationData)return;const i=p(t.configurationData);e.externalConfigurationData=t.externalConfigurationData||{},(0,o.X$)(e.externalConfigurationData,i),(0,o.X$)(e.optionData,i),e.configurationData={}}(r,t),r}function p(e){return e?JSON.parse(JSON.stringify(e,(function(e,t){return e.endsWith("__c")&&t instanceof Object?JSON.stringify(t):t}))):e}function f(e,t){const i=e.configTree.root;if(0==t.length)return i;return b(i,JSON.parse(JSON.stringify(t)))}function b(e,t){const i=t.shift(),o=e.getChildren().find((e=>e.optionId===i.optionId&&e.index===i.index));return void 0===o||0===t.length?o:b(o,t)}function g(e,t){return void 0!==t.dynamicOptions[e]?t.dynamicOptions[e]:(t.dynamicOptions15Char=t.dynamicOptions15Char||function(e){const t={},i=e.dynamicOptions;for(let e in i)t[(0,o.at)(e)]=i[e];return t}(t),t.dynamicOptions15Char[(0,o.at)(e)])}class m{static buildExternalConfiguratorOptionRequest(e){const t=new r.k;return e.dynamicFeatureOptionIds&&t.add("dynamicFeatureOptionIds",e.dynamicFeatureOptionIds),e.optionsToExtend&&(t.add("staticOptionIds",e.optionsToExtend.staticOptionIds),t.add("dynamicOptions",e.optionsToExtend.dynamicOptions)),t.add("quoteRecord",e.quoteRecord),t.build()}static findOptionsToExtendOrUpdate(e,t,i,o,r){if(t.length>3)throw new Error("Your nested bundle has exceeded the number of supported levels.");let n={};s(i.optionConfigurations,((s,l)=>{m.setIndex(s,n);const c=d(t,s);m.findOptionsToExtendOrUpdate(e,c,s,o,r);const u=f(e,c);if(void 0!==u||!0!==s.selected&&!a(s)){if(void 0!==u){const i=f(e,t);if(!1===s.selected)e._removeSubtree(u,i);else{const t=h(u,s,r),i=t.optionData[r+"UnitPrice__c"];null!=i&&(u.listPrice=i),e._updateSubtree(u,t,!0)}}}else if(a(s)){let e=i.productId;void 0===e&&void 0!==i.readOnly&&void 0!==i.readOnly.line&&(e=i.productId||i.readOnly.line[r+"Product__c"]),o.dynamicOptions.push({parentFeatureName:l,parentProductId:e,parentOptionId:i.optionId,productId:s.productId})}else!0===s.selected&&o.staticOptionIds.push(s.optionId)}))}static extendOptionsWithServerResponse(e,t,i,r,n){const p=(0,o.Nn)(n);s(t,(t=>{let o;if(a(t)){o=u(g(t.productId,e),t,p)}else o=h({},t,p);const n=d(r,o),f=c(i,o,n);s(t.optionConfigurations,(t=>{l(f,e,t,i,n,p)}))}))}static hasOptionsToBeExtended(e){return!!e&&(!!e.staticOptionIds&&(!!e.dynamicOptions&&(e.staticOptionIds.length>0||e.dynamicOptions.length>0)))}static async getDataForNestedReconfigure(e,t){const i=[],o={features:{},products:{}};for(const o of e||[])i.push(...m._getProductIdsFromConfigGraph(o._transient_.optionConfigurations,t));if(0===i.length)return o;const r=await m.queryProductsWithFeatures(i,t);for(const e of r.records)Object.assign(o.features,m._getFeaturesFromProductResults(e[`${t}Features__r`])),o.products[e.Id]=e;return o}static _getFeaturesFromProductResults(e){const t={};if(null!=e&&null!=e.records)for(const i of e.records)for(const i of e.records)t[i.Id]=i;return t}static _getProductIdsFromConfigGraph(e,t){const i=[];for(const o of e||[])i.push(...m._getProductIdsFromConfigGraph(o.optionConfigurations||[],t)),o.configuredProductId&&i.push(o.configuredProductId);return i}static async queryProductsWithFeatures(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.getConnection();return await i.query(`SELECT Id, Name, ProductCode,(SELECT Id, Name, ${t}OptionSelectionMethod__c FROM ${t}Features__r) FROM Product2 WHERE Id IN ('${e.join("','")}')`)}static getConnection(){return new n.N}static setIndex(e,t){let i;i=a(e)?e.productId:e.optionId;let o=0;void 0!==e.index?o=e.index:void 0!==t[i]&&(o=t[i]),e.index=o,t[i]=o+1}}},8729:(e,t,i)=>{"use strict";i.d(t,{z:()=>oe});var o=i(7734),r=i(3311),n=i(1149),s=i(4886),a=i(178),l=i(6206),d=(i(4167),i(4),i(2619));const c=d.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  background: var(--sbPageHeaderBgColor);
  width: 100%;
  border-bottom-width: var(--sbPageHeaderBorderBottomWidth);
  border-bottom-style: var(--sbPageHeaderBorderBottomStyle);
  border-bottom-color: var(--sbPageHeaderBorderBottomColor);
}
:host .sticker {
  background-color: #5876a3;
  height: 25px;
  width: 350px;
  margin-bottom: 10px;
  margin-top: -10px;
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  border-width: 5px;
  border-radius: 5px;
  text-align: center;
  padding-top: 3px;
  display: none;
}
:host .eptLabel,
:host .bptLabel,
:host .sptLabel {
  color: white;
  padding: 5px 5px 5px 5px;
  font-size: var(--sbTableRowFontSize);
  font-family: var(--sbPageHeaderSecondaryFontFamily);
  font-style: var(--sbPageHeaderSecondaryFontStyle);
  font-weight: var(--sbPageHeaderSecondaryFontWeight);
  text-decoration: var(--sbPageHeaderSecondaryTextDecoration);
  display: inline;
}
.header {
  min-height: var(--sbPageHeaderMinHeight);
  padding-top: var(--sbPageHeaderPaddingTop);
  padding-right: var(--sbPageHeaderPaddingRight);
  padding-bottom: var(--sbPageHeaderPaddingBottom);
  padding-left: var(--sbPageHeaderPaddingLeft);
}
.header[class*='--mobile'] {
  z-index: 2;
}
[class*='--mobile'] .header {
  z-index: 2;
}
.header [hidden] {
  display: none !important;
}
.header[class*='--mobile'] {
  background-color: transparent;
}
[class*='--mobile'] .header {
  background-color: transparent;
}
.header .centered {
  margin-top: 7px;
}
#icon {
  padding-top: 6px;
}
.titles {
  padding-top: 3px;
  line-height: 1.25;
}
#full-title {
  display: none;
}
#full-title[class*='--mobile'] {
  display: block;
  position: absolute;
  white-space: nowrap;
}
[class*='--mobile'] #full-title {
  display: block;
  position: absolute;
  white-space: nowrap;
}
#buttons[class*='--mobile'] {
  z-index: 99999 !important;
}
[class*='--mobile'] #buttons {
  z-index: 99999 !important;
}
#buttons.normal {
  display: -ms-flex;
  display: -webkit-flex;
  display: flex;
}
#buttons:not(.normal) {
  border-radius: var(--sbDialogBorderRadius);
  border: var(--sbBtnBorder);
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  position: fixed;
  z-index: 100;
  display: none;
}
#buttons:not(.normal).open {
  display: block;
}
#buttons:not(.normal).autoLaunch {
  position: fixed;
  top: 50%;
  left: 50%;
}
#searchbar {
  position: relative;
  text-align: right;
}
#searchbar[class*='--mobile'] {
  left: 18px;
  position: absolute;
  top: 70px;
  width: calc(96% - 48px);
}
[class*='--mobile'] #searchbar {
  left: 18px;
  position: absolute;
  top: 70px;
  width: calc(96% - 48px);
}
#menuButton > .sf-icon-down {
  margin: -10px;
  font-size: var(--sbIcon16);
}
#menuButton:active {
  background-color: #f0f2f5;
  color: #005FB2;
}
#fullScreenMode {
  margin: 7px 0 0 10px;
}
`;i(4930),i(2804),i(1518),i(8261),i(3823),i(4409);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const u=d.q`
  <style css-build="shadow">html {
  --paper-font-common-base_-_font-family:  'Roboto', 'Noto', sans-serif;
--paper-font-common-base_-_-webkit-font-smoothing:  antialiased;;

      --paper-font-common-code_-_font-family:  'Roboto Mono', 'Consolas', 'Menlo', monospace;
--paper-font-common-code_-_-webkit-font-smoothing:  antialiased;;

      --paper-font-common-expensive-kerning_-_text-rendering:  optimizeLegibility;;

      --paper-font-common-nowrap_-_white-space:  nowrap;
--paper-font-common-nowrap_-_overflow:  hidden;
--paper-font-common-nowrap_-_text-overflow:  ellipsis;;

      

      --paper-font-display4_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-display4_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-display4_-_white-space:  var(--paper-font-common-nowrap_-_white-space);
--paper-font-display4_-_overflow:  var(--paper-font-common-nowrap_-_overflow);
--paper-font-display4_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);
--paper-font-display4_-_font-size:  112px;
--paper-font-display4_-_font-weight:  300;
--paper-font-display4_-_letter-spacing:  -.044em;
--paper-font-display4_-_line-height:  120px;;

      --paper-font-display3_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-display3_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-display3_-_white-space:  var(--paper-font-common-nowrap_-_white-space);
--paper-font-display3_-_overflow:  var(--paper-font-common-nowrap_-_overflow);
--paper-font-display3_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);
--paper-font-display3_-_font-size:  56px;
--paper-font-display3_-_font-weight:  400;
--paper-font-display3_-_letter-spacing:  -.026em;
--paper-font-display3_-_line-height:  60px;;

      --paper-font-display2_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-display2_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-display2_-_font-size:  45px;
--paper-font-display2_-_font-weight:  400;
--paper-font-display2_-_letter-spacing:  -.018em;
--paper-font-display2_-_line-height:  48px;;

      --paper-font-display1_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-display1_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-display1_-_font-size:  34px;
--paper-font-display1_-_font-weight:  400;
--paper-font-display1_-_letter-spacing:  -.01em;
--paper-font-display1_-_line-height:  40px;;

      --paper-font-headline_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-headline_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-headline_-_font-size:  24px;
--paper-font-headline_-_font-weight:  400;
--paper-font-headline_-_letter-spacing:  -.012em;
--paper-font-headline_-_line-height:  32px;;

      --paper-font-title_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-title_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-title_-_white-space:  var(--paper-font-common-nowrap_-_white-space);
--paper-font-title_-_overflow:  var(--paper-font-common-nowrap_-_overflow);
--paper-font-title_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);
--paper-font-title_-_font-size:  20px;
--paper-font-title_-_font-weight:  500;
--paper-font-title_-_line-height:  28px;;

      --paper-font-subhead_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-subhead_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-subhead_-_font-size:  16px;
--paper-font-subhead_-_font-weight:  400;
--paper-font-subhead_-_line-height:  24px;;

      --paper-font-body2_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-body2_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-body2_-_font-size:  14px;
--paper-font-body2_-_font-weight:  500;
--paper-font-body2_-_line-height:  24px;;

      --paper-font-body1_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-body1_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-body1_-_font-size:  14px;
--paper-font-body1_-_font-weight:  400;
--paper-font-body1_-_line-height:  20px;;

      --paper-font-caption_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-caption_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-caption_-_white-space:  var(--paper-font-common-nowrap_-_white-space);
--paper-font-caption_-_overflow:  var(--paper-font-common-nowrap_-_overflow);
--paper-font-caption_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);
--paper-font-caption_-_font-size:  12px;
--paper-font-caption_-_font-weight:  400;
--paper-font-caption_-_letter-spacing:  0.011em;
--paper-font-caption_-_line-height:  20px;;

      --paper-font-menu_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-menu_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-menu_-_white-space:  var(--paper-font-common-nowrap_-_white-space);
--paper-font-menu_-_overflow:  var(--paper-font-common-nowrap_-_overflow);
--paper-font-menu_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);
--paper-font-menu_-_font-size:  13px;
--paper-font-menu_-_font-weight:  500;
--paper-font-menu_-_line-height:  24px;;

      --paper-font-button_-_font-family:  var(--paper-font-common-base_-_font-family);
--paper-font-button_-_-webkit-font-smoothing:  var(--paper-font-common-base_-_-webkit-font-smoothing);
--paper-font-button_-_white-space:  var(--paper-font-common-nowrap_-_white-space);
--paper-font-button_-_overflow:  var(--paper-font-common-nowrap_-_overflow);
--paper-font-button_-_text-overflow:  var(--paper-font-common-nowrap_-_text-overflow);
--paper-font-button_-_font-size:  14px;
--paper-font-button_-_font-weight:  500;
--paper-font-button_-_letter-spacing:  0.018em;
--paper-font-button_-_line-height:  24px;
--paper-font-button_-_text-transform:  uppercase;;

      --paper-font-code2_-_font-family:  var(--paper-font-common-code_-_font-family);
--paper-font-code2_-_-webkit-font-smoothing:  var(--paper-font-common-code_-_-webkit-font-smoothing);
--paper-font-code2_-_font-size:  14px;
--paper-font-code2_-_font-weight:  700;
--paper-font-code2_-_line-height:  20px;;

      --paper-font-code1_-_font-family:  var(--paper-font-common-code_-_font-family);
--paper-font-code1_-_-webkit-font-smoothing:  var(--paper-font-common-code_-_-webkit-font-smoothing);
--paper-font-code1_-_font-size:  14px;
--paper-font-code1_-_font-weight:  500;
--paper-font-code1_-_line-height:  20px;;
}

</style>
`;u.setAttribute("style","display: none;"),document.head.appendChild(u.content);i(6012);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const h=document.createElement("template");h.setAttribute("style","display: none;"),h.innerHTML='<dom-module id="paper-dialog-shared-styles">\n  <template>\n    <style scope="paper-dialog-shared-styles">:host {\n  display: block;\n        margin: 24px 40px;\n\n        background: var(--paper-dialog-background-color, var(--primary-background-color));\n        color: var(--paper-dialog-color, var(--primary-text-color));\n\n        font-family: var(--paper-font-body1_-_font-family);\n -webkit-font-smoothing: var(--paper-font-body1_-_-webkit-font-smoothing);\n font-size: var(--paper-font-body1_-_font-size);\n font-weight: var(--paper-font-body1_-_font-weight);\n line-height: var(--paper-font-body1_-_line-height);\n        box-shadow: var(--shadow-elevation-16dp_-_box-shadow);\n        ;\n}\n\n:host > ::slotted(*) {\n  margin-top: 20px;\n        padding: 0 24px;\n}\n\n:host > ::slotted(.no-padding) {\n  padding: 0;\n}\n\n:host > ::slotted(*:first-child) {\n  margin-top: 24px;\n}\n\n:host > ::slotted(*:last-child) {\n  margin-bottom: 24px;\n}\n\n:host > ::slotted(h2) {\n  position: relative;\n        margin: 0;\n\n        font-family: var(--paper-font-title_-_font-family);\n -webkit-font-smoothing: var(--paper-font-title_-_-webkit-font-smoothing);\n white-space: var(--paper-font-title_-_white-space);\n overflow: var(--paper-font-title_-_overflow);\n text-overflow: var(--paper-font-title_-_text-overflow);\n font-size: var(--paper-font-title_-_font-size);\n font-weight: var(--paper-font-title_-_font-weight);\n line-height: var(--paper-font-title_-_line-height);\n        ;\n}\n\n:host > ::slotted(h2:first-child) {\n  margin-top: 24px;\n        ;\n}\n\n:host > ::slotted(h2:last-child) {\n  margin-bottom: 24px;\n        ;\n}\n\n:host > ::slotted(.paper-dialog-buttons), :host > ::slotted(.buttons) {\n  position: relative;\n        padding: 8px 8px 8px 24px;\n        margin: 0;\n\n        color: var(--paper-dialog-button-color, var(--primary-color));\n\n        display: var(--layout-horizontal_-_display);\n -ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);\n -webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);\n flex-direction: var(--layout-horizontal_-_flex-direction);\n        -ms-flex-pack: var(--layout-end-justified_-_-ms-flex-pack);\n -webkit-justify-content: var(--layout-end-justified_-_-webkit-justify-content);\n justify-content: var(--layout-end-justified_-_justify-content);\n}\n\n</style>\n  </template>\n</dom-module>',document.head.appendChild(h.content);var p=i(2018),f=i(4707),b=i(5565);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
const g={hostAttributes:{role:"dialog",tabindex:"-1"},properties:{modal:{type:Boolean,value:!1},__readied:{type:Boolean,value:!1}},observers:["_modalChanged(modal, __readied)"],listeners:{tap:"_onDialogClick"},ready:function(){this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.__readied=!0},_modalChanged:function(e,t){t&&(e?(this.__prevNoCancelOnOutsideClick=this.noCancelOnOutsideClick,this.__prevNoCancelOnEscKey=this.noCancelOnEscKey,this.__prevWithBackdrop=this.withBackdrop,this.noCancelOnOutsideClick=!0,this.noCancelOnEscKey=!0,this.withBackdrop=!0):(this.noCancelOnOutsideClick=this.noCancelOnOutsideClick&&this.__prevNoCancelOnOutsideClick,this.noCancelOnEscKey=this.noCancelOnEscKey&&this.__prevNoCancelOnEscKey,this.withBackdrop=this.withBackdrop&&this.__prevWithBackdrop))},_updateClosingReasonConfirmed:function(e){this.closingReason=this.closingReason||{},this.closingReason.confirmed=e},_onDialogClick:function(e){for(var t=(0,b.tT)(e).path,i=0,o=t.indexOf(this);i<o;i++){var r=t[i];if(r.hasAttribute&&(r.hasAttribute("dialog-dismiss")||r.hasAttribute("dialog-confirm"))){this._updateClosingReasonConfirmed(r.hasAttribute("dialog-confirm")),this.close(),e.stopPropagation();break}}}},m=[f.r,g];
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
(0,i(816).b)({_template:d.q`<!--css-build:shadow--><style scope="paper-dialog">:host {
  display: block;
        margin: 24px 40px;

        background: var(--paper-dialog-background-color, var(--primary-background-color));
        color: var(--paper-dialog-color, var(--primary-text-color));

        font-family: var(--paper-font-body1_-_font-family);
 -webkit-font-smoothing: var(--paper-font-body1_-_-webkit-font-smoothing);
 font-size: var(--paper-font-body1_-_font-size);
 font-weight: var(--paper-font-body1_-_font-weight);
 line-height: var(--paper-font-body1_-_line-height);
        box-shadow: var(--shadow-elevation-16dp_-_box-shadow);
        ;
}

:host > ::slotted(*) {
  margin-top: 20px;
        padding: 0 24px;
}

:host > ::slotted(.no-padding) {
  padding: 0;
}

:host > ::slotted(*:first-child) {
  margin-top: 24px;
}

:host > ::slotted(*:last-child) {
  margin-bottom: 24px;
}

:host > ::slotted(h2) {
  position: relative;
        margin: 0;

        font-family: var(--paper-font-title_-_font-family);
 -webkit-font-smoothing: var(--paper-font-title_-_-webkit-font-smoothing);
 white-space: var(--paper-font-title_-_white-space);
 overflow: var(--paper-font-title_-_overflow);
 text-overflow: var(--paper-font-title_-_text-overflow);
 font-size: var(--paper-font-title_-_font-size);
 font-weight: var(--paper-font-title_-_font-weight);
 line-height: var(--paper-font-title_-_line-height);
        ;
}

:host > ::slotted(h2:first-child) {
  margin-top: 24px;
        ;
}

:host > ::slotted(h2:last-child) {
  margin-bottom: 24px;
        ;
}

:host > ::slotted(.paper-dialog-buttons), :host > ::slotted(.buttons) {
  position: relative;
        padding: 8px 8px 8px 24px;
        margin: 0;

        color: var(--paper-dialog-button-color, var(--primary-color));

        display: var(--layout-horizontal_-_display);
 -ms-flex-direction: var(--layout-horizontal_-_-ms-flex-direction);
 -webkit-flex-direction: var(--layout-horizontal_-_-webkit-flex-direction);
 flex-direction: var(--layout-horizontal_-_flex-direction);
        -ms-flex-pack: var(--layout-end-justified_-_-ms-flex-pack);
 -webkit-justify-content: var(--layout-end-justified_-_-webkit-justify-content);
 justify-content: var(--layout-end-justified_-_justify-content);
}

</style>
    <slot></slot>
`,is:"paper-dialog",behaviors:[m,p.L],listeners:{"neon-animation-finish":"_onNeonAnimationFinish"},_renderOpened:function(){this.cancelAnimation(),this.playAnimation("entry")},_renderClosed:function(){this.cancelAnimation(),this.playAnimation("exit")},_onNeonAnimationFinish:function(){this.opened?this._finishRenderOpened():this._finishRenderClosed()}});i(1520),i(7543);var y=i(9137);i(4547),i(9331),i(57),i(1863);const v=d.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  cursor: default;
}
sb-lookup[class*='--desktop'] {
  --sb-lookup-pill-container-min-height: 2.125rem;
  --sb-lookup-pill-container-min-width: 440px;
  --sb-lookup-pill-text-min-width: 405px;
}
sb-lookup[class*='--desktop']::shadow #typeahead::shadow #itemLabel {
  width: 440px;
  min-height: 2.125rem;
}
sb-lookup[class*='--desktop']::shadow #typeahead::shadow #selector {
  min-width: 440px;
}
sb-dialog[class*='--desktop'] {
  --sbDialogMaxHeight: none;
  --sbDialogContainerLeft: 0;
  --sbDialogContainerRight: 0;
  --sbDialogContainerTop: 60px;
  --sbDialogContainerWidth: 90%;
  --sbDialogContainerHeight: 85%;
  --sbDialogContainerzIndex: 10002;
  --sbDialogContainerTransform: translate(0, 0);
}
sb-toast[class*='--desktop'] {
  --sbToastzIndex: 10003;
}
.separator[class*='--desktop'] {
  margin: 1rem 0 0 0;
  border-top: none;
  border-left: none;
  border-right: none;
  border-bottom: 1px solid #d8dde6;
}
.headerDetails[class*='--desktop'] {
  height: initial;
  position: relative;
  background-color: #ffffff;
  padding: 0.75rem 0 1rem 0;
  border-bottom: 1px solid #d8dde6;
  width: 100%;
}
.headerDetails[class*='--desktop'] .name {
  display: block;
  position: relative;
  font-size: 1rem;
  font-weight: 300;
  margin-bottom: 0.25rem;
  color: #16325c;
}
.headerDetails[class*='--desktop'] .numResults {
  font-size: 0.75rem;
  font-weight: 400;
  color: #54698d;
}
#tbody[class*='--desktop'] {
  overflow: auto;
  display: block;
}
[class*='--desktop'] sb-lookup {
  --sb-lookup-pill-container-min-height: 2.125rem;
  --sb-lookup-pill-container-min-width: 440px;
  --sb-lookup-pill-text-min-width: 405px;
}
[class*='--desktop'] sb-lookup::shadow #typeahead::shadow #itemLabel {
  width: 440px;
  min-height: 2.125rem;
}
[class*='--desktop'] sb-lookup::shadow #typeahead::shadow #selector {
  min-width: 440px;
}
[class*='--desktop'] sb-dialog {
  --sbDialogMaxHeight: none;
  --sbDialogContainerLeft: 0;
  --sbDialogContainerRight: 0;
  --sbDialogContainerTop: 60px;
  --sbDialogContainerWidth: 90%;
  --sbDialogContainerHeight: 85%;
  --sbDialogContainerzIndex: 10002;
  --sbDialogContainerTransform: translate(0, 0);
}
[class*='--desktop'] sb-toast {
  --sbToastzIndex: 10003;
}
[class*='--desktop'] .separator {
  margin: 1rem 0 0 0;
  border-top: none;
  border-left: none;
  border-right: none;
  border-bottom: 1px solid #d8dde6;
}
[class*='--desktop'] .headerDetails {
  height: initial;
  position: relative;
  background-color: #ffffff;
  padding: 0.75rem 0 1rem 0;
  border-bottom: 1px solid #d8dde6;
  width: 100%;
}
[class*='--desktop'] .headerDetails .name {
  display: block;
  position: relative;
  font-size: 1rem;
  font-weight: 300;
  margin-bottom: 0.25rem;
  color: #16325c;
}
[class*='--desktop'] .headerDetails .numResults {
  font-size: 0.75rem;
  font-weight: 400;
  color: #54698d;
}
[class*='--desktop'] #tbody {
  overflow: auto;
  display: block;
}
.datatable {
  position: relative;
  display: flex;
  flex-direction: column;
}
sb-dialog {
  --sbDialogContentHeight: none;
}
#tbody[class*='--mobile'] {
  -webkit-overflow-scrolling: touch;
}
.content[class*='--mobile'] {
  background: #f0f1f2;
}
.separator[class*='--mobile'] {
  display: none;
}
.numResults[class*='--mobile'] {
  display: none;
}
h2.headerDetails[class*='--mobile'] {
  width: 100%;
  border-top: 1px solid #d8dde6;
  background-color: #f4f6f9;
}
h2[class*='--mobile'] > .name {
  display: block;
  font-weight: bold;
  padding: 13px 14px 13px 14px;
  border-bottom: 1px solid #d8dde6;
}
sb-lookup[class*='--mobile'] {
  --sbTypeaheadIronInputWidthMobile: 100%;
  --sbTypeaheadInputWidthMobile: calc(100% - 14px);
  --sbTypeaheadInputMarginMobile: 7px;
}
sb-dialog[class*='--mobile'] {
  --sbDialogContentOverflow: hidden;
}
[class*='--mobile'] #tbody {
  -webkit-overflow-scrolling: touch;
}
[class*='--mobile'] .content {
  background: #f0f1f2;
}
[class*='--mobile'] .separator {
  display: none;
}
[class*='--mobile'] .numResults {
  display: none;
}
[class*='--mobile'] h2.headerDetails {
  width: 100%;
  border-top: 1px solid #d8dde6;
  background-color: #f4f6f9;
}
[class*='--mobile'] h2 > .name {
  display: block;
  font-weight: bold;
  padding: 13px 14px 13px 14px;
  border-bottom: 1px solid #d8dde6;
}
[class*='--mobile'] sb-lookup {
  --sbTypeaheadIronInputWidthMobile: 100%;
  --sbTypeaheadInputWidthMobile: calc(100% - 14px);
  --sbTypeaheadInputMarginMobile: 7px;
}
[class*='--mobile'] sb-dialog {
  --sbDialogContentOverflow: hidden;
}
iron-list {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  overflow: auto;
}
`;var _=i(6902),w=(i(7533),i(8500),i(4943),i(1306),i(622),i(8421),i(9334),i(4293)),x=i(5770);i(7022),i(9139),i(1925),i(7893),i(3555);const C="CPQ_Lookup",S="CPQ_Lookup_Search",O=["string","picklist","multipicklist"],k=O.concat(["textarea","date","datetime","int","number","currency","percent","double","reference"]);class E extends((0,s.$)(o.Pu)){static get is(){return"sb-lookup-dialog"}static get properties(){return{value:{type:String,value:null},label:String,tableName:String,tableLabel:String,fieldLabel:String,labelName:String,selectedLabel:String,searchValue:String,metadata:Object,numResults:Number,results:Object,invoker:{type:Object,observer:"initialize"},isOAuth:{type:Boolean,value:function(){return!!_.B.org&&_.B.org.isOAuth}},openSpinner:{type:Boolean,value:!1},recordSpinner:{type:Boolean,value:!1},viewport:{type:Object,value:function(){return r.L.getViewport()}},isMobile:{type:Boolean,computed:"_isMobile(viewport)"},hideCancel:{type:Boolean,computed:"_hideCancel(isMobile, openSpinner, recordSpinner)"},layoutFields:{type:Array,value:[]},searchFields:{type:Array,value:[]},lookupSearchTypes:{type:Array,value:function(){return O.concat(_.B.org?_.B.org.additionalLookupSearchTypes:[])}},maxSearchFields:{type:Number,value:function(){return _.B.org?_.B.org.maxLookupSearchFields:1}},fieldSetPrefix:{type:String,value:function(){return _.B.org.prefix?_.B.org.prefix+"__":""}},i18n:{type:Object,value:function(){return _.B.properties.i18n.value()}}}}static get observers(){return["_getMetadataObserver(tableName, viewport)","_processCPQLayoutFieldsObserver(fieldSets, i18n)"]}ready(){super.ready(),this.addEventListener("sb-close-dialog",this.cancel.bind(this)),this.addEventListener("lookup-value-changed",this.setValues.bind(this)),this.$.field.addEventListener("md-changed",this.processListFields.bind(this)),this.addEventListener("sb-link-tapped",this.updateLookup.bind(this)),this.setResultsHeightHandler=this.setResultsHeight.bind(this),window.addEventListener("resize",this.setResultsHeightHandler),this.$.list.assignParentResizable({stopResizeNotificationsFor:function(){window.removeEventListener("resize",this.setResultsHeightHandler)}.bind(this),_interestedResizables:[],_subscribeIronResize:()=>{}})}initialize(){this.invoker&&(this.labelName=this.invoker.labelName,this.label=this.invoker.label,this.selectedLabel=this.invoker.selectedLabel,this.tableName=this.invoker.tableName,this.fieldLabel=this.invoker.fieldLabel,this.currentRecordFilters=this.invoker.currentRecordFilters,this.controllingFields=this.invoker.controllingFields,this.record=this.invoker.record,this.hasFilter=!(this.currentRecordFilters&&Object.keys(this.currentRecordFilters).length>0&&_.B.apiVersion<39)&&this.invoker.hasFilter,this.fieldFullName=this.invoker.fieldFullName)}open(e){this.$.dialog.toggle(),this.invoker.dialogOpened(),this.$.lookup.$.typeahead.blurred=!0,this.$.lookup.$.typeahead.hasList=!1,this.$.lookup.$.typeahead.labelValue=e,this.invoker.$.typeahead.$.itemLabel.blur(),this.searchValue=e}cancel(){this.close()}saveAndDeferredClose(){this.syncSelection(),this.deferredClose()}save(){this.syncSelection(),this.close()}syncSelection(){this.invoker.value=void 0,this.invoker.label=this.label,this.invoker.value=this.value}clearAndSave(){this.label="",this.value=null,this.save()}close(){this.$.dialog.toggle(),this.$.lookup.$.typeahead.suggest({}),this.invoker.dialogClosed(),this.reset(),this.clearSelected()}deferredClose(){setTimeout(function(){this.close()}.bind(this),350)}reset(){this.value=null,this.label=null,this.results=null,this.tableLabel=null,this.fieldLabel=null,this.fieldFullName=void 0,this.hasFilter=!1,this.currentRecordFilters=null,this.controllingFields=null,this.record=null,this.tableName=null,this.numResults=0,this.metadata=void 0,this.layoutFields=[],this.searchFields=[],this.$.header.cols=void 0,this.$.header.$.header.destroyGroup(),this.$.fs.response=null,this.$.fs.context=void 0,this.invoker=null,this.errors=null}setValues(e){this.value=e.detail.value,this.label=e.detail[this.labelName]}updateLookup(e){this.label=void 0,this.value=e.detail.Id,this.label=this.getSelectedLabelValueById(e.detail.Id)}getSelectedLabelValueById(e){for(let t of this.results)if(t.Id===e)return t[this.selectedLabel]}_getMetadataObserver(e,t){if(void 0!==e&&void 0!==t)return this.getMetadata(e,t)}getMetadata(){this.tableName&&(this.openSpinner=!0,this.$.fs.context={fieldSets:[{tableName:this.tableName,name:C},{tableName:this.tableName,name:S}]})}initSearchFieldsAndReturnOnesNotInLayout(e,t){let i=[],o=this.getCpqLookupSearchFields(e);if(!o)return i;this.searchFields=o.names;let r=o.fields;for(let e of r)e!==this.tableName+"."+this.selectedLabel&&-1===t.indexOf(e)&&i.push(e);return i}_processCPQLayoutFieldsObserver(e,t){if(void 0!==e&&void 0!==t)return this.processCPQLayoutFields(e,t)}processCPQLayoutFields(e){if(!e)return;if(this.tableLabel=e[0].tableLabel,this.isMobile)return void this.initMobileMetadata();let t=this.getCpqLookupLayoutFields(e);t||(t={fields:[],names:[]},this.warnUserAboutCPQLayoutFieldSet());let i=this.getNameFieldIfOmittedFrom(t.fields);i&&(t.fields=[i.field].concat(t.fields),t.names.push(i.name)),this.layoutFields=t.names;let o=this.initSearchFieldsAndReturnOnesNotInLayout(e,t.fields),r=t.fields.concat(o);this.$.field.fields=r}processListFields(e){let t=e.detail.value.fields,i=[],o=[],r={},n={},s={},a=[];for(let e=0,l=t.length;e<l;e++){let l=t[e],d={type:l.type,link:0===e};-1!==this.layoutFields.indexOf(l.name)&&(i.push(l.name),o.push(l.label)),r[l.name]=l.type,n[l.name]=d,l.scale&&(n[l.name].scale=l.scale),s[l.label.replace(/\W/g,"")]=l.type,"reference"!==l.type&&"id"!==l.type||a.push({name:l.name,table:l.referenceTo[0]})}this.headerClassMap=new x.u(Object.keys(s),"Th",s,null,!0).build(),this.rowClassMap=new x.u(i,"Td",r).build();let l=this.sanitizeAdditionalSearchFields(n);this.metadata={fieldNames:i,fieldLabels:o,fieldTypeObjByName:n,fieldsOfTypeLookup:a,additionalSearchFields:l},this.querySearchResults()}sanitizeAdditionalSearchFields(e){let t=0,i=0,o=[];for(let r of this.searchFields){if(r===this.selectedLabel){i=1;continue}let n=e[r].type;if(-1!==this.lookupSearchTypes.indexOf(n)&&-1!==k.indexOf(n)&&(o.push(r),++t===this.maxSearchFields))break}return o.length<this.searchFields.length-i&&this.warnUserAboutSanitizedCPQSearchFieldSet(o),o}querySearchResults(){this.recordSpinner=!this.openSpinner;let e=new w.A(this.tableName,this.selectedLabel,this.hasFilter,this.fieldFullName,101,this.currentRecordFilters,this.record,!1,this.metadata).build(this.searchValue,!0,!0);this.$.query.query({soql:e}).then(this.handleSearchResults.bind(this,100))}handleSearchResults(e,t){this.clearSelected();let i=t.totalSize>e?"+":"",o=Math.min(e,t.totalSize);this.numResults=o+i,this.results=this.getResults(t,e),this.recordSpinner=!1,this.openSpinner=!1,this.isMobile&&(this.$.tbody.style.overflow=null),(0,y.m)(this,function(){this.setResultsHeight()}.bind(this))}getResults(e,t){let i=e.records,o=e.totalSize,r=this.isMobile&&i.length>o,n=r?i.pop():null;for(;o>t;)i.pop(),o--;return r&&n&&n[this.selectedLabel]&&""!==n[this.selectedLabel]&&(i.push(n),i[o][this.selectedLabel]=n[this.selectedLabel]),i}setResultsHeight(){let e=this.isMobile?document.documentElement.clientHeight:this.$.dialog.shadowRoot.querySelector("#footer").offsetTop,t=e-this.$.tbody.offsetTop,i=t<this.$.tbody.scrollHeight?t+"px":null;this.$.tbody.style.height=i;let o=e-this.$.datatable.offsetTop+"px";this.$.datatable.style.height=o;let r=this.$.spinner.shadowRoot.querySelector("#mask");r.style.height=t+"px",this.isMobile?this.$.tbody.style.overflow="auto":r.style.marginLeft="-24px",(0,y.m)(this,function(){this.shadowRoot.querySelector("#list").notifyResize()}.bind(this))}getCpqLookupLayoutFields(e){return this.getCpqLookupFields(e,!1)}getCpqLookupSearchFields(e){return this.getCpqLookupFields(e,!0)}getCpqLookupFields(e,t){let i=[],o=[];for(let r of e){if(!this.validCPQFieldSet(r,t))continue;let e=r.displayedFields,n=e?e.constructor===Array?e:[e]:[];for(let e of n){let t=e.field||e;1===t.split(".").length&&(o.push(t),i.push(this.tableName+"."+t))}return{fields:i,names:o}}return null}validCPQFieldSet(e,t){return!(t||e.label!==C&&e.fullName!==this.fieldSetPrefix+C)||!(!t||e.label!==S&&e.fullName!==this.fieldSetPrefix+S)}getNameFieldIfOmittedFrom(e){if(-1===e.indexOf(this.tableName+"."+this.selectedLabel))return{field:this.tableName+"."+this.selectedLabel,name:this.selectedLabel}}warnUserAboutCPQLayoutFieldSet(){this.errors=[this.i18n.l("FieldSetWarning",[this.tableLabel])]}warnUserAboutSanitizedCPQSearchFieldSet(e){console.warn(`The ${this.tableLabel}.${this.fieldSetPrefix}${S} field set either contains fields of unsupported types or the field set size exceeds the max size (${this.maxSearchFields}).\nActual: ${e.join(",")}\nExpect: ${this.searchFields.join(",")}`)}initMobileMetadata(){let e={};e[this.selectedLabel]="lookupItemTd",this.rowClassMap=e,this.metadata={fieldNames:[this.selectedLabel],fieldLabels:[],fieldTypeObjByName:{},fieldsOfTypeLookup:[],additionalSearchFields:[]},this.$.lookup.lookupResultsCallback(this.searchValue)}mobileSelection(e){if(!this.isMobile)return;let t=e.target;this.setSelected(t),t.hasAttribute("data-search")?(this.searchValue=t.getAttribute("data-search"),this.querySearchResults()):(this.value=t.getAttribute("data-id"),this.label=t.getAttribute("data-name"),this.saveAndDeferredClose())}getSearchValue(e){if(e&&!e.Id)return e.__md__.searchValue}getNameValue(e){return e[this.selectedLabel]}setSelected(e){this.selected=e.$.row.shadowRoot.querySelector("sb-table-cell"),(0,l.p1)("selectedLookupItem",!0,this.selected)}clearSelected(){this.selected&&(0,l.p1)("selectedLookupItem",!1,this.selected)}_hideCancel(){return!this.isMobile||this.openSpinner||this.recordSpinner}_isMobile(){return this.viewport&&this.viewport.isMobile()}static get template(){return o.qy`
		<style include="sb-common-styles sb-forms-styles sb-tables-styles sb-dialogs-styles"></style>
		<style>${v}</style>

		<sb-service id="fs" cache="fs" uid="" response={{fieldSets}} loader="FieldSetServiceProvider" background="true"></sb-service>
		<sb-field-md id="field" background="true" do-not-fix-object-name="true"></sb-field-md>
		<sb-service id="query" background="true"></sb-service>
    <sb-toast id="toast" type="warning" messages="{{errors}}"></sb-toast>

		<sb-dialog device id="dialog" modal="true">
			<div slot="title" class="title" style="font-size: 1.25rem;">[[fieldLabel]]</div>
			<template is="dom-if" if="[[!isMobile]]">
				<paper-button slot="paper-button" class="primary" on-click="save" hidden$="[[!value]]"><sb-i18n>Save</sb-i18n></paper-button>
			</template>
			<div slot="content" class="content">
				<sf-loading-spinner show="[[openSpinner]]"></sf-loading-spinner>
				<sb-lookup
						id="lookup"
						value="[[value]]"
						label="[[label]]"
						label-name="[[labelName]]"
						selected-label="[[selectedLabel]]"
						table-name="[[tableName]]"
						in-dialog="true"
						blur-disabled="true"
						pill-class="dialog"
						focus-disabled="[[isMobile]]"
						hide-cancel-icon="[[hideCancel]]"
						field-full-name="[[fieldFullName]]"
						has-filter="[[hasFilter]]"
						controlling-fields="[[controllingFields]]"
						record="[[record]]"
						dialog-metadata="[[metadata]]"
						variant="dialog"
				></sb-lookup>
				<hr class="separator">
				<h2 class="headerDetails">
					<div class="name">[[tableLabel]]</div>
					<div class="numResults" hidden$="[[!results]]"><sb-i18n key="numResults" value="[[numResults]]">{0} Results</sb-i18n></div>
				</h2>
				<div class="datatable" id="datatable">
					<div class="thead">
						<sb-table-header id="header" cols="[[metadata.fieldLabels]]"
										 header-class-map="[[headerClassMap]]"></sb-table-header>
					</div>
					<sf-loading-spinner id="spinner" show="[[recordSpinner]]" position="absolute"></sf-loading-spinner>
					<div class="tbody" id="tbody">
						<iron-list scroll-target="tbody" id="list" items="[[results]]" as="row">
							<template>
								<sb-table-row
										id="tableRow"
										cell="sb-table-cell"
										cols="[[metadata.fieldNames]]"
										cols-display="[[metadata.fieldLabels]]"
										row-data="[[row]]"
										model="[[metadata.fieldTypeObjByName]]"
										row-class-map="[[rowClassMap]]"
										data-name$="[[getNameValue(row, row.Id)]]"
										data-id$="[[row.Id]]"
										data-search$="[[getSearchValue(row)]]"
										on-click="mobileSelection"
										disable-swipe="true"
										no-data-propagation="true"
								/>
							</template>
						</iron-list>
					</div>
				</div>
			</div>
		</sb-dialog>
		`}}customElements.define(E.is,E);i(5509);const I=d.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  /** BEGINNING OF quill.core.css **/
  /*!
	 * Quill Editor v1.3.7
	 * https://quilljs.com/
	 * Copyright (c) 2014, Jason Chen
	 * Copyright (c) 2013, salesforce.com
	 */
  /** END OF quill.core.css **/
  /** BEGINNING OF quill.snow.css **/
  /*!
     * Quill Editor v1.3.7
     * https://quilljs.com/
     * Copyright (c) 2014, Jason Chen
     * Copyright (c) 2013, salesforce.com
     */
  /** END OF quill.snow.css **/
  --sbDialogContentPadding: 0;
  cursor: default;
}
:host .ql-container {
  box-sizing: border-box;
  font-family: Helvetica, Arial, sans-serif;
  font-size: 13px;
  height: 100%;
  margin: 0px;
  position: relative;
}
:host .ql-container.ql-disabled .ql-tooltip {
  visibility: hidden;
}
:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
  pointer-events: none;
}
:host .ql-clipboard {
  left: -100000px;
  height: 1px;
  overflow-y: hidden;
  position: absolute;
  top: 50%;
}
:host .ql-clipboard p {
  margin: 0;
  padding: 0;
}
:host .ql-editor {
  box-sizing: border-box;
  line-height: 1.42;
  height: 100%;
  outline: none;
  overflow-y: auto;
  padding: 12px 15px;
  tab-size: 4;
  -moz-tab-size: 4;
  text-align: left;
  white-space: pre-wrap;
  word-wrap: break-word;
}
:host .ql-editor > * {
  cursor: text;
}
:host .ql-editor p,
:host .ql-editor ol,
:host .ql-editor ul,
:host .ql-editor pre,
:host .ql-editor blockquote,
:host .ql-editor h1,
:host .ql-editor h2,
:host .ql-editor h3,
:host .ql-editor h4,
:host .ql-editor h5,
:host .ql-editor h6 {
  margin: 0;
  padding: 0;
  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol,
:host .ql-editor ul {
  padding-left: 1.5em;
}
:host .ql-editor ol > li,
:host .ql-editor ul > li {
  list-style-type: none;
}
:host .ql-editor ul > li::before {
  content: '\\2022';
}
:host .ql-editor ul[data-checked=true],
:host .ql-editor ul[data-checked=false] {
  pointer-events: none;
}
:host .ql-editor ul[data-checked=true] > li *,
:host .ql-editor ul[data-checked=false] > li * {
  pointer-events: all;
}
:host .ql-editor ul[data-checked=true] > li::before,
:host .ql-editor ul[data-checked=false] > li::before {
  color: #777;
  cursor: pointer;
  pointer-events: all;
}
:host .ql-editor ul[data-checked=true] > li::before {
  content: '\\2611';
}
:host .ql-editor ul[data-checked=false] > li::before {
  content: '\\2610';
}
:host .ql-editor li::before {
  display: inline-block;
  white-space: nowrap;
  width: 1.2em;
}
:host .ql-editor li:not(.ql-direction-rtl)::before {
  margin-left: -1.5em;
  margin-right: 0.3em;
  text-align: right;
}
:host .ql-editor li.ql-direction-rtl::before {
  margin-left: 0.3em;
  margin-right: -1.5em;
}
:host .ql-editor ol li:not(.ql-direction-rtl),
:host .ql-editor ul li:not(.ql-direction-rtl) {
  padding-left: 1.5em;
}
:host .ql-editor ol li.ql-direction-rtl,
:host .ql-editor ul li.ql-direction-rtl {
  padding-right: 1.5em;
}
:host .ql-editor ol li {
  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
  counter-increment: list-0;
}
:host .ql-editor ol li:before {
  content: counter(list-0, decimal) '. ';
}
:host .ql-editor ol li.ql-indent-1 {
  counter-increment: list-1;
}
:host .ql-editor ol li.ql-indent-1:before {
  content: counter(list-1, lower-alpha) '. ';
}
:host .ql-editor ol li.ql-indent-1 {
  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-2 {
  counter-increment: list-2;
}
:host .ql-editor ol li.ql-indent-2:before {
  content: counter(list-2, lower-roman) '. ';
}
:host .ql-editor ol li.ql-indent-2 {
  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-3 {
  counter-increment: list-3;
}
:host .ql-editor ol li.ql-indent-3:before {
  content: counter(list-3, decimal) '. ';
}
:host .ql-editor ol li.ql-indent-3 {
  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-4 {
  counter-increment: list-4;
}
:host .ql-editor ol li.ql-indent-4:before {
  content: counter(list-4, lower-alpha) '. ';
}
:host .ql-editor ol li.ql-indent-4 {
  counter-reset: list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-5 {
  counter-increment: list-5;
}
:host .ql-editor ol li.ql-indent-5:before {
  content: counter(list-5, lower-roman) '. ';
}
:host .ql-editor ol li.ql-indent-5 {
  counter-reset: list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-6 {
  counter-increment: list-6;
}
:host .ql-editor ol li.ql-indent-6:before {
  content: counter(list-6, decimal) '. ';
}
:host .ql-editor ol li.ql-indent-6 {
  counter-reset: list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-7 {
  counter-increment: list-7;
}
:host .ql-editor ol li.ql-indent-7:before {
  content: counter(list-7, lower-alpha) '. ';
}
:host .ql-editor ol li.ql-indent-7 {
  counter-reset: list-8 list-9;
}
:host .ql-editor ol li.ql-indent-8 {
  counter-increment: list-8;
}
:host .ql-editor ol li.ql-indent-8:before {
  content: counter(list-8, lower-roman) '. ';
}
:host .ql-editor ol li.ql-indent-8 {
  counter-reset: list-9;
}
:host .ql-editor ol li.ql-indent-9 {
  counter-increment: list-9;
}
:host .ql-editor ol li.ql-indent-9:before {
  content: counter(list-9, decimal) '. ';
}
:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {
  padding-left: 3em;
}
:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
  padding-left: 4.5em;
}
:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
  padding-right: 3em;
}
:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
  padding-right: 4.5em;
}
:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {
  padding-left: 6em;
}
:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
  padding-left: 7.5em;
}
:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
  padding-right: 6em;
}
:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
  padding-right: 7.5em;
}
:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {
  padding-left: 9em;
}
:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
  padding-left: 10.5em;
}
:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
  padding-right: 9em;
}
:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
  padding-right: 10.5em;
}
:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {
  padding-left: 12em;
}
:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
  padding-left: 13.5em;
}
:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
  padding-right: 12em;
}
:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
  padding-right: 13.5em;
}
:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {
  padding-left: 15em;
}
:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
  padding-left: 16.5em;
}
:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
  padding-right: 15em;
}
:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
  padding-right: 16.5em;
}
:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {
  padding-left: 18em;
}
:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
  padding-left: 19.5em;
}
:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
  padding-right: 18em;
}
:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
  padding-right: 19.5em;
}
:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {
  padding-left: 21em;
}
:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
  padding-left: 22.5em;
}
:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
  padding-right: 21em;
}
:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
  padding-right: 22.5em;
}
:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {
  padding-left: 24em;
}
:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
  padding-left: 25.5em;
}
:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
  padding-right: 24em;
}
:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
  padding-right: 25.5em;
}
:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {
  padding-left: 27em;
}
:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
  padding-left: 28.5em;
}
:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
  padding-right: 27em;
}
:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
  padding-right: 28.5em;
}
:host .ql-editor .ql-video {
  display: block;
  max-width: 100%;
}
:host .ql-editor .ql-video.ql-align-center {
  margin: 0 auto;
}
:host .ql-editor .ql-video.ql-align-right {
  margin: 0 0 0 auto;
}
:host .ql-editor .ql-bg-black {
  background-color: #000;
}
:host .ql-editor .ql-bg-red {
  background-color: #e60000;
}
:host .ql-editor .ql-bg-orange {
  background-color: #f90;
}
:host .ql-editor .ql-bg-yellow {
  background-color: #ff0;
}
:host .ql-editor .ql-bg-green {
  background-color: #008a00;
}
:host .ql-editor .ql-bg-blue {
  background-color: #06c;
}
:host .ql-editor .ql-bg-purple {
  background-color: #93f;
}
:host .ql-editor .ql-color-white {
  color: #fff;
}
:host .ql-editor .ql-color-red {
  color: #e60000;
}
:host .ql-editor .ql-color-orange {
  color: #f90;
}
:host .ql-editor .ql-color-yellow {
  color: #ff0;
}
:host .ql-editor .ql-color-green {
  color: #008a00;
}
:host .ql-editor .ql-color-blue {
  color: #06c;
}
:host .ql-editor .ql-color-purple {
  color: #93f;
}
:host .ql-editor .ql-font-serif {
  font-family: Georgia, Times New Roman, serif;
}
:host .ql-editor .ql-font-monospace {
  font-family: Monaco, Courier New, monospace;
}
:host .ql-editor .ql-size-small {
  font-size: 0.75em;
}
:host .ql-editor .ql-size-large {
  font-size: 1.5em;
}
:host .ql-editor .ql-size-huge {
  font-size: 2.5em;
}
:host .ql-editor .ql-direction-rtl {
  direction: rtl;
  text-align: inherit;
}
:host .ql-editor .ql-align-center {
  text-align: center;
}
:host .ql-editor .ql-align-justify {
  text-align: justify;
}
:host .ql-editor .ql-align-right {
  text-align: right;
}
:host .ql-editor.ql-blank::before {
  color: rgba(0, 0, 0, 0.6);
  content: attr(data-placeholder);
  font-style: italic;
  left: 15px;
  pointer-events: none;
  position: absolute;
  right: 15px;
}
:host .ql-container {
  box-sizing: border-box;
  font-family: Helvetica, Arial, sans-serif;
  font-size: 13px;
  height: 100%;
  margin: 0px;
  position: relative;
}
:host .ql-container.ql-disabled .ql-tooltip {
  visibility: hidden;
}
:host .ql-container.ql-disabled .ql-editor ul[data-checked] > li::before {
  pointer-events: none;
}
:host .ql-clipboard {
  left: -100000px;
  height: 1px;
  overflow-y: hidden;
  position: absolute;
  top: 50%;
}
:host .ql-clipboard p {
  margin: 0;
  padding: 0;
}
:host .ql-editor {
  box-sizing: border-box;
  line-height: 1.42;
  height: 100%;
  outline: none;
  overflow-y: auto;
  padding: 12px 15px;
  tab-size: 4;
  -moz-tab-size: 4;
  text-align: left;
  white-space: pre-wrap;
  word-wrap: break-word;
}
:host .ql-editor > * {
  cursor: text;
}
:host .ql-editor p,
:host .ql-editor ol,
:host .ql-editor ul,
:host .ql-editor pre,
:host .ql-editor blockquote,
:host .ql-editor h1,
:host .ql-editor h2,
:host .ql-editor h3,
:host .ql-editor h4,
:host .ql-editor h5,
:host .ql-editor h6 {
  margin: 0;
  padding: 0;
  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol,
:host .ql-editor ul {
  padding-left: 1.5em;
}
:host .ql-editor ol > li,
:host .ql-editor ul > li {
  list-style-type: none;
}
:host .ql-editor ul > li::before {
  content: '\\2022';
}
:host .ql-editor ul[data-checked=true],
:host .ql-editor ul[data-checked=false] {
  pointer-events: none;
}
:host .ql-editor ul[data-checked=true] > li *,
:host .ql-editor ul[data-checked=false] > li * {
  pointer-events: all;
}
:host .ql-editor ul[data-checked=true] > li::before,
:host .ql-editor ul[data-checked=false] > li::before {
  color: #777;
  cursor: pointer;
  pointer-events: all;
}
:host .ql-editor ul[data-checked=true] > li::before {
  content: '\\2611';
}
:host .ql-editor ul[data-checked=false] > li::before {
  content: '\\2610';
}
:host .ql-editor li::before {
  display: inline-block;
  white-space: nowrap;
  width: 1.2em;
}
:host .ql-editor li:not(.ql-direction-rtl)::before {
  margin-left: -1.5em;
  margin-right: 0.3em;
  text-align: right;
}
:host .ql-editor li.ql-direction-rtl::before {
  margin-left: 0.3em;
  margin-right: -1.5em;
}
:host .ql-editor ol li:not(.ql-direction-rtl),
:host .ql-editor ul li:not(.ql-direction-rtl) {
  padding-left: 1.5em;
}
:host .ql-editor ol li.ql-direction-rtl,
:host .ql-editor ul li.ql-direction-rtl {
  padding-right: 1.5em;
}
:host .ql-editor ol li {
  counter-reset: list-1 list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
  counter-increment: list-0;
}
:host .ql-editor ol li:before {
  content: counter(list-0, decimal) '. ';
}
:host .ql-editor ol li.ql-indent-1 {
  counter-increment: list-1;
}
:host .ql-editor ol li.ql-indent-1:before {
  content: counter(list-1, lower-alpha) '. ';
}
:host .ql-editor ol li.ql-indent-1 {
  counter-reset: list-2 list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-2 {
  counter-increment: list-2;
}
:host .ql-editor ol li.ql-indent-2:before {
  content: counter(list-2, lower-roman) '. ';
}
:host .ql-editor ol li.ql-indent-2 {
  counter-reset: list-3 list-4 list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-3 {
  counter-increment: list-3;
}
:host .ql-editor ol li.ql-indent-3:before {
  content: counter(list-3, decimal) '. ';
}
:host .ql-editor ol li.ql-indent-3 {
  counter-reset: list-4 list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-4 {
  counter-increment: list-4;
}
:host .ql-editor ol li.ql-indent-4:before {
  content: counter(list-4, lower-alpha) '. ';
}
:host .ql-editor ol li.ql-indent-4 {
  counter-reset: list-5 list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-5 {
  counter-increment: list-5;
}
:host .ql-editor ol li.ql-indent-5:before {
  content: counter(list-5, lower-roman) '. ';
}
:host .ql-editor ol li.ql-indent-5 {
  counter-reset: list-6 list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-6 {
  counter-increment: list-6;
}
:host .ql-editor ol li.ql-indent-6:before {
  content: counter(list-6, decimal) '. ';
}
:host .ql-editor ol li.ql-indent-6 {
  counter-reset: list-7 list-8 list-9;
}
:host .ql-editor ol li.ql-indent-7 {
  counter-increment: list-7;
}
:host .ql-editor ol li.ql-indent-7:before {
  content: counter(list-7, lower-alpha) '. ';
}
:host .ql-editor ol li.ql-indent-7 {
  counter-reset: list-8 list-9;
}
:host .ql-editor ol li.ql-indent-8 {
  counter-increment: list-8;
}
:host .ql-editor ol li.ql-indent-8:before {
  content: counter(list-8, lower-roman) '. ';
}
:host .ql-editor ol li.ql-indent-8 {
  counter-reset: list-9;
}
:host .ql-editor ol li.ql-indent-9 {
  counter-increment: list-9;
}
:host .ql-editor ol li.ql-indent-9:before {
  content: counter(list-9, decimal) '. ';
}
:host .ql-editor .ql-indent-1:not(.ql-direction-rtl) {
  padding-left: 3em;
}
:host .ql-editor li.ql-indent-1:not(.ql-direction-rtl) {
  padding-left: 4.5em;
}
:host .ql-editor .ql-indent-1.ql-direction-rtl.ql-align-right {
  padding-right: 3em;
}
:host .ql-editor li.ql-indent-1.ql-direction-rtl.ql-align-right {
  padding-right: 4.5em;
}
:host .ql-editor .ql-indent-2:not(.ql-direction-rtl) {
  padding-left: 6em;
}
:host .ql-editor li.ql-indent-2:not(.ql-direction-rtl) {
  padding-left: 7.5em;
}
:host .ql-editor .ql-indent-2.ql-direction-rtl.ql-align-right {
  padding-right: 6em;
}
:host .ql-editor li.ql-indent-2.ql-direction-rtl.ql-align-right {
  padding-right: 7.5em;
}
:host .ql-editor .ql-indent-3:not(.ql-direction-rtl) {
  padding-left: 9em;
}
:host .ql-editor li.ql-indent-3:not(.ql-direction-rtl) {
  padding-left: 10.5em;
}
:host .ql-editor .ql-indent-3.ql-direction-rtl.ql-align-right {
  padding-right: 9em;
}
:host .ql-editor li.ql-indent-3.ql-direction-rtl.ql-align-right {
  padding-right: 10.5em;
}
:host .ql-editor .ql-indent-4:not(.ql-direction-rtl) {
  padding-left: 12em;
}
:host .ql-editor li.ql-indent-4:not(.ql-direction-rtl) {
  padding-left: 13.5em;
}
:host .ql-editor .ql-indent-4.ql-direction-rtl.ql-align-right {
  padding-right: 12em;
}
:host .ql-editor li.ql-indent-4.ql-direction-rtl.ql-align-right {
  padding-right: 13.5em;
}
:host .ql-editor .ql-indent-5:not(.ql-direction-rtl) {
  padding-left: 15em;
}
:host .ql-editor li.ql-indent-5:not(.ql-direction-rtl) {
  padding-left: 16.5em;
}
:host .ql-editor .ql-indent-5.ql-direction-rtl.ql-align-right {
  padding-right: 15em;
}
:host .ql-editor li.ql-indent-5.ql-direction-rtl.ql-align-right {
  padding-right: 16.5em;
}
:host .ql-editor .ql-indent-6:not(.ql-direction-rtl) {
  padding-left: 18em;
}
:host .ql-editor li.ql-indent-6:not(.ql-direction-rtl) {
  padding-left: 19.5em;
}
:host .ql-editor .ql-indent-6.ql-direction-rtl.ql-align-right {
  padding-right: 18em;
}
:host .ql-editor li.ql-indent-6.ql-direction-rtl.ql-align-right {
  padding-right: 19.5em;
}
:host .ql-editor .ql-indent-7:not(.ql-direction-rtl) {
  padding-left: 21em;
}
:host .ql-editor li.ql-indent-7:not(.ql-direction-rtl) {
  padding-left: 22.5em;
}
:host .ql-editor .ql-indent-7.ql-direction-rtl.ql-align-right {
  padding-right: 21em;
}
:host .ql-editor li.ql-indent-7.ql-direction-rtl.ql-align-right {
  padding-right: 22.5em;
}
:host .ql-editor .ql-indent-8:not(.ql-direction-rtl) {
  padding-left: 24em;
}
:host .ql-editor li.ql-indent-8:not(.ql-direction-rtl) {
  padding-left: 25.5em;
}
:host .ql-editor .ql-indent-8.ql-direction-rtl.ql-align-right {
  padding-right: 24em;
}
:host .ql-editor li.ql-indent-8.ql-direction-rtl.ql-align-right {
  padding-right: 25.5em;
}
:host .ql-editor .ql-indent-9:not(.ql-direction-rtl) {
  padding-left: 27em;
}
:host .ql-editor li.ql-indent-9:not(.ql-direction-rtl) {
  padding-left: 28.5em;
}
:host .ql-editor .ql-indent-9.ql-direction-rtl.ql-align-right {
  padding-right: 27em;
}
:host .ql-editor li.ql-indent-9.ql-direction-rtl.ql-align-right {
  padding-right: 28.5em;
}
:host .ql-editor .ql-video {
  display: block;
  max-width: 100%;
}
:host .ql-editor .ql-video.ql-align-center {
  margin: 0 auto;
}
:host .ql-editor .ql-video.ql-align-right {
  margin: 0 0 0 auto;
}
:host .ql-editor .ql-bg-black {
  background-color: #000;
}
:host .ql-editor .ql-bg-red {
  background-color: #e60000;
}
:host .ql-editor .ql-bg-orange {
  background-color: #f90;
}
:host .ql-editor .ql-bg-yellow {
  background-color: #ff0;
}
:host .ql-editor .ql-bg-green {
  background-color: #008a00;
}
:host .ql-editor .ql-bg-blue {
  background-color: #06c;
}
:host .ql-editor .ql-bg-purple {
  background-color: #93f;
}
:host .ql-editor .ql-color-white {
  color: #fff;
}
:host .ql-editor .ql-color-red {
  color: #e60000;
}
:host .ql-editor .ql-color-orange {
  color: #f90;
}
:host .ql-editor .ql-color-yellow {
  color: #ff0;
}
:host .ql-editor .ql-color-green {
  color: #008a00;
}
:host .ql-editor .ql-color-blue {
  color: #06c;
}
:host .ql-editor .ql-color-purple {
  color: #93f;
}
:host .ql-editor .ql-font-serif {
  font-family: Georgia, Times New Roman, serif;
}
:host .ql-editor .ql-font-monospace {
  font-family: Monaco, Courier New, monospace;
}
:host .ql-editor .ql-size-small {
  font-size: 0.75em;
}
:host .ql-editor .ql-size-large {
  font-size: 1.5em;
}
:host .ql-editor .ql-size-huge {
  font-size: 2.5em;
}
:host .ql-editor .ql-direction-rtl {
  direction: rtl;
  text-align: inherit;
}
:host .ql-editor .ql-align-center {
  text-align: center;
}
:host .ql-editor .ql-align-justify {
  text-align: justify;
}
:host .ql-editor .ql-align-right {
  text-align: right;
}
:host .ql-editor.ql-blank::before {
  color: rgba(0, 0, 0, 0.6);
  content: attr(data-placeholder);
  font-style: italic;
  left: 15px;
  pointer-events: none;
  position: absolute;
  right: 15px;
}
:host .ql-snow.ql-toolbar:after,
:host .ql-snow .ql-toolbar:after {
  clear: both;
  content: '';
  display: table;
}
:host .ql-snow.ql-toolbar button,
:host .ql-snow .ql-toolbar button {
  background: none;
  border: none;
  cursor: pointer;
  display: inline-block;
  float: left;
  height: 24px;
  padding: 3px 5px;
  width: 28px;
}
:host .ql-snow.ql-toolbar button svg,
:host .ql-snow .ql-toolbar button svg {
  float: left;
  height: 100%;
}
:host .ql-snow.ql-toolbar button:active:hover,
:host .ql-snow .ql-toolbar button:active:hover {
  outline: none;
}
:host .ql-snow.ql-toolbar input.ql-image[type=file],
:host .ql-snow .ql-toolbar input.ql-image[type=file] {
  display: none;
}
:host .ql-snow.ql-toolbar button:hover,
:host .ql-snow .ql-toolbar button:hover,
:host .ql-snow.ql-toolbar button:focus,
:host .ql-snow .ql-toolbar button:focus,
:host .ql-snow.ql-toolbar button.ql-active,
:host .ql-snow .ql-toolbar button.ql-active,
:host .ql-snow.ql-toolbar .ql-picker-label:hover,
:host .ql-snow .ql-toolbar .ql-picker-label:hover,
:host .ql-snow.ql-toolbar .ql-picker-label.ql-active,
:host .ql-snow .ql-toolbar .ql-picker-label.ql-active,
:host .ql-snow.ql-toolbar .ql-picker-item:hover,
:host .ql-snow .ql-toolbar .ql-picker-item:hover,
:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected,
:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected {
  color: #06c;
}
:host .ql-snow.ql-toolbar button:hover .ql-fill,
:host .ql-snow .ql-toolbar button:hover .ql-fill,
:host .ql-snow.ql-toolbar button:focus .ql-fill,
:host .ql-snow .ql-toolbar button:focus .ql-fill,
:host .ql-snow.ql-toolbar button.ql-active .ql-fill,
:host .ql-snow .ql-toolbar button.ql-active .ql-fill,
:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-fill,
:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-fill,
:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-fill,
:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-fill,
:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-fill,
:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-fill,
:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-fill,
:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-fill,
:host .ql-snow.ql-toolbar button:hover .ql-stroke.ql-fill,
:host .ql-snow .ql-toolbar button:hover .ql-stroke.ql-fill,
:host .ql-snow.ql-toolbar button:focus .ql-stroke.ql-fill,
:host .ql-snow .ql-toolbar button:focus .ql-stroke.ql-fill,
:host .ql-snow.ql-toolbar button.ql-active .ql-stroke.ql-fill,
:host .ql-snow .ql-toolbar button.ql-active .ql-stroke.ql-fill,
:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke.ql-fill,
:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke.ql-fill,
:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke.ql-fill,
:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill,
:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke.ql-fill {
  fill: #06c;
}
:host .ql-snow.ql-toolbar button:hover .ql-stroke,
:host .ql-snow .ql-toolbar button:hover .ql-stroke,
:host .ql-snow.ql-toolbar button:focus .ql-stroke,
:host .ql-snow .ql-toolbar button:focus .ql-stroke,
:host .ql-snow.ql-toolbar button.ql-active .ql-stroke,
:host .ql-snow .ql-toolbar button.ql-active .ql-stroke,
:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke,
:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke,
:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke,
:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke,
:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke,
:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke,
:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke,
:host .ql-snow.ql-toolbar button:hover .ql-stroke-miter,
:host .ql-snow .ql-toolbar button:hover .ql-stroke-miter,
:host .ql-snow.ql-toolbar button:focus .ql-stroke-miter,
:host .ql-snow .ql-toolbar button:focus .ql-stroke-miter,
:host .ql-snow.ql-toolbar button.ql-active .ql-stroke-miter,
:host .ql-snow .ql-toolbar button.ql-active .ql-stroke-miter,
:host .ql-snow.ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
:host .ql-snow .ql-toolbar .ql-picker-label:hover .ql-stroke-miter,
:host .ql-snow.ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
:host .ql-snow .ql-toolbar .ql-picker-label.ql-active .ql-stroke-miter,
:host .ql-snow.ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
:host .ql-snow .ql-toolbar .ql-picker-item:hover .ql-stroke-miter,
:host .ql-snow.ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter,
:host .ql-snow .ql-toolbar .ql-picker-item.ql-selected .ql-stroke-miter {
  stroke: #06c;
}
@media (pointer: coarse) {
  :host .ql-snow.ql-toolbar button:hover:not(.ql-active),
  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) {
    color: #444;
  }
  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-fill,
  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-fill,
  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill,
  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill {
    fill: #444;
  }
  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke,
  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke,
  :host .ql-snow.ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter,
  :host .ql-snow .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter {
    stroke: #444;
  }
}
:host .ql-snow {
  box-sizing: border-box;
}
:host .ql-snow * {
  box-sizing: border-box;
}
:host .ql-snow .ql-hidden {
  display: none;
}
:host .ql-snow .ql-out-bottom,
:host .ql-snow .ql-out-top {
  visibility: hidden;
}
:host .ql-snow .ql-tooltip {
  position: absolute;
  transform: translateY(10px);
}
:host .ql-snow .ql-tooltip a {
  cursor: pointer;
  text-decoration: none;
}
:host .ql-snow .ql-tooltip.ql-flip {
  transform: translateY(-10px);
}
:host .ql-snow .ql-formats {
  display: inline-block;
  vertical-align: middle;
}
:host .ql-snow .ql-formats:after {
  clear: both;
  content: '';
  display: table;
}
:host .ql-snow .ql-stroke {
  fill: none;
  stroke: #444;
  stroke-linecap: round;
  stroke-linejoin: round;
  stroke-width: 2;
}
:host .ql-snow .ql-stroke-miter {
  fill: none;
  stroke: #444;
  stroke-miterlimit: 10;
  stroke-width: 2;
}
:host .ql-snow .ql-fill,
:host .ql-snow .ql-stroke.ql-fill {
  fill: #444;
}
:host .ql-snow .ql-empty {
  fill: none;
}
:host .ql-snow .ql-even {
  fill-rule: evenodd;
}
:host .ql-snow .ql-thin,
:host .ql-snow .ql-stroke.ql-thin {
  stroke-width: 1;
}
:host .ql-snow .ql-transparent {
  opacity: 0.4;
}
:host .ql-snow .ql-direction svg:last-child {
  display: none;
}
:host .ql-snow .ql-direction.ql-active svg:last-child {
  display: inline;
}
:host .ql-snow .ql-direction.ql-active svg:first-child {
  display: none;
}
:host .ql-snow .ql-editor h1 {
  font-size: 2em;
}
:host .ql-snow .ql-editor h2 {
  font-size: 1.5em;
}
:host .ql-snow .ql-editor h3 {
  font-size: 1.17em;
}
:host .ql-snow .ql-editor h4 {
  font-size: 1em;
}
:host .ql-snow .ql-editor h5 {
  font-size: 0.83em;
}
:host .ql-snow .ql-editor h6 {
  font-size: 0.67em;
}
:host .ql-snow .ql-editor a {
  text-decoration: underline;
}
:host .ql-snow .ql-editor blockquote {
  border-left: 4px solid #ccc;
  margin-bottom: 5px;
  margin-top: 5px;
  padding-left: 16px;
}
:host .ql-snow .ql-editor code,
:host .ql-snow .ql-editor pre {
  background-color: #f0f0f0;
  border-radius: 3px;
}
:host .ql-snow .ql-editor pre {
  white-space: pre-wrap;
  margin-bottom: 5px;
  margin-top: 5px;
  padding: 5px 10px;
}
:host .ql-snow .ql-editor code {
  font-size: 85%;
  padding: 2px 4px;
}
:host .ql-snow .ql-editor pre.ql-syntax {
  background-color: #23241f;
  color: #f8f8f2;
  overflow: visible;
}
:host .ql-snow .ql-editor img {
  max-width: 100%;
}
:host .ql-snow .ql-picker {
  color: #444;
  display: inline-block;
  float: left;
  font-size: 14px;
  font-weight: 500;
  height: 24px;
  position: relative;
  vertical-align: middle;
}
:host .ql-snow .ql-picker-label {
  cursor: pointer;
  display: inline-block;
  height: 100%;
  padding-left: 8px;
  padding-right: 2px;
  position: relative;
  width: 100%;
}
:host .ql-snow .ql-picker-label::before {
  display: inline-block;
  line-height: 22px;
}
:host .ql-snow .ql-picker-options {
  background-color: #fff;
  display: none;
  min-width: 100%;
  padding: 4px 8px;
  position: absolute;
  white-space: nowrap;
}
:host .ql-snow .ql-picker-options .ql-picker-item {
  cursor: pointer;
  display: block;
  padding-bottom: 5px;
  padding-top: 5px;
}
:host .ql-snow .ql-picker.ql-expanded .ql-picker-label {
  color: #ccc;
  z-index: 2;
}
:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-fill {
  fill: #ccc;
}
:host .ql-snow .ql-picker.ql-expanded .ql-picker-label .ql-stroke {
  stroke: #ccc;
}
:host .ql-snow .ql-picker.ql-expanded .ql-picker-options {
  display: block;
  margin-top: -1px;
  top: 100%;
  z-index: 1;
}
:host .ql-snow .ql-color-picker,
:host .ql-snow .ql-icon-picker {
  width: 28px;
}
:host .ql-snow .ql-color-picker .ql-picker-label,
:host .ql-snow .ql-icon-picker .ql-picker-label {
  padding: 2px 4px;
}
:host .ql-snow .ql-color-picker .ql-picker-label svg,
:host .ql-snow .ql-icon-picker .ql-picker-label svg {
  right: 4px;
}
:host .ql-snow .ql-icon-picker .ql-picker-options {
  padding: 4px 0px;
}
:host .ql-snow .ql-icon-picker .ql-picker-item {
  height: 24px;
  width: 24px;
  padding: 2px 4px;
}
:host .ql-snow .ql-color-picker .ql-picker-options {
  padding: 3px 5px;
  width: 152px;
}
:host .ql-snow .ql-color-picker .ql-picker-item {
  border: 1px solid transparent;
  float: left;
  height: 16px;
  margin: 2px;
  padding: 0px;
  width: 16px;
}
:host .ql-snow .ql-picker:not(.ql-color-picker):not(.ql-icon-picker) svg {
  position: absolute;
  margin-top: -9px;
  right: 0;
  top: 50%;
  width: 18px;
}
:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-label]:not([data-label=''])::before,
:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-label]:not([data-label=''])::before,
:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-label]:not([data-label=''])::before,
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-label]:not([data-label=''])::before,
:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-label]:not([data-label=''])::before,
:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-label]:not([data-label=''])::before {
  content: attr(data-label);
}
:host .ql-snow .ql-picker.ql-header {
  width: 98px;
}
:host .ql-snow .ql-picker.ql-header .ql-picker-label::before,
:host .ql-snow .ql-picker.ql-header .ql-picker-item::before {
  content: 'Normal';
}
:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="1"]::before,
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {
  content: 'Heading 1';
}
:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="2"]::before,
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {
  content: 'Heading 2';
}
:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="3"]::before,
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {
  content: 'Heading 3';
}
:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="4"]::before,
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {
  content: 'Heading 4';
}
:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="5"]::before,
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {
  content: 'Heading 5';
}
:host .ql-snow .ql-picker.ql-header .ql-picker-label[data-value="6"]::before,
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {
  content: 'Heading 6';
}
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="1"]::before {
  font-size: 2em;
}
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="2"]::before {
  font-size: 1.5em;
}
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="3"]::before {
  font-size: 1.17em;
}
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="4"]::before {
  font-size: 1em;
}
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="5"]::before {
  font-size: 0.83em;
}
:host .ql-snow .ql-picker.ql-header .ql-picker-item[data-value="6"]::before {
  font-size: 0.67em;
}
:host .ql-snow .ql-picker.ql-font {
  width: 108px;
}
:host .ql-snow .ql-picker.ql-font .ql-picker-label::before,
:host .ql-snow .ql-picker.ql-font .ql-picker-item::before {
  content: 'Sans Serif';
}
:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=serif]::before,
:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {
  content: 'Serif';
}
:host .ql-snow .ql-picker.ql-font .ql-picker-label[data-value=monospace]::before,
:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {
  content: 'Monospace';
}
:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=serif]::before {
  font-family: Georgia, Times New Roman, serif;
}
:host .ql-snow .ql-picker.ql-font .ql-picker-item[data-value=monospace]::before {
  font-family: Monaco, Courier New, monospace;
}
:host .ql-snow .ql-picker.ql-size {
  width: 98px;
}
:host .ql-snow .ql-picker.ql-size .ql-picker-label::before,
:host .ql-snow .ql-picker.ql-size .ql-picker-item::before {
  content: 'Normal';
}
:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=small]::before,
:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {
  content: 'Small';
}
:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=large]::before,
:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {
  content: 'Large';
}
:host .ql-snow .ql-picker.ql-size .ql-picker-label[data-value=huge]::before,
:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {
  content: 'Huge';
}
:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=small]::before {
  font-size: 10px;
}
:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=large]::before {
  font-size: 18px;
}
:host .ql-snow .ql-picker.ql-size .ql-picker-item[data-value=huge]::before {
  font-size: 32px;
}
:host .ql-snow .ql-color-picker.ql-background .ql-picker-item {
  background-color: #fff;
}
:host .ql-snow .ql-color-picker.ql-color .ql-picker-item {
  background-color: #000;
}
:host .ql-toolbar.ql-snow {
  border: 1px solid #ccc;
  box-sizing: border-box;
  font-family: 'Helvetica Neue', 'Helvetica', 'Arial', sans-serif;
  padding: 8px;
}
:host .ql-toolbar.ql-snow .ql-formats {
  margin-right: 15px;
}
:host .ql-toolbar.ql-snow .ql-picker-label {
  border: 1px solid transparent;
}
:host .ql-toolbar.ql-snow .ql-picker-options {
  border: 1px solid transparent;
  box-shadow: rgba(0, 0, 0, 0.2) 0 2px 8px;
}
:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-label {
  border-color: #ccc;
}
:host .ql-toolbar.ql-snow .ql-picker.ql-expanded .ql-picker-options {
  border-color: #ccc;
}
:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item.ql-selected,
:host .ql-toolbar.ql-snow .ql-color-picker .ql-picker-item:hover {
  border-color: #000;
}
:host .ql-toolbar.ql-snow + .ql-container.ql-snow {
  border-top: 0px;
}
:host .ql-snow .ql-tooltip {
  background-color: #fff;
  border: 1px solid #ccc;
  box-shadow: 0px 0px 5px #ddd;
  color: #444;
  padding: 5px 12px;
  white-space: nowrap;
}
:host .ql-snow .ql-tooltip::before {
  content: "Visit URL:";
  line-height: 26px;
  margin-right: 8px;
}
:host .ql-snow .ql-tooltip input[type=text] {
  display: none;
  border: 1px solid #ccc;
  font-size: 13px;
  height: 26px;
  margin: 0px;
  padding: 3px 5px;
  width: 170px;
}
:host .ql-snow .ql-tooltip a.ql-preview {
  display: inline-block;
  max-width: 200px;
  overflow-x: hidden;
  text-overflow: ellipsis;
  vertical-align: top;
}
:host .ql-snow .ql-tooltip a.ql-action::after {
  border-right: 1px solid #ccc;
  content: 'Edit';
  margin-left: 16px;
  padding-right: 8px;
}
:host .ql-snow .ql-tooltip a.ql-remove::before {
  content: 'Remove';
  margin-left: 8px;
}
:host .ql-snow .ql-tooltip a {
  line-height: 26px;
}
:host .ql-snow .ql-tooltip.ql-editing a.ql-preview,
:host .ql-snow .ql-tooltip.ql-editing a.ql-remove {
  display: none;
}
:host .ql-snow .ql-tooltip.ql-editing input[type=text] {
  display: inline-block;
}
:host .ql-snow .ql-tooltip.ql-editing a.ql-action::after {
  border-right: 0px;
  content: 'Save';
  padding-right: 0px;
}
:host .ql-snow .ql-tooltip[data-mode=link]::before {
  content: "Enter link:";
}
:host .ql-snow .ql-tooltip[data-mode=formula]::before {
  content: "Enter formula:";
}
:host .ql-snow .ql-tooltip[data-mode=video]::before {
  content: "Enter video:";
}
:host .ql-snow a {
  color: #06c;
}
:host .ql-container.ql-snow {
  border: 1px solid #ccc;
}
:host .content {
  display: inline-block;
}
:host #rteContainer {
  cursor: text;
  width: 768px;
  font-size: 16px;
  color: black;
}
:host #rteContainer:hover:after {
  display: inline;
}
:host #rteContainer:hover,
:host #rteContainer:focus {
  outline: none;
}
:host #rteContainer .ql-editor {
  min-height: 150px;
  max-height: 250px;
  padding: 12px 15px;
}
:host #rteToolbar {
  background-color: #fafafa;
}
:host #rteToolbar #ql-picker-options-0,
:host #rteToolbar #ql-picker-options-2 {
  height: 150px;
  overflow-y: auto;
}
:host .ql-tooltip {
  z-index: 9999;
}
:host .ql-font span[data-value="arial"]::before {
  font-family: "arial";
}
:host .ql-font span[data-value="courier"]::before {
  font-family: "courier";
}
:host .ql-font span[data-value="dosis"]::before {
  font-family: "dosis";
}
:host .ql-font span[data-value="droid sans"]::before {
  font-family: "droid sans";
}
:host .ql-font span[data-value="droid serif"]::before {
  font-family: "droid serif";
}
:host .ql-font span[data-value="helvetica"]::before {
  font-family: "helvetica";
}
:host .ql-font span[data-value="merriweather"]::before {
  font-family: "merriweather";
}
:host .ql-font span[data-value="montserrat"]::before {
  font-family: "montserrat";
}
:host .ql-font span[data-value="noto sans jp"]::before {
  font-family: "noto sans jp";
}
:host .ql-font span[data-value="noto sans kr"]::before {
  font-family: "noto sans kr";
}
:host .ql-font span[data-value="noto sans sc"]::before {
  font-family: "noto sans sc";
}
:host .ql-font span[data-value="noto sans tc"]::before {
  font-family: "noto sans tc";
}
:host .ql-font span[data-value="open sans"]::before {
  font-family: "open sans";
}
:host .ql-font span[data-value="play"]::before {
  font-family: "play";
}
:host .ql-font span[data-value="pt sans"]::before {
  font-family: "pt sans";
}
:host .ql-font span[data-value="pt serif"]::before {
  font-family: "pt serif";
}
:host .ql-font span[data-value="roboto"]::before {
  font-family: "roboto";
}
:host .ql-font span[data-value="roboto light"]::before {
  font-family: "roboto light";
}
:host .ql-font span[data-value="times"]::before {
  font-family: "times";
}
:host .ql-font span[data-value="titillium web"]::before {
  font-family: "titillium web";
}
:host .ql-font span[data-value="ubuntu"]::before {
  font-family: "ubuntu";
}
sb-dialog {
  --sbDialogHeaderBackgroundColor: #f0f0f0;
  --sbDialogMaxHeight: none;
  --sbDialogContainerWidth: 768px;
  --sbDialogContentOverflow: unset;
  --sbDialogContentHeight: inherit;
  --sbDialogContentHeight: 100%;
  --sbDialogFooterDisplay: block;
}
`;i(1445),i(4961);const T=d.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host .content #source,
:host .content #dimensions {
  position: relative;
  float: left;
  padding: 0 96px 16px 0;
}
:host #dimensionsInput {
  display: inline-flex;
}
:host #dimensionsInput sb-input {
  --sbInputMaxWidth: 48px;
  --sbInputMinWidth: 24px;
}
:host #sourceInput sb-input {
  --sidePanelInputWidth: 256px;
  --sbInputMaxWidth: 256px;
  --sbInputMinWidth: 128px;
}
:host sb-dialog {
  --sbDialogContentPadding: 12px !important;
  --sbDialogMaxHeight: 256px;
  --sbDialogHeaderBackgroundColor: #fff !important;
  --sbDialogContentTextAlign: center;
  --sbDialogFooterDisplay: block;
  --sbDialogFooterColor: #fff !important;
}
`;class M extends o.Pu{static get is(){return"rte-image-dialog"}static get properties(){return{img:{type:Object,value:null},originalWidth:String,originalHeight:String,widthDim:{type:Number},heightDim:{type:Number},imageSrc:{type:String,value:"",observer:"_setupNewImage"},isChecked:{type:Boolean,value:!0}}}static get observers(){return["_updateImageSizesObserver(widthDim, heightDim, img, isChecked)"]}ready(){super.ready(),this.$.imageDialog.open(),this.addEventListener("rte-image-dialog-cancel",this.onCancel)}onSave(){let e=this.img;this.imageSrc&&(e.width&&e.height||(e.width=this.originalWidth,e.height=this.originalHeight),this.dispatchEvent((0,n.uv)("rte-image-saved",e))),this.close()}onCancel(){this.close()}close(){this.$.imageDialog.close(),this.dispatchEvent((0,n.uv)("rte-image-closed",void 0)),this.removeEventListener("rte-image-dialog-cancel",this.onCancel)}_setupNewImage(){this.img||(this.img=new Image),this.img.src=this.imageSrc,this.imageSrc?this.img.onload=()=>{this.originalWidth=this.img.width,this.originalHeight=this.img.height,this.widthDim=this.originalWidth,this.heightDim=this.originalHeight}:(this.originalWidth=0,this.originalHeight=0,this.widthDim="",this.heightDim="")}_updateImageSizesObserver(e,t,i,o){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o)return this._updateImageSizes(e,t,i,o)}_updateImageSizes(e,t,i,o){let r=parseInt(e),n=parseInt(t),s=i.width,a=i.height;if(!(r===s&&n===a||isNaN(r)||isNaN(n)||0===r||0===n))if(o)if(r!==s){let e=this._conversion(r,s,n);this.img.width=r,this.img.height=e,this.heightDim=e}else{let e=this._conversion(n,a,r);this.img.width=e,this.img.height=n,this.widthDim=e}else this.img.width=r,this.img.height=n}_conversion(e,t,i){let o=Math.floor(e*i/t);return isNaN(o)||o===1/0?i:o}static get template(){return o.qy`
			<style include="sb-common-styles"></style>
			<style>${T}</style>
	        <div device>
            <sb-dialog id="imageDialog" modal="true" hideCloseIcon="true" close-dialog="rte-image-dialog-cancel" ignore-mask-tap="true">
                <div slot="title" class="title"><sb-i18n>Insert Image</sb-i18n></div>
                <div slot="content" class="content">
                    <div id="sourceInput">
                        <span id="source"><sb-i18n>Source</sb-i18n></span>
                        <sb-input id="imageInput" value="{{imageSrc}}" focus="true"></sb-input>
                    </div>
                    <div id="dimensionsInput">
                        <span id="dimensions"><sb-i18n>Dimensions</sb-i18n></span>
                        <sb-input id="widthDimension" value="{{widthDim}}" focus="true"></sb-input>
                        <span>&nbsp;x&nbsp;</span>
                        <sb-input id="heightDimension" value="{{heightDim}}" focus="true"></sb-input>

                        <div id="constrainInput">
                            <sb-checkbox id="hasConstrains" value="{{isChecked}}"></sb-checkbox>
                            <span><sb-i18n>Constrain proportions</sb-i18n></span>
                        </div>
                    </div>
                </div>
                <paper-button slot="paper-button" class="primary" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>
            </sb-dialog>
        </div>
	    `}}customElements.define(M.is,M);i(233);const B=["selectionchange","mousedown","mouseup","click"],D="//fonts.googleapis.com/css?family=Dosis|Droid+Sans|Droid+Serif|Merriweather|Montserrat|Open+Sans|Play|PT+Sans|PT+Serif|Roboto:300,400|Titillium+Web|Ubuntu",P=Quill.import("delta"),L=Quill.import("attributors/style/size"),A=Quill.import("attributors/style/font"),F=Quill.import("attributors/style/align"),N=Quill.import("attributors/style/direction"),R=Quill.import("blots/inline"),q=Quill.import("parchment"),j=Quill.import("blots/block/embed"),H=Quill.import("blots/block");H.tagName="DIV",L.whitelist=["11px","13px","16px","19px","24px","32px","48px"],A.whitelist=["arial","courier","dosis","droid sans","droid serif","helvetica","montserrat","noto sans jp","noto sans kr","noto sans sc","noto sans tc","open sans","play","pt sans","pt serif","roboto","roboto light","times","titillium web","ubuntu"];class V extends R{}V.blotName="SFDCTags",V.tagName=["address","big","br","blockquote","caption","col","colgroup","del","dfn","hr","ins","kbd","q","samp","small","strike","tfoot","tt","var","p"];class U extends j{}U.blotName="divider",U.tagName="hr";class z extends R{}z.blotName="HeaderLowercase",z.tagName=["h1","h2","h3","h4","h5","h6"];class $ extends j{static create(e){return e}static value(e){var t="";return"DL"===e.tagName&&(t=e),t}}$.blotName="DefinitionTag",$.tagName=["dl","dt","dd"];class W extends R{static create(e){const t=super.create();return"string"==typeof e&&t.setAttribute("title",e),t}static formats(e){const t=e.getAttribute("title");return t||!0}}W.blotName="abbr",W.tagName=["ABBR","acronym"];class Q extends R{static create(e){let t=super.create();return t.setAttribute("dir",e),t}static formats(e){return e.getAttribute("dir")}}Q.blotName="bdo",Q.tagName="BDO";class G extends j{static create(e){const[t,i,o]=e;let r=super.create(e),n=document.createElement("TBODY");return t.forEach((e=>{var t=document.createElement("TR");n.appendChild(t),e.forEach((e=>{let i=document.createElement("TD");i.colSpan&&i.setAttribute("colspan",i.colSpan),i.rowSpan&&i.setAttribute("rowspan",i.rowSpan),i.innerHTML=e,t.appendChild(i)}))})),i&&r.appendChild(i),o&&r.appendChild(o),r.appendChild(n),r}static value(e){var t,i,o=[];if("TABLE"===e.tagName){t=e.caption?e.caption:"",i=e.querySelector("colgroup")?e.querySelector("colgroup"):"";let r=e.rows;for(let e=0;e<r.length;e++){o[e]=[];for(let t=0;t<r[e].cells.length;t++)o[e].push(r[e].cells[t].innerHTML)}}return[o,t,i]}offset(e){return e.domNode.innerText.length-this.domNode.innerText.length}deleteAt(e,t){super.deleteAt(e,t)}index(e,t){}}G.blotName="table",G.className="table",G.tagName="TABLE";class K extends R{static create(e){let t=super.create();return t.setAttribute("href",e.href),e.title&&t.setAttribute("title",e.title),e.target&&t.setAttribute("target",e.target),t}static formats(e){return{href:e.href,title:e.title,target:e.target,innerHTML:e.innerHTML}}}K.blotName="AnchorBlot",K.tagName="a";class Y extends R{static create(e){return super.create(e)}static formats(e){return e.innerHTML}}Y.blotName="CiteBlot",Y.tagName="cite";class X extends q.Attributor.Style{add(e,t){return 0===t?(this.remove(e),!0):super.add(e,`${t}em`)}}const J=new X("indent","margin-left",{scope:q.Scope.BLOCK,whitelist:["1em","2em","3em","4em","5em","6em","7em","8em","9em"]}),Z=new q.Attributor.Style("text-decoration","text-decoration",{scope:q.Scope.BLOCK,whitelist:["underscore","line-through"]});Quill.register("formats/text-decoration",Z,!0),Quill.register(L,!0),Quill.register(A,!0),Quill.register(F,!0),Quill.register(N,!0),Quill.register(J,!0),Quill.register(H,!0),Quill.register(V,!0),Quill.register(U,!0),Quill.register(z,!0),Quill.register($,!0),Quill.register(W,!0),Quill.register(Q,!0),Quill.register(G,!0),Quill.register(K,!0),Quill.register(Y,!0);class ee extends o.Pu{static get is(){return"sb-rte-dialog"}static get properties(){return{value:{type:String,observer:"_valueChanged",notify:!0},tooltipTextMap:{type:Object},imageDialogOpened:{type:Boolean,value:!1},currentSelection:{type:Number},saving:{type:Boolean,value:!1}}}ready(){super.ready(),this.$.rteToolbar.addEventListener("rte-open-image-dialog",this._openImageDialog.bind(this)),this.$.rteContainer.addEventListener("rte-image-saved",this._imageURLValueSaved.bind(this)),this.$.rteContainer.addEventListener("rte-image-closed",this._imageDialogClosed.bind(this)),this._encapsulateStyle=!1;let e=document.querySelectorAll("head > link[rel=stylesheet]"),t=e?e.length:0;for(let i=0;i<t;i++)if(e[i].getAttribute("href")==D)return;let i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("href",D),document.head.appendChild(i)}connectedCallback(){super.connectedCallback(),this.tooltipTextMap=this._getTooltipMap()}disconnectedCallback(){super.disconnectedCallback(),this._removeQuillEmitterEventListeners&&"function"==typeof this._removeQuillEmitterEventListeners&&this._removeQuillEmitterEventListeners()}_initialize(){let e=function(e,t){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.getFormat(t.index,t.length),r=o&&o.indent?o.indent:"0em",n=parseInt(r.substring(0,r.length-2));if(i&&0===n)return;let s=i?n-1:n+1;e.format("indent",s)},t={indent:{key:9,format:["indent","list"],handler:function(t){e(this.quill,t)}},outdent:{key:9,format:["indent","list"],shiftKey:!0,handler:function(t){e(this.quill,t,!0)}},"outdent backspace":{key:8,format:["indent","list"],offset:0,handler:function(t,i){null!=i.format.indent?e(this.quill,t,!0):null!=i.format.list&&this.quill.format("list",!1)}}},i={modules:{toolbar:{container:this.shadowRoot.querySelector("#rteToolbar"),handlers:{image:function(){this.container.dispatchEvent(new Event("rte-open-image-dialog",{bubbles:!0}))}}},clipboard:{matchVisual:!1},keyboard:{bindings:t}},theme:"snow"};this.quillInstance=new Quill(this.shadowRoot.querySelector("#rteContainer"),i),this._removeQuillEmitterEventListeners=this._applyEmitterShadowDOMFix(this.quillInstance),this.shadowRoot.querySelector("#rteContainer .ql-editor").classList.add("style-scope","sb-rte-dialog"),this.shadowRoot.querySelector(".ql-undo").addEventListener("click",(()=>{this.quillInstance.history.undo()})),this.shadowRoot.querySelector(".ql-redo").addEventListener("click",(()=>{this.quillInstance.history.redo()}))}onSave(){this.saving=!0;let e=this.quillInstance.root.innerHTML,t=_.B.properties.i18n.value().l("Click to edit description");this.value=e!==t?e:null,this.rte.value=this.value,this.rte.dispatchEvent((0,n.uv)("rte-value-changed",{value:this.value})),this.rte.dispatchEvent((0,n.uv)("rte-saved",void 0)),this.close()}onCancel(){this.imageDialogOpened||(this.rte.dispatchEvent((0,n.uv)("rte-esc",{keyCode:27})),this.close())}open(){let e=_.B.properties.i18n.value().l("Click to edit description");this.$.dialog.open(),this.value!==e&&null!=this.value||(this.value=null),this.$.rteContainer.focus(),this.shadowRoot.querySelector(".title").innerHTML=_.B.properties.i18n.value().l(`Edit ${this.rte.label}`),this.quillInstance?this.quillInstance.root.innerHTML!==this.value&&this._valueChanged():(this._initialize(),this._valueChanged()),this.quillInstance.history.clear(),this.addEventListener("sb-rte-cancel",this.onCancel)}close(){this.saving=!1;let e=_.B.properties.i18n.value().l("Click to edit description");this.rte.dispatchEvent((0,n.uv)("rte-blur",void 0)),this.$.dialog.close(),this.value===e&&(this.value=null),this.removeEventListener("sb-rte-cancel",this.onCancel)}_imageURLValueSaved(e){let t=e.detail;this.quillInstance.updateContents((new P).retain(this.currentSelection).insert({image:t.src},{width:t.width,height:t.height}))}_imageDialogClosed(e){this.imageDialogOpened=!1,this.shadowRoot.querySelector("#rteContainer").removeChild(this.shadowRoot.querySelector("rte-image-dialog"))}_openImageDialog(e){let t=this.quillInstance.getSelection();this.currentSelection=t?t.index:0;let i=this.shadowRoot.querySelector("#rteContainer"),o=document.createElement("rte-image-dialog");i.appendChild(o),this.imageDialogOpened=!0}_valueChanged(){if(this.saving)return;if(this.shadowRoot.querySelector("#rteContainer .ql-editor")){let e=this.value;this.setContentToQuill(e)}}setContentToQuill(e){this.quillInstance.setText(""),this.quillInstance.clipboard.dangerouslyPasteHTML(0,e);const t=this.quillInstance.editor.delta;if(t.ops.length>=1&&t.ops[t.ops.length-1].insert.endsWith("\n")){const e=t.length();this.quillInstance.updateContents((new P).retain(e-1).delete(1))}}_getTooltipMap(){return{bold:_.B.properties.i18n.value().l("Bold"),italic:_.B.properties.i18n.value().l("Italic"),underline:_.B.properties.i18n.value().l("Underline"),strike:_.B.properties.i18n.value().l("Strikethrough"),fontSize:_.B.properties.i18n.value().l("Font size"),headerSize:_.B.properties.i18n.value().l("Header size"),fontFamily:_.B.properties.i18n.value().l("Font family"),alignLeft:_.B.properties.i18n.value().l("Align left"),center:_.B.properties.i18n.value().l("Center"),alignRight:_.B.properties.i18n.value().l("Align right"),textColor:_.B.properties.i18n.value().l("Text color"),backgroundColor:_.B.properties.i18n.value().l("Background color"),subscript:_.B.properties.i18n.value().l("Subscript"),superscript:_.B.properties.i18n.value().l("Superscript"),numberedList:_.B.properties.i18n.value().l("Numbered list"),bulletList:_.B.properties.i18n.value().l("Bullet list"),decreaseIndent:_.B.properties.i18n.value().l("Decrease indent"),increaseIndent:_.B.properties.i18n.value().l("Increase indent"),blockQuote:_.B.properties.i18n.value().l("Block quote"),link:_.B.properties.i18n.value().l("Insert or edit link"),image:_.B.properties.i18n.value().l("Insert or edit image"),clearFormatting:_.B.properties.i18n.value().l("Clear formatting"),undo:_.B.properties.i18n.value().l("Undo"),redo:_.B.properties.i18n.value().l("Redo")}}_applyEmitterShadowDOMFix(e){const t={};return B.forEach((i=>{function o(){e&&e.emitter&&e.emitter.handleDOM(arguments[0])}document.addEventListener(i,o),t[i]=o})),function(){B.forEach((e=>{document.removeEventListener(e,t[e])}))}}static get template(){return o.qy`
			<style include="sb-common-styles"></style>
			<style>${I}</style>
    		
	        <div device>
            <sb-dialog id="dialog" modal="true" close-dialog="sb-rte-cancel" ignore-mask-tap="true">
                <div slot="title" class="title"><sb-i18n>Edit [[rte.label]]</sb-i18n></div>
                <div slot="content" class="content">
                    <div id="rteToolbar">
                        <span class="ql-formats">
                            <button class="ql-bold" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.bold]]"></button>
                            <button class="ql-italic" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.italic]]"></button>
                            <button class="ql-underline" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.underline]]"></button>
                            <button class="ql-strike" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.strike]]"></button>
                        </span>
                        <span class="ql-formats">
                            <select class="ql-size" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.fontSize]]">
                                <option value="11px">8pt</option>
                                <option value="13px">10pt</option>
                                <option selected value="16px">12pt</option>
                                <option value="19px">14pt</option>
                                <option value="24px">18pt</option>
                                <option value="32px">24pt</option>
                                <option value="48px">36pt</option>
                            </select>
                        </span>
                        <span class="ql-formats">
                            <select class="ql-header" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.headerSize]]">
                            </select>
                        </span>
                        <span class="ql-formats">
                            <select class="ql-font" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.fontFamily]]">
                                <option selected value="arial">Arial</option>
                                <option value="courier">Courier</option>
                                <option value="dosis">Dosis</option>
                                <option value="droid sans">Droid Sans</option>
                                <option value="droid serif">Droid Serif</option>
                                <option value="helvetica">Helvetica</option>
								<option value="merriweather">Merriweather</option>
                                <option value="montserrat">Montserrat</option>
                                <option value="noto sans jp">Noto Sans JP</option>
                                <option value="noto sans kr">Noto Sans KR</option>
                                <option value="noto sans sc">Noto Sans SC</option>
                                <option value="noto sans tc">Noto Sans TC</option>
                                <option value="open sans">Open Sans</option>
                                <option value="play">Play</option>
                                <option value="pt sans">PT Sans</option>
                                <option value="pt serif">PT Serif</option>
                                <option value="roboto">Roboto</option>
                                <option value="roboto light">Roboto Light</option>
                                <option value="times">Times</option>
                                <option value="titillium web">Titillium Web</option>
                                <option value="ubuntu">Ubuntu</option>
                            </select>
                        </span>
						<span class="ql-formats">
                            <button class="ql-clean" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.clearFormatting]]"></button>
                        </span>
						<br>
						<span class="ql-formats">
                            <button class="ql-undo" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.undo]]">
                                <svg viewbox="0 0 18 18">
                                    <polygon class="ql-fill ql-stroke" points="6 10 4 12 2 10 6 10"></polygon>
                                    <path class="ql-stroke" d="M8.09,13.91A4.6,4.6,0,0,0,9,14,5,5,0,1,0,4,9"></path>
                                </svg>
                            </button>
                            <button class="ql-redo" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.redo]]">
                                <svg viewbox="0 0 18 18">
                                    <polygon class="ql-fill ql-stroke" points="12 10 14 12 16 10 12 10"></polygon>
                                    <path class="ql-stroke" d="M9.91,13.91A4.6,4.6,0,0,1,9,14a5,5,0,1,1,5-5"></path
                                </svg>
                            </button>
                        </span>
						<span class="ql-formats">
							<button class="ql-align" data-toggle="tooltip" value="" title="[[tooltipTextMap.alignLeft]]"></button>
							<button class="ql-align" data-toggle="tooltip" value="center" title="[[tooltipTextMap.center]]"></button>
							<button class="ql-align" data-toggle="tooltip" value="right" title="[[tooltipTextMap.alignRight]]"></button>
                        </span>
                        <span class="ql-formats">
                            <select class="ql-color" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.textColor]]">
                            </select>
                            <select class="ql-background" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.backgroundColor]]">
                            </select>
                        </span>
                        <span class="ql-formats">
                            <button class="ql-script" value="sub" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.subscript]]"></button>
                            <button class="ql-script" value="super" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.superscript]]"></button>
                        </span>
                        <span class="ql-formats">
                            <button class="ql-list" value="ordered" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.numberedList]]"></button>
                            <button class="ql-list" value="bullet" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.bulletList]]"></button>
                        </span>
                        <span class="ql-formats">
                            <button class="ql-blockquote" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.blockQuote]]"></button>
                        </span>
                        <span class="ql-formats">
                            <button class="ql-link" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.link]]"></button>
                        </span>
						<span class="ql-formats">
                            <button class="ql-image" data-toggle="tooltip" data-placement="bottom" title="[[tooltipTextMap.image]]"></button>
                        </span>
                    </div>
                    <div id="rteContainer"></div>
                </div>
                <paper-button slot="paper-button" class="primary" on-click="onSave"><sb-i18n>Save</sb-i18n></paper-button>
            </sb-dialog>
        </div>
	    `}}customElements.define(ee.is,ee);i(8237),i(347),i(9235);const te=d.b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
/**
 * These styles used to be content styles that would pierce the content tags
 * and style inside content tags. The deprecation of <content> for <slot> in
 * WebComponents v0 spec introduced the ::slotted() CSS selector, but it is way
 * more limited in its capabilities to pierce into slots and style components
 * inside slots. Therefore, we moved these slot style rules into this shared
 * sheet that all consumers of <sb-dialog> must import to maintain the styles of
 * sb-dialog.
 *
 * For more information on ::content vs. ::slotted, see:
 *  - https://github.com/w3c/webcomponents/issues/594#issuecomment-255631156
 *  - https://stackoverflow.com/questions/61626493/slotted-css-selector-for-nested-children-in-shadowdom-slot
 *  - The reason we cannot use ::part is that it only styles Shadow DOM, not LightDOM where slot content lives
 */
sb-dialog paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
sb-dialog paper-button.hidden {
  display: none;
}
sb-dialog paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
sb-dialog paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
sb-dialog paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
sb-dialog .title {
  padding-left: 10px;
  display: inline-block;
  margin: 0 0 0 0;
  line-height: 1.25;
  font-family: var(--sbDialogFontFamily);
  font-weight: var(--sbPageHeaderTitleFontWeight);
  font-size: var(--sbPageHeaderFontSize);
}
sb-dialog .icon {
  font-size: var(--sbIcon24);
  display: inline-block;
}
sb-dialog[class*='--desktop'] .title {
  display: var(--sbDialogTitleDisplay);
}
[class*='--desktop'] sb-dialog .title {
  display: var(--sbDialogTitleDisplay);
}
sb-dialog[class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
sb-dialog[class*='--mobile'] .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
sb-dialog[class*='--mobile'] .title.no-buttons {
  margin: 8px auto 0 auto;
}
sb-dialog[class*='--mobile'] .icon {
  display: none;
}
[class*='--mobile'] sb-dialog paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
[class*='--mobile'] sb-dialog .title {
  display: block;
  text-align: center;
  margin: 8px auto 0 auto;
  font-size: 20px;
  padding: 0 6px;
  visibility: var(--sbDialogTitleMobileVisibility);
}
[class*='--mobile'] sb-dialog .title.no-buttons {
  margin: 8px auto 0 auto;
}
[class*='--mobile'] sb-dialog .icon {
  display: none;
}
:host {
  --sb-table-row-border-bottom-style: solid;
  --sb-table-row-border-bottom-color: #d0d0d0;
  --sb-table-row-border-bottom-width: 1px;
  --sbTableInnerTdPadding: 8px 6px 8px 25px;
}
#search {
  width: calc(100% - 60px);
  position: absolute;
  --headerSearchRight: 21px;
}
#search .searchActions {
  right: 21px !important;
}
.close {
  margin-left: 14px !important;
  float: left;
  border: white;
  font-size: 20px !important;
  width: 40px;
}
.searchbar {
  height: 38px;
  margin: 10px 0;
}
.datatable {
  border-top-color: #d0d0d0;
  border-top-style: solid;
  border-top-width: 1px;
}
`;class ie extends o.Pu{static get is(){return"sb-search-bar-dialog"}static get properties(){return{value:String,cols:{type:Array,value:["DisplayName"]},colsDisplay:{type:Array,value:["DisplayName"]},results:Array}}ready(){super.ready(),this.attachSearchProperties(),this.attachSearchEvents()}attachSearchProperties(){this.$.search.searchResultCallback=this.handleSearchResults.bind(this)}attachSearchEvents(){this.$.search.addEventListener("sb-search-invoked",this.toggle.bind(this)),this.$.search.addEventListener("sb-search-nil-search-invoked",this.updateSearchResults.bind(this))}open(){this.$.search.value=this.value,""===this.value&&(this.results=[]),this.toggle(),this.$.search.$.typeahead.focus()}close(){this.blur(),this.toggle()}toggle(){this.$.dialog.toggle()}handleSearchResults(e){this.results=e}updateSearchResults(){let e=[];for(let t of this.results)t.Name===this.$.search.value&&e.push(t);this.results=e}mobileSelection(e){let t=e.target,i=t.getAttribute("data-name");this.$.search.value=i;let o=t.getAttribute("data-id");this.dispatchEvent((0,n.uv)("sb-search-item-selected",{item:this.$.search.getSearchResultRow(o),searchValue:i})),setTimeout(function(){this.toggle()}.bind(this),350),this.updateSearchResults()}clearSearchResults(){this.results=[]}static get template(){return o.qy`
		<style include="sb-common-styles sb-icons-styles sb-forms-styles sb-tables-styles sb-dialogs-styles"></style>
		<style>${te}</style>

		<sb-dialog device id="dialog" modal="true" hide-header="true">
			<sb-i18n slot="title" class="title dialog">Product Search</sb-i18n>
			<div slot="content" class="content">
				<div class="searchbar">
					<paper-button class="close" noink on-click="close"><icon class="icon sf-icon-close"></icon></paper-button>
					<sb-search-bar id="search" quote="[[quote]]" search-service="ProductLookupServiceProvider.SearchModelSearcher"></sb-search-bar>
				</div>
				<div class="datatable">
					<div class="thead">
						<sb-table-header id="header" cols="[[cols]]"></sb-table-header>
					</div>
					<div class="tbody" id="tbody">
						<template is="dom-repeat" items="[[results]]" as="row">
							<sb-table-row
									id="tableRow"
									cell="sb-table-cell"
									cols="[[cols]]"
									cols-display="[[colsDisplay]]"
									row-data="[[row]]"
									disable-swipe="true"
									on-click="mobileSelection"
									data-name$="[[row.Name]]"
									data-id$="[[row.Id]]"
							/>
						</template>
					</div>
				</div>
			</div>
		</sb-dialog>
		`}}customElements.define(ie.is,ie);class oe extends((0,s.$)((0,a.T)(o.Pu))){static get is(){return"sb-page-header"}static get properties(){return{viewport:{type:Object,observer:"_viewportChanged",value:function(){return r.L.getViewport()}},showMenu:{type:Boolean,value:function(){return!0}},menuClosed:{type:Boolean,value:function(){return!0}},hideFullTitle:{type:Boolean,value:!1},searchbar:{type:Boolean,observer:"_setSearchbarStyles"},debugMode:Boolean,ept:{type:Number,value:0},bpt:{type:Number,value:0},spt:{type:Number,value:0},showLookupDialog:Boolean}}get events(){let e={};return e[n.sV.AUTO_LAUNCH_POPUP]=this.allowAutoLaunchPopup,e[n.sV.NAVIGATION_CHANGED]=this.navigationChanged,e[n.sV.OPEN_LOOKUP_DIALOG]=this.openLookupDialog,e[n.sV.CLOSE_LOOKUP_DIALOG]=this.closeLookupDialog,e[n.sV.OPEN_RTE_DIALOG]=this.openRteDialog,e[n.sV.OPEN_SEARCH_BAR_DIALOG]=this.openSearchDialog,e[n.sV.VIEWPORT_CHANGED]=this.viewportChanged,e}ready(){super.ready(),this.debugMode=window.sb.mode&&window.sb.mode.debugMode||!1,this.debugMode&&this._setupMetricsServiceListeners()}_showFullTitle(e){this.viewport.isMobile()&&(this.hideFullTitle||this.children[1].textContent)&&(this.hideFullTitle=!this.hideFullTitle,this.$["full-title"].innerText=this.hideFullTitle?this.children[1].textContent:"",this.$["full-title"].style.opacity=this.hideFullTitle?1:0)}viewportChanged(e){this.viewport=e.detail.viewport}navigationChanged(){this._closeMenu()}_closeMenu(){(0,l.p1)("open",!1,this.$.buttons),(0,l.p1)("autoLaunch",!1,this.$.buttons),setTimeout(function(){this.menuClosed=!0}.bind(this),1)}_changeMenu(e){e.composedPath().find((e=>e.getAttribute&&"Popup"==e.getAttribute("data-target")))||(this.menuClosed=oe.changeMenu(e,this.menuClosed,this.$.buttons,"open",this),this.menuClosed&&this.dispatchEvent(new CustomEvent("sb-menu-closed")))}_viewportChanged(){this.showMenu=!(this.viewport&&!this.viewport.isMobile()&&this.viewport.M.up),this.showMenu?(this.$.buttons.classList.remove("normal"),this.updateClassForActionsContainers(!1)):(this.$.buttons.classList.add("normal"),this.updateClassForActionsContainers(!0))}updateClassForActionsContainers(e){const t=this.querySelectorAll('div[slot="actions"]');for(const i of t)e?i.classList.add("normal"):i.classList.remove("normal")}_setSearchbarStyles(){}static changeMenu(e,t,i,o,r){let n=e.currentTarget.getBoundingClientRect(),s=i.style;return s.top=n.bottom+2+"px",s.right=window.innerWidth-n.right+"px",(0,l.p1)(o,t,i),!t}openLookupDialog(e){this.showLookupDialog=!0,(0,y.m)(this,(()=>{let t=this.shadowRoot.querySelector("#lookup");t.invoker=e.detail.lookup,t.open(e.detail.searchValue)}))}closeLookupDialog(e){this.showLookupDialog=!1}openRteDialog(e){let t=this.$.rte;t.value=e.detail.value,t.rte=e.detail.rte,t.open()}openSearchDialog(e){let t=this.$.search;t.value=e.detail.value,t.quote=e.detail.quote,t.open()}allowAutoLaunchPopup(){this.showMenu&&((0,l.p1)("open",!0,this.$.buttons),(0,l.p1)("autoLaunch",!0,this.$.buttons),this.menuClosed=!1)}_setupMetricsServiceListeners(){document.addEventListener("metrics-changed",function(e){let t=e.detail,i=this.querySelector(".header .sticker");null!=t.ept&&(this.ept=Math.round(t.ept)),null!=t.bpt&&(this.bpt=Math.round(t.bpt)),null!=t.spt&&(this.spt=Math.round(t.spt)),i&&(i.style.display="block",this.ept<=2e3?i.style.backgroundColor="#468847":this.ept>2e3&&this.ept<=3e3?i.style.backgroundColor="#daa520":i.style.backgroundColor="#b72020")}.bind(this))}static get template(){return o.qy`
		<style include="iron-flex iron-flex-alignment"></style>
		<style include="sb-common-styles sb-icons-styles"></style>
		<style>${c}</style>

		<header class="header" device>
			<!-- dom-if needed here due to iron-list bug with fully recycling rows when closing-reopening -->
			<template is="dom-if" if="[[showLookupDialog]]" restamp>
				<sb-lookup-dialog id="lookup"></sb-lookup-dialog>
			</template>
			<sb-search-bar-dialog id="search"></sb-search-bar-dialog>
			<sb-rte-dialog id="rte"></sb-rte-dialog>

			<template is="dom-if" if="[[debugMode]]">
				<div class="sticker">
					<div class="eptLabel">EPT: [[ept]] ms</div>
					<div class="bptLabel">BPT: [[bpt]] ms</div>
					<div class="sptLabel">SPT: [[spt]] ms</div>
				</div>
			</template>

			<!--this is the row-->
			<div class="layout horizontal">
				<div>
					<slot name="messages"></slot>
				</div>

				<!-- header icon-->
				<span id="icon" class="sbHeaderIcon"><slot name="icon"></slot></span>

				<!--titles-->
				<div class="titles">
					<p id="sub-title"><slot name="h2"></slot></p>
					<p id="title" on-click="_showFullTitle"><slot name="h1"></slot></p>
					<p id="full-title"></p>

					<p id="quoteTotal"><slot name="quoteTotal"></slot></p>
				</div>

				<!--buttons-->
				<template is="dom-if" if="[[searchbar]]">
				<div class="flex centered" id="searchbar">
					<slot name="headersearch"></slot>
				</div>
				</template>

				<div class="flex layout horizontal wrap end-justified start centered">
					<div id="fixed" class="normal">
						<slot name="fixedActions"></slot>
					</div>

					<div id="buttons" class="normal" on-click="_changeMenu">
						<slot name="actions"></slot>
					</div>
				</div>

				<div class="layout horizontal centered start end-justified" hidden$="{{!showMenu}}">
					<paper-button noink id="menuButton" on-click="_changeMenu"><i class="sf-icon-down"></i></paper-button>
				</div>
				<p id="fullScreenMode"><slot name="fullScreenMode"></slot></p>
				<!--buttons-->

			</div>
		</header>

		`}}customElements.define(oe.is,oe)},8797:(e,t,i)=>{"use strict";var o=i(7734);i(4167),i(4);const r=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  min-height: 46px;
}
:host([class*='--mobile']) {
  min-height: 55px;
}
:host([class*='--mobile']) {
  min-height: 55px;
}
.paginationBar {
  background-color: var(--pagination-bar-background-color);
  padding-bottom: var(--pagination-bar-padding-bottom);
  padding-top: var(--pagination-bar-padding-top);
  text-align: var(--pagination-bar-text-align);
  box-shadow: var(--pagination-bar-box-shadow);
  display: var(--pagination-bar-display);
  width: var(--pagination-bar-width);
}
.pages {
  color: #4F6892;
  display: var(--pagination-parts-display);
  text-align: var(--pagination-pages-text-align);
}
.prevButton {
  padding: 0px 20px 0px 20px;
  display: var(--pagination-parts-display);
  text-align: var(--pagination-previous-text-align);
}
.nextButton {
  padding: 0px 20px 0px 20px;
  display: var(--pagination-parts-display);
  text-align: var(--pagination-next-text-align);
}
`;var n=i(4886),s=i(1149);i(2804);class a extends((0,n.$)(o.Pu)){static get is(){return"sb-pagination"}static get properties(){return{pageIndex:{type:Number,value:0},pageSize:Number,numItems:Number}}static get observers(){return["_setNumberOfPagesObserver(pageSize, numItems)","_setPageWindowObserver(pageIndex, pageSize, numItems)","_setNextDisabledObserver(pageIndex, numPages)","setPreviousDisabled(pageIndex)","setPageNum(pageIndex)"]}next(){this.pageIndex++,this.firePageEvent("next")}previous(){this.pageIndex--,this.firePageEvent("previous")}_setNumberOfPagesObserver(e,t){if(void 0!==e&&void 0!==t)return this.setNumberOfPages(e,t)}setNumberOfPages(){this.numPages=Math.ceil(this.numItems/this.pageSize)}_setPageWindowObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.setPageWindow(e,t,i)}setPageWindow(){let e=this.pageIndex*this.pageSize,t=e+this.pageSize;t>=this.numItems&&(t=this.numItems),this.pageWindow=[e,t]}_setNextDisabledObserver(e,t){if(void 0!==e&&void 0!==t)return this.setNextDisabled(e,t)}setNextDisabled(){this.nextDisabled=this.pageIndex===this.numPages-1}setPreviousDisabled(){this.previousDisabled=0===this.pageIndex}setPageNum(){this.pageNum=this.pageIndex+1}firePageEvent(e){this.dispatchEvent((0,s.uv)("pagination-changed",{direction:e,page:this.pageNum,index:this.pageIndex,window:this.pageWindow}))}static get template(){return o.qy`
		<style include="sb-icons-styles"></style>
		<style include="sb-common-styles"></style>
		<style>${r}</style>

		<div device class="paginationBar">
			<span class="prevButton">
				<paper-button id="prevButton" noink on-click="previous" disabled="{{previousDisabled}}"><i class="sf-icon-left"></i></paper-button>
			</span>
			<span class="pages">[[pageNum]] / [[numPages]]</span>
			<span class="nextButton">
				<paper-button id="nextButton" noink on-click="next" disabled="{{nextDisabled}}"><i class="sf-icon-right"></i></paper-button>
			</span>
		</div>
		`}}customElements.define(a.is,a)},8873:(e,t,i)=>{"use strict";i.d(t,{N:()=>o});class o{constructor(e){this.prefix=e}localizeSearchModel(e){let t=e.localizationByFieldByProductId;if(!t)return e;for(let i of e.results){let e=t[i.record.Product2Id];if(e)for(let t in e){let o=this.getLocalizedValue(e[t].record);o&&(i.record.Product2[t]=o)}}return e}localizeProduct(e){if(!e.localizationByFieldByProductId)return e;let t=e.localizationByFieldByProductId[e.record.Id];if(t&&t.Name){let i=this.getLocalizedValue(t.Name.record);i&&(e.untranslatedRecord||(e.untranslatedRecord={Name:JSON.parse(JSON.stringify(e.record.Name))}),e.record.Name=i)}for(let t of e.options){let e={};for(let i in t.localizationByFieldName){let o=null;if(-1===i.indexOf("__c"))continue;let r=t.localizationByFieldName[i];r&&(o=this.getLocalizedValue(r.record)),"Description__c"===i&&(i=this.prefix+"ProductDescription__c"),i=this._appendPrefix(this.prefix,i,r.record[this.prefix+"APIName__c"]),e[i]=t.record[i],o&&t.record[i]?t.record[i]=JSON.parse(JSON.stringify(o)):o&&t.record[this.prefix+i]&&(e[this.prefix+i]=t.record[this.prefix+i],t.record[this.prefix+i]=JSON.parse(JSON.stringify(o)))}t.untranslatedRecord||(t.untranslatedRecord=e)}for(let t of e.features){t.untranslatedRecord||(t.untranslatedRecord={Name:JSON.parse(JSON.stringify(t.record.Name))});let e=t.localizationByFieldName;if(e&&e.Name){let i=e.Name,o=this.getLocalizedValue(i.record);o&&(t.record.Name=o)}}return e}_appendPrefix(e,t,i){return-1===i.indexOf(e)?t:t.replace("__c","")!==i.replace("__c","")||t===i.replace(e,"")?e+t:t}getLocalizedValue(e){return e[this.prefix+"Text__c"]||e[this.prefix+"TextArea__c"]||e[this.prefix+"LongTextArea__c"]||e[this.prefix+"RichTextArea__c"]}}},8900:(e,t,i)=>{"use strict";i.d(t,{i:()=>r});var o=i(7734);class r extends o.Pu{static get is(){return"sb-div"}static get properties(){return{value:String,label:{type:String,computed:"_setLabel(value)"}}}_setLabel(){return this.value}static get template(){return o.qy`<div>[[label]]</div>`}}customElements.define(r.is,r)},9023:(e,t,i)=>{"use strict";i.d(t,{b:()=>a});i(8443);var o=i(9539),r=i(7695),n=i(8591);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
function s(e){return"slot"===e.localName}let a=class{static getFlattenedNodes(e){const t=(0,n.L)(e);if(s(e))return t.assignedNodes({flatten:!0});{const e=[];for(let i=0;i<t.childNodes.length;i++){const o=t.childNodes[i];if(s(o)){const t=o;e.push(...(0,n.L)(t).assignedNodes({flatten:!0}))}else e.push(o)}return e}}constructor(e,t){this._shadyChildrenObserver=null,this._nativeChildrenObserver=null,this._connected=!1,this._target=e,this.callback=t,this._effectiveNodes=[],this._observer=null,this._scheduled=!1,this._boundSchedule=()=>{this._schedule()},this.connect(),this._schedule()}connect(){s(this._target)?this._listenSlots([this._target]):(0,n.L)(this._target).children&&(this._listenSlots((0,n.L)(this._target).children),window.ShadyDOM?this._shadyChildrenObserver=window.ShadyDOM.observeChildren(this._target,(e=>{this._processMutations(e)})):(this._nativeChildrenObserver=new MutationObserver((e=>{this._processMutations(e)})),this._nativeChildrenObserver.observe(this._target,{childList:!0}))),this._connected=!0}disconnect(){s(this._target)?this._unlistenSlots([this._target]):(0,n.L)(this._target).children&&(this._unlistenSlots((0,n.L)(this._target).children),window.ShadyDOM&&this._shadyChildrenObserver?(window.ShadyDOM.unobserveChildren(this._shadyChildrenObserver),this._shadyChildrenObserver=null):this._nativeChildrenObserver&&(this._nativeChildrenObserver.disconnect(),this._nativeChildrenObserver=null)),this._connected=!1}_schedule(){this._scheduled||(this._scheduled=!0,r._3.run((()=>this.flush())))}_processMutations(e){this._processSlotMutations(e),this.flush()}_processSlotMutations(e){if(e)for(let t=0;t<e.length;t++){let i=e[t];i.addedNodes&&this._listenSlots(i.addedNodes),i.removedNodes&&this._unlistenSlots(i.removedNodes)}}flush(){if(!this._connected)return!1;window.ShadyDOM&&ShadyDOM.flush(),this._nativeChildrenObserver?this._processSlotMutations(this._nativeChildrenObserver.takeRecords()):this._shadyChildrenObserver&&this._processSlotMutations(this._shadyChildrenObserver.takeRecords()),this._scheduled=!1;let e={target:this._target,addedNodes:[],removedNodes:[]},t=this.constructor.getFlattenedNodes(this._target),i=(0,o.k)(t,this._effectiveNodes);for(let t,o=0;o<i.length&&(t=i[o]);o++)for(let i,o=0;o<t.removed.length&&(i=t.removed[o]);o++)e.removedNodes.push(i);for(let o,r=0;r<i.length&&(o=i[r]);r++)for(let i=o.index;i<o.index+o.addedCount;i++)e.addedNodes.push(t[i]);this._effectiveNodes=t;let r=!1;return(e.addedNodes.length||e.removedNodes.length)&&(r=!0,this.callback.call(this._target,e)),r}_listenSlots(e){for(let t=0;t<e.length;t++){let i=e[t];s(i)&&i.addEventListener("slotchange",this._boundSchedule)}}_unlistenSlots(e){for(let t=0;t<e.length;t++){let i=e[t];s(i)&&i.removeEventListener("slotchange",this._boundSchedule)}}}},9067:(e,t,i)=>{"use strict";i.d(t,{X:()=>r});var o=i(6206);class r{constructor(e){this.hide="boolean"==typeof e?{hidden:e,type:"hide"}:"object"==typeof e?{hidden:!!e.hidden,type:e.type||"hide"}:{hidden:!1,type:"hide"}}get hidden(){return this.hide.hidden}get type(){return this.hide.type}applyTo(e){let t=[this.hide];"hide"===this.type?t.push({hidden:!1,type:"invisible"}):t.push({hidden:!1,type:"hide"});for(let i of t)(0,o.p1)(i.type,i.hidden,e)}}},9092:(e,t,i)=>{"use strict";i.d(t,{$t:()=>r,IL:()=>d,Un:()=>n,ZO:()=>c,d_:()=>s});var o=i(7163);function r(e,t){if(c(e,t)){const t=e.editorModel.data.additionalDiscountUnitOptions;return null!==e.lineVO.targetCustomerAmount&&void 0!==e.lineVO.targetCustomerAmount?{units:t,unit:"UnitOverride",displayValue:e.getLineVOProperty("targetCustomerAmount")}:null!==e.lineVO.targetCustomerTotal&&void 0!==e.lineVO.targetCustomerTotal?{units:t,unit:"TotalOverride",displayValue:e.getLineVOProperty("targetCustomerTotal")}:null!=e.getField(e.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)?{units:t,unit:"Amount",displayValue:e.getField(e.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)}:null!=e.getField(e.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)?{units:t,unit:"Percent",displayValue:e.getField(e.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)}:{units:t,unit:e.editorModel.data.defaultAdditionalDiscountUnit.replace(/ /g,""),displayValue:null}}{const t=e.editorModel.data.markupUnitOptions;return null!=e.getField(e.constants.MARKUP_AMOUNT_FIELD)?{units:t,unit:"Amount",displayValue:e.getField(e.constants.MARKUP_AMOUNT_FIELD)}:null!=e.getField(e.constants.MARKUP_RATE_FIELD)?{units:t,unit:"Percent",displayValue:e.getField(e.constants.MARKUP_RATE_FIELD)}:{units:t,unit:e.editorModel.data.defaultMarkupUnit.replace(/ /g,""),displayValue:null}}}function n(e,t){let{units:i,unit:o,displayValue:n}=r(e,t);if(e.getField(e.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)&&!i.some((e=>"Amount"===e.value))){let o=e.getField(e.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)&&i.some((e=>"Percent"===e.value))?"Percent":i[0].value;d(e,t,o)}}function s(e,t,i){let{unit:n,displayValue:s}=r(e,t);const l=e.lineVO.record;c(e,t)?("Percent"===n?l[e.constants.ADDITIONAL_DISCOUNT_RATE_FIELD]=i:"Amount"===n?l[e.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]=i:"UnitOverride"===n?e.lineVO.targetCustomerAmount=i:"TotalOverride"===n&&(e.lineVO.targetCustomerTotal=i),s=a(e)/(e.lineVO.amountDiscountProrated?l[e.constants.PRORATE_MULTIPLIER_FIELD]:1)):("Percent"===n?l[e.constants.MARKUP_RATE_FIELD]=i:"Amount"===n&&(l[e.constants.MARKUP_AMOUNT_FIELD]=i),s=l[e.constants.MARKUP_AMOUNT_FIELD]||(l[e.constants.UNIT_COST_FIELD]?l[e.constants.UNIT_COST_FIELD]*i/100:null)),(0,o.N6)(e,["lineVO","record",e.constants.ADDITIONAL_DISCOUNT_FIELD],isNaN(s)?0:s)}function a(e){const t=e.quoteModel?.quoteVO?.applyAdditionalDiscountLast;let i,o,r=t?e.getField(e.constants.NET_PRICE_FIELD):e.getField(e.constants.REGULAR_PRICE_FIELD);return e.getField(e.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)?(i=r*(e.getField(e.constants.ADDITIONAL_DISCOUNT_RATE_FIELD)/100),o=1):e.lineVO.targetCustomerAmount?(i=r-e.lineVO.targetCustomerAmount,o=1):e.lineVO.targetCustomerTotal?(i=r-e.lineVO.targetCustomerTotal/l(e),o=1):e.getField(e.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD)?(i=e.getField(e.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD),o=e.lineVO.amountDiscountProrated?e.getField(e.constants.PRORATE_MULTIPLIER_FIELD):1):(i=0,o=1),i*o}function l(e){const t=e.lineVO.record;let i=t[e.constants.QUANTITY_FIELD],o=t[e.constants.PRIOR_QUANTITY_FIELD],r=t[e.constants.EXISTING_FIELD]?i-o:i;return"Block"!=t[e.constants.PRICING_METHOD_FIELD]&&"Slab"!=t[e.constants.DISCOUNT_SCHEDULE_TYPE_FIELD]||!t[e.constants.EXISTING_FIELD]||null==o||i-o!=0?"Block"==t[e.constants.PRICING_METHOD_FIELD]||"Slab"==t[e.constants.DISCOUNT_SCHEDULE_TYPE_FIELD]?1:t[e.constants.EXISTING_FIELD]&&e.dynamicSubscription&&0!=t[e.constants.LIST_PRICE_FIELD]&&0==r?i:"Amendment"==e.groupModel.quoteModel.quoteVO.record[e.constants.TYPE_FIELD]&&!e.subscription&&r<0?0:r:0}function d(e,t,i){const{displayValue:o}=r(e,t);if(!i)return;const n=e.lineVO.record;const s=c(e,t)?(()=>{const t=e.quoteModel?.quoteVO?.applyAdditionalDiscountLast;let o=t?n[e.constants.NET_PRICE_FIELD]:n[e.constants.REGULAR_PRICE_FIELD],r=()=>{n[e.constants.ADDITIONAL_DISCOUNT_RATE_FIELD]=null,n[e.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]=null,(e.lineVO.targetCustomerAmount||0===e.lineVO.targetCustomerAmount)&&(e.lineVO.targetCustomerAmount=null),(e.lineVO.targetCustomerTotal||0===e.lineVO.targetCustomerTotal)&&(e.lineVO.targetCustomerTotal=null)};if(null==o)return void r();let s=a(e);if(r(),"Percent"==i)return n[e.constants.ADDITIONAL_DISCOUNT_RATE_FIELD]=s/o*100;if("Amount"==i){let t=e.lineVO.amountDiscountProrated?n[e.constants.PRORATE_MULTIPLIER_FIELD]:1;return n[e.constants.ADDITIONAL_DISCOUNT_AMOUNT_FIELD]=s/t}return"UnitOverride"==i?e.lineVO.targetCustomerAmount=o-s:"TotalOverride"==i?e.lineVO.targetCustomerTotal=(o-s)*l(e):void 0})():(()=>{let t=n[e.constants.UNIT_COST_FIELD];if("Percent"===i){let i=n[e.constants.MARKUP_AMOUNT_FIELD];return null==i&&(i=0),n[e.constants.MARKUP_AMOUNT_FIELD]=null,n[e.constants.MARKUP_RATE_FIELD]=null!=t?i/t*100:null}{let i=n[e.constants.MARKUP_RATE_FIELD];return null==i&&(i=0),n[e.constants.MARKUP_RATE_FIELD]=null,n[e.constants.MARKUP_AMOUNT_FIELD]=null!=t?t*(i/100):null}})();return{unit:i,displayValue:isNaN(s)?isNaN(o)?null:o:s}}function c(e,t){return t===e.constants.ADDITIONAL_DISCOUNT_FIELD}},9104:(e,t,i)=>{"use strict";var o=i(665),r=i(479),n=i(5770);const s="Other";class a{constructor(e,t,i,o,r,n,s,a,l){this.groupField=e,t&&(this.groupedRecordFields=t.constructor!==Array?[t]:t),this.recordPath=i,this.itemProperties=o,this.itemPropertiesByGroup=r,this.groupProperties=n,this.groupCountPath=s,this.groupFieldType=a,this.groupFieldTypePath=l}group(e){let t=[],i={};for(let o=0,r=e.length;o<r;o++){let r=e[o],n=this._get(r,this.recordPath)[this.groupField],a=null==n||""===n;n=a?s:n+"";let l=i[n];l||a||t.push(n),l=l||[],r.groupie=n,r.grouper=null,l.push(r),i[n]=l,this._setProperties(r,this.itemProperties),this._setProperties(r,this.itemPropertiesByGroup,n)}return i[s]&&t.push(s),this._sortItemsByGroup(t,i)}_sortItemsByGroup(e,t){let i=[];for(let o=0,r=e.length;o<r;o++){let r=e[o],n=t[r],a=n.length;if(this.groupedRecordFields){let e={grouper:r,groupie:null},t=this._get(e,this.recordPath);for(let e=0,i=this.groupedRecordFields.length;e<i;e++)t[this.groupedRecordFields[e]]=r;if(this.groupCountPath){this._get(e,this.groupCountPath.path)[this.groupCountPath.property]="("+a+")"}if(this.groupFieldType&&this.groupFieldTypePath){this._get(e,this.groupFieldTypePath.path)[this.groupFieldTypePath.property]=r!==s?this.groupFieldType:"string"}this._setProperties(e,this.groupProperties),i.push(e)}i=i.concat(n)}return i}_get(e,t){if(!t)return e;let i=t.split(".");for(let t=0,o=i.length;t<o;t++)e[i[t]]||(e[i[t]]={}),e=e[i[t]];return e}_setProperties(e,t,i){if(t){if(i){if(!t[i])return;t=t[i]}for(let i in t)e[i]=t[i]}}}var l=i(3311),d=i(6902),c=i(4886),u=i(9137),h=i(7734),p=i(7371),f=i(2521);const b=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  --sbFieldWordWrap: break-word;
}
:host .datatable {
  position: relative;
  height: 100%;
  display: flex;
  flex-direction: column;
}
:host .tbody {
  height: 100%;
  overflow: auto;
  display: block !important;
}
:host #list {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  overflow: auto;
  min-height: 100%;
  position: relative;
}
:host .loadingPartition {
  position: relative;
  height: 100px;
  text-align: center;
  padding: 18px;
}
:host .noResultsMessage {
  width: 100%;
  text-align: center;
  top: 50%;
  position: absolute;
}
`;i(4167),i(4),i(9235),i(7543),i(3555),i(1925),i(7893),i(8421),i(9331);class g extends((0,f.Z)([p.x],(0,c.$)(d.B))){static get is(){return"sb-lookup-layout"}static get properties(){return{selectedRows:{type:Object,value:{},notify:!0},searchModel:Object,totalCount:{type:String,notify:!0},hasTotalCount:{notify:!0},maxSelectAll:Number,selectionIdDataPath:String,parentAttributesPath:String,additionalFields:Array,fieldPrefix:{type:String,value:""},groupByField:String,groupByFieldType:String,viewport:{type:Object,value:function(){return l.L.getViewport()}},i18n:{type:Object,value:function(){return d.B.properties.i18n.value()}},primaryMobileCols:Array,_primaryMobileColumns:{type:Array,computed:"_getPrimaryMobileCols(primaryMobileCols, fieldSet)"},rowsByGrouper:Object,groups:Array,viewResultsIndexById:Object,viewResultsIds:Object,headerSelectionDisabled:{type:Boolean,computed:"_isDisableHeaderSelection(viewResults)"},headerSelectionTooltip:{type:String,computed:"_getHeaderSelectionTooltip(headerSelectionDisabled)"},mobileRowDetails:{type:Object,value:{}},keyPressed:{Type:Object,value:{}},lastClickedIndex:{Type:Number},noResultsMessage:String,_viewResults:Array,_hasViewResults:{type:Boolean,computed:"_computeHasViewResults(_viewResults)"}}}static get observers(){return["_setViewResultsObserver(searchModel, fieldSet, groupByFieldType)","initFieldMetadata(searchModel)","updateTotalCount(searchModel.totalCount)","setDisplayResults(viewResults)","indexViewResults(viewResults)"]}ready(){super.ready(),this._setupKeyPressListeners(),this.handleAllRowsSelected(),this.handleOneRowSelected(),this.handleMetaDataResponse(),this.addEventListener("sb-mobile-row-expanded",this.expandMobileRow.bind(this)),this.addEventListener("sb-mobile-row-selected",this.selectMobileRow.bind(this)),this.addEventListener("sb-row-group-tapped",this.expandRowEventHandler.bind(this)),this.scrollTarget=this.$.tbody}_setupKeyPressListeners(){window.addEventListener("keydown",function(e){this.keyPressed[e.keyCode]=!0}.bind(this)),window.addEventListener("keyup",function(e){delete this.keyPressed[e.keyCode]}.bind(this))}_computeHasViewResults(e){return e&&e.length>0}handleMetaDataResponse(){this.$.md.addEventListener("md-changed",function(e){this.initRecordKeysFieldLabelsAndTypeMap(e.detail.value.fields)}.bind(this))}initFieldMetadata(){this.deSelectAll(),this.fieldMetadataInitialized||(this.$.md.object=this.searchModel.targetObjectName,this.fieldSetHandler=new o.V(this.searchModel,"resultFieldNames","resultFieldNamesTablet","resultFieldNamesPhone"),this.setFieldMetadata(),this.fieldMetadataInitialized=!0)}setFieldMetadata(){if(this.fieldSet=this.fieldSetHandler.getByViewport(this.viewport),this.$.md.name===this.fieldSet.name)return!1;this.$.md.fields=void 0,this.$.md.name=this.fieldSet.name;let e=this.fieldSet.fields;Array.isArray(this.additionalFields)&&(e=this.fieldSet.fields.concat(this.additionalFields)),this.groupByField&&-1===e.indexOf(this.groupByField)&&(e=[this.groupByField].concat(e)),this.$.md.fields=e}initRecordKeysFieldLabelsAndTypeMap(e){let t=[],i=[],o={},s={},a={},l={},d={},c={};e.forEach(function(e,n){if(this.groupByField===e.name&&(this.groupByFieldType=e.type,-1===this.fieldSet.fields.indexOf(e.name)))return;let u="UnitPrice"===e.name?e.name:this.fieldPrefix+e.name;t.push(u),i.push(e.label),o[u]=e.label,s[u]=e,"currency"===e.type.toLowerCase()&&(s[u].CurrencyIsoCode=this.currencyIsoCode);let h=e.type;if(!this.isMobileViewport()){let t=new r.jy(e).getImageWidth(20);if(t){let e={width:t,properties:["width"]};d[u]=e,c[n]=e}}a[e.label.replace(/\W/g,"")]=h,l[u]=h}.bind(this)),void 0===this.groupByFieldType&&(this.groupByFieldType=null),this.headerClassMap=new n.u(Object.keys(a),"Th",a,null,!0).build(),this.rowClassMap=new n.u(t,"Td",l).build(),this.columnWidths=d,this.labelWidths=c,this.mdMap=s,this.recordKeys=t,this.fieldLabels=i,this.fieldLabelMap=o}handleAllRowsSelected(){this.addEventListener("header-selection-changed",function(e){this.selectAllClicked=!0;let t=e.detail.selected;this.toggleRowSelections(t),this.selectAllClicked=!1}.bind(this))}toggleRowSelections(e,t,i){let o=[],r=this.$.tbody.querySelectorAll("sb-table-row");if(r&&r.length>0)for(let n of r){let r=n.get("rowData."+this.selectionIdDataPath);o.push(r),i&&(n.index<i.start||n.index>i.end)||(null!=t&&(n.grouper||n.groupie&&n.groupie!==t)||this._isValidViewResultId(r)&&(n.selected=e))}let n=null!=t?this.rowsByGrouper[t]:this.viewResults;if(null!=n){i||(i={start:0,end:n.length-1});for(let t=i.start;t<=i.end;t++){let i=n[t],r=this.get("record."+this.selectionIdDataPath,i);if(-1!==o.indexOf(r))continue;let s=void 0===this.parentAttributesPath?void 0:this.get("record."+this.parentAttributesPath,i);this.selectOneRow(e,r,i.record,s,i.grouper)}}}handleOneRowSelected(){this.addEventListener("selection-changed",function(e){document.getSelection().removeAllRanges(),this.selectAllClicked||this.handleRangeSelection(e);let t=e.detail.selected,i=e.detail.Id,o=e.detail.group,r=e.detail.autoSelectGroupRows;this.selectOneRow(t,i,e.detail.rowData,e.detail.attributes,o),null!=o&&r&&this.toggleRowSelections(t,o)}.bind(this))}handleRangeSelection(e){if(this.keyPressed[16]&&null!=this.lastClickedIndex&&!this.internal&&!this.groupByFieldType){this.internal=!0;let t=Math.min(this.lastClickedIndex,e.detail.index),i=Math.max(this.lastClickedIndex,e.detail.index);this.toggleRowSelections(e.detail.selected,null,{start:t,end:i}),this.internal=!1}e.composedPath()[0]._selectedChangeByParent||(this.lastClickedIndex=e.detail.index)}selectOneRow(e,t,i,o,r){e&&(null===this.selectedRows&&(this.selectedRows={}),this.selectedRows[t]={record:{Id:t,attributes:o,UnitPrice:i.UnitPrice},index:this.viewResultsIndexById[t],invalid:null!=r}),!e&&this.selectedRows&&delete this.selectedRows[t]}deSelectAll(){this.$.header&&(this.$.header.selected=void 0,this.$.header.selected=!1)}_setViewResultsObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.setViewResults(e,t,i)}setViewResults(){this.selectedRows={},this.viewResultsIds=null,this.viewResultsIndexById=null;let e=this.getViewResults(this.searchModel.results);if(this.hasGroupedField=!!this.groupByField,this.isMobileViewport()&&this._resetMobileDetails(),!this.hasGroupedField)return void(this.viewResults=e);if(this.viewResults&&(e=JSON.parse(JSON.stringify(this.getViewResults(this.searchModel.results)))),this.isMobileViewport())return void(this.viewResults=e);let t=[this.fieldSet.fields[0],"Id"],i="record."+this.searchModel.targetObjectName,o={path:"record._transient_."+this.searchModel.targetObjectName+"."+t[0],property:"suffix"},r={path:"record._transient_."+this.searchModel.targetObjectName+"."+t[0]+".md",property:"type"};e=new a(this.groupByField,t,i,{hidden:!0},{},{hidden:!1},o,this.groupByFieldType,r).group(e),this.rowsByGrouper={},this.groups=[],this.viewResultsIds=[],this.viewResultsIndexById={};let n=0;for(let t of e)this._indexViewResult(t,n++),t.grouper?(this.rowsByGrouper[t.grouper]=[],this.groups.push(t)):this.rowsByGrouper[t.groupie]&&this.rowsByGrouper[t.groupie].push(t);this.viewResults=e,this.expandedGroupState={};if(!(this.viewResults.length===this.searchModel.results.length+1))return;const s=this.viewResults[0].grouper;this.expandRowEventHandler({path:[{index:0}],detail:{group:s}})}getViewResults(e){let t=this.org.prefix?this.org.prefix+"__":"",i=[];for(let o of e||[]){let e={record:{}};for(let i in o.record)"UnitPrice"===i&&o.record.Product2&&o.record.Product2[t+"HidePriceInSearchResults__c"]?e.record[i]="":e.record[i]=o.record[i];i.push(e)}return i}setDisplayResults(){this.isMobileViewport()||!this.groupByField?this._viewResults=this.viewResults:this._viewResults=this.groups}isSelected(e){if(!this.selectedRows)return!1;let t=this.get(this.selectionIdDataPath,e);return!!this.selectedRows[t]}isExpanded(e,t){return!(!e||!t)&&!!t[e]}isMobileViewport(){return this.viewport&&this.viewport.isMobile()}updateTotalCount(){null!==this.searchModel.totalCount&&(this.totalCount=this.searchModel.totalCount),this.hasTotalCount=this.totalCount>0}_getPrimaryMobileCols(e,t){if(void 0===e||void 0===t)return;let i=[].concat(this.primaryMobileCols);if(i&&i.length>0&&this.fieldSet.name.endsWith("Phone")){let e=i[0].split("."),t=e.length>1?e[0]+".":"";i[0]=t+this.fieldSet.fields[0]}return i}expandMobileRow(e){let t=this.shadowRoot.querySelector("#list");this._setMobileExpandDetails(t,e.detail),t.notifyResize()}selectMobileRow(e){let t=this.shadowRoot.querySelector("#list");this._setMobileSelectedDetails(t,e.detail)}detached(){super.detached(),this.$.list._increasePoolIfNeeded=function(){}}_setMobileExpandDetails(e,t){let i=t.index,o=t.id,r=t.expanded,n=t.path;this._setMobileDetails(e,i,o,"expanded",r,n)}_setMobileSelectedDetails(e,t){let i=t.index,o=t.id,r=t.selected;this._setMobileDetails(e,i,o,"selected",r)}_setMobileDetails(e,t,i,o,r,n){let s=e._computeVidx(t)%e._physicalCount;this.mobileRowDetails[s]||(this.mobileRowDetails[s]={});let a=this.mobileRowDetails[s];n&&(a.path=n),a.ids||(a.ids={}),a.ids[i]||(a.ids[i]={}),a.ids[i][o]=r}expandRowEventHandler(e){const t=e.detail.group,i=(e.path||e.composedPath())[0].index+1,o=this.expandedGroupState[t]=!this.expandedGroupState[t];this._expandRow(o,t,this.rowsByGrouper,i)}_expandRow(e,t,i,o){let r=null;const n=this.shadowRoot.querySelector("#list"),s=i[t]||[];e?this.splice("_viewResults",o,0,...s):(n._scrollPosition=Math.ceil(n._scrollPosition),r=n.firstVisibleIndex,this.splice("_viewResults",o,s.length)),(0,u.m)(this,this._adjustScrollAfterExpandRow.bind(this,n,r))}_adjustScrollAfterExpandRow(e,t){null!=t?e.scrollToIndex(t):e._updateScrollerSize(!0)}indexViewResults(){if(null!=this.viewResultsIds)return;this.viewResultsIds=[],this.viewResultsIndexById={};let e=0;for(let t of this.viewResults)this._indexViewResult(t,e++)}_indexViewResult(e,t){let i=this.get("record."+this.selectionIdDataPath,e);this.viewResultsIds.push(i),this.viewResultsIndexById[i]=t}_isValidViewResultId(e){return-1!==this.viewResultsIds.indexOf(e)}_getMaxResultsToSelectAll(){return this.maxSelectAll||100}_isDisableHeaderSelection(){return this.viewResults.length>this._getMaxResultsToSelectAll()}_getHeaderSelectionTooltip(){if(this.headerSelectionDisabled)return this.i18n.l("Reduce search results to fewer than {0} to enable select all",[this._getMaxResultsToSelectAll()])}_getExpandedDetails(e,t){return this._getMobileDetails(e,t,"expanded",!0)}_getSelectedDetails(e,t){return this._getMobileDetails(e,t,"selected")}_getMobileDetails(e,t,i,o){if(!this.isMobileViewport())return null;let r=this.shadowRoot.querySelector("#list"),n=r._computeVidx(t)%r._physicalCount,s=this.mobileRowDetails[n]||null;if(!s)return null;let a=this.get(this.selectionIdDataPath,e),l=!(!s.ids[a]||!s.ids[a][i]),d={};return d[i]=l,o&&(d.path=s.path),d}_resetMobileDetails(){for(let e in this.mobileRowDetails){let t=this.mobileRowDetails[e];for(let e in t.ids)t.ids[e]={}}}_scrollHandler(){this.isMobileViewport()&&(this.expandDisabled=!0,this._enabledExpand&&clearTimeout(this._enabledExpand),this._enabledExpand=setTimeout(function(){this.expandDisabled=!1}.bind(this),200))}test_scrollToTarget(e){if(!e)return;let t=e.index;null==t&&(t=this._findRowIndex(e)),t<0||this.shadowRoot.querySelector("#list").scrollToIndex(t)}_findRowIndex(e){if(!e)return-1;let t=Object.keys(e),i=t.length;if(0===i)return-1;for(let o=0,r=this.viewResults.length;o<r;o++){let r=this.viewResults[o].record,n=!0;for(let o=0;o<i;o++)n=n&&r[t[o]]===e[t[o]];if(n)return o}return-1}static get template(){return h.qy`
		<style include="sb-common-styles sb-tables-styles sb-icons-styles"></style>
		<style>${b}</style>

		<sb-field-md id="md"></sb-field-md>
		<div device id="datatable" class="datatable">
			<slot name="dynamic-header"></slot>
				<div class="thead">
					<sb-table-header id="header" selectable="[[fieldLabels]]" cols="[[fieldLabels]]"
									header-class-map="[[headerClassMap]]"
									column-widths="[[labelWidths]]"
									selection-disabled="[[headerSelectionDisabled]]"
									selection-tooltip="[[headerSelectionTooltip]]"
					></sb-table-header>
				</div>
				<div class="tbody" id="tbody">
					<!--Infinite scroll for ungrouped layout-->
					<iron-list scroll-target="tbody" id="list" items="[[_viewResults]]" as="row">
						<template>
							<sb-table-row
									disable-swipe="true"
									id="tableRow"
									cell="sb-table-cell"
									cols="[[recordKeys]]"
									row-data="{{row.record}}"
									model="[[mdMap]]"
									selectable="true"
									cols-display="[[fieldLabelMap]]"
									selection-id-data-path="[[selectionIdDataPath]]"
									parent-attributes-path="[[parentAttributesPath]]"
									primary-mobile-cols="[[_primaryMobileColumns]]"
									repeat-primary-mobile-cols="true"
									grouper="[[row.grouper]]"
									grouper-expanded="[[isExpanded(row.grouper, expandedGroupState)]]"
									groupie="[[row.groupie]]"
									selected="[[isSelected(row.record)]]"
									hidden$="[[row.hidden]]"
									ignore-viewport-change="[[hasGroupedField]]"
									route-source="LookupLayout"
									row-actions='[]'
									row-class-map="[[rowClassMap]]"
									index="[[index]]"
									defer-grouping="true"
									column-widths="[[columnWidths]]"
									force-column-widths="[[hasGroupedField]]"
									mobile-expanded-details="[[_getExpandedDetails(row.record, index)]]"
									mobile-selected-details="[[_getSelectedDetails(row.record, index)]]"
									expand-disabled="[[expandDisabled]]"
									name$="[[row.record.Name]]"
									no-data-propagation="true"
							/>
						</template>
					</iron-list>
				</div>
			<template is="dom-if" if="[[!_hasViewResults]]">
				<div class="noResultsMessage">[[noResultsMessage]]</div>
			</template>
		</div>
		`}}customElements.define(g.is,g)},9134:(e,t,i)=>{"use strict";i.d(t,{D:()=>o});const o=(0,i(8246).y)((e=>class extends e{ready(){super.ready&&super.ready(),this.handleProductsLoadServerResponse(),this.handleHideSearchFilterIfNoSearchColumnsDisplayed(),this.bindFilterEnterCallBacks()}handleHideSearchFilterIfNoSearchColumnsDisplayed(){this.addEventListener("no-displayed-filters",function(){this.removeFilter()}.bind(this))}}))},9137:(e,t,i)=>{"use strict";i.d(t,{m:()=>d});i(8443);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/let o=!1,r=[],n=[];function s(){o=!0,requestAnimationFrame((function(){o=!1,a(r),setTimeout((function(){!function(e){for(let t=0,i=e.length;t<i;t++)l(e.shift())}(n)}))}))}function a(e){for(;e.length;)l(e.shift())}function l(e){const t=e[0],i=e[1],o=e[2];try{i.apply(t,o)}catch(e){setTimeout((()=>{throw e}))}}function d(e,t,i){o||s(),n.push([e,t,i])}},9139:(e,t,i)=>{"use strict";var o=i(7734),r=(i(7543),i(2804),i(4886)),n=i(3218);i(4167),i(4);const s=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  font-family: var(--sbDialogFontFamily);
}
:host .sbModalMask {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: var(--sbDialogMaskColor);
  opacity: 0.8;
  z-index: 10000;
}
:host .noMarginBottom {
  margin-bottom: 0;
}
:host paper-button {
  cursor: pointer;
  float: right;
  margin: 0px 0px 0px 16px;
}
:host paper-button.hidden {
  display: none;
}
:host paper-button.default {
  background-color: white;
  border: 1px solid #D8DDE6;
}
:host paper-button.primary {
  background-color: var(--sbBrandedButtonBackgroundColor);
  color: var(--sbBrandedButtonFontColor);
}
:host paper-button.primary:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
}
:host paper-button[class*='--mobile'] {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
:host [class*='--mobile'] paper-button {
  margin: 0;
  height: 36px;
  font-size: 16px;
}
:host .sbDialog {
  max-height: var(--sbDialogMaxHeight, 600px);
  min-width: var(--sbDialogMinWidth, 500px);
  left: var(--sbDialogContainerLeft, 50%);
  right: var(--sbDialogContainerRight);
  top: var(--sbDialogContainerTop, 20%);
  width: var(--sbDialogContainerWidth);
  height: var(--sbDialogContainerHeight);
  transform: var(--sbDialogContainerTransform, translateX(-50%));
  z-index: var(--sbDialogContainerzIndex, 10001);
  display: var(--sbDialogContainerDisplay);
  overflow: var(--sbDialogContainerOverflow);
  flex-direction: var(--sbDialogContainerFlexDirection);
  background-color: var(--sbDialogBgColor);
  border-radius: var(--sbDialogBorderRadius);
  position: fixed;
  margin: 0 auto;
  color: var(--sbFontColor);
  box-shadow: none;
  font-family: var(--sbDialogFontFamily);
  -webkit-font-smoothing: auto;
}
:host .sbDialog.boxShadow {
  box-shadow: 0 0 0 15px #D1D4D8;
}
:host .sbDialog.largeView {
  width: 100%;
  height: 100%;
  top: 0;
}
:host .sbDialog > header {
  border-bottom-width: var(--sbDialogHeaderBorderWidth);
  border-bottom-style: var(--sbDialogHeaderBorderStyle);
  border-bottom-color: var(--sbDialogHeaderBorderColor);
  padding-top: var(--sbDialogHeaderPaddingTop);
  padding-right: var(--sbDialogHeaderPaddingRight);
  padding-bottom: var(--sbDialogHeaderPaddingBottom);
  padding-left: var(--sbDialogHeaderPaddingLeft);
  text-align: center;
  margin-top: 0px !important;
}
:host .sbDialog > header[class*='--desktop'] {
  background-color: var(--sbDialogHeaderBackgroundColor);
}
:host [class*='--desktop'] .sbDialog > header {
  background-color: var(--sbDialogHeaderBackgroundColor);
}
:host .sbDialog > header > .sf-icon-close {
  font-size: var(--sbIcon30);
  position: absolute;
  top: -50px;
  right: 0px;
}
:host .sbDialog > header > .sf-icon-close:hover {
  cursor: pointer;
}
:host .sbDialog > header > .sf-icon-close:before {
  color: var(--sbDialogCloseColor);
}
:host .sbDialog > #content {
  overflow: var(--sbDialogContentOverflow, auto);
  overflow-x: var(--sbDialogContentOverflowX, auto);
  max-height: var(--sbDialogContentHeight, 400px);
  height: var(--sbDialogContentHeight);
  padding: var(--sbDialogContentPadding, 24px);
  margin-bottom: var(--sbDialogContentMarginBottom, 60px);
  text-align: var(--sbDialogContentTextAlign);
}
:host .sbDialog > #content > iframe {
  height: 100%;
  width: 100%;
  overflow: auto;
}
:host .sbDialog > footer {
  padding: 12px 16px;
  border-top-width: var(--sbDialogFooterBorderWidth);
  border-top-style: var(--sbDialogFooterBorderStyle);
  border-top-color: var(--sbDialogFooterBorderColor);
  border-bottom-left-radius: var(--sbDialogBorderRadius);
  border-bottom-right-radius: var(--sbDialogBorderRadius);
  background-color: var(--sbDialogFooterColor);
  display: var(--sbDialogFooterDisplay, inline-table);
  margin-bottom: 0px !important;
  width: 100%;
  box-sizing: border-box;
  margin-top: 0px;
  position: fixed;
  bottom: 0;
}
:host .sbDialog > footer.is-ie {
  position: absolute;
}
:host .sbDialog[class*='--mobile'] {
  top: 0;
  width: 100%;
  height: 100%;
  border-radius: 0;
  max-height: 100%;
  min-width: 100%;
}
:host .sbDialog > #content[class*='--mobile'] {
  padding: 0px;
}
:host .sbDialog header[class*='--mobile'] {
  font-size: 24px;
  padding: 20px 0 16px 0;
}
:host .sbDialog header[class*='--mobile'] .cancel {
  padding: 4px 10px;
  margin-left: 10px;
  float: left;
  font-size: 16px;
}
:host .sbDialog header[class*='--mobile'] #drop-down-button {
  padding: 12px;
  margin: 0 10px 0 0;
}
:host .sbDialog header[class*='--mobile'] .single-button {
  display: inline-block;
  float: right;
  margin: 0 10px 0 0;
}
:host .sbDialog header[class*='--mobile'] .drop-down-menu {
  border-radius: var(--sbDialogBorderRadius);
  border: var(--sbBtnBorder);
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  position: fixed;
  z-index: 1000;
  display: none;
  width: 100px;
  top: 58px;
  right: 10px;
}
:host .sbDialog header[class*='--mobile'] .drop-down-menu ::slotted(paper-button) {
  width: 100% !important;
  background-color: white !important;
  color: #0070D2 !important;
  white-space: nowrap !important;
  display: block !important;
  text-align: left !important;
  border: 0 !important;
  padding: 10px !important;
  margin-right: 0 !important;
}
:host .sbDialog header[class*='--mobile'] .drop-down-menu.open {
  display: block;
}
:host .sbDialog footer[class*='--mobile'] {
  display: none;
}
:host [class*='--mobile'] .sbDialog {
  top: 0;
  width: 100%;
  height: 100%;
  border-radius: 0;
  max-height: 100%;
  min-width: 100%;
}
:host [class*='--mobile'] .sbDialog > #content {
  padding: 0px;
}
:host [class*='--mobile'] .sbDialog header {
  font-size: 24px;
  padding: 20px 0 16px 0;
}
:host [class*='--mobile'] .sbDialog header .cancel {
  padding: 4px 10px;
  margin-left: 10px;
  float: left;
  font-size: 16px;
}
:host [class*='--mobile'] .sbDialog header #drop-down-button {
  padding: 12px;
  margin: 0 10px 0 0;
}
:host [class*='--mobile'] .sbDialog header .single-button {
  display: inline-block;
  float: right;
  margin: 0 10px 0 0;
}
:host [class*='--mobile'] .sbDialog header .drop-down-menu {
  border-radius: var(--sbDialogBorderRadius);
  border: var(--sbBtnBorder);
  box-shadow: 0 2px 3px 0 rgba(0, 0, 0, 0.16);
  position: fixed;
  z-index: 1000;
  display: none;
  width: 100px;
  top: 58px;
  right: 10px;
}
:host [class*='--mobile'] .sbDialog header .drop-down-menu ::slotted(paper-button) {
  width: 100% !important;
  background-color: white !important;
  color: #0070D2 !important;
  white-space: nowrap !important;
  display: block !important;
  text-align: left !important;
  border: 0 !important;
  padding: 10px !important;
  margin-right: 0 !important;
}
:host [class*='--mobile'] .sbDialog header .drop-down-menu.open {
  display: block;
}
:host [class*='--mobile'] .sbDialog footer {
  display: none;
}
:host .slotWrapper[class*='--desktop'] {
  display: inline-block;
}
:host [class*='--desktop'] .slotWrapper {
  display: inline-block;
}
`;var a=i(6206),l=i(6902),d=i(3311),c=i(1149);class u extends((0,n.N)((0,r.$)(o.Pu))){static get is(){return"sb-dialog"}static get properties(){return{show:{type:Boolean,value:!1},modal:{type:Boolean,value:!1},hideHeader:{type:Boolean,observer:"_hideHeader"},appendedClass:{type:String},cancelText:{Type:String,value:"Cancel"},closeDialog:{type:String,value:"sb-close-dialog"},hideCloseIcon:{type:Boolean,value:!1},hideCancelButton:{type:Boolean,value:!1},mobile:{type:Boolean,value:function(){if(d.L.getViewport())return!!d.L.getViewport().isMobile()}},mobileDropDown:{type:Boolean,value:!1},tapDialog:String,ignoreMaskTap:{type:Boolean,value:!1},largeViewEnabled:Boolean}}ready(){super.ready(),this.addEventListener("datepicker-opened",this._datePickerOpened.bind(this)),this.appendedClass&&this.$.sbDialog.classList.add(this.appendedClass),this.mobile&&(this._appendMobileClasses(),this.observeNode(this,(()=>{let e=this.querySelectorAll("paper-button");if(0===e.length)(0,a.p1)("no-buttons",!0,this.$.title);else{this.mobileDropDown=e.length>1;let t=this.shadowRoot.querySelector("#mobileButtons"),i=this.shadowRoot.querySelector("#drop-down-button");(0,a.p1)("no-buttons",!1,this.$.title),(0,a.p1)("drop-down-menu",this.mobileDropDown,t),(0,a.p1)("single-button",!this.mobileDropDown,t),(0,a.p1)("hidden",!this.mobileDropDown,i)}}))),(0,a.p1)("is-ie",l.B.isIE(),this.$.footer)}_appendMobileClasses(){(0,a.p1)("mobile",!0,this.$.sbDialog);let e=this.shadowRoot.children,t=e.length;for(let i=0;i<t;i++)(0,a.p1)("mobile",!0,e[i])}toggle(){this.show=!this.show}open(){this.show=!0}close(){this.show=!1}toggleMenu(){let e=this.shadowRoot.querySelector(".drop-down-menu");e&&e.classList.contains("open")?(0,a.p1)("open",!1,e):(0,a.p1)("open",!0,e)}onCloseDialog(){(0,c.rC)(c.sV.PANEL_CLOSED),this.dispatchEvent((0,c.uv)(this.closeDialog))}maskTapped(){this.ignoreMaskTap||this.onCloseDialog()}_clickEvent(){this.tapDialog&&this.dispatchEvent((0,c.uv)(this.tapDialog))}getCancelText(e){return(0,l.L)(e)}_datePickerOpened(e){let t=e.detail.dateContainer,i=e.detail.datepicker,o=this.$.content;i.style.position="fixed";let r=t.getBoundingClientRect(),n=o.getBoundingClientRect();i.style.left=r.left-n.left+"px",i.style.top=r.top+r.height-this.$.header.getBoundingClientRect().top+1+"px"}_hideHeader(){this.$.header.setAttribute("hidden","true")}static get template(){return o.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style>${s}</style>

		<div device hidden$="[[!show]]">
			<div class="sbModalMask" hidden$="[[!modal]]" on-click="maskTapped"></div>
			<div id="sbDialog" class="sbDialog" on-click="_clickEvent">
				<header id="header" hidden$="[[largeViewEnabled]]">
					<template is="dom-if" if="[[!mobile]]">
						<i hidden$="[[hideCloseIcon]]" class="sf-icon-close" on-click="onCloseDialog"></i>
					</template>
					<template is="dom-if" if="[[mobile]]">
						<paper-button class="cancel" on-click="onCloseDialog" noink>[[getCancelText(cancelText)]]</paper-button>
					</template>

					<template is="dom-if" if="[[mobile]]">
						<paper-button id="drop-down-button" class="sf-icon-down hidden" on-click="toggleMenu"></paper-button>
						<div id="mobileButtons">
							<slot name="paper-button"></slot>
						</div>
					</template>

					<div id="icon" class="slotWrapper"><slot name="icon"></slot></div>
					<div id="title" class="slotWrapper"><slot name="title"></slot></div>
				</header>
				<div id="content">
					<slot name="content"></slot>
				</div>
				<footer id="footer">
					<template is="dom-if" if="[[!mobile]]">
						<slot name="paper-button"></slot>
						<div hidden$="[[hideCancelButton]]"><paper-button on-click="onCloseDialog" noink>[[getCancelText(cancelText)]]</paper-button></div>
					</template>
				</footer>
			</div>
		</div>
		`}}customElements.define(u.is,u)},9185:(e,t,i)=>{"use strict";var o=i(7734),r=i(571),n=i(1149);i(1306),i(4482);class s extends o.Pu{static get is(){return"sb-job-checker"}static get properties(){return{spinner:{type:Boolean,value:!1},useSpinner:{type:Boolean,value:!0},data:Object,status:String,result:{type:Object,notify:!0},error:{type:String,notify:!0},asyncNumList:{type:Array,value:[]},firstStatusTime:Number,lastStatusTime:Number}}static get observers(){return["_ping(data)"]}_useSpinner(){return this.spinner&&this.useSpinner}ready(){super.ready(),this.firstStatusTime=Date.now(),this.lastStatusTime=Date.now(),this._setLoadingSpinner(!1),this.$.service.addEventListener("response-changed",function(e){this._checkStatus(e)}.bind(this)),this.$.service.addEventListener("error-changed",function(e){this.error=e.detail.value,this._setLoadingSpinner(!1)}.bind(this))}_setLoadingSpinner(e){this.spinner=e,(0,r.yJ)("RootState","showSpinnerMessage",e),!1===e&&(0,r.IU)("RootState","spinnerStatus"),this.$.loadingSpinner.show=this._useSpinner()}_ping(e){this._setLoadingSpinner(!0),this.$.service.background=!0,this.$.service.model=void 0,this.$.service.model=e}_checkStatus(e){let t=e.detail.value;if(null!=t){let e=t.job.Id||t.jobId;if(this._setJobStatus(t.job.Status),this._isFinished())if(this._isFailure())this.error={message:t.job.ExtendedStatus},this._setLoadingSpinner(!1);else{if(null!=t.payload){this.result=t;for(let e=0;e<this.asyncNumList.length;e++)clearTimeout(this.asyncNumList[e])}this._getStatusMessages(),this._setLoadingSpinner(!1),null!=t.payload&&this.dispatchEvent((0,n.uv)("job-completed"))}else{this.lastStatusTime=Date.now(),this.data.jobId=e,this._getStatusMessages();let t=setTimeout((()=>{this._ping(this.data)}),1e3);this.asyncNumList.push(t)}}}_setJobStatus(e){this.status=e;let t=this._convertJobStatus(e);(0,r.yJ)("RootState","spinnerStatus",t)}_convertJobStatus(e){return{Queued:"Waiting",Holding:"Waiting",Aborted:"Cancelled"}[e]||e}_getStatusMessages(){let e=Date.now()-this.lastStatusTime;console.log("Record Id: "+this.data.recordId+" Job Type: "+this.data.jobType+" [Job Id: "+this.data.jobId+" - Status:"+this.status+"] Time : "+(this.lastStatusTime-this.firstStatusTime)+" [Wait Time: "+e+"]")}_isFailure(){return this.status&&("Aborted"==this.status||"Failed"==this.status)}_isFinished(){return this.status&&("Completed"==this.status||this._isFailure())}static get template(){return o.qy`
		<sb-loading-spinner id="loadingSpinner"></sb-loading-spinner>
		<sb-service id="service" saver="JobCheckerServiceProvider.GetJobStatus"></sb-service>
		`}}customElements.define(s.is,s)},9235:(e,t,i)=>{"use strict";i(1518);const o=i(2619).q`
				<dom-module id="sb-tables-styles">
					<template>
					  <style>
							/* global */
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
.table > tbody > tr > td {
  color: inherit;
}
.table {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  background-color: inherit;
}
.table td {
  height: var(--sbTableCellHeight);
}
.table > tbody > tr > td.center,
.table > thead > tr > th.center,
.table > tfoot > tr > td.center {
  text-align: center;
}
.table > thead > tr > th.right,
.table > tbody > tr > td.right,
.table > tfoot > tr > td.right {
  text-align: right;
}
.table a {
  color: inherit;
}
.table input,
.table select {
  font-size: inherit;
}
.table > thead > tr > th {
  border-bottom-width: var(--sbTableRowBorderBottomWidth);
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
  padding-top: var(--sbTableCellPaddingTop);
  padding-right: var(--sbTableCellPaddingRight);
  padding-bottom: var(--sbTableCellPaddingBottom);
  padding-left: var(--sbTableCellPaddingLeft);
  font-size: inherit;
  font-weight: normal;
  text-transform: uppercase;
  color: inherit;
  text-align: left;
  white-space: nowrap;
}
.table > thead > tr > th > .icon {
  margin-left: 4px;
  font-size: inherit;
}
.table > tbody > tr > td {
  border-bottom: var(--sbTableRowBorder);
  padding-top: var(--sbTableCellPaddingTop);
  padding-right: var(--sbTableCellPaddingLeftRight);
  padding-bottom: var(--sbTableCellPaddingBottom);
  color: inherit;
  font-size: inherit;
}
.table > tbody > tr:hover {
  background: var(--sbTableRowHoverColor);
}
.table > tfoot > tr > td {
  padding-top: var(--sbTableCellPaddingTop);
  padding-right: var(--sbTableCellPaddingRight);
  padding-bottom: var(--sbTableCellPaddingBottom);
  padding-left: var(--sbTableCellPaddingLeft);
  color: inherit;
  font-size: inherit;
}
.datatable {
  display: table;
  table-layout: fixed;
  width: 100%;
}
.datatable > .thead,
.datatable > .tbody,
.datatable > .tfoot,
.datatable .tr {
  width: 100%;
}
.datatable > .thead > .tr,
.datatable > .tbody > .tr,
.datatable > .tfoot > .tr {
  display: table-row;
}
.datatable > .thead > .tr > div,
.datatable > .tbody > .tr > div,
.datatable > .tfoot > .tr > div {
  border-bottom: var(--sbTableRowBorder);
  display: table-cell;
  height: var(--sbTableCellHeight);
  padding-top: var(--sbTableCellPaddingTop);
  padding-right: var(--sbTableCellPaddingLeftRight);
  padding-bottom: var(--sbTableCellPaddingBottom);
  vertical-align: middle;
  white-space: nowrap;
}
.datatable > .thead > .tr > div.truncate,
.datatable > .tbody > .tr > div.truncate,
.datatable > .tfoot > .tr > div.truncate {
  text-overflow: ellipsis;
  overflow: hidden;
  max-width: 500px;
}
.datatable > .thead > .tr > div.right,
.datatable > .tbody > .tr > div.right,
.datatable > .tfoot > .tr > div.right {
  text-align: right;
}
.datatable > .thead > .tr > div.center,
.datatable > .tbody > .tr > div.center,
.datatable > .tfoot > .tr > div.center {
  text-align: center;
}
.datatable > .thead > .tr > div.pic,
.datatable > .tbody > .tr > div.pic,
.datatable > .tfoot > .tr > div.pic {
  display: none;
}
.datatable > .thead {
  display: table-row-group;
  color: var(--sbTableHeaderColor);
  text-transform: uppercase;
  white-space: nowrap;
}
.datatable > .tbody {
  display: table-row-group;
}
.datatable > .tfoot {
  display: table-footer-group;
}
.tr {
  display: table-row;
}
.td,
.th {
  display: table-cell;
  height: var(--sbTableCellHeight);
  padding-top: var(--sbTableCellPaddingTop);
  padding-right: var(--sbTableCellPaddingRight);
  padding-bottom: var(--sbTableCellPaddingBottom);
  padding-left: var(--sbTableCellPaddingLeft);
  vertical-align: middle;
  white-space: nowrap;
}
.td.truncate,
.th.truncate {
  text-overflow: ellipsis;
  overflow: hidden;
  max-width: 500px;
}
.td.right,
.th.right {
  text-align: right;
}
.td.center,
.th.center {
  text-align: center;
}
.td.pic,
.th.pic {
  display: none;
}
.td {
  border-bottom-width: var(--sbTableRowBorderBottomWidth);
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
.th {
  border-bottom: var(--sb-table-header-border-bottom);
}
.innerTd,
.innerTh {
  display: table-cell;
  vertical-align: middle;
  white-space: initial;
}
.innerTd.truncate,
.innerTh.truncate {
  text-overflow: ellipsis;
  overflow: hidden;
  max-width: 500px;
}
.innerTd.right,
.innerTh.right {
  text-align: right;
}
.innerTd.center,
.innerTh.center {
  text-align: center;
}
.innerTd.pic,
.innerTh.pic {
  display: none;
}
.firstInnerTd.numericCell[class*='--desktop'],
.firstInnerTh.numericCell[class*='--desktop'] {
  text-align: left !important;
}
.lastInnerTd.numericCell[class*='--desktop'],
.lastInnerTh.numericCell[class*='--desktop'] {
  padding-right: 6px;
}
.numericCell[class*='--desktop'] {
  text-align: right;
}
.afterNumericCell[class*='--desktop'],
.checkboxCell[class*='--desktop'] {
  text-align: center;
}
.secondInnerTd.afterNumericCell[class*='--desktop'],
.secondInnerTh.afterNumericCell[class*='--desktop'] {
  text-align: left !important;
}
#tableContainer[class*='--desktop'] .datatable.leTable {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  background-color: inherit;
}
.leGroup[class*='--desktop'] {
  display: table;
  width: 100%;
  border-collapse: collapse;
}
.leTh[class*='--desktop'] {
  white-space: nowrap;
}
[class*='--desktop'] .firstInnerTd.numericCell,
[class*='--desktop'] .firstInnerTh.numericCell {
  text-align: left !important;
}
[class*='--desktop'] .lastInnerTd.numericCell,
[class*='--desktop'] .lastInnerTh.numericCell {
  padding-right: 6px;
}
[class*='--desktop'] .numericCell {
  text-align: right;
}
[class*='--desktop'] .afterNumericCell,
[class*='--desktop'] .checkboxCell {
  text-align: center;
}
[class*='--desktop'] .secondInnerTd.afterNumericCell,
[class*='--desktop'] .secondInnerTh.afterNumericCell {
  text-align: left !important;
}
[class*='--desktop'] #tableContainer .datatable.leTable {
  border-collapse: collapse;
  border-spacing: 0;
  width: 100%;
  background-color: inherit;
}
[class*='--desktop'] .leGroup {
  display: table;
  width: 100%;
  border-collapse: collapse;
}
[class*='--desktop'] .leTh {
  white-space: nowrap;
}
.tgroup {
  display: table;
  width: 100%;
  table-layout: fixed;
  border-bottom-style: var(--sb-table-row-border-bottom-style, 'solid');
  border-bottom-color: var(--sb-table-row-border-bottom-color, 'red');
  border-bottom-width: var(--sb-table-row-border-bottom-width, '1px');
  line-height: var(--sb-table-row-line-height);
  padding-top: var(--sb-table-row-padding-top);
  padding-bottom: var(--sb-table-row-padding-bottom);
}
.groupTr {
  background-color: var(--sbTableRowGroupedRowBgColor);
  line-height: var(--sbTableRowGroupedRowLineHeight);
}
sb-table-row[class*='--desktop']:hover:not(.groupTr) {
  background-color: var(--sbTableRowHoverColor);
}
sb-table-header[class*='--desktop']:hover,
sb-le-table-header[class*='--desktop']:hover {
  background-color: #ffffff;
}
[class*='--desktop'] sb-table-row:hover:not(.groupTr) {
  background-color: var(--sbTableRowHoverColor);
}
[class*='--desktop'] sb-table-header:hover,
[class*='--desktop'] sb-le-table-header:hover {
  background-color: #ffffff;
}
.groupExpandTd {
  cursor: pointer;
}
.groupTd {
  display: flex;
  position: relative;
}
.groupTd:after {
  position: relative;
  content: '\\e86b';
  font-family: 'sf-icons';
}
.groupTd.expanded:after {
  content: '\\e876';
}
.td[class*='--mobile'] {
  height: inherit;
}
.innerTd[class*='--mobile'] {
  display: inherit;
  overflow: auto;
  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
}
.primary[class*='--mobile'] {
  background-color: #f4f6f9;
  width: 100%;
  font-size: 1.1rem;
  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);
}
.primary.selected[class*='--mobile'] {
  background-color: #CFD7E6;
}
.primary.multi[class*='--mobile'] {
  padding-top: var(--primary-multi-padding-top, 0px);
  padding-bottom: 10px;
  margin-top: -10px;
  font-weight: normal;
  font-size: 0.9rem;
  order: 3;
}
.primary.first[class*='--mobile']:after {
  content: '\\e86b';
  position: absolute;
  left: var(--sb-tables-chevron-left, calc(100% - 30px));
  margin-top: var(--sb-tables-chevron-margin-top, -8px);
  font-family: 'sf-icons';
}
.primary.first.expanded[class*='--mobile']:after {
  content: '\\e876';
}
.secondary[class*='--mobile'] {
  display: none;
  padding-left: 25px;
  width: 100%;
}
.secondary.expanded[class*='--mobile'] {
  display: block;
}
.secondary.expanded.hiddenInMobile[class*='--mobile'] {
  display: none;
}
.innerTd[field-label][class*='--mobile']:before,
.detailField[field-label][class*='--mobile']:before {
  content: attr(field-label);
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
.td[class*='--mobile'] {
  border: none;
  padding: inherit;
  vertical-align: inherit;
  display: block;
}
.td.lineNumber[class*='--mobile'] {
  text-align: right;
}
.datatable[class*='--mobile'] {
  padding: 0px;
}
.datatable[class*='--mobile'] .thead,
.datatable[class*='--mobile'] sb-line-item-table-header,
.datatable[class*='--mobile'] sb-segmented-line-item-table-header,
.datatable[class*='--mobile'] .tfoot,
.datatable[class*='--mobile'] .lineCheckbox {
  display: none;
}
#selection[class*='--mobile'] {
  position: absolute;
}
.selection[class*='--mobile'] {
  padding: var(--selection-padding, 17px 0px 21px 25px);
  overflow: hidden;
}
.tgroup[class*='--mobile'] {
  box-sizing: border-box;
}
.datatable[class*='--mobile'] > tbody > tr > td {
  height: inherit;
  overflow: auto;
}
sb-option-cell[class*='--mobile'] {
  width: 100%;
}
sb-option-cell.primary[class*='--mobile'] {
  background-color: #FFF;
}
sb-option-cell.primary.selected[class*='--mobile'] {
  box-shadow: var(--sb-option-cell-box-shadow, none);
}
sb-option-cell.innerTd[class*='--mobile'] {
  padding-top: 15px;
  padding-bottom: 15px;
}
sb-option-cell.primary.first[class*='--mobile']:not(.initial):after {
  margin-top: -20px !important;
}
sb-option-cell.primary.first.initial[class*='--mobile']:after {
  margin-top: 0px !important;
}
sb-option-cell.primary.first[class*='--mobile'] {
  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);
  border-bottom: var(--sbOptionCellBorderBottom, none);
}
sb-option-cell.primary.first.expanded[class*='--mobile'] {
  border-bottom-width: var(--sbTableRowBorderBottomWidth);
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
sb-option-cell[class*='--mobile']:last-of-type {
  border-bottom: var(--sbOptionCellBorderBottom, none);
}
#instructions-text[class*='--mobile'] {
  font-style: normal;
}
sb-table-cell.primary.multi[class*='--mobile'],
sb-table-cell.secondary[class*='--mobile']:last-of-type {
  border-bottom-width: var(--sbTableRowBorderBottomWidth);
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
.--mobile0[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {
  background: green;
  border-bottom-width: 0px;
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
.--mobile1[class*='--mobile'] sb-table-cell.primary.multi:not(.expanded) {
  background: green;
  border-bottom-width: 0px;
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
sb-option-cell.innerTd[class*='--mobile'] {
  color: var(--upgrade-option-color, inherit);
}
sb-cse-table-cell[class*='--mobile'] {
  cursor: default;
}
sb-cse-table-cell.primary.first[class*='--mobile'] {
  display: flex;
  align-items: center;
  border-bottom: 1px solid #d8dde6;
  min-height: 45.2px;
}
sb-cse-table-cell.secondary.lastInnerTd.expanded[class*='--mobile'] {
  border-bottom: 1px solid #d8dde6;
}
.lookupItemTd[class*='--mobile'] {
  background-color: #f4f6f9;
  border-bottom: 1px solid #d8dde6;
  width: 100%;
  padding: 14px;
}
.selectedLookupItem[class*='--mobile'] {
  background-color: #CFD7E6;
}
sb-le-table-cell.expanded[class*='--mobile']:last-of-type {
  border-bottom: 1px solid #d8dde6;
}
[class*='--mobile'] .td {
  height: inherit;
}
[class*='--mobile'] .innerTd {
  display: inherit;
  overflow: auto;
  padding: var(--sbTableInnerTdPadding, 10px 10px 12px 55px);
  font-weight: 400;
  font-size: 1rem;
  color: #16325c;
}
[class*='--mobile'] .primary {
  background-color: #f4f6f9;
  width: 100%;
  font-size: 1.1rem;
  border-bottom: var(--sbTablePrimaryBorderBottom, inherit);
}
[class*='--mobile'] .primary.selected {
  background-color: #CFD7E6;
}
[class*='--mobile'] .primary.multi {
  padding-top: var(--primary-multi-padding-top, 0px);
  padding-bottom: 10px;
  margin-top: -10px;
  font-weight: normal;
  font-size: 0.9rem;
  order: 3;
}
[class*='--mobile'] .primary.first:after {
  content: '\\e86b';
  position: absolute;
  left: var(--sb-tables-chevron-left, calc(100% - 30px));
  margin-top: var(--sb-tables-chevron-margin-top, -8px);
  font-family: 'sf-icons';
}
[class*='--mobile'] .primary.first.expanded:after {
  content: '\\e876';
}
[class*='--mobile'] .secondary {
  display: none;
  padding-left: 25px;
  width: 100%;
}
[class*='--mobile'] .secondary.expanded {
  display: block;
}
[class*='--mobile'] .secondary.expanded.hiddenInMobile {
  display: none;
}
[class*='--mobile'] .innerTd[field-label]:before,
[class*='--mobile'] .detailField[field-label]:before {
  content: attr(field-label);
  text-transform: uppercase;
  font-weight: normal;
  font-style: normal;
  font-size: 0.95rem;
  color: #54698d;
}
[class*='--mobile'] .td {
  border: none;
  padding: inherit;
  vertical-align: inherit;
  display: block;
}
[class*='--mobile'] .td.lineNumber {
  text-align: right;
}
[class*='--mobile'] .datatable {
  padding: 0px;
}
[class*='--mobile'] .datatable .thead,
[class*='--mobile'] .datatable sb-line-item-table-header,
[class*='--mobile'] .datatable sb-segmented-line-item-table-header,
[class*='--mobile'] .datatable .tfoot,
[class*='--mobile'] .datatable .lineCheckbox {
  display: none;
}
[class*='--mobile'] #selection {
  position: absolute;
}
[class*='--mobile'] .selection {
  padding: var(--selection-padding, 17px 0px 21px 25px);
  overflow: hidden;
}
[class*='--mobile'] .tgroup {
  box-sizing: border-box;
}
[class*='--mobile'] .datatable > tbody > tr > td {
  height: inherit;
  overflow: auto;
}
[class*='--mobile'] sb-option-cell {
  width: 100%;
}
[class*='--mobile'] sb-option-cell.primary {
  background-color: #FFF;
}
[class*='--mobile'] sb-option-cell.primary.selected {
  box-shadow: var(--sb-option-cell-box-shadow, none);
}
[class*='--mobile'] sb-option-cell.innerTd {
  padding-top: 15px;
  padding-bottom: 15px;
}
[class*='--mobile'] sb-option-cell.primary.first:not(.initial):after {
  margin-top: -20px !important;
}
[class*='--mobile'] sb-option-cell.primary.first.initial:after {
  margin-top: 0px !important;
}
[class*='--mobile'] sb-option-cell.primary.first {
  border-top: var(--sbOptionCellBorderTop, 1px solid #d8dde6);
  border-bottom: var(--sbOptionCellBorderBottom, none);
}
[class*='--mobile'] sb-option-cell.primary.first.expanded {
  border-bottom-width: var(--sbTableRowBorderBottomWidth);
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
[class*='--mobile'] sb-option-cell:last-of-type {
  border-bottom: var(--sbOptionCellBorderBottom, none);
}
[class*='--mobile'] #instructions-text {
  font-style: normal;
}
[class*='--mobile'] sb-table-cell.primary.multi,
[class*='--mobile'] sb-table-cell.secondary:last-of-type {
  border-bottom-width: var(--sbTableRowBorderBottomWidth);
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
[class*='--mobile'] sb-table-cell.primary.multi[class*='--mobile']:not(.expanded) {
  background: green;
  border-bottom-width: 0px;
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
[class*='--mobile'] .--mobile1 sb-table-cell.primary.multi:not(.expanded) {
  background: green;
  border-bottom-width: 0px;
  border-bottom-style: var(--sbTableRowBorderBottomStyle);
  border-bottom-color: var(--sbTableRowBorderBottomColor);
}
[class*='--mobile'] sb-option-cell.innerTd {
  color: var(--upgrade-option-color, inherit);
}
[class*='--mobile'] sb-cse-table-cell {
  cursor: default;
}
[class*='--mobile'] sb-cse-table-cell.primary.first {
  display: flex;
  align-items: center;
  border-bottom: 1px solid #d8dde6;
  min-height: 45.2px;
}
[class*='--mobile'] sb-cse-table-cell.secondary.lastInnerTd.expanded {
  border-bottom: 1px solid #d8dde6;
}
[class*='--mobile'] .lookupItemTd {
  background-color: #f4f6f9;
  border-bottom: 1px solid #d8dde6;
  width: 100%;
  padding: 14px;
}
[class*='--mobile'] .selectedLookupItem {
  background-color: #CFD7E6;
}
[class*='--mobile'] sb-le-table-cell.expanded:last-of-type {
  border-bottom: 1px solid #d8dde6;
}

						</style>
					</template>
				</dom-module>`;o.setAttribute("style","display: none;"),document.head.appendChild(o.content)},9331:(e,t,i)=>{"use strict";i(1518),i(503);var o=i(35),r=i(7371),n=i(8383),s=i(816),a=i(5565),l=i(8221),d=i(7695),c=i(7212),u=i(197),h=i(2619),p=i(3080),f=(i(3900),navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/)),b=f&&f[1]>=8,g="-10000px",m=-100;(0,s.b)({_template:h.q`
    <style>
      :host {
        display: block;
      }

      @media only screen and (-webkit-max-device-pixel-ratio: 1) {
        :host {
          will-change: transform;
        }
      }

      #items {
        @apply --iron-list-items-container;
        position: relative;
      }

      :host(:not([grid])) #items > ::slotted(*) {
        width: 100%;
      }

      #items > ::slotted(*) {
        box-sizing: border-box;
        margin: 0;
        position: absolute;
        top: 0;
        will-change: transform;
      }
    </style>

    <array-selector id="selector" items="{{items}}" selected="{{selectedItems}}" selected-item="{{selectedItem}}"></array-selector>

    <div id="items">
      <slot></slot>
    </div>
`,is:"iron-list",properties:{items:{type:Array},as:{type:String,value:"item"},indexAs:{type:String,value:"index"},selectedAs:{type:String,value:"selected"},grid:{type:Boolean,value:!1,reflectToAttribute:!0,observer:"_gridChanged"},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1},scrollOffset:{type:Number,value:0}},observers:["_itemsChanged(items.*)","_selectionEnabledChanged(selectionEnabled)","_multiSelectionChanged(multiSelection)","_setOverflow(scrollTarget, scrollOffset)"],behaviors:[l.C,o.i,r.x,n.N],_ratio:.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_maxPages:2,_focusedItem:null,_focusedVirtualIndex:-1,_focusedPhysicalIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,_parentModel:!0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){return(this.grid?this._physicalRows*this._rowHeight:this._physicalSize)-this._viewportHeight},get _itemsParent(){return(0,a.tT)((0,a.tT)(this._userTemplate).parentNode)},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollOffset},get _maxVirtualStart(){var e=this._convertIndexToCompleteRow(this._virtualCount);return Math.max(0,e-this._physicalCount)},set _virtualStart(e){e=this._clamp(e,0,this._maxVirtualStart),this.grid&&(e-=e%this._itemsPerRow),this._virtualStartVal=e},get _virtualStart(){return this._virtualStartVal||0},set _physicalStart(e){(e%=this._physicalCount)<0&&(e=this._physicalCount+e),this.grid&&(e-=e%this._itemsPerRow),this._physicalStartVal=e},get _physicalStart(){return this._physicalStartVal||0},get _physicalEnd(){return(this._physicalStart+this._physicalCount-1)%this._physicalCount},set _physicalCount(e){this._physicalCountVal=e},get _physicalCount(){return this._physicalCountVal||0},get _optPhysicalSize(){return 0===this._viewportHeight?1/0:this._viewportHeight*this._maxPages},get _isVisible(){return Boolean(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){var e=this._firstVisibleIndexVal;if(null==e){var t=this._physicalTop+this._scrollOffset;e=this._iterateItems((function(e,i){return(t+=this._getPhysicalSizeIncrement(e))>this._scrollPosition?this.grid?i-i%this._itemsPerRow:i:this.grid&&this._virtualCount-1===i?i-i%this._itemsPerRow:void 0}))||0,this._firstVisibleIndexVal=e}return e},get lastVisibleIndex(){var e=this._lastVisibleIndexVal;if(null==e){if(this.grid)e=Math.min(this._virtualCount,this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1);else{var t=this._physicalTop+this._scrollOffset;this._iterateItems((function(i,o){t<this._scrollBottom&&(e=o),t+=this._getPhysicalSizeIncrement(i)}))}this._lastVisibleIndexVal=e}return e},get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},get _scrollOffset(){return this._scrollerPaddingTop+this.scrollOffset},ready:function(){this.addEventListener("focus",this._didFocus.bind(this),!0)},attached:function(){this._debounce("_render",this._render,d.G$),this.listen(this,"iron-resize","_resizeHandler"),this.listen(this,"keydown","_keydownHandler")},detached:function(){this.unlisten(this,"iron-resize","_resizeHandler"),this.unlisten(this,"keydown","_keydownHandler")},_setOverflow:function(e){this.style.webkitOverflowScrolling=e===this?"touch":"",this.style.overflowY=e===this?"auto":"",this._lastVisibleIndexVal=null,this._firstVisibleIndexVal=null,this._debounce("_render",this._render,d.G$)},updateViewportBoundaries:function(){var e=window.getComputedStyle(this);this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(e["padding-top"],10),this._isRTL=Boolean("rtl"===e.direction),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight,this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var e=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),t=e-this._scrollPosition,i=t>=0;if(this._scrollPosition=e,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(t)>this._physicalSize&&this._physicalSize>0){t-=this._scrollOffset;var o=Math.round(t/this._physicalAverage)*this._itemsPerRow;this._virtualStart=this._virtualStart+o,this._physicalStart=this._physicalStart+o,this._physicalTop=Math.min(Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage,this._scrollPosition),this._update()}else if(this._physicalCount>0){var r=this._getReusables(i);i?(this._physicalTop=r.physicalTop,this._virtualStart=this._virtualStart+r.indexes.length,this._physicalStart=this._physicalStart+r.indexes.length):(this._virtualStart=this._virtualStart-r.indexes.length,this._physicalStart=this._physicalStart-r.indexes.length),this._update(r.indexes,i?null:r.indexes),this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,0),d._3)}},_getReusables:function(e){var t,i,o,r=[],n=this._hiddenContentSize*this._ratio,s=this._virtualStart,a=this._virtualEnd,l=this._physicalCount,d=this._physicalTop+this._scrollOffset,c=this._physicalBottom+this._scrollOffset,u=this._scrollPosition,h=this._scrollBottom;for(e?(t=this._physicalStart,this._physicalEnd,i=u-d):(t=this._physicalEnd,this._physicalStart,i=c-h);i-=o=this._getPhysicalSizeIncrement(t),!(r.length>=l||i<=n);)if(e){if(a+r.length+1>=this._virtualCount)break;if(d+o>=u-this._scrollOffset)break;r.push(t),d+=o,t=(t+1)%l}else{if(s-r.length<=0)break;if(d+this._physicalSize-o<=h)break;r.push(t),d-=o,t=0===t?l-1:t-1}return{indexes:r,physicalTop:d-this._scrollOffset}},_update:function(e,t){if(!(e&&0===e.length||0===this._physicalCount)){if(this._manageFocus(),this._assignModels(e),this._updateMetrics(e),t)for(;t.length;){var i=t.pop();this._physicalTop-=this._getPhysicalSizeIncrement(i)}this._positionItems(),this._updateScrollerSize()}},_createPool:function(e){var t,i;this._ensureTemplatized();var o=new Array(e);for(t=0;t<e;t++)i=this.stamp(null),o[t]=i.root.querySelector("*"),this._itemsParent.appendChild(i.root);return o},_isClientFull:function(){return 0!=this._scrollBottom&&this._physicalBottom-1>=this._scrollBottom&&this._physicalTop<=this._scrollPosition},_increasePoolIfNeeded:function(e){var t=this._clamp(this._physicalCount+e,3,this._virtualCount-this._virtualStart);if(t=this._convertIndexToCompleteRow(t),this.grid){var i=t%this._itemsPerRow;i&&t-i<=this._physicalCount&&(t+=this._itemsPerRow),t-=i}var o=t-this._physicalCount,r=Math.round(.5*this._physicalCount);if(!(o<0)){if(o>0){var n=window.performance.now();[].push.apply(this._physicalItems,this._createPool(o));for(var s=0;s<o;s++)this._physicalSizes.push(0);this._physicalCount=this._physicalCount+o,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedVirtualIndex)&&this._getPhysicalIndex(this._focusedVirtualIndex)<this._physicalEnd&&(this._physicalStart=this._physicalStart+o),this._update(),this._templateCost=(window.performance.now()-n)/o,r=Math.round(.5*this._physicalCount)}this._virtualEnd>=this._virtualCount-1||0===r||(this._isClientFull()?this._physicalSize<this._optPhysicalSize&&this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,this._clamp(Math.round(50/this._templateCost),1,r)),d.g8):this._debounce("_increasePoolIfNeeded",this._increasePoolIfNeeded.bind(this,r),d._3))}},_render:function(){if(this.isAttached&&this._isVisible)if(0!==this._physicalCount){var e=this._getReusables(!0);this._physicalTop=e.physicalTop,this._virtualStart=this._virtualStart+e.indexes.length,this._physicalStart=this._physicalStart+e.indexes.length,this._update(e.indexes),this._update(),this._increasePoolIfNeeded(0)}else this._virtualCount>0&&(this.updateViewportBoundaries(),this._increasePoolIfNeeded(3))},_ensureTemplatized:function(){if(!this.ctor){this._userTemplate=this.queryEffectiveChildren("template"),this._userTemplate||console.warn("iron-list requires a template to be provided in light-dom");var e={__key__:!0};e[this.as]=!0,e[this.indexAs]=!0,e[this.selectedAs]=!0,e.tabIndex=!0,this._instanceProps=e,this.templatize(this._userTemplate,this.mutableData)}},_gridChanged:function(e,t){void 0!==t&&(this.notifyResize(),(0,u.b)(),e&&this._updateGridMetrics())},_itemsChanged:function(e){if("items"===e.path)this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollOffset&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounce("_render",this._render,d.G$);else if("items.splices"===e.path){if(this._adjustVirtualIndex(e.value.indexSplices),this._virtualCount=this.items?this.items.length:0,e.value.indexSplices.some((function(e){return e.addedCount>0||e.removed.length>0}))){var t=this._getActiveElement();this.contains(t)&&t.blur()}var i=e.value.indexSplices.some((function(e){return e.index+e.addedCount>=this._virtualStart&&e.index<=this._virtualEnd}),this);this._isClientFull()&&!i||this._debounce("_render",this._render,d.G$)}else"items.length"!==e.path&&this._forwardItemPath(e.path,e.value)},_forwardItemPath:function(e,t){var i,o,r,n=(e=e.slice(6)).indexOf(".");-1===n&&(n=e.length);var s=this.modelForElement(this._offscreenFocusedItem),a=parseInt(e.substring(0,n),10);(i=this._isIndexRendered(a))?(o=this._getPhysicalIndex(a),r=this.modelForElement(this._physicalItems[o])):s&&(r=s),r&&r[this.indexAs]===a&&(e=e.substring(n+1),e=this.as+(e?"."+e:""),r._setPendingPropertyOrPath(e,t,!1,!0),r._flushProperties&&r._flushProperties(),i&&(this._updateMetrics([o]),this._positionItems(),this._updateScrollerSize()))},_adjustVirtualIndex:function(e){e.forEach((function(e){if(e.removed.forEach(this._removeItem,this),e.index<this._virtualStart){var t=Math.max(e.addedCount-e.removed.length,e.index-this._virtualStart);this._virtualStart=this._virtualStart+t,this._focusedVirtualIndex>=0&&(this._focusedVirtualIndex=this._focusedVirtualIndex+t)}}),this)},_removeItem:function(e){this.$.selector.deselect(e),this._focusedItem&&this.modelForElement(this._focusedItem)[this.as]===e&&this._removeFocusedItem()},_iterateItems:function(e,t){var i,o,r,n;if(2===arguments.length&&t){for(n=0;n<t.length;n++)if(i=t[n],o=this._computeVidx(i),null!=(r=e.call(this,i,o)))return r}else{for(i=this._physicalStart,o=this._virtualStart;i<this._physicalCount;i++,o++)if(null!=(r=e.call(this,i,o)))return r;for(i=0;i<this._physicalStart;i++,o++)if(null!=(r=e.call(this,i,o)))return r}},_computeVidx:function(e){return e>=this._physicalStart?this._virtualStart+(e-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+e},_assignModels:function(e){this._iterateItems((function(e,t){var i=this._physicalItems[e],o=this.items&&this.items[t];if(null!=o){var r=this.modelForElement(i);r.__key__=null,this._forwardProperty(r,this.as,o),this._forwardProperty(r,this.selectedAs,this.$.selector.isSelected(o)),this._forwardProperty(r,this.indexAs,t),this._forwardProperty(r,"tabIndex",this._focusedVirtualIndex===t?0:-1),this._physicalIndexForKey[r.__key__]=e,r._flushProperties&&r._flushProperties(!0),i.removeAttribute("hidden")}else i.setAttribute("hidden","")}),e)},_updateMetrics:function(e){(0,u.b)();var t=0,i=0,o=this._physicalAverageCount,r=this._physicalAverage;this._iterateItems((function(e,o){i+=this._physicalSizes[e],this._physicalSizes[e]=this._physicalItems[e].offsetHeight,t+=this._physicalSizes[e],this._physicalAverageCount+=this._physicalSizes[e]?1:0}),e),this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):(i=1===this._itemsPerRow?i:Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight,this._physicalSize=this._physicalSize+t-i,this._itemsPerRow=1),this._physicalAverageCount!==o&&(this._physicalAverage=Math.round((r*o+t)/this._physicalAverageCount))},_updateGridMetrics:function(){this._itemWidth=this._physicalCount>0?this._physicalItems[0].getBoundingClientRect().width:200,this._rowHeight=this._physicalCount>0?this._physicalItems[0].offsetHeight:200,this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var e=this._physicalTop;if(this.grid){var t=this._itemsPerRow*this._itemWidth,i=(this._viewportWidth-t)/2;this._iterateItems((function(t,o){var r=o%this._itemsPerRow,n=Math.floor(r*this._itemWidth+i);this._isRTL&&(n*=-1),this.translate3d(n+"px",e+"px",0,this._physicalItems[t]),this._shouldRenderNextRow(o)&&(e+=this._rowHeight)}))}else{const t=[];this._iterateItems((function(i,o){const r=this._physicalItems[i];this.translate3d(0,e+"px",0,r),e+=this._physicalSizes[i];const n=r.id;n&&t.push(n)})),t.length&&this.setAttribute("aria-owns",t.join(" "))}},_getPhysicalSizeIncrement:function(e){return this.grid?this._computeVidx(e)%this._itemsPerRow!=this._itemsPerRow-1?0:this._rowHeight:this._physicalSizes[e]},_shouldRenderNextRow:function(e){return e%this._itemsPerRow==this._itemsPerRow-1},_adjustScrollPosition:function(){var e=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);if(0!==e){this._physicalTop=this._physicalTop-e;var t=this._scrollPosition;!b&&t>0&&this._resetScrollPosition(t-e)}},_resetScrollPosition:function(e){this.scrollTarget&&e>=0&&(this._scrollTop=e,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(e){this.grid?this._estScrollHeight=this._virtualRowCount*this._rowHeight:this._estScrollHeight=this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,((e=(e=(e=e||0===this._scrollHeight)||this._scrollPosition>=this._estScrollHeight-this._physicalSize)||this.grid&&this.$.items.style.height<this._estScrollHeight)||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._viewportHeight)&&(this.$.items.style.height=this._estScrollHeight+"px",this._scrollHeight=this._estScrollHeight)},scrollToItem:function(e){return this.scrollToIndex(this.items.indexOf(e))},scrollToIndex:function(e){if(!("number"!=typeof e||e<0||e>this.items.length-1)&&((0,u.b)(),0!==this._physicalCount)){e=this._clamp(e,0,this._virtualCount-1),(!this._isIndexRendered(e)||e>=this._maxVirtualStart)&&(this._virtualStart=this.grid?e-2*this._itemsPerRow:e-1),this._manageFocus(),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var t=this._physicalStart,i=this._virtualStart,o=0,r=this._hiddenContentSize;i<e&&o<=r;)o+=this._getPhysicalSizeIncrement(t),t=(t+1)%this._physicalCount,i++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollOffset+o),this._increasePoolIfNeeded(0),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounce("_render",(function(){this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._isVisible?(this.updateViewportBoundaries(),this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1)}),d.G$)},selectItem:function(e){return this.selectIndex(this.items.indexOf(e))},selectIndex:function(e){if(!(e<0||e>=this._virtualCount)){if(!this.multiSelection&&this.selectedItem&&this.clearSelection(),this._isIndexRendered(e)){var t=this.modelForElement(this._physicalItems[this._getPhysicalIndex(e)]);t&&(t[this.selectedAs]=!0),this.updateSizeForIndex(e)}this.$.selector.selectIndex(e)}},deselectItem:function(e){return this.deselectIndex(this.items.indexOf(e))},deselectIndex:function(e){if(!(e<0||e>=this._virtualCount)){if(this._isIndexRendered(e))this.modelForElement(this._physicalItems[this._getPhysicalIndex(e)])[this.selectedAs]=!1,this.updateSizeForIndex(e);this.$.selector.deselectIndex(e)}},toggleSelectionForItem:function(e){return this.toggleSelectionForIndex(this.items.indexOf(e))},toggleSelectionForIndex:function(e){(this.$.selector.isIndexSelected?this.$.selector.isIndexSelected(e):this.$.selector.isSelected(this.items[e]))?this.deselectIndex(e):this.selectIndex(e)},clearSelection:function(){this._iterateItems((function(e,t){this.modelForElement(this._physicalItems[e])[this.selectedAs]=!1})),this.$.selector.clearSelection()},_selectionEnabledChanged:function(e){(e?this.listen:this.unlisten).call(this,this,"tap","_selectionHandler")},_selectionHandler:function(e){var t=this.modelForElement(e.target);if(t){var i,o,r=(0,a.tT)(e).path[0],n=this._getActiveElement(),s=this._physicalItems[this._getPhysicalIndex(t[this.indexAs])];"input"!==r.localName&&"button"!==r.localName&&"select"!==r.localName&&(i=t.tabIndex,t.tabIndex=m,o=n?n.tabIndex:-1,t.tabIndex=i,n&&s!==n&&s.contains(n)&&o!==m||this.toggleSelectionForItem(t[this.as]))}},_multiSelectionChanged:function(e){this.clearSelection(),this.$.selector.multi=e},updateSizeForItem:function(e){return this.updateSizeForIndex(this.items.indexOf(e))},updateSizeForIndex:function(e){return this._isIndexRendered(e)?(this._updateMetrics([this._getPhysicalIndex(e)]),this._positionItems(),null):null},_manageFocus:function(){var e=this._focusedVirtualIndex;e>=0&&e<this._virtualCount?this._isIndexRendered(e)?this._restoreFocusedItem():this._createFocusBackfillItem():this._virtualCount>0&&this._physicalCount>0&&(this._focusedPhysicalIndex=this._physicalStart,this._focusedVirtualIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_convertIndexToCompleteRow:function(e){return this._itemsPerRow=this._itemsPerRow||1,this.grid?Math.ceil(e/this._itemsPerRow)*this._itemsPerRow:e},_isIndexRendered:function(e){return e>=this._virtualStart&&e<=this._virtualEnd},_isIndexVisible:function(e){return e>=this.firstVisibleIndex&&e<=this.lastVisibleIndex},_getPhysicalIndex:function(e){return(this._physicalStart+(e-this._virtualStart))%this._physicalCount},focusItem:function(e){this._focusPhysicalItem(e)},_focusPhysicalItem:function(e){if(!(e<0||e>=this._virtualCount)){this._restoreFocusedItem(),this._isIndexRendered(e)||this.scrollToIndex(e);var t,i=this._physicalItems[this._getPhysicalIndex(e)],o=this.modelForElement(i);o.tabIndex=m,i.tabIndex===m&&(t=i),t||(t=(0,a.tT)(i).querySelector('[tabindex="-100"]')),o.tabIndex=0,this._focusedVirtualIndex=e,t&&t.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&this._itemsParent.removeChild(this._offscreenFocusedItem),this._offscreenFocusedItem=null,this._focusBackfillItem=null,this._focusedItem=null,this._focusedVirtualIndex=-1,this._focusedPhysicalIndex=-1},_createFocusBackfillItem:function(){var e=this._focusedPhysicalIndex;if(!(this._offscreenFocusedItem||this._focusedVirtualIndex<0)){if(!this._focusBackfillItem){var t=this.stamp(null);this._focusBackfillItem=t.root.querySelector("*"),this._itemsParent.appendChild(t.root)}this._offscreenFocusedItem=this._physicalItems[e],this.modelForElement(this._offscreenFocusedItem).tabIndex=0,this._physicalItems[e]=this._focusBackfillItem,this._focusedPhysicalIndex=e,this.translate3d(0,g,0,this._offscreenFocusedItem)}},_restoreFocusedItem:function(){if(this._offscreenFocusedItem&&!(this._focusedVirtualIndex<0)){this._assignModels();var e=this._focusedPhysicalIndex=this._getPhysicalIndex(this._focusedVirtualIndex),t=this._physicalItems[e];if(t){var i=this.modelForElement(t),o=this.modelForElement(this._offscreenFocusedItem);i[this.as]===o[this.as]?(this._focusBackfillItem=t,i.tabIndex=-1,this._physicalItems[e]=this._offscreenFocusedItem,this.translate3d(0,g,0,this._focusBackfillItem)):(this._removeFocusedItem(),this._focusBackfillItem=null),this._offscreenFocusedItem=null}}},_didFocus:function(e){var t=this.modelForElement(e.target),i=this.modelForElement(this._focusedItem),o=null!==this._offscreenFocusedItem,r=this._focusedVirtualIndex;t&&(i===t?this._isIndexVisible(r)||this.scrollToIndex(r):(this._restoreFocusedItem(),i&&(i.tabIndex=-1),t.tabIndex=0,r=t[this.indexAs],this._focusedVirtualIndex=r,this._focusedPhysicalIndex=this._getPhysicalIndex(r),this._focusedItem=this._physicalItems[this._focusedPhysicalIndex],o&&!this._offscreenFocusedItem&&this._update()))},_keydownHandler:function(e){switch(e.keyCode){case 40:this._focusedVirtualIndex<this._virtualCount-1&&e.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex+(this.grid?this._itemsPerRow:1));break;case 39:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?-1:1));break;case 38:this._focusedVirtualIndex>0&&e.preventDefault(),this._focusPhysicalItem(this._focusedVirtualIndex-(this.grid?this._itemsPerRow:1));break;case 37:this.grid&&this._focusPhysicalItem(this._focusedVirtualIndex+(this._isRTL?1:-1));break;case 13:this._focusPhysicalItem(this._focusedVirtualIndex),this.selectionEnabled&&this._selectionHandler(e)}},_clamp:function(e,t,i){return Math.min(i,Math.max(t,e))},_debounce:function(e,t,i){this._debouncers=this._debouncers||{},this._debouncers[e]=c.aq.debounce(this._debouncers[e],i,t.bind(this)),(0,u.O)(this._debouncers[e])},_forwardProperty:function(e,t,i){e._setPendingProperty(t,i)},_forwardHostPropV2:function(e,t){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach((function(i){i&&this.modelForElement(i).forwardHostProp(e,t)}),this)},_notifyInstancePropV2:function(e,t,i){if((0,p.cK)(this.as,t)){var o=e[this.indexAs];t==this.as&&(this.items[o]=i),this.notifyPath((0,p.Tl)(this.as,"items."+o,t),i)}},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(e,t,i){0===t.indexOf(this.as+".")&&this.notifyPath("items."+e.__key__+"."+t.slice(this.as.length+1),i)},_forwardParentPath:function(e,t){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach((function(i){i&&this.modelForElement(i).notifyPath(e,t)}),this)},_forwardParentProp:function(e,t){(this._physicalItems||[]).concat([this._offscreenFocusedItem,this._focusBackfillItem]).forEach((function(i){i&&(this.modelForElement(i)[e]=t)}),this)},_getActiveElement:function(){var e=this._itemsParent.node.domHost;return(0,a.tT)(e?e.root:document).activeElement}})},9334:(e,t,i)=>{"use strict";var o=i(7734),r=(i(7543),i(347),i(9866)),n=(i(1771),i(197)),s=i(7212),a=i(7695),l=i(4886),d=i(2430);i(4167),i(57),i(4);const c=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  white-space: nowrap;
}
:host .leftSearch {
  padding-left: 40px !important;
}
:host .cancelIcon {
  padding-right: 40px !important;
}
:host .leftSearchIcon {
  margin: 9px 0px 9px 15px;
  position: absolute;
  z-index: 1;
  color: var(--sbIconColor);
}
:host .leftSearchIcon:hover {
  color: var(--sbIconHoverColor);
}
:host input {
  border-width: var(--sbTextboxBorderWidth);
  border-style: var(--sbTextboxBorderStyle);
  border-color: var(--sbTextboxBorderColor);
  width: var(--sidePanelInputWidth, 125px);
  height: var(--sidePanelInputHeight, initial);
  position: relative;
  font-size: var(--sbTypeaheadInputFontSize);
  border-top-left-radius: var(--sbTypeaheadInputBorderRadius);
  border-top-right-radius: var(--sbTypeaheadInputBorderRadius);
}
:host input:focus {
  border: 1px solid #1589EE;
  z-index: var(--zIndex, 902);
}
:host input[invalid] {
  border: 1px solid #a94442;
}
:host .sb-icon-clear,
:host .sb-icon-search {
  position: relative;
  left: -30px;
  top: 1px;
  cursor: pointer;
  color: #9faab5;
  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
}
:host .sb-icon-clear.hide,
:host .sb-icon-search.hide {
  visibility: hidden;
}
:host iron-input {
  width: var(--ironInputWidth);
}
:host iron-input[class*='--mobile'] {
  width: var(--sbTypeaheadIronInputWidthMobile, 95%);
}
:host #itemLabel[class*='--mobile'] {
  width: var(--sbTypeaheadInputWidthMobile, 100%);
  margin: var(--sbTypeaheadInputMarginMobile);
  height: var(--sbTypeaheadInputHeightMobile, 41px);
  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);
  border-bottom-left-radius: var(--sbTextboxRadius);
  border-bottom-right-radius: var(--sbTextboxRadius);
  border: 1px solid #d8dde6 !important;
}
:host #itemLabel[class*='--mobile']::-webkit-input-placeholder {
  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);
}
:host [class*='--mobile'] iron-input {
  width: var(--sbTypeaheadIronInputWidthMobile, 95%);
}
:host [class*='--mobile'] #itemLabel {
  width: var(--sbTypeaheadInputWidthMobile, 100%);
  margin: var(--sbTypeaheadInputMarginMobile);
  height: var(--sbTypeaheadInputHeightMobile, 41px);
  font-size: var(--sbTypeaheadInputFontSizeMobile, 1rem);
  border-bottom-left-radius: var(--sbTextboxRadius);
  border-bottom-right-radius: var(--sbTextboxRadius);
  border: 1px solid #d8dde6 !important;
}
:host [class*='--mobile'] #itemLabel::-webkit-input-placeholder {
  font-size: var(--sbTypeaheadInputPlaceholderFontSizeMobile);
}
#mask {
  position: fixed;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  z-index: 900;
}
#cancel,
#selector {
  z-index: 1;
}
#selector {
  top: var(--sbTypeaheadSelectorTop);
  left: var(--sbTypeaheadSelectorLeft, inherit);
  text-align: left;
  position: absolute;
  background: #fff;
  border: 1px solid #ccc;
  border-radius: var(--sbTypeaheadSelectorBorderRadius, 3px) var(--sbTypeaheadSelectorBorderRadius, 3px) 3px 3px;
  white-space: nowrap;
  min-width: var(--sbTypeaheadSelectorMinWidth, var(--sidePanelInputWidth, 125px));
  padding: var(--sbTypeaheadSelectorPadding);
  z-index: 100;
  width: var(--sbTypeaheadSelectorWidth);
}
#selector > div {
  padding: var(--sbTypeaheadSelectorItemPadding, 8px 15px 8px 8px);
  line-height: 1.2;
}
#selector > div > .small {
  color: #54698d;
  font-size: 0.75rem;
}
#selector > div:hover,
#selector > div[selected] {
  background: #d0d0d0;
}
#cancel {
  color: var(--sbIconColor);
  width: 20px;
  height: 20px;
  cursor: pointer;
  margin-top: -1px;
}
#cancel:hover {
  color: var(--sbIconHoverColor);
}
.option {
  cursor: pointer;
  text-align: left;
}
.option.search:before {
  content: '\\e87f';
  font-family: 'sf-icons';
  padding-right: 5px;
}
#itemLabel::-webkit-input-placeholder {
  /* Chrome/Opera/Safari */
  font-size: 0.8125rem;
}
#itemLabel::-moz-placeholder {
  /* Firefox 19+ */
  font-size: 0.8125rem;
}
#itemLabel:-ms-input-placeholder {
  /* IE 10+ */
  font-size: 0.8125rem;
}
#itemLabel:-moz-placeholder {
  /* Firefox 18- */
  font-size: 0.8125rem;
}
iron-input.inlineEdit {
  width: 100%;
  height: 100%;
}
iron-input.inlineEdit input {
  height: 100%;
  width: 100%;
  border-radius: 0.25rem;
  border: 1px solid #0070d2 !important;
}
iron-input.inlineEdit input:focus {
  outline: none;
}
iron-input.dialog input {
  height: 2.25em;
}
iron-input.dialog input[class*='--desktop'] {
  min-width: 40em;
}
[class*='--desktop'] iron-input.dialog input {
  min-width: 40em;
}
`;var u=i(6206),h=i(3311),p=i(1149),f=i(6640);function b(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function g(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m=new RegExp("[*_%]+","g");class y extends((0,d.z)((0,r.b)((0,l.$)(o.Pu)))){static get is(){return"sb-typeahead"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?b(Object(i),!0).forEach((function(t){g(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):b(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({items:{type:Array,value:[]},itemsCallback:{type:Object},debounceDelay:{type:Number,value:300},selectedItem:{type:Object,notify:!0},itemsList:{type:Array,observer:"itemsListChanged",notify:!0},labels:{type:Array,value:function(){return this.getAttribute("labels")||["label"]}},labelValue:{type:String,notify:!0},value:{type:String},delimiter:{type:String,value:function(){return this.getAttribute("delimiter")||""}},savedLabelValue:{type:String},invalidLabel:{type:Boolean,value:!1},hasList:{type:Boolean,value:!1,observer:"_calculateListPosition"},hasLabel:{type:Boolean,value:!1},hasFilter:Boolean,optionIndex:{type:Number,value:-1},focusOnAttached:Boolean,hideCancelIcon:{type:Boolean,value:!1},clearAfterSelection:{type:Boolean,value:!1},blurDisabled:{type:Boolean,value:!1},focusDisabled:{type:Boolean,value:!1},revertOnEscape:{type:Boolean,value:!1},showSearchIcon:{type:Boolean,value:!1},calculateListPosition:{type:Boolean,value:!1},showListNoSuggestion:{type:Boolean,value:!1},showListOnFocus:{type:Boolean,value:!1},hideInput:{type:Boolean,value:!1},showLeftSearchIcon:{type:Boolean},disjointLabel:Boolean,showAllResults:{type:Boolean,value:!1}},d.z.properties)}static get observers(){return["_itemsChangedObserver(items, labels)","_setStylesObserver(showLeftSearchIcon, hideCancelIcon)"]}ready(){super.ready(),this.$.itemLabel.addEventListener("focus",this._directInputFocus.bind(this)),this.$.itemLabel.addEventListener("blur",this._directInputBlur.bind(this))}connectedCallback(){super.connectedCallback(),this.isAttached=!0,this.focusOnAttached&&this.focus()}_setStylesObserver(e,t){if(void 0!==e&&void 0!==t)return this.setStyles(e,t)}setStyles(){this.showLeftSearchIcon&&(0,u.p1)("leftSearch",!0,this.$.itemLabel),this.hideCancelIcon||(0,u.p1)("cancelIcon",!0,this.$.itemLabel)}_itemsChangedObserver(e,t){if(void 0!==e&&void 0!==t)return this.itemsChanged(e,t)}itemsChanged(){this.items.length&&(this.itemsList=this.updateItemsList())}setSelectedItem(e){this.selectedItem=e,this.clearSuggestionsDropdown()}clearSuggestionsDropdown(){if(this.selectedItem){let e=this.selectedItem.__md__,t=!!e&&e.clearAfterSelection;this.labelValue=this.getSelectedItemValue(this.selectedItem),(this.clearAfterSelection||t)&&(this.setSelectedItem(""),this.items=this.itemsList=[]),this.originalSelected||(this.originalSelected=JSON.parse(JSON.stringify(this.selectedItem)))}}itemsListChanged(){(0,n.b)();let e=this.$.selector.querySelectorAll(".option");if(!e)return;let t=e.length,i=this.labels.length;if(t>0){this.optionIndex=-1;for(let o=0;o<t;o++){let t=this.itemsList[o],r="";for(let e=0;e<i;e++){let i=this.labels[e];r+=(0===e?"":this.delimiter)+t[i]}e[o].innerHTML=f.E.sanitizeHtmlText(r),e[o].setAttribute("data-label",r)}}}getSelectedItemValue(e){const t=this.value?this.value:"value";return e?e[t]:""}clear(){this.hide(),this.updateItem({},!0),this.dispatchEvent((0,p.uv)("sb-type-clear"))}hide(){this.hideList(),this.invalidLabel=!1,this.optionIndex=-1}cloneItem(e){let t={},i=Object.keys(e),o=i.length;for(let r=0;r<o;r++){let o=i[r];t[o]=e[o]}return t}updateItem(e,t){let i=Object.keys(e),o=i.length,r={};for(let t=0;t<o;t++){let o=i[t];r[o]=void 0!==e[o]?e[o]:""}this.setSelectedItem(r);let n="",s=this.labels.length;for(let e=0;e<s;e++){let t=0===e?"":this.delimiter,i=this.selectedItem[this.labels[e]];i&&(n+=t+i)}let a=this.selectedItem.__md__;this.disjointLabel||(this.labelValue=a&&!a.clearAfterSelection&&void 0!==a.searchValue?a.searchValue:n),this.clearSelection(),this.focusOrBlurAfterSelection(this.selectedItem,t)}submitItem(e){let t=e.model.item;this.updateItem(t),this.hide(),this.focusOrBlurAfterSelection(t)}focusOrBlurAfterSelection(e,t){e&&e.__md__&&e.__md__.noFocusAfterSelection?this.$.itemLabel.blur():this.focus(t)}selectAdjacentItem(e){if(!this.itemsList)return;let t=this.itemsList.length;this.optionIndex>=0&&this.optionIndex<t?(this.$.selector.children[this.optionIndex].removeAttribute("selected"),38===e?this.optionIndex=0===this.optionIndex?t-1:this.optionIndex-1:40===e&&(this.optionIndex=this.optionIndex===t-1?0:this.optionIndex+1)):-1===this.optionIndex&&(38===e?this.optionIndex=t-1:40===e&&(this.optionIndex=0)),this.$.selector.children[this.optionIndex].setAttribute("selected","")}updateItemsList(){if(this.searchLabels||(this.searchLabels=this.labels),!0===this.showAllResults)return this.items;let e=[],t=!1;if(this.showListNoSuggestion||this.labelValue){let i=(this.labelValue||"").replace(/\+/g,"\\+").replace(/\\/g,"\\\\").replace(m,".+"),o=new RegExp(i,"i"),r=this.items.length,n=this.searchLabels.length;for(let i=0;i<r;i++){let r=this.items[i],s=this.cloneItem(r);for(let e=0;e<n;e++){let i=r[this.searchLabels[e]];if(i&&(this.showListNoSuggestion||o.test(i))){s["_"+this.searchLabels[e]]=i.replace(o,'<span style="font-weight:bold;">$&</span>'),t=!0}}if(t){let i=!0;for(let e of this.labels)s[e]||(i=!1);i&&e.push(s),t=!1}if(e.length>=10)break}}return e}suggest(e){if(this.isAttached)switch(e.keyCode){case 13:if(this.$.itemLabel.blur(),this.hasList){if(-1===this.optionIndex){this.dispatchEvent((0,p.uv)("enter-without-selection",{value:this.labelValue})),this.hideList(),this.optionIndex=0;break}this.updateItem(this.itemsList[this.optionIndex]),this.noBlur=!1}else this.dispatchEvent((0,p.uv)("enter-without-selection",{value:this.labelValue}));this.hide();break;case 27:this.revertOnEscape&&(this.updateItem(this.originalSelected),this.items=void 0,this.hideList(),this.clearSelection(),this.dispatchEvent((0,p.uv)("sb-type-blur")));break;case 38:case 40:this.selectAdjacentItem(e.keyCode);break;case 9:case 16:break;default:this.invalidLabel=!1,this.itemsCallback?this._itemsCallbackDebouncer=s.aq.debounce(this._itemsCallbackDebouncer,a.EV.after(this.debounceDelay),(()=>{this.itemsCallback(this.labelValue).then((e=>{e&&e.length>0?this.showList():this.hideList(),this.items=e}),(e=>{console.error(e&&e.message?e.message:e),this.items=[]}))})):(this.showList(),this.itemsList=this.updateItemsList(),0===this.itemsList.length&&(this.labelValue?this.invalidLabel=!0:this.hasLabel=!1,this.hasList=!1))}}showList(){this.blurred?this.hideList():(this.showListNoSuggestion||null!=this.labelValue&&""!==this.labelValue)&&(this.hasList=!0,this.hasLabel=!0)}hideList(){this.hasList=!1,this.hasLabel=!1}clearSelection(){let e=this.$.selector.querySelectorAll(".option");for(let t of e)t.hasAttribute("selected")&&t.toggleAttribute("selected")}tabBlur(e){9===e.keyCode&&(this.hasList=!1),38===e.keyCode&&e.preventDefault(),13===e.keyCode&&this.hasList&&this.preventBlur(),27!==e.keyCode||this.revertOnEscape||setTimeout(function(e){this.labelValue=e}.bind(this,this.labelValue),0)}focus(e){this.focusDisabled||(this.focusing=!0,this.$.itemLabel.focus(),this._showListOnFocus(e),this.focusing=!1)}blur(e,t){(t||!this.hasList&&!this.blurDisabled)&&(this.hideList(),this.dispatchEvent((0,p.uv)("sb-type-blur")),this.setOriginalSelected())}setOriginalSelected(){this.originalSelected=JSON.parse(JSON.stringify(this.selectedItem||{}))}preventBlur(){this.noBlur=!0}allowBlur(){this.noBlur=!1}focused(){this.dispatchEvent((0,p.uv)("sb-type-focus",{value:this.labelValue}))}_calculateListPosition(){if(this.calculateListPosition&&this.hasList){let e=h.L.getContainer().getBoundingClientRect().left,t=this.$.itemLabel.getBoundingClientRect().left;this.$.selector.style.left=t-e+"px"}}_showListOnFocus(e){!this.showListOnFocus||this.hideInput||this.hasList||(e||!this.items||0===this.items.length||this.hasFilter?this.suggest({}):this.showList())}_directInputFocus(){this.blurred=!1,this.focusing||this._showListOnFocus()}_directInputBlur(){this.blurred=!0,this.blur(null,!this.noBlur)}_getInputVariant(){return this.hideInput?"hidden":this.variant}static get template(){return o.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-forms-styles"></style>
		<style>${c}</style>
		<style include="sb-icons-styles"></style>

		<span device>
		<template is="dom-if" if="[[showLeftSearchIcon]]">
			<i class="icon leftSearchIcon sf-icon-search"></i>
		</template>
		<iron-input device bind-value="{{labelValue}}" class$="[[_getInputVariant(hideInput)]]">
			<input id="itemLabel" autocomplete="off" type="text" value="{{labelValue::input}}" on-keyup="suggest" on-keydown="tabBlur" invalid$="{{invalidLabel}}" on-blur="blur" disabled$="[[disabled]]" placeholder="[[placeholder]]" hidden$="[[hideInput]]" on-focus="focused"/>
		</iron-input>
		<input id="itemValue" type="hidden" value="[[labelValue]]">
		<template is="dom-if" if="[[!hideCancelIcon]]">
			<span id="cancel" class="sb-icon-clear sf-icon-clear" on-click="clear"></span>
		</template>
		<template is="dom-if" if="[[showSearchIcon]]">
			<span id="search" class="sb-icon-search sf-icon-search"></span>
		</template>

		<div id="selector" hidden$="{{!hasList}}" on-down="preventBlur" on-up="allowBlur">
			<template is="dom-repeat" items="{{itemsList}}" as="item">
				<div class$="option [[item.__md__.class]]" on-click="submitItem"></div>
			</template>
		</div>
		</span>
		`}}customElements.define(y.is,y)},9406:(e,t,i)=>{"use strict";i.d(t,{k:()=>r});var o=i(2573);class r{constructor(e){this.pretty=e,this.data={},this.formatterOptions={stripValues:new Set(["fieldVisibility","fieldEditability"])}}addQuote(e,t,i){return this.addObject(e,t,!0,i,!1)}addObject(e,t,i,r,n){return this.data[e]=null!=t?new o.z(i,r,this.pretty,this.formatterOptions).format(t,n):t,this}addInt(e,t){try{return t=parseInt(t),isNaN(t)||(this.data[e]=t),this}catch(e){return this}}add(e,t){return this.data[e]=t,this}build(){return this.data}}},9539:(e,t,i)=>{"use strict";i.d(t,{k:()=>d});i(8443);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/function o(e,t,i){return{index:e,removed:t,addedCount:i}}const r=0,n=1,s=2,a=3;function l(e,t,i,l,d,u){let h,p=0,f=0,b=Math.min(i-t,u-d);if(0==t&&0==d&&(p=function(e,t,i){for(let o=0;o<i;o++)if(!c(e[o],t[o]))return o;return i}(e,l,b)),i==e.length&&u==l.length&&(f=function(e,t,i){let o=e.length,r=t.length,n=0;for(;n<i&&c(e[--o],t[--r]);)n++;return n}(e,l,b-p)),d+=p,u-=f,(i-=f)-(t+=p)==0&&u-d==0)return[];if(t==i){for(h=o(t,[],0);d<u;)h.removed.push(l[d++]);return[h]}if(d==u)return[o(t,[],i-t)];let g=function(e){let t=e.length-1,i=e[0].length-1,o=e[t][i],l=[];for(;t>0||i>0;){if(0==t){l.push(s),i--;continue}if(0==i){l.push(a),t--;continue}let d,c=e[t-1][i-1],u=e[t-1][i],h=e[t][i-1];d=u<h?u<c?u:c:h<c?h:c,d==c?(c==o?l.push(r):(l.push(n),o=c),t--,i--):d==u?(l.push(a),t--,o=u):(l.push(s),i--,o=h)}return l.reverse(),l}(function(e,t,i,o,r,n){let s=n-r+1,a=i-t+1,l=new Array(s);for(let e=0;e<s;e++)l[e]=new Array(a),l[e][0]=e;for(let e=0;e<a;e++)l[0][e]=e;for(let i=1;i<s;i++)for(let n=1;n<a;n++)if(c(e[t+n-1],o[r+i-1]))l[i][n]=l[i-1][n-1];else{let e=l[i-1][n]+1,t=l[i][n-1]+1;l[i][n]=e<t?e:t}return l}(e,t,i,l,d,u));h=void 0;let m=[],y=t,v=d;for(let e=0;e<g.length;e++)switch(g[e]){case r:h&&(m.push(h),h=void 0),y++,v++;break;case n:h||(h=o(y,[],0)),h.addedCount++,y++,h.removed.push(l[v]),v++;break;case s:h||(h=o(y,[],0)),h.addedCount++,y++;break;case a:h||(h=o(y,[],0)),h.removed.push(l[v]),v++}return h&&m.push(h),m}function d(e,t){return l(e,0,e.length,t,0,t.length)}function c(e,t){return e===t}},9630:(e,t,i)=>{"use strict";var o=i(7189),r=i(7734);const n=i(2619).b`
:host {
  width: 100%;
  background-color: var(--sbDrawerBgColor);
  display: block;
}
:host .table {
  padding: 10px 0px 10px 45px;
}
:host .table.listMode #firstDrawerColumn {
  width: 100%;
}
:host .tr {
  vertical-align: top;
  display: flex;
  position: relative;
  color: var(--sbConfigAttrLabelColor);
}
:host .drawer {
  width: 33%;
}
:host .header-attributes {
  padding: 0 30px 0 30px;
}
:host #drawerHeader {
  padding: 10px 0px 10px 45px;
}
:host #drawerHeader #details {
  font-size: 20px;
  font-weight: bold;
}
`;i(9704),i(4167);class s extends r.Pu{static get is(){return"sb-row-drawer"}static get properties(){return{item:String,fieldNames:Array,richTextFields:Array,model:{type:Object,notify:!0},highlightOnFocus:{type:Boolean,value:!1},listMode:{type:Boolean,value:!1}}}static get observers(){return["_generateColumnsObserver(fieldNames, model, richTextFields)","_highlightOnFocusObserver(highlightOnFocus, item)"]}_generateColumnsObserver(e,t,i){if(void 0!==e&&void 0!==t&&void 0!==i)return this.generateColumns(e,t,i)}generateColumns(){let e,t=[],i=[],o=[],r=this.fieldNames.length,n=this.fieldNames.slice(0);for(let e=0;e<r;e++)-1===this.richTextFields.indexOf(n[e])&&(this.listMode||e%3==0?t.push(n[e]):e%3==1?i.push(n[e]):o.push(n[e]));this.listMode?e=[this.richTextFields,t]:(this.columnWidth="drawer",e=[this.richTextFields,t,i,o]),this.setColumns(e)}setColumns(e){let t=[this.shadowRoot.querySelector("#rteColumn"),this.shadowRoot.querySelector("#firstColumn")];this.listMode||t.push(this.shadowRoot.querySelector("#secondColumn"),this.shadowRoot.querySelector("#thirdColumn"));for(let i=0;i<t.length;i++)e[i].length>0&&(t[i].destroyGroup(),t[i].model=this.model,t[i].itemClass="drawerCell",t[i].group=e[i])}_highlightOnFocusObserver(e,t){if(void 0!==e&&void 0!==t)return this._highlightOnFocus(e,t)}_highlightOnFocus(e,t){let i=["rteColumn","firstColumn"];this.listMode||i.push("secondColumn","thirdColumn"),this.signaler=new o.C(this,i,t),this.signaler.signalOnFocus("sb-row-focus-signal",!e)}_getGroupListClass(e){return this.listMode?"listMode":""}_getRTEGroupListClass(e){return this.listMode?"rteListMode":""}static get template(){return r.qy`
		<style include="sb-common-styles"></style>
		<style>${n}</style>

		<div id="drawerHeader">
			<div id="richTextFields">
				<sb-group id="rteColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]" group-class="[[_getRTEGroupListClass(listMode)]]"></sb-group>
			</div>
		</div>
		<div id="table" class$="table [[_getGroupListClass(listMode)]]">
			<div class="tr">
				<div id="firstDrawerColumn" class$="td [[columnWidth]]">
					<sb-group id="firstColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]" group-class="[[_getGroupListClass(listMode)]]"></sb-group>
				</div>
				<div id="secondDrawerColumn" class$="td [[columnWidth]]">
					<sb-group id="secondColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group>
				</div>
				<div id="thirdDrawerColumn" class$="td [[columnWidth]]">
					<sb-group id="thirdColumn" item="[[item]]" data="{{data}}" signaler="[[signaler]]" item-class-map="[[itemClassMap]]" item-editable-map="[[itemEditableMap]]"></sb-group>
				</div>
			</div>
		</div>
		`}}customElements.define(s.is,s)},9653:(e,t,i)=>{"use strict";var o=i(9406),r=i(7734);i(3941);class n extends r.Pu{static get is(){return"sb-search-model-select"}static get properties(){return{quote:Object,sendQuoteRecord:{type:Boolean,value:!1},stripQuoteLines:{type:Boolean,value:!1},selectedProducts:{type:Object,notify:!0},selectedProductList:Array,error:{type:Array,notify:!0},result:{type:Object,notify:!0},targetGroupKey:{type:Number,value:null},quoteProcess:{type:String,value:null},saver:String,background:{type:Boolean,value:!0},useCache:{type:Boolean,value:!0},usesClientCalculator:{type:Boolean,value:!1}}}static get observers(){return["_invokeSaverObserver(selectedProducts, quote)","_invokeSaver(selectedProductList)"]}ready(){super.ready(),this.$.service.addEventListener("response-changed",function(e){this.result=e.detail.value}.bind(this)),this.$.service.addEventListener("error-changed",function(e){e.detail.value&&(e.detail.value.validations?this.error=e.detail.value.validations:this.error=[e.detail.value.message]),console.log(e.detail)}.bind(this))}_invokeSaverObserver(e,t){if(void 0!==e&&void 0!==t)return this.invokeSaver(e,t)}invokeSaver(){let e=[];for(let t in this.selectedProducts)e.push(this.selectedProducts[t]);this.selectedProductList=e}_invokeSaver(){!0===this.useCache&&(this.$.service.uid=this.quote.record.Id.substring(0,15));let e=this.quote.lineItems;var t=(new o.k).addObject("products",this.selectedProductList).add("targetGroupKey",this.targetGroupKey).addObject("quoteProcess",this.quoteProcess);this.sendQuoteRecord?t.addObject("quoteRecord",this.quote.record):this.stripQuoteLines&&this.usesClientCalculator?(this.quote.lineItems=[],this.quote.partialVO=0!=e.length,t.addQuote("quote",this.quote)):t.addQuote("quote",this.quote),this.$.service.model=t.build(),this.quote.lineItems=e,this.quote.partialVO=!1}static get template(){return r.qy`
			<sb-async-service id="service" cache="searchModel" saver="[[saver]]" background="[[background]]"></sb-async-service>
		`}}customElements.define(n.is,n)},9667:(e,t,i)=>{"use strict";i.d(t,{l:()=>u});var o=i(7734),r=(i(347),i(6902)),n=i(4886),s=i(2430),a=i(1149);const l=i(2619).b`
/*
Rotates an element

$r - the rotate function paramter, e.g. 90deg
 */
/* Placeholder input styles */
/* Media Query: Small-ish screens only */
/* Media Query: Small-ish screens only */
/* Media Query: Medium and up */
/* Media Query: Medium only */
/* Media Query: Medium and up */
/* Media Query: Large only */
/* Media Query: Large and up */
/* Default usage applies to both phone and tablet */
/* specify either 'phone' or 'tablet' as second parameter if you want to target a specific device type */
/*
 Fixes the page header and lets the "body" of the page become scrollable.
 You typically want to include this mixin in your :host{} selector.

 The "body" of your page must be enclosed within a single child element that has an "id" attribute.
 The id can have any value but the default value is "pageBody".
 */
/** user-select styles for all browsers */
.sidePanelInputsWidth {
  --sidePanelInputWidth: 180px;
  --pillTextWidth: 148px;
  --datePickerWidth: 100%;
  --datePickerBoxSizing: border-box;
  --sidePanelDatepicker: fixed;
  --sidePanelDatepickerWidth: 300px;
  --sidePanelDatepickerRight: 56px;
}
.standard-button {
  background-color: var(--sbBtnBgColor);
  border-width: 1px;
  border-style: solid;
  border-color: var(--sbBtnBorderColor);
  color: var(--sbBtnColor);
}
.standard-button:hover {
  background-color: var(--sbBtnHoverBgColor);
  color: var(--sbBtnHoverColor);
}
.standard-button:disabled {
  background-color: var(--sbBtnDisabledBgColor);
  color: var(--sbBtnDisabledColor);
}
.brand-button {
  font-family: var(--sbBrandedButtonFontFamily);
  background-color: var(--sbBrandedButtonBackgroundColor);
  border-color: var(--sbBrandedButtonBorderColor);
  color: var(--sbBrandedButtonFontColor);
}
.brand-button:hover {
  background-color: var(--sbBrandedButtonHoverBackgroundColor);
  color: var(--sbBrandedButtonHoverFontColor);
}
.brand-button:disabled {
  color: var(--sbBrandedButtonDisabledFontColor);
}
:host {
  position: relative;
}
:host select {
  width: 100%;
  max-width: 225px;
}
:host select.inlineEdit {
  max-width: none;
  border-radius: 0.25rem;
  border: 1px solid #0070d2;
  height: 100%;
}
:host select.inlineEdit:focus {
  outline: none;
}
:host select.inlineEdit.discount {
  width: 38%;
}
:host select.inlineEdit[class*='--mobile'] {
  border: 1px solid #d8dde6;
}
:host [class*='--mobile'] select.inlineEdit {
  border: 1px solid #d8dde6;
}
:host select:not([multiple]) {
  min-width: var(--sidePanelInputWidth, var(--sbSelectMinWidth, 85px));
}
:host select[class*='--desktop']:not([multiple]) {
  padding-right: 30px;
}
:host [class*='--desktop'] select:not([multiple]) {
  padding-right: 30px;
}
:host select[multiple] {
  min-width: var(--sidePanelInputWidth, var(--sbMultiSelectMinWidth, 125px));
  min-height: var(--sbSelectMinHeight);
}
:host select[multiple] option {
  padding: var(--sbSelectOptionPadding);
}
:host select:-moz-focusring {
  color: transparent;
  text-shadow: 0 0 0 #000;
}
:host .sbOption {
  overflow: hidden;
  text-overflow: ellipsis;
}
select::-ms-expand {
  display: none;
  width: 0;
  height: 0;
}
`;i(57),i(4167);function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,o)}return i}function c(e,t,i){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends((0,s.z)((0,n.$)(o.Pu))){static get is(){return"sb-select"}static get properties(){return function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach((function(t){c(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}({value:{type:String,value:""},options:Array,isRequired:{type:Boolean,value:!1},noneLabel:{type:String,value:""},focusOnAttached:Boolean,multiSelect:{type:Boolean,observer:"_multiSelectChanged"},size:Number,_multiple:{type:Boolean,computed:"_setMultiple(multiSelect)"},_options:Array},s.z.properties)}_multiSelectChanged(e,t){void 0===t&&e&&this.buildOptions()}static get observers(){return["_buildOptionsObserver(options, isRequired)","_setSelectedObserver(value, _options)"]}_buildOptionsObserver(e,t){if(void 0!==e&&void 0!==t)return this.buildOptions(e,t)}buildOptions(){if(!this.options)return;let e=!0,t=[],i=this._getValues();for(let o=0,r=this.options.length;o<r;o++){let r=this.options[o],n=-1!==i.indexOf(r.value.toString());e=e&&!n,t.push({value:r.value,label:r.label,selected:n})}if(e&&i.length>0){for(let e of i)t.push({value:e,label:e,selected:!0});e=!1}if((e&&!this.multiSelect||!this.isRequired)&&(t=[{value:"",label:this.noneLabel,selected:e}].concat(t)),r.B.isIE()){let e=this.$.myselect,i=e.childNodes;for(let t=0,o=i.length;t<o;t++)e.removeChild(i[t]);for(let e=0,i=t.length;e<i;e++)this._createOptionElements(this.$.myselect,t[e])}else this._options=t}_createOptionElements(e,t){let i=document.createElement("option");i.label=t.label,i.value=t.value,i.selected=t.selected,e.appendChild(i)}_setSelectedObserver(e,t){if(void 0!==e&&void 0!==t)return this.setSelected(e,t)}setSelected(){if(this.internal)return;let e=this._getValues(),t=this.$.myselect;for(let i=0,o=this._options.length;i<o;i++)this._options[i].selected=-1!==e.indexOf(this._options[i].value.toString()),t.options[i]&&(t.options[i].selected=-1!==e.indexOf(t.options[i].value.toString()))}change(){let e=this.$.myselect.options,t=null;for(let i=0,o=e.length;i<o;i++)r.B.isIE()||(this._options[i].selected=e[i].selected),e[i].selected&&(this.multiSelect&&null!=t?t+=";"+e[i].value:t=e[i].value);this.internal=!0,this.value=t,this.internal=!1,this.dispatchEvent((0,a.uv)("change",{value:this.value}))}connectedCallback(){super.connectedCallback(),this.focusOnAttached&&this.focus()}focus(){this.$.myselect.focus()}blur(){this.dispatchEvent((0,a.uv)("blur"))}_applyFocus(){this.applyFocus&&this.focus()}_setMultiple(){return!!this.multiSelect||void 0}_getValues(){return u.getValues(this.value,this.multiSelect)}static getValues(e,t){return null!=e&&""!==e?t?e.split(";"):[e.toString()]:[]}handleKeyboardInteractions(e){switch(e.keyCode){case 38:case 40:e.stopPropagation()}}static get template(){return o.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-forms-styles"></style>
		<style>${l}</style>

		<select id="myselect" device on-keydown="handleKeyboardInteractions" on-change="change" disabled$="[[disabled]]" class$="myselect [[selectClass]] [[variant]]" on-blur="blur" multiple$="[[_multiple]]" size$="[[size]]">
			<template is="dom-repeat" items="[[_options]]" as="option">
				<option id="[[option.value]]" value="[[option.value]]" selected="[[option.selected]]" class="sbOption" title="[[option.label]]">[[option.label]]</option>
			</template>
		</select>
		`}}customElements.define(u.is,u)},9704:(e,t,i)=>{"use strict";var o=i(1149),r=i(4886),n=i(3218),s=i(178),a=i(9137),l=i(6206),d=i(197),c=i(7734);i(4167),i(4),i(9235);const u=i(2619).b`
.open {
  position: relative;
  left: -185px;
}
:host div.listMode {
  width: 100%;
  display: inline-table;
}
:host div.listMode .drawerCell {
  width: 33%;
  display: inline-block;
}
:host div.listMode .drawerCell.hiddenInDesktop {
  display: none;
}
:host div.rteListMode .drawerCell.hiddenInDesktop {
  display: none;
}
`;i(5307);const h="undefined"!=typeof Visualforce;class p extends((0,n.N)((0,r.$)((0,s.T)(c.Pu)))){static get is(){return"sb-group"}static get properties(){return{item:String,group:Array,data:{type:Object,notify:!0},model:{type:Object,value:null},groupClass:String,itemClass:String,groupDisplay:Object,primaryItems:{type:Array,value:null},numPrimary:{type:Number,value:0},includePrimaryInSecondary:{type:Boolean,value:!1},selected:{type:Boolean,value:!1,observer:"updateSelected"},disabled:{type:Boolean,value:!1,observer:"updateDisabled"},pathPrefix:{type:String,value:""},focusIndex:{type:Number,observer:"updateFocusIndex"},itemClassMap:{type:Object,value:{}},itemEditableMap:Object,columnWidths:{type:Object,value:{}},signaler:{type:Object,observer:"updateSignaler"},noDataPropagation:{type:Boolean,value:!1}}}get events(){let e={};return e[o.sV.NAVIGATION_CHANGED]=this.navigationChanged,e}static get observers(){return["_buildGroupObserver(model, item, group, data, primaryItems, itemClassMap, columnWidths)","_handlePrimaryEventsObserver(domBind, _primaryItems)","propagateFromParentToChild(data.*)","toggleItemClass(itemClassMap.*)","_toggleEditableObserver(itemEditableMap, elements)"]}ready(){super.ready(),Object.entries({"datepicker-opened":"_datePickerOpened"}).map((e=>{let[t,i]=e;this.addEventListener(t,this[i])}))}_itemClassMapChanged(){return!this.domBind||(null!==this.domBind.itemClassMap&&null===this.itemClassMap||null===this.domBind.itemClassMap&&null!==this.itemClassMap||Object.keys(this.domBind.itemClassMap).length!==Object.keys(this.itemClassMap).length)}_updateItemClasses(){if(!this.domBind||!this.itemClassMap)return;const e=this.domBind.itemClassMap,t=this.itemClassMap;new Set(Object.keys(e).concat(Object.keys(t))).forEach((i=>{if(e[i]!==this.itemClassMap[i]){let o=this.$.g.querySelector(`${this.item}[item='${i}']`);if(o){if(e&&e[i]){let t=e[i].class||e[i];t&&"string"==typeof t&&o.classList.remove(...t.split(" "))}if(t&&t[i]){let e=t[i].class||t[i];e&&"string"==typeof e&&o.classList.add(...e.split(" "))}}}})),this.domBind.itemClassMap=t}_updateItemValues(e){if(this.elements&&e){let t=Object.keys(e);this.elements.forEach((function(i){i.item&&t.indexOf(i.item)>-1&&(i.value=e[i.item])}))}}_buildGroupObserver(e,t,i,o,r,n,s){if(void 0!==e&&void 0!==t&&void 0!==i&&void 0!==o&&void 0!==r&&void 0!==n&&void 0!==s)return this.buildGroup(e,t,i,o,r,n,s)}buildGroup(e,t,i,o,r,n,s){if(this.initInternalGroupAndPrimaryItems(),this.domBind)return void(this.domBind.group===this._group?(this.domBind.selected=this.selected,this.domBind.disabled=this.disabled,this.domBind.data=o,this.domBind.model=e,this._updateItemValues(o),(0,a.m)(this,(function(){s&&this.domBind.columnWidths!=s&&this._updateColumnWidths(),this._itemClassMapChanged()&&this._updateItemClasses()}))):h||console.error(`Rebuilding a group is no longer supported. Called by ${(0,l.bv)(this).tagName.toLowerCase()}: old group [${this.domBind.group}], new group [${this._group}]`));this.expanded=!1,this.domBind=document.createElement("dom-bind");let d=document.createElement("template");this.domBind.appendChild(d),this.domBind.group=this._group,this.domBind.selected=this.selected,this.domBind.disabled=this.disabled,this.domBind.signaler=this.signaler,this.domBind.model=e,this.domBind.data=o,this.domBind.columnWidths=s,this.domBind.tabIndex=this.tabIndex,this.domBind.itemClassMap=this.itemClassMap,this.buildItems(d),this.$.g.appendChild(this.domBind),this.noDataPropagation||this.observeNode(this.$.g,function(e){e.addedNodes[0]&&this.bindElementEvents(e.addedNodes[0].childNodes)}.bind(this))}destroyGroup(){if(this.domBind)try{this.elements=null,this.$.g.removeChild(this.domBind),(0,d.b)(),this.domBind=null,this.group=void 0}catch(e){return}}_updateColumnWidths(){if(!this.columnWidths)return;let e=this.$.g.querySelectorAll(this.item);!e||e&&0==e.length?(0,a.m)(this,(function(){let e=this.$.g.querySelectorAll(this.item);this._setColumnWidths(e)})):this._setColumnWidths(e)}_setColumnWidths(e){for(let t=0,i=e.length;t<i;t++){let i=e[t],o=i.getAttribute("item"),r=this.columnWidths[o];if(null==r)continue;let n=r.width||r;if(null==n)continue;let s=r.properties||["minWidth","maxWidth"],a=r.unit||"px";for(let e of s)i.style[e]=n+a}}_createColumnWidthStyleHtml(e){let t=' style="',i=e.width||e,o=e.properties||["min-width","max-width"],r=e.unit||"px";for(let e of o)t+=e+":"+i+r+";";return t}updateSelected(){this.domBind&&(this.domBind.selected=this.selected)}updateDisabled(){this.domBind&&(this.domBind.disabled=this.disabled)}updateSignaler(){this.domBind&&(this.domBind.signaler=this.signaler)}applyFocusToItem(e){this.focusIndex=void 0,this.focusIndex=e}updateFocusIndex(){if(this.domBind&&this.elements&&!(void 0===this.focusIndex||this.focusIndex<0))for(let e=0,t=this.domBind.group.length;e<t;e++)this.domBind[`focus_${e}`]=!1,this.focusIndex===e&&(this.domBind[`focus_${e}`]=!0)}initInternalGroupAndPrimaryItems(){if(this._group=this.group,this._primaryItems=void 0,!this.primaryItems||0===this.primaryItems.length)return;let e=[].concat(this.primaryItems);if(-1===this.group.indexOf(e[0])&&(e[0]=this.group[0]),e.length>1&&(e=-1===this.group.indexOf(e[1])?[e[0]]:[e[0],e[1]]),this._primaryItems=e,this.includePrimaryInSecondary)return this._group=e.concat(this.group),void this._normalizeWithDomBindGroup();let t=this.group.filter((function(t){return-1===e.indexOf(t)}));this._group=e.concat(t),this._normalizeWithDomBindGroup()}buildItems(e){var t=e.content.ownerDocument,i=t.createElement("div");this.groupClass&&i.setAttribute("class",this.groupClass);let o=this.numPrimary>0?this.numPrimary:this._primaryItems?this._primaryItems.length:0;this._group.forEach(function(e,r){let n="<"+this.item+' item="'+e+'" value="{{data.'+e+'}}" model="[[model]]" data="[[data]]" disabled="[[disabled]]" selected="[[selected]]" focus="[[focus_'+r+']]" index="'+r+'"',s=r<o;!s&&this.groupDisplay&&this.groupDisplay[e]?n+=' field-label="'+this.groupDisplay[e]+'"':!s&&this.groupDisplay&&this.groupDisplay[e.split(".")[1]]&&(n+=' field-label="'+this.groupDisplay[e.split(".")[1]]+'"');let a="";this.itemClass&&(a+=this.itemClass+" "),s?(a+=0===r?"primary first":"primary multi",a+=this.selected?" selected":""):o>0&&(a+="secondary"),this.itemClassMap&&this.itemClassMap[e]&&(a+=" "+(this.itemClassMap[e].class||this.itemClassMap[e]),this.itemClassMap[e].style&&(n+=` style="${this.itemClassMap[e].style}"`)),a&&(n+=' class="'+a+'"');let l=this.columnWidths?this.columnWidths[e]:null;null!=l&&(n+=this._createColumnWidthStyleHtml(l)),null!=this.tabIndex&&(n+=' tab-index="[[tabIndex]]"'),n+=' signaler="[[signaler]]"></'+this.item+">";let d=t.createElement("div");d.innerHTML=n,i.appendChild(d.firstChild)}.bind(this)),e.content.appendChild(i)}bindElementEvents(e){this.elements=e;const t=e?e.length:0;this.updateFocusIndex();for(let i=0;i<t;i++)e[i]._createMethodObserver&&(e[i]._groupNotifyObserver=e=>{this.internal=!0,this.notifyPath(e.path),this.childToParentExtension&&this.childToParentExtension({path:e.path,value:e.value}),this.internal=!1},e[i]._createMethodObserver("_groupNotifyObserver(data.*)"))}propagateFromParentToChild(e){this.internal||"data"!==e.path&&(this.propagateFromParentToChildOverride?this.propagateFromParentToChildOverride(e):this._propagateFromParentToChild(e))}_propagateFromParentToChild(e){for(var t=this.elements,i=t?t.length:0,o=e.path.split("."),r=this.pathPrefix+o[o.length-1],n=0;n<i;n++)if(t[n].item===r)return void(t[n].value=e.value)}_handlePrimaryEventsObserver(e,t){if(void 0!==e&&void 0!==t)return this.handlePrimaryEvents(e,t)}handlePrimaryEvents(){this.primaryEventsResistered||(this.addEventListener("group-selected",function(e){let t=this.shadowRoot.querySelectorAll(this.item+".primary");for(var i=0,o=t.length;i<o;i++)(0,l.p1)("selected",e.detail.selected,t[i])}.bind(this)),this.addEventListener("group-expanded",function(e){let t=e.detail.path.filter(function(e){return(e.tagName?e.tagName.toLowerCase():"")===this.item&&e.classList.contains("primary")}.bind(this));if(!t||0===t.length)return;(0,l.p1)("initial",!1,t[0]),this.expanded=!this.expanded;let i=(0,l.bv)(this);i&&(i.expanded=!i.expanded);let r=this.shadowRoot.querySelectorAll(this.item);for(let e=0,t=r.length;e<t;e++){let t=r[e].shadowRoot.querySelector("sb-field");t&&(t.renderReadOnly=!1),(0,l.p1)("expanded",this.expanded,r[e])}this.dispatchEvent((0,o.uv)("expanded-changed",{expanded:this.expanded}))}.bind(this)),this.primaryEventsResistered=!0)}navigationChanged(){this.dispatchEvent(new CustomEvent("group-selected",{bubbles:!1,detail:{selected:!1}}))}overridePropagateFromParentToChild(e){"function"==typeof e&&(this.propagateFromParentToChildOverride=e)}setFromChildToParentExtension(e){"function"==typeof e&&(this.childToParentExtension=e)}toggleItemClass(e){let t=e.path.split(".");if(1===t.length)return;let i=t[1];for(let t of this.elements)if(t.item===i){for(let i=0,o=e.value.length;i<o;i++)(0,l.p1)(e.value[i].class,e.value[i].value,t);return}}_toggleEditableObserver(e,t){if(void 0!==e&&void 0!==t)return this.toggleEditable(e,t)}toggleEditable(e,t){e&&t&&t.forEach((function(t){null!=e[t.item]&&(t.editable=e[t.item])}))}_normalizeWithDomBindGroup(){if(this.domBind&&this.domBind.group&&this.domBind.group.length===this._group.length){for(var e=0,t=this._group.length;e<t;e++)if(this.domBind.group[e]!==this._group[e])return;this._group=this.domBind.group}}_datePickerOpened(e){let t=e.detail.dateContainer,i=e.detail.datepicker;i.style.position="absolute";let o=i.offsetParent.getBoundingClientRect(),r=t.getBoundingClientRect();i.style.left=`${-o.left+r.left}px`,i.style.top=r.bottom-o.top+"px",r.left+i.offsetWidth>window.innerWidth&&(i.style.left="",i.style.right=o.right-r.right+17+"px")}static get template(){return c.qy`
		<style include="sb-common-styles"></style>
		<style include="sb-icons-styles"></style>
		<style include="sb-tables-styles"></style>
		<style>${u}</style>
		<div id="g" device class$="[[outerClass]]"></div>
	    `}}customElements.define(p.is,p)},9735:(e,t,i)=>{"use strict";i.d(t,{Q:()=>n});i(1518);var o=i(6527);
/**
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at
http://polymer.github.io/LICENSE.txt The complete set of authors may be found at
http://polymer.github.io/AUTHORS.txt The complete set of contributors may be
found at http://polymer.github.io/CONTRIBUTORS.txt Code distributed by Google as
part of the polymer project is also subject to an additional IP rights grant
found at http://polymer.github.io/PATENTS.txt
*/
let r=null;const n={properties:{validator:{type:String},invalid:{notify:!0,reflectToAttribute:!0,type:Boolean,value:!1,observer:"_invalidChanged"}},registered:function(){r=new o.s({type:"validator"})},_invalidChanged:function(){this.invalid?this.setAttribute("aria-invalid","true"):this.removeAttribute("aria-invalid")},get _validator(){return r&&r.byKey(this.validator)},hasValidator:function(){return null!=this._validator},validate:function(e){return void 0===e&&void 0!==this.value?this.invalid=!this._getValidity(this.value):this.invalid=!this._getValidity(e),!this.invalid},_getValidity:function(e){return!this.hasValidator()||this._validator.validate(e)}}},9815:(e,t,i)=>{"use strict";i.d(t,{K:()=>o});class o{constructor(e){this.upgradeHandler=e}setQuantitiesByRatio(){let e,t,i=this.upgradeHandler.isSourceLine();i?(e=this.upgradeHandler.getLine(),t=this._getUpgrade(e,null)):(t=this.upgradeHandler.getLine(),e=this._getSource(null,t)),e&&t&&(this.upgradeHandler.setSourceAndUpgrade(e,t),this._setAutomaticQuantity(e,t,i))}_getSource(e,t){return this.upgradeHandler.getSourceOrUpgrade(e,t)}_getUpgrade(e,t){return this.upgradeHandler.getSourceOrUpgrade(e,t)}_setAutomaticQuantity(e,t,i){let o=this._getUpgradeRatio(e,t,this.upgradeHandler.getSourceIdField(),this.upgradeHandler.getUpgradeConversionRateField());if(null==o)return;let r=this.upgradeHandler.getSourceCurrentQuantityField(e),n=this.upgradeHandler.getUpgradeCurrentQuantityField(t),s=o.split(":")[0],a=o.split(":")[1],l=r,d=n,c=this.upgradeHandler.getSourcePriorQuantity(e);r<0?(e.invalidQuantity=r,e.validQuantity=0):n<0&&(t.invalidQuantity=n,t.validQuantity=0),this.upgradeHandler.didSourceQuantityChange(i,e,t)?d=a/s*(c-r):this.upgradeHandler.didUpgradeQuantityChange(i,e)&&(l=c-n*(s/a)),l<0?(l=0,this.upgradeHandler.isSelected(t)&&(d=c*(a/s),n>d&&(t.invalidQuantity=n,t.validQuantity=d))):d<0&&(d=0,this.upgradeHandler.isSelected(e)&&(l=c,r>l&&(e.invalidQuantity=r,e.validQuantity=l))),this.upgradeHandler.setUpdatedQuantity(e,t,l,d)}_getUpgradeRatio(e,t,i,o){for(let r in t.upgradeSourcesBySourceProductId)if(r===e.record[i])return t.upgradeSourcesBySourceProductId[r][o]}}},9866:(e,t,i)=>{"use strict";i.d(t,{b:()=>n});i(8443);var o=i(8246),r=i(891);
/**
@license
Copyright (c) 2017 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
*/
const n=(0,o.y)((e=>class extends e{_addEventListenerToNode(e,t,i){(0,r.ch)(e,t,i)||super._addEventListenerToNode(e,t,i)}_removeEventListenerFromNode(e,t,i){(0,r.pQ)(e,t,i)||super._removeEventListenerFromNode(e,t,i)}}))}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var i=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(i.exports,i,i.exports,__webpack_require__),i.exports}__webpack_require__.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(t,{a:t}),t},__webpack_require__.d=(e,t)=>{for(var i in t)__webpack_require__.o(t,i)&&!__webpack_require__.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e=__webpack_require__(891);__webpack_require__(1111);const t={"/preview":{comp:"sb-docgen-preview",mod:"docgen/sb-docgen-preview/DocgenPreview.route.js"}},i={"/le":{comp:"sb-line-editor",mod:"quotes/pages/sb-line-editor/LineEditor.route.js"}},o={"/lookup":{comp:"sb-asset-lookup",mod:"assets/selection/routes/sb-asset-lookup/AssetLookup.route.js"},"/upgrade":{comp:"sb-asset-upgrade",mod:"assets/upgrade/routes/sb-asset-upgrade/AssetUpgrade.route.js"}},r={"/helloworld":{comp:"hello-world",mod:"examples/hello-world/HelloWorld.js"}},n={"/lookup":{comp:"sb-contract-lookup",mod:"contracts/selection/routes/sb-contract-lookup/ContractLookup.route.js"}},s={"/lookup":{comp:"sb-subscription-lookup",mod:"subscriptions/selection/routes/sb-subscription-lookup/SubscriptionLookup.route.js"}},a={"/dl":{comp:"sb-dynamic-lookup",mod:"products/config/routes/sb-dynamic-lookup/DynamicLookup.route.js"},"/lookup":{comp:"sb-product-lookup",mod:"products/selection/routes/sb-product-lookup/ProductLookup.route.js"},"/ol":{comp:"sb-option-lookup",mod:"products/config/routes/sb-option-lookup/OptionLookup.route.js"},"/pc":{comp:"sb-product-config",mod:"products/config/routes/sb-product-config/ProductConfig.route.js"}},l={"/lookup":{comp:"sb-favorite-lookup",mod:"favorites/sb-favorite-lookup/FavoriteLookup.route.js"}},d={"/lookup":{comp:"sb-recommendation-lookup",mod:"recommendations/sb-recommendation-lookup/RecommendationLookup.route.js"}};var c=__webpack_require__(6902),u=__webpack_require__(1924);__webpack_require__(3311);class h{static init(e,u,p,f){let b={};return b["/examples"]=r,b["/docgen"]=t,b["/quote"]=i,b["/product"]=a,b["/favorite"]=l,b["/asset"]=o,b["/contract"]=n,b["/subscription"]=s,b["/recommend"]=d,e.allRoutes=b,Promise.all([c.B.init(p),h._initIntlLocale(f.intl,p.locale)])}static _initIntlLocale(e,t){return new Promise((function(i,o){let r=new XMLHttpRequest,n=e+"/locale-data/json/"+t+".json";r.open("GET",n),r.onerror=function(e){o(new Error("Cannot get locale data: "+e))},r.ontimeout=function(e){o(new Error("Timeout for locale data"))},r.onload=function(){if(r.responseText)try{let e=JSON.parse(r.responseText);u.F.addLocaleData(e),Intl&&Intl.__addLocaleData&&Intl.__addLocaleData(JSON.parse(r.responseText)),i(e)}catch(i){var e=document.getElementById("sbPageContainer").shadowRoot.getElementById("spinner"),n=document.getElementById("sbPageContainer").shadowRoot.getElementById("errorToast"),s="There was an error parsing the "+t+" locale. Use a different locale or contact your Salesforce admin.";n.messages=[s],e.show=!1,o(new Error("Cannot parse locale data"))}else{e=document.getElementById("sbPageContainer").shadowRoot.getElementById("spinner"),n=document.getElementById("sbPageContainer").shadowRoot.getElementById("errorToast"),s="The "+t+" locale isn't supported. Use a different locale or contact your Salesforce admin.";n.messages=[s],e.show=!1,o(new Error("Cannot understand locale data: "+r.statusText))}},r.send()}))}}let p=null;(0,e.kz)({name:"hold",deps:["mousedown","mouseup","touchstart","touchend"],flow:{start:["mousedown","touchstart"],end:["mouseup","touchend"]},emits:["hold"],mouseup:function(e){return this.up(e)},touchend:function(e){return this.up(e.changedTouches[0],e)},up:function(e){return clearTimeout(p),!1},mousedown:function(e){return this.down(e)},touchstart:function(e){return this.down(e.changedTouches[0],e)},down:function(t,i){return p=setTimeout((function(){(0,e.Ix)(t).dispatchEvent(new CustomEvent("hold",{detail:{x:t.clientX,y:t.clientY,sourceEvent:t,preventer:i}}))}),1e3),!1}});var f=__webpack_require__(5118),b=__webpack_require__(5239),g=__webpack_require__(1776);__webpack_require__(8314);window.sb=window.sb||{};let{userSettings:m,userTheme:y,currentPage:v,labels:_,resources:w,vfSessionId:x}=window.__vfsettings||{},C=v.parameters.id||v.parameters.newid||"",S=C.substring(0,15);function O(){const e=document.querySelector("#bodyCell");if(e){const t=document.querySelector("#globalHeaderBar")?166:130,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;e.style.minHeight=i-t+"px";const o=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth;e.style.maxWidth=o-12+"px"}}function k(e,t){return new Promise(((i,o)=>{!function r(n){t()?i():n<100?window.setTimeout((function(){r(++n)}),100):o("TIMEOUT: "+e+" not ready after 10 seconds")}(0)}))}function E(){return T().then((e=>{const t=new b.Z(e.instanceUrl);document.addEventListener("click",(()=>t.startTransaction()),!0),document.addEventListener("sf-qle-data-changed",(e=>{const i=e.detail&&e.detail.quote&&e.detail.quote.lineItems&&e.detail.quote.lineItems.length;t.addExternalLogMetrics({quoteLine:i||0})}),!0)}))}function I(){return S?T().then((e=>{new b.Z(e.instanceUrl).startTransaction();const t=new window.SB.QuoteDAO(m.developerPrefix,e).loadEditorModel(S);f.l.add("LineEditor",S,t,"promise")})):Promise.resolve()}function T(){const e={instanceUrl:m.inCommunity?m.orgUrl:m.orgInstanceUrl};return new g.m(m.developerPrefix).getConnection(e)}window.sb.vfSessionId=x,window.sb.visibilityStateStart=document.visibilityState,window.sb.labels=_,window.sb.mode=Object.freeze({debugMode:m.debugMode}),window.sb.userSettings=m,window.addEventListener("load",O),window.addEventListener("resize",O),function(){const e=navigator.userAgent.match(/Tablet|iPad|iPod/i)||navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/Mobi/i),t=navigator.userAgent.match(/Tablet PC/i);e&&!t?document.querySelector("#pw").style.display="block":document.querySelector("#sbPageContainer").classList.add("--desktop")}(),Object.keys(window.sb.labels).forEach((e=>{if(e.includes("&")||e.includes("<")||e.includes(">")){const t=e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");window.sb.labels[t]=window.sb.labels[e],delete window.sb.labels[e]}})),function(){const e={intl:w.sb_i18n_cldr},t=document.querySelector("#sbPageContainer");if(y){let e=document.head.querySelector("dom-module#sb-common-styles template"),i=e?e.content.querySelector("style"):null;i&&(i.innerText+=window.atob(y));const o=t.shadowRoot.querySelector("#topLevelStyle");o&&(o.innerText+=window.atob(y))}const i=window.sb.pageReady.then((()=>h.init(t,null,m,e))),o=k("JSQC",(()=>window.SB&&window.SB.JSQC)),r=k("JSAR",(()=>window.SB&&window.SB.JSARServices)),n=o.then(E),s=o.then(I);Promise.all([i,o,r,n,s]).then((()=>{document.querySelector("body").removeAttribute("unresolved");const e=window.location.hash;window.location.hash="",t.route=window.location.hash.length>1?window.location.hash.slice(1):e||("true"===v.parameters.selectContract?function(){const e=v.parameters.action;if(e){const t=v.parameters.selectedAssetIds;return"contract/lookup?accId="+C+"&action="+e+"&selectedAssetIds="+t}return C?"contract/lookup?qId="+C:null}():function(){const e=""===v.parameters.cmd?"":`&cmd=${v.parameters.cmd}`;return C?"quote/le?qId="+C+e:null}())||"/product/search",document.querySelector("#pw").style.display="none";v.parameters.themeDocId&&t.classList.add("showTemplatePreviewMode")}))}()})()})();
//# sourceMappingURL=http://localhost:9000/pkg/main/default/staticresources/bundle.js.map