<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <alerts>
        <fullName>Claim_based_billing_notification</fullName>
        <description>Claim based billing notification</description>
        <protected>false</protected>
        <recipients>
            <field>CIM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>All/Claim_Based_Billing_Notification</template>
    </alerts>
    <alerts>
        <fullName>Client_Must_Approved_Assets_has_changed</fullName>
        <description>Client_Must_Approved_Assets_has_changed</description>
        <protected>false</protected>
        <recipients>
            <field>CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Client_Must_Approved_Assets_has_changed</template>
    </alerts>
    <alerts>
        <fullName>Consecutive_Inactive_Months_to_Lapse_is_changed</fullName>
        <description>Consecutive_Inactive_Months_to_Lapse_is_changed</description>
        <protected>false</protected>
        <recipients>
            <field>Client_Overview_CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Consecutive_Inactive_Months_to_Lapse_is_changed</template>
    </alerts>
    <alerts>
        <fullName>Contract_Term_Date_14_Days</fullName>
        <description>Contract_Term_Date_14_Days</description>
        <protected>false</protected>
        <recipients>
            <field>CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Contract_Term_Date_14_Days</template>
    </alerts>
    <alerts>
        <fullName>Contract_Termination_Date_has_changed</fullName>
        <description>Contract_Termination_Date_has_changed</description>
        <protected>false</protected>
        <recipients>
            <field>CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Contract_Termination_Date_has_changed</template>
    </alerts>
    <alerts>
        <fullName>Detailed_Invoice_has_changed</fullName>
        <description>Detailed_Invoice_has_changed</description>
        <protected>false</protected>
        <recipients>
            <field>CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Detailed_Invoice_has_changed</template>
    </alerts>
    <alerts>
        <fullName>Is_There_Laspe_Criteria_has_Changed</fullName>
        <description>Is_There_Laspe_Criteria_has_Changed</description>
        <protected>false</protected>
        <recipients>
            <field>Client_Overview_CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Is_There_Laspe_Criteria_has_Changed</template>
    </alerts>
    <alerts>
        <fullName>Lapse_Criteria_has_Changed</fullName>
        <description>Lapse_Criteria_has_Changed</description>
        <protected>false</protected>
        <recipients>
            <field>Client_Overview_CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Lapse_Criteria_has_Changed</template>
    </alerts>
    <alerts>
        <fullName>Notify_Legal_Cannot_Activate_Contract_No_Lapse_Criteria</fullName>
        <ccEmails>contractops@livongo.com</ccEmails>
        <description>Notify Legal - Cannot Activate Contract - No Lapse Criteria</description>
        <protected>false</protected>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>All/Cannot_Activate_Contract_No_Lapse_Criteria</template>
    </alerts>
    <alerts>
        <fullName>Notify_Legal_with_required_fields_missing_on_contract</fullName>
        <ccEmails>contractops@livongo.com</ccEmails>
        <description>Notify Legal with required fields missing on contract</description>
        <protected>false</protected>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>All/Notify_Legal_with_Required_Fields_Required</template>
    </alerts>
    <alerts>
        <fullName>Notify_when_Client_Overview_status_is_changed_to_Expired_or_Terminated</fullName>
        <ccEmails>clientsuccessleadership@livongo.com</ccEmails>
        <description>Notify when Client Overview status is changed to Expired or Terminated</description>
        <protected>false</protected>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/ClientOverview_is_Expired_or_Terminated</template>
    </alerts>
    <alerts>
        <fullName>Participants_Term_Mininum_Months_has_changed</fullName>
        <description>Participants_Term_Mininum_Months_has_changed</description>
        <protected>false</protected>
        <recipients>
            <field>Client_Overview_CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Participants_Term_Mininum_Months_has_changed</template>
    </alerts>
    <alerts>
        <fullName>Program_End_Date_has_Changed</fullName>
        <description>Program_End_Date_has_Changed</description>
        <protected>false</protected>
        <recipients>
            <field>Client_Overview_CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>sfdc-sales@livongo.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Program_End_Date_has_changed</template>
    </alerts>
    <alerts>
        <fullName>Program_Overview_Date_14_Days</fullName>
        <description>Program_Overview_Date_14_Days</description>
        <protected>false</protected>
        <recipients>
            <field>Client_Overview_CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Program_Overview_Date_14_Days</template>
    </alerts>
    <alerts>
        <fullName>Program_Status_has_Changed</fullName>
        <description>Program_Status_has_Changed</description>
        <protected>false</protected>
        <recipients>
            <field>Client_Overview_CSM__c</field>
            <type>userLookup</type>
        </recipients>
        <senderAddress>salesforcesupport-crm@teladochealth.com</senderAddress>
        <senderType>OrgWideEmailAddress</senderType>
        <template>Automated_Email_Notifications/Program_Status_has_changed</template>
    </alerts>
    <fieldUpdates>
        <fullName>Complete_Per_Legal_Date_Time</fullName>
        <field>Date_Completed_By_Legal__c</field>
        <formula>NOW()</formula>
        <name>Complete Per Legal Date-Time</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Program_Implementation_Status</fullName>
        <field>Program_Implementation_status__c</field>
        <literalValue>Terminated</literalValue>
        <name>Program Implementation  Status</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Registration_Status</fullName>
        <field>Registration_Status__c</field>
        <literalValue>Closed</literalValue>
        <name>Registration Status</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UpdateProgramImplementationStatus</fullName>
        <description>Update Prog Implementation Status to &quot;Launch+90&quot;</description>
        <field>Program_Implementation_status__c</field>
        <literalValue>Launched +90</literalValue>
        <name>UpdateProgramImplementationStatus</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>UpdateRegStatus</fullName>
        <description>udpate the reg status to Open</description>
        <field>Registration_Status__c</field>
        <literalValue>Open</literalValue>
        <name>UpdateRegStatus</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Contract_Status_Activated</fullName>
        <description>Updates the Status on Contract to &quot;Activated&quot;</description>
        <field>Status__c</field>
        <literalValue>Activate</literalValue>
        <name>Update Contract Status - Activated</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>true</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Contract_Status_Terminated</fullName>
        <description>Updates the Contract status to &quot;Expired&quot;</description>
        <field>Status__c</field>
        <literalValue>Expired</literalValue>
        <name>Update Contract Status - Expired</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Program_Agreement_default_name</fullName>
        <description>Set&apos;s contract name field to Account name</description>
        <field>Name</field>
        <formula>Account__r.Name</formula>
        <name>Update Program Agreement default name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_Program_Overview_Name</fullName>
        <description>Default the name for a Program Overview record</description>
        <field>Name</field>
        <formula>LEFT(Account__r.Name &amp; &quot; - &quot; &amp;  TEXT(Program_Name__c)  &amp; &quot; - &quot; &amp; Client_Overview__r.Contract_Path__r.Name, 80)</formula>
        <name>Update Program Overview Name</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <fieldUpdates>
        <fullName>Update_TargetedRecruitableField_on_PO</fullName>
        <field>Targeted_Recruitable_Data__c</field>
        <literalValue>1</literalValue>
        <name>Update TargetedRecruitableField on PO</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Literal</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Claim based billing notification</fullName>
        <actions>
            <name>Claim_based_billing_notification</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <formula>$Setup.LVGO_Automation_Switch__c.Workflows__c &amp;&amp; RecordType.Name =&apos;Program Overview&apos; &amp;&amp; (ISNEW() || ISCHANGED( Claims_Configuration__c )) &amp;&amp; NOT(ISBLANK(Claims_Configuration__c ))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Contract_Term_Date_14_Days</fullName>
        <active>true</active>
        <formula>$Setup.LVGO_Automation_Switch__c.Workflows__c &amp;&amp; RecordType.Name =&apos;Client Overview&apos; &amp;&amp; Contract_Termination_Date__c=null &amp;&amp; ISPICKVAL(Status__c,&apos;Terminated&apos;)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Contract_Term_Date_14_Days</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Contract__c.Contract_Termination_Date__c</offsetFromField>
            <timeLength>-14</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Date Stamp Complete per Legal</fullName>
        <actions>
            <name>Complete_Per_Legal_Date_Time</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>AND(Complete_Per_Legal__c == TRUE,$Setup.LVGO_Automation_Switch__c.Workflows__c)</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Default Program Overview Name</fullName>
        <actions>
            <name>Update_Program_Overview_Name</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>When a Program Overview record is manually created and the &quot;Name&quot; field is blank, give it a default name</description>
        <formula>$Setup.LVGO_Automation_Switch__c.Workflows__c &amp;&amp; CASESAFEID(RecordType.Id) =  $Label.Program_Schedule_Record_Type  &amp;&amp; OR(ISCHANGED( Program_Name__c ), ISBLANK(Name))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Notify when Client Overview is Expired or Terminated</fullName>
        <actions>
            <name>Notify_when_Client_Overview_status_is_changed_to_Expired_or_Terminated</name>
            <type>Alert</type>
        </actions>
        <active>true</active>
        <description>Notify CS Leadership when Client Overview status changes to Expired or Terminated.</description>
        <formula>AND($Setup.LVGO_Automation_Switch__c.Workflows__c,RecordType.Name=&quot;Client Overview&quot;,               ISCHANGED(Status__c),              OR(ISPICKVAL(Status__c, &quot;Expired&quot;) ,ISPICKVAL(Status__c, &quot;Terminated&quot;))           )</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
    <rules>
        <fullName>Program_Overview_Date_14_Days</fullName>
        <active>true</active>
        <formula>$Setup.LVGO_Automation_Switch__c.Workflows__c &amp;&amp; RecordType.Name =&apos;Program Overview&apos; &amp;&amp; Program_End_Date__c!=null &amp;&amp; NOT(ISPICKVAL(Program_Implementation_status__c,&apos;Terminated&apos;))</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Program_Overview_Date_14_Days</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Contract__c.Program_End_Date__c</offsetFromField>
            <timeLength>-14</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Set default Program Agreement Name</fullName>
        <actions>
            <name>Update_Program_Agreement_default_name</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Set&apos;s the default contract name field of a Program Agreement to the name of the account it&apos;s related too.</description>
        <formula>AND($Setup.LVGO_Automation_Switch__c.Workflows__c,RecordType.Name == &apos;Program Agreement&apos;)</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
    <rules>
        <fullName>Update Client Overview Status - Activate</fullName>
        <active>false</active>
        <description>Updates the status of a Client Overview to &quot;Activated&quot; on the Contract Effective Date.</description>
        <formula>AND($Setup.LVGO_Automation_Switch__c.Workflows__c,RecordType.Name = &quot;Client Overview&quot;, ISPICKVAL(Status__c,&quot;Draft&quot;), NOT(ISBLANK(Contract_Effective_Date__c)))</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Update_Contract_Status_Activated</name>
                <type>FieldUpdate</type>
            </actions>
            <offsetFromField>Contract__c.Contract_Effective_Date__c</offsetFromField>
            <timeLength>0</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Update Client Overview Status - Expired</fullName>
        <active>true</active>
        <description>Updates the status of a Client Overview to &quot;Expired&quot; on the Contract Terminated Date.</description>
        <formula>AND($Setup.LVGO_Automation_Switch__c.Workflows__c,RecordType.Name = &quot;Client Overview&quot;, ISPICKVAL(Status__c, &quot;Active&quot;), NOT(ISBLANK(Contract_Termination_Date__c)))</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
        <workflowTimeTriggers>
            <actions>
                <name>Notify_when_Client_Overview_status_is_changed_to_Expired_or_Terminated</name>
                <type>Alert</type>
            </actions>
            <offsetFromField>Contract__c.Contract_Termination_Date__c</offsetFromField>
            <timeLength>0</timeLength>
            <workflowTimeTriggerUnit>Days</workflowTimeTriggerUnit>
        </workflowTimeTriggers>
    </rules>
    <rules>
        <fullName>Update PO Fields when Status is Terminated</fullName>
        <actions>
            <name>Program_Implementation_Status</name>
            <type>FieldUpdate</type>
        </actions>
        <actions>
            <name>Registration_Status</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <description>Program Implementation Status” to be updated to “Terminated” and “Registration Status” as “Closed” , when the Program Status  is Terminated</description>
        <formula>AND($Setup.LVGO_Automation_Switch__c.Workflows__c,RecordType.Name = &quot;Program Overview&quot;, ISPICKVAL(Status__c, &quot;Terminated&quot;), NOT(ISBLANK(Program_End_Date__c)))</formula>
        <triggerType>onCreateOrTriggeringUpdate</triggerType>
    </rules>
    <rules>
        <fullName>Update TargetedRecruitableData field when PO is created</fullName>
        <actions>
            <name>Update_TargetedRecruitableField_on_PO</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>AND(RecordType.Name == &quot;Program Overview&quot;,$Setup.LVGO_Automation_Switch__c.Workflows__c)</formula>
        <triggerType>onCreateOnly</triggerType>
    </rules>
</Workflow>
